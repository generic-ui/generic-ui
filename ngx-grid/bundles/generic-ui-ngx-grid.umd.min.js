!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@generic-ui/hermes"),require("@angular/forms"),require("@generic-ui/fabric"),require("@angular/platform-browser"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define("@generic-ui/ngx-grid",["exports","@angular/core","@angular/common","@generic-ui/hermes","@angular/forms","@generic-ui/fabric","@angular/platform-browser","rxjs/operators","rxjs"],e):e(((t=t||self)["generic-ui"]=t["generic-ui"]||{},t["generic-ui"]["ngx-grid"]={}),t.ng.core,t.ng.common,t["@generic-ui/hermes"],t.ng.forms,t["@generic-ui/fabric"],t.ng.platformBrowser,t.rxjs.operators,t.rxjs)}(this,(function(t,e,n,r,i,o,a,u,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function l(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function g(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function h(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}var y={sourceEmpty:"There are no items to show.",pagingItemsPerPage:"Items per page:",pagingOf:"of",pagingNextPage:"Next",pagingPrevPage:"Prev",pagingNoItems:"There is no items.",infoPanelShowing:"Showing",infoPanelItems:"items",infoPanelOutOf:"out of",infoPanelThemeMangerTooltipText:"Theme manager",infoPanelColumnManagerTooltipText:"Column manager",infoPanelInfoTooltipText:"info",themeManagerModalTitle:"Theme manager",themeManagerModalTheme:"Theme:",themeManagerModalRowColoring:"Row coloring:",themeManagerModalVerticalGrid:"Vertical grid",themeManagerModalHorizontalGrid:"HorizontalGrid",columnManagerModalTitle:"Manage columns",headerMenuMainTab:"Menu",headerMenuMainTabColumnSort:"Column sort",headerMenuMainTabHideColumn:"Hide column",headerMenuMainTabMoveLeft:"Move left",headerMenuMainTabMoveRight:"Move right",headerMenuMainTabColumnSortAscending:"Ascending",headerMenuMainTabColumnSortDescending:"Descending",headerMenuMainTabColumnSortNone:"None",headerMenuFilterTab:"Filter",headerMenuColumnsTab:"Columns",summariesCount:"Count",summariesDist:"Dist",summariesSum:"Sum",summariesAvg:"Avg",summariesMin:"Min",summariesMax:"Max",summariesMed:"Med",summariesTruthy:"Truthy",summariesFalsy:"Falsy",summariesDistinctValuesTooltip:"Distinct values",summariesAverageTooltip:"Average",summariesMinTooltip:"Min",summariesMaxTooltip:"Max",summariesMedTooltip:"Median",summariesCountTooltip:"Number of items in the grid"},v=y;var b={UNKNOWN:0,NUMBER:1,STRING:2,BOOLEAN:3,DATE:4,CUSTOM:5};b[b.UNKNOWN]="UNKNOWN",b[b.NUMBER]="NUMBER",b[b.STRING]="STRING",b[b.BOOLEAN]="BOOLEAN",b[b.DATE]="DATE",b[b.CUSTOM]="CUSTOM";var C={TEXT:0,CHIP:1,LINK:2,IMAGE:3,BOLD:4,ITALIC:5,CHECKBOX:6,CUSTOM:7,BAR:8,PERCENTAGE_BAR:9,PERCENTAGE:10};C[C.TEXT]="TEXT",C[C.CHIP]="CHIP",C[C.LINK]="LINK",C[C.IMAGE]="IMAGE",C[C.BOLD]="BOLD",C[C.ITALIC]="ITALIC",C[C.CHECKBOX]="CHECKBOX",C[C.CUSTOM]="CUSTOM",C[C.BAR]="BAR",C[C.PERCENTAGE_BAR]="PERCENTAGE_BAR",C[C.PERCENTAGE]="PERCENTAGE";var E={TEXT:0,BOLD:1,ITALIC:2,CHIP:3};E[E.TEXT]="TEXT",E[E.BOLD]="BOLD",E[E.ITALIC]="ITALIC",E[E.CHIP]="CHIP";var I={TEXT:0,BOLD:1,ITALIC:2,CHIP:3};I[I.TEXT]="TEXT",I[I.BOLD]="BOLD",I[I.ITALIC]="ITALIC",I[I.CHIP]="CHIP";var w={TEXT:0,BOLD:1,ITALIC:2,CHIP:3,CHECKBOX:4};w[w.TEXT]="TEXT",w[w.BOLD]="BOLD",w[w.ITALIC]="ITALIC",w[w.CHIP]="CHIP",w[w.CHECKBOX]="CHECKBOX";var S={TEXT:0,BOLD:1,ITALIC:2,CHIP:3};S[S.TEXT]="TEXT",S[S.BOLD]="BOLD",S[S.ITALIC]="ITALIC",S[S.CHIP]="CHIP";var T={FABRIC:0,MATERIAL:1,LIGHT:2,DARK:3,GENERIC:4};T[T.FABRIC]="FABRIC",T[T.MATERIAL]="MATERIAL",T[T.LIGHT]="LIGHT",T[T.DARK]="DARK",T[T.GENERIC]="GENERIC";var A={NONE:0,EVEN:1,ODD:2};A[A.NONE]="NONE",A[A.EVEN]="EVEN",A[A.ODD]="ODD";var x={NONE:0,ASC:1,DESC:2};x[x.NONE]="NONE",x[x.ASC]="ASC",x[x.DESC]="DESC";var M={BASIC:0,ADVANCED:1};M[M.BASIC]="BASIC",M[M.ADVANCED]="ADVANCED";var D={RIGHT:0,CENTER:1,LEFT:2};D[D.RIGHT]="RIGHT",D[D.CENTER]="CENTER",D[D.LEFT]="LEFT";var R={ROW:0,CHECKBOX:1};R[R.ROW]="ROW",R[R.CHECKBOX]="CHECKBOX";var P={SINGLE:0,MULTIPLE:1};P[P.SINGLE]="SINGLE",P[P.MULTIPLE]="MULTIPLE";var F=v,N={UNKNOWN:0,NUMBER:1,STRING:2,BOOLEAN:3,DATE:4,CUSTOM:5};N[N.UNKNOWN]="UNKNOWN",N[N.NUMBER]="NUMBER",N[N.STRING]="STRING",N[N.BOOLEAN]="BOOLEAN",N[N.DATE]="DATE",N[N.CUSTOM]="CUSTOM";var O=function(){function t(){}return t.prototype.convertType=function(t){return"string"==typeof t?this.convertTypeString(t):this.convertTypeEnum(t)},t.prototype.convertTypeEnum=function(t){switch(t){case b.STRING:return N.STRING;case b.NUMBER:return N.NUMBER;case b.BOOLEAN:return N.BOOLEAN;case b.DATE:return N.DATE;case b.UNKNOWN:return N.UNKNOWN;case b.CUSTOM:return N.CUSTOM;default:return N.STRING}},t.prototype.convertTypeString=function(t){switch(t.toLocaleLowerCase()){case"string":return N.STRING;case"number":return N.NUMBER;case"boolean":return N.BOOLEAN;case"date":return N.DATE;case"unknown":return N.UNKNOWN;case"custom":return N.CUSTOM;default:return N.STRING}},t}(),k={COUNT:1024,DISTINCT:1,SUM:2,AVERAGE:4,MIN:8,MAX:16,MEDIAN:32,TRUTHY:64,FALSY:128,EARLIEST:256,LATEST:512};k[k.COUNT]="COUNT",k[k.DISTINCT]="DISTINCT",k[k.SUM]="SUM",k[k.AVERAGE]="AVERAGE",k[k.MIN]="MIN",k[k.MAX]="MAX",k[k.MEDIAN]="MEDIAN",k[k.TRUTHY]="TRUTHY",k[k.FALSY]="FALSY",k[k.EARLIEST]="EARLIEST",k[k.LATEST]="LATEST";var H=function(){function t(){}return t.prototype.convert=function(t){var e={};return void 0!==t.enabled&&null!==t.enabled&&(e.enabled=t.enabled),void 0!==t.summariesTypes&&null!==t.summariesTypes&&(e.summariesTypes=this.convertSummariesTypes(t.summariesTypes)),e},t.prototype.convertSummariesTypes=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.convertSummariesType(t);null!=r&&n.push(r)})),n},t.prototype.convertSummariesType=function(t){switch(t.toLocaleLowerCase()){case"count":return k.COUNT;case"distinct":return k.DISTINCT;case"sum":return k.SUM;case"average":return k.AVERAGE;case"min":return k.MIN;case"max":return k.MAX;case"median":return k.MEDIAN;case"truthy":return k.TRUTHY;case"falsy":return k.FALSY;case"earliest":return k.EARLIEST;case"latest":return k.LATEST;default:return null}},t}(),B={TEXT:0,NUMBER:1,CHIP:2,LINK:3,IMAGE:4,BOLD:5,ITALIC:6,CHECKBOX:7,CUSTOM:8,FUNCTION:9,DATE:10,BAR:11,PERCENTAGE_BAR:12,PERCENTAGE:13};B[B.TEXT]="TEXT",B[B.NUMBER]="NUMBER",B[B.CHIP]="CHIP",B[B.LINK]="LINK",B[B.IMAGE]="IMAGE",B[B.BOLD]="BOLD",B[B.ITALIC]="ITALIC",B[B.CHECKBOX]="CHECKBOX",B[B.CUSTOM]="CUSTOM",B[B.FUNCTION]="FUNCTION",B[B.DATE]="DATE",B[B.BAR]="BAR",B[B.PERCENTAGE_BAR]="PERCENTAGE_BAR",B[B.PERCENTAGE]="PERCENTAGE";var V=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):"function"==typeof t?t:this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"text":return B.TEXT;case"chip":return B.CHIP;case"link":return B.LINK;case"image":return B.IMAGE;case"bold":return B.BOLD;case"italic":return B.ITALIC;case"checkbox":return B.CHECKBOX;case"custom":return B.CUSTOM;case"bar":return B.BAR;case"percentage_bar":return B.PERCENTAGE_BAR;case"percentage":return B.PERCENTAGE;default:return B.TEXT}},t.prototype.convertEnum=function(t){switch(t){case C.TEXT:return B.TEXT;case C.CHIP:return B.CHIP;case C.LINK:return B.LINK;case C.IMAGE:return B.IMAGE;case C.BOLD:return B.BOLD;case C.ITALIC:return B.ITALIC;case C.CHECKBOX:return B.CHECKBOX;case C.CUSTOM:return B.CUSTOM;case C.BAR:return B.BAR;case C.PERCENTAGE_BAR:return B.PERCENTAGE_BAR;case C.PERCENTAGE:return B.PERCENTAGE;default:return B.TEXT}},t}(),j=function(){function t(){}return t.prototype.convert=function(t){return t},t}(),G=function(){function t(){}return t.prototype.convert=function(t){return t},t}(),z={RIGHT:0,CENTER:1,LEFT:2};z[z.RIGHT]="RIGHT",z[z.CENTER]="CENTER",z[z.LEFT]="LEFT";var L=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertTypeString(t):this.convertTypeEnum(t)},t.prototype.convertTypeEnum=function(t){switch(t){case D.RIGHT:return z.RIGHT;case D.CENTER:return z.CENTER;case D.LEFT:default:return z.LEFT}},t.prototype.convertTypeString=function(t){switch(t.toLocaleLowerCase()){case"right":return z.RIGHT;case"center":return z.CENTER;case"left":default:return z.LEFT}},t}(),U=function(){function t(){this.columnTypeConverter=new O,this.columnSummariesConverter=new H,this.columnViewConverter=new V,this.columnSortingConverter=new j,this.columnCellEditingConverter=new G,this.columnAlignConverter=new L}return t.prototype.convert=function(t){var e=this;return t.map((function(t){if(void 0!==t.columns){var n=t.columns.map((function(t){return e.convertColumn(t)}));return{header:t.header,columns:n}}return e.convertColumn(t)}))},t.prototype.convertColumn=function(t){var e={};return void 0!==t.type&&null!==t.type&&(e.type=this.columnTypeConverter.convertType(t.type)),void 0!==t.header&&null!==t.header&&(e.header=t.header),void 0!==t.enabled&&null!==t.enabled&&(e.enabled=t.enabled),void 0!==t.field&&null!==t.field&&(e.field=t.field),void 0!==t.width&&null!==t.width&&(e.width=t.width),void 0!==t.align&&null!==t.align&&(e.align=this.columnAlignConverter.convert(t.align)),void 0!==t.view&&null!==t.view&&(e.view=this.columnViewConverter.convert(t.view)),void 0!==t.summaries&&null!==t.summaries&&(e.summaries=this.columnSummariesConverter.convert(t.summaries)),void 0!==t.sorting&&null!==t.sorting&&(e.sorting=this.columnSortingConverter.convert(t.sorting)),void 0!==t.cellEditing&&null!==t.cellEditing&&(e.cellEditing=this.columnCellEditingConverter.convert(t.cellEditing)),void 0!==t.formatter&&null!==t.formatter&&(e.formatter=t.formatter),void 0!==t.matcher&&null!==t.matcher&&(e.matcher=t.matcher),e},t}();var W={FABRIC:0,MATERIAL:1,LIGHT:2,DARK:3,GENERIC:4};W[W.FABRIC]="FABRIC",W[W.MATERIAL]="MATERIAL",W[W.LIGHT]="LIGHT",W[W.DARK]="DARK",W[W.GENERIC]="GENERIC";var q=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)},t.prototype.convertToGuiTheme=function(t){switch(t){case W.MATERIAL:return T.MATERIAL;case W.FABRIC:return T.FABRIC;case W.LIGHT:return T.LIGHT;case W.DARK:return T.DARK;case W.GENERIC:default:return T.GENERIC}},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"material":return W.MATERIAL;case"fabric":return W.FABRIC;case"light":return W.LIGHT;case"dark":return W.DARK;case"generic":return W.GENERIC;default:return W.FABRIC}},t.prototype.convertEnum=function(t){switch(t){case T.MATERIAL:return W.MATERIAL;case T.FABRIC:return W.FABRIC;case T.LIGHT:return W.LIGHT;case T.DARK:return W.DARK;case T.GENERIC:return W.GENERIC;default:return W.FABRIC}},t}(),K={NONE:0,EVEN:1,ODD:2};K[K.NONE]="NONE",K[K.EVEN]="EVEN",K[K.ODD]="ODD";var X=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)},t.prototype.convertToGuiRowColoring=function(t){switch(t){case K.NONE:return A.NONE;case K.EVEN:return A.EVEN;case K.ODD:return A.ODD;default:return A.EVEN}},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"none":return K.NONE;case"even":return K.EVEN;case"odd":return K.ODD;default:return K.EVEN}},t.prototype.convertEnum=function(t){switch(t){case A.NONE:return K.NONE;case A.EVEN:return K.EVEN;case A.ODD:return K.ODD;default:return K.EVEN}},t}(),Q=function(){function t(){}return t.prototype.convert=function(t){return t},t.decorators=[{type:e.Injectable}],t}(),Y={BASIC:0,ADVANCED:1};Y[Y.BASIC]="BASIC",Y[Y.ADVANCED]="ADVANCED";var J=function(){function t(){}return t.prototype.convert=function(t){var e={};return void 0!==t.enabled&&null!==t.enabled&&(e.enabled=t.enabled),void 0!==t.page&&null!==t.page&&(e.page=t.page),void 0!==t.pageSize&&null!==t.pageSize&&(e.pageSize=t.pageSize),void 0!==t.pageSizes&&null!==t.pageSizes&&(e.pageSizes=t.pageSizes),void 0!==t.pagerTop&&null!==t.pagerTop&&(e.pagerTop=t.pagerTop),void 0!==t.pagerBottom&&null!==t.pagerBottom&&(e.pagerBottom=t.pagerBottom),void 0!==t.display&&null!==t.display&&(e.displayMode=this.convertDisplay(t.display)),e},t.prototype.convertDisplay=function(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"basic":return Y.BASIC;case"advanced":return Y.ADVANCED;default:return Y.BASIC}},t.prototype.convertEnum=function(t){switch(t){case M.BASIC:return Y.BASIC;case M.ADVANCED:return Y.ADVANCED;default:return Y.BASIC}},t}(),Z=function(){function t(){}return t.prototype.build=function(){return this.buildObject()},t}();var _={ROW:0,CHECKBOX:1};_[_.ROW]="ROW",_[_.CHECKBOX]="CHECKBOX";var $={SINGLE:0,MULTIPLE:1};$[$.SINGLE]="SINGLE",$[$.MULTIPLE]="MULTIPLE";var tt=function(){function t(t){void 0!==t.enabled&&(this.enabled=t.enabled),void 0!==t.mode&&(this.mode=t.mode),void 0!==t.type&&(this.type=t.type)}return t.prototype.isModeDefined=function(){return void 0!==this.mode},t.prototype.isTypeDefined=function(){return void 0!==this.type},t.prototype.isEnabledDefined=function(){return void 0!==this.enabled},t.prototype.isEnabled=function(){return this.enabled},t.prototype.getMode=function(){return this.mode},t.prototype.getType=function(){return this.type},t.Builder=function(e){function n(){return e.call(this)||this}return l(n,e),n.prototype.buildObject=function(){return new t({enabled:this.enabled,type:this.type,mode:this.mode})},n.prototype.withEnabled=function(t){return this.enabled=t,this},n.prototype.withType=function(t){return this.type=t,this},n.prototype.withMode=function(t){return this.mode=t,this},n}(Z),t}();var et=function(){function t(){}return t.prototype.convert=function(t){var e=new tt.Builder;if("boolean"==typeof t)return e.withEnabled(t).build();if(void 0!==t.enabled&&e.withEnabled(t.enabled),void 0!==t.mode){var n=this.convertMode(t.mode);e.withMode(n)}if(void 0!==t.type){var r=this.convertType(t.type);e.withType(r)}return e.build()},t.prototype.convertMode=function(t){if("string"==typeof t)switch(t){case"single":return $.SINGLE;case"multiple":return $.MULTIPLE;default:return $.SINGLE}else switch(t){case P.SINGLE:return $.SINGLE;case P.MULTIPLE:return $.MULTIPLE}},t.prototype.convertType=function(t){if("string"==typeof t)switch(t){case"row":return _.ROW;case"checkbox":return _.CHECKBOX;default:return _.ROW}else switch(t){case R.ROW:return _.ROW;case R.CHECKBOX:return _.CHECKBOX}},t}(),nt=function(){function t(){this.source=[],this.columns=[],this.pageChanged=new e.EventEmitter,this.pageSizeChanged=new e.EventEmitter,this.itemsSelected=new e.EventEmitter,this.selectedRows=new e.EventEmitter,this.columnsChanged=new e.EventEmitter,this.containerWidthChanged=new e.EventEmitter,this.sourceEdited=new e.EventEmitter,this.cellEditEntered=new e.EventEmitter,this.cellEditCanceled=new e.EventEmitter,this.cellEditSubmitted=new e.EventEmitter,this.searchPhraseChanged=new e.EventEmitter,this.themeChanged=new e.EventEmitter,this.horizontalGridChanged=new e.EventEmitter,this.verticalGridChanged=new e.EventEmitter,this.rowColoringChanged=new e.EventEmitter,this.gridColumnConverter=new U,this.gridThemeConverter=new q,this.gridRowColoringConverter=new X,this.gridColumnMenuConverter=new Q,this.gridPagingConverter=new J,this.gridRowSelectionConverter=new et}return t.prototype.ngOnChanges=function(t){void 0!==t.columns&&void 0!==t.columns.currentValue&&(this.columnsConfig=this.gridColumnConverter.convert(this.columns)),void 0!==t.theme&&void 0!==t.theme.currentValue&&(this.themeConfig=this.gridThemeConverter.convert(this.theme)),void 0!==t.rowColoring&&void 0!==t.rowColoring.currentValue&&(this.rowColoringConfig=this.gridRowColoringConverter.convert(this.rowColoring)),void 0!==t.columnMenu&&void 0!==t.columnMenu.currentValue&&(this.columnMenuConfig=this.gridColumnMenuConverter.convert(this.columnMenu)),void 0!==t.rowSelection&&void 0!==t.rowSelection.currentValue&&(this.rowSelectionConfig=this.gridRowSelectionConverter.convert(this.rowSelection)),void 0!==t.paging&&void 0!==t.paging.currentValue&&"boolean"!=typeof this.paging&&(this.paging=this.gridPagingConverter.convert(this.paging))},t.prototype.onPageChange=function(t){this.pageChanged.emit(t)},t.prototype.onPageSizeChange=function(t){this.pageSizeChanged.emit(t)},t.prototype.onItemSelect=function(t){this.itemsSelected.emit(t)},t.prototype.onRowsSelect=function(t){var e=t.map((function(t){return{index:t.getIndex(),source:t.getSource(),itemId:t.getItemId()}}));this.selectedRows.emit(e)},t.prototype.onColumnsChange=function(){this.columnsChanged.emit()},t.prototype.onContainerWidthChange=function(t){this.containerWidthChanged.emit(t)},t.prototype.onSourceEdit=function(t){this.sourceEdited.emit(t)},t.prototype.onCellEditEnter=function(){this.cellEditEntered.emit()},t.prototype.onCellEditSubmit=function(){this.cellEditSubmitted.emit()},t.prototype.onCellEditCancel=function(){this.cellEditCanceled.emit()},t.prototype.onSearchPhrase=function(t){this.searchPhraseChanged.emit(t)},t.prototype.onTheme=function(t){this.themeChanged.emit(this.gridThemeConverter.convertToGuiTheme(t))},t.prototype.onHorizontalGrid=function(t){this.horizontalGridChanged.emit(t)},t.prototype.onVerticalGrid=function(t){this.verticalGridChanged.emit(t)},t.prototype.onRowColoring=function(t){this.rowColoringChanged.emit(this.gridRowColoringConverter.convertToGuiRowColoring(t))},t.propDecorators={columnHeaderTop:[{type:e.Input}],columnHeaderBottom:[{type:e.Input}],maxHeight:[{type:e.Input}],width:[{type:e.Input}],rowHeight:[{type:e.Input}],autoResizeWidth:[{type:e.Input}],source:[{type:e.Input}],columns:[{type:e.Input}],paging:[{type:e.Input}],verticalGrid:[{type:e.Input}],horizontalGrid:[{type:e.Input}],theme:[{type:e.Input}],rowColoring:[{type:e.Input}],rowSelection:[{type:e.Input}],rowStyle:[{type:e.Input}],rowClass:[{type:e.Input}],loading:[{type:e.Input}],virtualScroll:[{type:e.Input}],sorting:[{type:e.Input}],searching:[{type:e.Input}],titlePanel:[{type:e.Input}],footerPanel:[{type:e.Input}],filtering:[{type:e.Input}],quickFilters:[{type:e.Input}],editMode:[{type:e.Input}],cellEditing:[{type:e.Input}],infoPanel:[{type:e.Input}],summaries:[{type:e.Input}],columnMenu:[{type:e.Input}],rowDetail:[{type:e.Input}],localization:[{type:e.Input}],pageChanged:[{type:e.Output}],pageSizeChanged:[{type:e.Output}],itemsSelected:[{type:e.Output}],selectedRows:[{type:e.Output}],columnsChanged:[{type:e.Output}],containerWidthChanged:[{type:e.Output}],sourceEdited:[{type:e.Output}],cellEditEntered:[{type:e.Output}],cellEditCanceled:[{type:e.Output}],cellEditSubmitted:[{type:e.Output}],searchPhraseChanged:[{type:e.Output}],themeChanged:[{type:e.Output}],horizontalGridChanged:[{type:e.Output}],verticalGridChanged:[{type:e.Output}],rowColoringChanged:[{type:e.Output}]},t}();var rt=function(t){function e(e){var n=t.call(this)||this;return n.enabled=e,n}return l(e,t),e.prototype.withEnabled=function(t){return this.enabled=t,this},e.prototype.buildObject=function(){return new ot(this.enabled)},e}(Z);var it=function(t){function e(){return t.call(this,e.defaultEnabled)||this}return l(e,t),e.defaultEnabled=!0,e}(rt);var ot=function(){function t(t){this.enabled=t}return t.prototype.isEnabled=function(){return this.enabled},t.Builder=rt,t.DefaultBuilder=it,t}();var at=function(t){function e(e,n,r){var i=t.call(this)||this;return i.headerEnabled=e,i.bottomPaging=n,i.topPaging=r,i.border=!0,i}return l(e,t),e.prototype.buildObject=function(){return new st(this.headerEnabled,this.bottomPaging,this.topPaging,this.border)},e.prototype.withHeader=function(t){return this.headerEnabled=t,this},e.prototype.withBottomPaging=function(t){return this.bottomPaging=t,this},e.prototype.withTopPaging=function(t){return this.topPaging=t,this},e.prototype.withBorder=function(t){return this.border=t,this},e}(Z);var ut=function(t){function e(){return t.call(this,e.defaultHeaderEnabled,e.defaultBottomPaging,e.defaultTopPaging)||this}return l(e,t),e.defaultHeaderEnabled=!0,e.defaultBottomPaging=(new ot.DefaultBuilder).build(),e.defaultTopPaging=(new ot.DefaultBuilder).build(),e}(at);var st=function(){function t(t,e,n,r){this.headerEnabled=t,this.bottomPaging=e,this.topPaging=n,this.border=r}return t.prototype.isHeaderEnabled=function(){return this.headerEnabled},t.prototype.isBorderEnabled=function(){return this.border},t.prototype.getBottomPaging=function(){return this.bottomPaging},t.prototype.getTopPaging=function(){return this.topPaging},t.Builder=at,t.DefaultBuilder=ut,t}();var ct=(new st.DefaultBuilder).build(),lt=[{provide:st,useValue:ct}],pt=new e.InjectionToken("StructureParentComponent"),gt=function(){function t(){}return t.prototype.generateId=function(){return t.index++,t.PREFIX+t.index},t.PREFIX="gui-grid-",t.index=0,t.decorators=[{type:e.Injectable}],t}();var ht=function(){function t(){this.gridMap=new Map}return t.prototype.register=function(t,e,n){this.gridMap.set(t,{component:e,structureId:n})},t.prototype.unregister=function(t){this.gridMap.delete(t)},t.prototype.getValues=function(t){return this.gridMap.get(t)},t.decorators=[{type:e.Injectable}],t}();var dt=function(){function t(t,e,n){this.source=t,this.index=e,this.itemId=n}return t.prototype.getSource=function(){return this.source},t.prototype.getIndex=function(){return this.index},t.prototype.getItemId=function(){return this.itemId},t}();var mt=function(){function t(t,e,n,r,i,o,a,u,s,c,l){this.structureId=t,this.schemaId=e,this.formationCommandInvoker=n,this.formationWarehouse=r,this.sourceCommandInvoker=i,this.searchCommandInvoker=o,this.gridThemeCommandInvoker=a,this.structureCommandInvoker=u,this.summariesCommandInvoker=s,this.sortingCommandInvoker=c,this.pagingCommandInvoker=l}return t.prototype.provide=function(){var t=this.structureId,e=this.schemaId,n=this.formationCommandInvoker,r=this.formationWarehouse,i=this.sourceCommandInvoker,o=this.searchCommandInvoker,a=this.gridThemeCommandInvoker,u=this.structureCommandInvoker,s=this.summariesCommandInvoker,c=this.sortingCommandInvoker,l=this.pagingCommandInvoker;return{setSource:function(e){i.setOrigin(e,t)},showLoading:function(){i.setLoading(!0,t)},hideLoading:function(){i.setLoading(!1,t)},deleteRow:function(e){i.deleteRow(new dt(e.source,e.index,e.itemId),t)},deleteRows:function(e){var n=e.map((function(t){return new dt(t.source,t.index,t.itemId)}));i.deleteRows(n,t)},deleteSelectedRows:function(){},getSelectedRows:function(){return r.getSelectedRows(t).map((function(t){return{source:t.getSource(),index:t.getIndex(),itemId:t.getItemId()}}))},selectAll:function(){n.selectAll(t)},unselectAll:function(){n.unselectAll(t)},enablePaging:function(){l.enable(t)},disablePaging:function(){l.disable(t)},nextPage:function(){l.nextPage(t)},prevPage:function(){l.prevPage(t)},changePageSize:function(e){l.changePageSize(e,t)},setPagingConfig:function(e){l.setPaging(e,t)},setSearchingConfig:function(e){o.setSearchingConfig(e,t)},search:function(e){o.search(e,t)},clearSearchPhrase:function(){o.search("",t)},scrollToTop:function(){u.scrollToTop(t)},scrollToBottom:function(){u.scrollToBottom(t)},scrollToRowByIndex:function(e){u.scrollToIndex(e,t)},setTheme:function(n){a.setTheme(n,e,t)},setVerticalGrid:function(t){a.setVerticalGrid(t,e)},setHorizontalGrid:function(t){a.setHorizontalGrid(t,e)},setRowColoring:function(t){a.setRowColoring(t,e)},enableVirtualScroll:function(){u.enableVirtualScroll(t)},disableVirtualScroll:function(){u.disableVirtualScroll(t)},enableSummaries:function(){s.setSummariesEnabled(!0,t)},disableSummaries:function(){s.setSummariesEnabled(!1,t)},setSortConfig:function(e){c.setSortingConfig(e,t)}}},t}();var ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.Command),yt=function(t){function e(e,n,r){var i=t.call(this,e,"ToggleSelectedRowCommand")||this;return i.selectedRow=n,i.type=r,i}return l(e,t),e.prototype.getSelectedRow=function(){return this.selectedRow},e.prototype.getType=function(){return this.type},e}(ft);var vt=function(){function t(t){this.commandDispatcher=t}return t.prototype.toggleSelectedRow=function(t,e,n){this.commandDispatcher.dispatch(new yt(t,e,n))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var bt=function(t){function e(e,n){var r=t.call(this,e,"SetEnabledSelectionCommand")||this;return r.enabled=n,r}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(ft);var Ct=function(t){function e(e,n){var r=t.call(this,e,"SetSelectionModeCommand")||this;return r.mode=n,r}return l(e,t),e.prototype.getMode=function(){return this.mode},e}(ft);var Et=function(t){function e(e){return t.call(this,e,"SelectAllRowsCommand")||this}return l(e,t),e}(ft),It=function(t){function e(e){return t.call(this,e,"UnselectAllRowsCommand")||this}return l(e,t),e}(ft),wt=function(){function t(t,e){this.commandDispatcher=t,this.formationDispatcher=e}return t.prototype.setDefaultFormation=function(t){},t.prototype.toggleSelectedRow=function(t,e,n){this.formationDispatcher.toggleSelectedRow(n,t,e)},t.prototype.changeMode=function(t,e){this.commandDispatcher.dispatch(new Ct(e,t))},t.prototype.setSelection=function(t,e){this.commandDispatcher.dispatch(new bt(e,t))},t.prototype.selectAll=function(t){this.commandDispatcher.dispatch(new Et(t))},t.prototype.unselectAll=function(t){this.commandDispatcher.dispatch(new It(t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher},{type:vt}]},t}();var St=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var Tt=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),At=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),xt=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var Mt=function(){function t(t,e,n){this.rowSelectedRepository=t,this.rowSelectionModeRepository=e,this.sourceWarehouse=n}return t.prototype.getSelectedRows=function(t){for(var e=this.sourceWarehouse.getPreparedEntities(t),n=this.getSelectedItemIds(t),r=[],i=e.length,o=function(t){var i=e[t];n.some((function(t){return t===i.getId().toString()}))&&r.push(new dt(i.getData(),t,i.getId()))},a=0;a<i;a+=1)o(a);return r},t.prototype.onRowSelectedReadModel=function(t){return this.rowSelectedRepository.on(t)},t.prototype.getSelectedItemIds=function(t){return this.rowSelectedRepository.get(t).getValueOrNullOrThrowError().getAll()},t.prototype.onSelectedRows=function(t){return this.rowSelectedRepository.on(t).pipe(r.hermesMap((function(t){return t.getAll()})))},t.prototype.onMode=function(t){return this.rowSelectionModeRepository.on(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Tt},{type:At},{type:xt}]},t}();var Dt=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var Rt=function(){function t(t,e,n){this.schemaCommandInvoker=t,this.gridThemeConverter=e,this.gridRowColoringConverter=n}return t.prototype.setTheme=function(t,e,n){var r=this.gridThemeConverter.convert(t);this.schemaCommandInvoker.setTheme(r,e,n)},t.prototype.setRowColoring=function(t,e){var n=this.gridRowColoringConverter.convert(t);this.schemaCommandInvoker.setRowColoring(n,e)},t.prototype.setVerticalGrid=function(t,e){this.schemaCommandInvoker.setVerticalGrid(t,e)},t.prototype.setHorizontalGrid=function(t,e){this.schemaCommandInvoker.setHorizontalGrid(t,e)},t}();var Pt=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var Ft=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var Nt=function(){function t(t){this.hostElement=t}return t.prototype.getElement=function(t){return this.createModifier(t)},t.prototype.getHost=function(){if(!this.hostElement)throw new Error("Missing host element in DomRenderer constructor.");return this.createModifier(this.hostElement)},t}();var Ot=function(t){function e(e){var n=t.call(this,e)||this;return n.htmlElement=e,n}var n;return l(e,t),e.prototype.createModifier=function(t){return new e.ClassModifier(t)},e.ClassModifier=((n=function(){function t(t){this.htmlElement=t}return t.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.addClassToDomElement(this.htmlElement,t)},t.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.removeClassFromDomElement(this.htmlElement,t)},t.prototype.clear=function(){this.htmlElement.removeAttribute(e.ClassModifier.CLASS)},t.prototype.addClassToDomElement=function(t,e){for(var n=0;n<e.length;n++)t.classList.add(e[n])},t.prototype.removeClassFromDomElement=function(t,e){for(var n=0;n<e.length;n++)t.classList.remove(e[n])},t}()).CLASS="class",n),e}(Nt);var kt="width",Ht="height",Bt="padding-top",Vt=function(t){function e(e){var n=t.call(this,e)||this;return n.htmlElement=e,n}var n;return l(e,t),e.prototype.createModifier=function(t){return new e.StyleModifier(t)},e.StyleModifier=((n=function(){function t(t){this.htmlElement=t}return t.prototype.setStyleByName=function(t,e){this.set(t,e)},t.prototype.setWidth=function(t){this.set(kt,this.toPx(t))},t.prototype.setHeight=function(t){this.set(Ht,this.toPx(t))},t.prototype.setPaddingTop=function(t){this.set(Bt,this.toPx(t))},t.prototype.remove=function(t){this.htmlElement[e.StyleModifier.STYLE][t]=""},t.prototype.removeStyleByName=function(t){this.htmlElement[e.StyleModifier.STYLE][t]=""},t.prototype.clear=function(){this.htmlElement.removeAttribute(e.StyleModifier.STYLE)},t.prototype.set=function(t,n){this.htmlElement[e.StyleModifier.STYLE][t]=n},t.prototype.toPx=function(t){return t>0?t+"px":""+t},t}()).STYLE="style",n),e}(Nt);var jt=function(t){function e(e){var n=t.call(this,e)||this;return n.htmlElement=e,n}return l(e,t),e.prototype.createModifier=function(t){return new e.AttributeModifier(t)},e.AttributeModifier=function(){function t(t){this.htmlElement=t}return t.prototype.setAttribute=function(t,e){this.htmlElement.setAttribute(t,e)},t.prototype.removeAttribute=function(t){this.htmlElement.removeAttribute(t)},t}(),e}(Nt);var Gt=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var zt=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var Lt=function(t){function e(e,n){var r=t.call(this,e,"SetSortingCommand")||this;return r.sortingConfig=n,r}return l(e,t),e.prototype.getSortingConfig=function(){return this.sortingConfig},e}(ft);var Ut=function(t){function e(e,n,r){var i=t.call(this,e,"ToggleSortCommand")||this;return i.compositionId=n,i.fieldId=r,i}return l(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getFieldId=function(){return this.fieldId},e}(ft);var Wt=function(t){function e(e,n,r,i){var o=t.call(this,e,"SetSortOrderCommand")||this;return o.compositionId=n,o.fieldId=r,o.sortOrder=i,o}return l(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getSortOrder=function(){return this.sortOrder},e}(ft);var qt=function(){function t(t){this.commandDispatcher=t}return t.prototype.setSortingConfig=function(t,e){this.commandDispatcher.dispatch(new Lt(e,t))},t.prototype.toggleSort=function(t,e,n){this.commandDispatcher.dispatch(new Ut(n,e,t))},t.prototype.setSortOrder=function(t,e,n,r){this.commandDispatcher.dispatch(new Wt(r,n,t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var Kt=function(t){function r(e,n,r,i,o,a,u,s,c,l,p,g,h,d){var m=t.call(this)||this;return m.platformId=e,m.elementRef=n,m.changeDetectorRef=r,m.gridRegister=i,m.gridIdGenerator=o,m.formationCommandDispatcher=a,m.formationWarehouse=u,m.sourceCommandDispatcher=s,m.searchCommandInvoker=c,m.schemaCommandInvoker=l,m.structureCommandDispatcher=p,m.summariesCommandInvoker=g,m.sortingCommandInvoker=h,m.pagingCommandInvoker=d,m.gridThemeCommandInvoker=new Rt(m.schemaCommandInvoker,m.gridThemeConverter,m.gridRowColoringConverter),m.classModifier=new Ot(m.elementRef.nativeElement),m.styleModifier=new Vt(m.elementRef.nativeElement),m.attributeModifier=new jt(m.elementRef.nativeElement),m}return l(r,t),r.prototype.ngOnInit=function(){var t=this;this.classModifier.getHost().add("gui-grid"),this.initApi();var e=this.gridId;void 0===e&&(e=this.gridIdGenerator.generateId()),this.localGridId=e,this.exposeGridId(),this.gridRegister.register(e,this,this.structureRef.getStructureId()),n.isPlatformBrowser(this.platformId)&&(window.getGuiGrid=function(e){return t.gridRegister.getValues(e)?t.api:void 0})},r.prototype.ngOnDestroy=function(){this.gridRegister.unregister(this.localGridId)},r.prototype.getElementRef=function(){return this.elementRef},r.prototype.getGridId=function(){return""},r.prototype.detectChanges=function(){this.changeDetectorRef.detectChanges()},r.prototype.exposeGridId=function(){this.attributeModifier.getHost().setAttribute(r.GUI_GRID_ID,this.localGridId)},r.prototype.initApi=function(){this.api=new mt(this.structureRef.structureId,this.structureRef.schemaReadModelRootId,this.formationCommandDispatcher,this.formationWarehouse,this.sourceCommandDispatcher,this.searchCommandInvoker,this.gridThemeCommandInvoker,this.structureCommandDispatcher,this.summariesCommandInvoker,this.sortingCommandInvoker,this.pagingCommandInvoker).provide()},r.GUI_GRID_ID="gui-grid-id",r.decorators=[{type:e.Component,args:[{selector:"gui-grid",template:'<gui-structure\n\t#structure\n\t(cellEditCanceled)="onCellEditCancel()"\n\t(cellEditEntered)="onCellEditEnter()"\n\t(cellEditSubmitted)="onCellEditSubmit()"\n\t(columnsChanged)="onColumnsChange()"\n\t(containerWidthChanged)="onContainerWidthChange($event)"\n\t(horizontalGridChanged)="onHorizontalGrid($event)"\n\t(itemsSelected)="onItemSelect($event)"\n\t(pageChanged)="onPageChange($event)"\n\t(pageSizeChanged)="onPageSizeChange($event)"\n\t(rowColoringChanged)="onRowColoring($event)"\n\t(searchPhraseChanged)="onSearchPhrase($event)"\n\t(selectedRows)="onRowsSelect($event)"\n\n\t(sourceEdited)="onSourceEdit($event)"\n\t(themeChanged)="onTheme($event)"\n\t(verticalGridChanged)="onVerticalGrid($event)"\n\t[autoResizeWidth]="autoResizeWidth"\n\t[cellEditing]="cellEditing"\n\t[columnHeaderBottom]="columnHeaderBottom"\n\t[columnHeaderTop]="columnHeaderTop"\n\t[columnMenu]="columnMenuConfig"\n\t[columns]="columnsConfig"\n\t[editMode]="editMode"\n\t[filtering]="filtering"\n\t[footerPanel]="footerPanel"\n\t[horizontalGrid]="horizontalGrid"\n\t[infoPanel]="infoPanel"\n\t[loading]="loading"\n\t[localization]="localization"\n\t[maxHeight]="maxHeight"\n\t[paging]="paging"\n\t[quickFilters]="quickFilters"\n\t[rowClass]="rowClass"\n\t[rowColoring]="rowColoringConfig"\n\t[rowDetail]="rowDetail"\n\t[rowHeight]="rowHeight"\n\t[rowSelection]="rowSelectionConfig"\n\t[rowStyle]="rowStyle"\n\t[searching]="searching"\n\t[sorting]="sorting"\n\t[source]="source"\n\t[summaries]="summaries"\n\t[theme]="themeConfig"\n\t[titlePanel]="titlePanel"\n\t[verticalGrid]="verticalGrid"\n\t[virtualScroll]="virtualScroll"\n\t[width]="width"\n>\n</gui-structure>\n',providers:f(lt,[{provide:pt,useExisting:r}]),encapsulation:e.ViewEncapsulation.None,styles:[".gui-grid{display:block;width:100%}"]}]}],r.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:ht},{type:gt},{type:wt},{type:Mt},{type:St},{type:Dt},{type:Pt},{type:Ft},{type:zt},{type:qt},{type:Gt}]},r.propDecorators={structureRef:[{type:e.ViewChild,args:["structure",{static:!0}]}],gridId:[{type:e.Input}]},r}(nt);var Xt=[o.FabricBadgeModule,o.FabricButtonModule,o.FabricButtonGroupModule,o.FabricCheckboxModule,o.FabricChipModule,o.FabricDrawerModule,o.FabricDropdownModule,o.FabricRadioButtonModule,o.FabricRadioGroupModule,o.FabricProgressBarModule,o.FabricProgressSpinnerModule,o.FabricSelectModule,o.FabricSpinnerModule,o.FabricTabModule,o.FabricTooltipModule,o.FabricToggleButtonModule,o.FabricInputModule,o.FabricDialogModule,o.FabricInlineDialogModule,o.FabricTabModule],Qt=function(){function t(){this.unsubscribe$=new r.HermesSubject}return t.prototype.takeUntil=function(){return r.hermesTakeUntil(this.unsubscribe$)},t.prototype.unsubscribe=function(){this.unsubscribe$.isCompleted||(this.unsubscribe$.next(),this.unsubscribe$.complete())},t}();var Yt=function(){function t(t){this.innerElementRef=t,this.innerClassModifier=new Ot(this.innerElementRef.nativeElement),this.addHostClass()}return t.prototype.addClassToHost=function(t){this.innerClassModifier.getHost().add(t)},t.prototype.removeClassFromHost=function(t){this.innerClassModifier.getHost().remove(t)},t.prototype.hasChanged=function(t){return void 0!==t&&void 0!==t.currentValue},t.prototype.addHostClass=function(){this.innerClassModifier.getHost().add(this.getSelectorName())},t}();var Jt=function(t){function e(e,n){var i=t.call(this,n)||this;return i.detector=e,i.viewInDom=!1,i.streamCloser=new Qt,i.hermesUnsubscribe$=new r.HermesSubject,i}return l(e,t),e.prototype.ngAfterViewInit=function(){this.viewInDom=!0},e.prototype.ngOnDestroy=function(){this.streamCloser.unsubscribe(),this.hermesUnsubscribe()},e.prototype.reRender=function(){this.isViewInDom()&&this.detector.detectChanges()},e.prototype.isViewInDom=function(){return this.viewInDom},e.prototype.hermesSubscribe=function(t,e){var n=this;t.pipe(this.hermesTakeUntil()).subscribe((function(t){e(t),n.reRender()}))},e.prototype.hermesSubscribeWithoutRender=function(t,e){t.pipe(this.hermesTakeUntil()).subscribe((function(t){e(t)}))},e.prototype.subscribeAndEmit=function(t,e,n){void 0===n&&(n=function(t){return t}),t.pipe(this.hermesTakeUntil()).subscribe((function(t){e.emit(n(t))}))},e.prototype.unsubscribe=function(){this.streamCloser.unsubscribe(),this.hermesUnsubscribe()},e.prototype.hermesUnsubscribe=function(){this.hermesUnsubscribe$.next(),this.hermesUnsubscribe$.complete()},e.prototype.hermesTakeUntil=function(){return r.hermesTakeUntil(this.hermesUnsubscribe$)},e.prototype.takeUntil=function(){return this.streamCloser.takeUntil()},e}(Yt);var Zt=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var _t=function(t){function n(){return t.call(this,Y.BASIC)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),$t={TOP:0,BOTTOM:1};$t[$t.TOP]="TOP",$t[$t.BOTTOM]="BOTTOM";var te="selected",ee="gui-paging-top",ne="gui-paging-bottom",re=function(){function t(){this.classModifier=new Ot}return t.prototype.select=function(t){this.classModifier.getElement(t).add(te)},t.prototype.unselect=function(t){this.classModifier.getElement(t).remove(te)},t.prototype.add=function(t,e){this.classModifier.getElement(t).add(e)},t.prototype.remove=function(t,e){this.classModifier.getElement(t).remove(e)},t.prototype.toggle=function(t){},t.decorators=[{type:e.Injectable}],t}();var ie=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toAggregateId=function(){return new oe(this.toString())},e}(r.ReadModelRootId),oe=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toReadModelRootId=function(){return new ie(this.getId())},e}(r.AggregateId),ae=function(t){function n(e,n,r,i,o,a,u,s){var c=t.call(this,n,e)||this;return c.elRef=e,c.changeDetectorRef=n,c.cssClassModifier=r,c.structureId=i,c.pagingWarehouse=o,c.pagingCommandInvoker=a,c.sourceWarehouse=u,c.pagingDisplayModeArchive=s,c.alternativeDisplay=!1,c.isPagingVisible=!1,c.localStreamCloser=new Qt,c.addClassToHost("gui-flex"),c.addClassToHost("gui-justify-end"),c.addClassToHost("gui-items-center"),c.addClassToHost("gui-p-4"),c}return l(n,t),n.prototype.ngOnChanges=function(t){t.position&&(this.position===$t.BOTTOM?(this.cssClassModifier.remove(this.elRef.nativeElement,ee),this.cssClassModifier.add(this.elRef.nativeElement,ne)):(this.cssClassModifier.remove(this.elRef.nativeElement,ne),this.cssClassModifier.add(this.elRef.nativeElement,ee)))},n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.pagingDisplayModeArchive.on(),(function(e){t.alternativeDisplay=e===Y.ADVANCED})),this.hermesSubscribe(this.pagingWarehouse.onPaging(this.structureId),(function(e){t.paging=e,t.calculatePagingVisibility()})),this.hermesSubscribe(this.sourceWarehouse.onOriginSize(this.structureId),(function(e){t.sourceSize=e}))},n.prototype.ngOnDestroy=function(){this.localStreamCloser.unsubscribe(),t.prototype.ngOnDestroy.call(this)},n.prototype.changePageSize=function(t){this.pagingCommandInvoker.changePageSize(t,this.structureId)},n.prototype.nextPage=function(){this.sourceSize&&this.pagingCommandInvoker.nextPage(this.structureId)},n.prototype.prevPage=function(){this.pagingCommandInvoker.prevPage(this.structureId)},n.prototype.calculatePagingVisibility=function(){this.isPagingVisible=this.paging&&this.paging.isEnabled()&&(this.position===$t.TOP&&this.paging.isPagerTop()||this.position===$t.BOTTOM&&this.paging.isPagerBottom())},n.prototype.getSelectorName=function(){return"gui-paging"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-paging][position]",template:'<ng-container *ngIf="isPagingVisible && !alternativeDisplay">\n\n\t<ng-container *ngIf="!minimal; else minimalTemplate">\n\n\t\t<div (pageSizeChanged)="changePageSize($event)"\n\t\t\t [paging]="paging"\n\t\t\t gui-paging-select>\n\t\t</div>\n\n\t\t<div [paging]="paging"\n\t\t\t gui-paging-stats>\n\t\t</div>\n\n\t\t<div (nextPageChanged)="nextPage()"\n\t\t\t (prevPageChanged)="prevPage()"\n\t\t\t [paging]="paging"\n\t\t\t [sourceSize]="sourceSize"\n\t\t\t gui-paging-navigator>\n\t\t</div>\n\n\t</ng-container>\n\n\t<ng-template #minimalTemplate>\n\n\t\t<div [paging]="paging"\n\t\t\t gui-paging-stats>\n\t\t</div>\n\n\t\t<div (nextPageChanged)="nextPage()"\n\t\t\t (prevPageChanged)="prevPage()"\n\t\t\t [paging]="paging"\n\t\t\t [sourceSize]="sourceSize"\n\t\t\t gui-paging-navigator>\n\t\t</div>\n\n\t</ng-template>\n\n</ng-container>\n\n<ng-container *ngIf="isPagingVisible && alternativeDisplay">\n\n\t<div (pageSizeChanged)="changePageSize($event)"\n\t\t [paging]="paging"\n\t\t gui-paging-select>\n\t</div>\n\n\t<div (nextPageChanged)="nextPage()"\n\t\t (prevPageChanged)="prevPage()"\n\t\t [paging]="paging"\n\t\t [sourceSize]="sourceSize"\n\t\t class="gui-flex gui-p-0"\n\t\t gui-paging-alternative-navigator>\n\n\t\t<div [paging]="paging"\n\t\t\t [sourceSize]="sourceSize"\n\t\t\t class="gui-flex gui-justify-center"\n\t\t\t gui-paging-alternative-pages>\n\t\t</div>\n\n\t</div>\n\n</ng-container>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,styles:[".gui-paging-alternative-navigator .gui-button{-ms-flex-line-pack:center;align-content:center;background:0 0;display:-ms-flexbox;display:flex;font-size:14px;line-height:21px;margin:0 2px;padding:0}.gui-paging-alternative-navigator .gui-button svg{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center;height:12px;margin:-1px 2px 0;width:auto}.gui-paging-alternative-navigator .gui-button svg path{stroke:#ccc;transition:stroke .3s ease-in-out}.gui-paging-alternative-navigator .gui-button:hover{background:0 0}.gui-paging-alternative-navigator .gui-button:hover svg path{stroke:#333}.gui-paging-alternative-navigator .gui-button:disabled svg{opacity:.4}.gui-paging-alternative-navigator .gui-material .gui-button{padding:2px 16px}.gui-paging-alternative-pages{line-height:21px}.gui-paging-alternative-pages .gui-paging-page{display:none}.gui-paging-alternative-pages .gui-paging-visible-page .gui-paging-page{display:block;font-family:Arial,serif}.gui-paging-alternative-pages .gui-paging-visible-page.gui-paging-active-page{color:#333}.gui-paging-alternative-pages .gui-paging-visible-page.gui-paging-active-page .gui-paging-page{font-weight:700}.gui-paging-bottom{border-top:1px solid;border-top-color:inherit}.gui-paging-top{border-bottom:1px solid;border-bottom-color:inherit}",".gui-generic .gui-paging,.gui-generic .gui-paging *{border-color:rgba(34,36,38,.1);font-size:14px}"]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:re},{type:oe},{type:Zt},{type:Gt},{type:xt},{type:_t}]},n.propDecorators={position:[{type:e.Input}],minimal:[{type:e.Input}]},n}(Jt);var ue=function(){function t(t,e,n,r,i,o,a,u,s,c,l){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=r,this.pagerTop=i,this.pagerBottom=o,this.isNextDisabled=a,this.isPrevDisabled=u,this.start=s,this.end=c,this.sourceSize=l}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.getPage=function(){return this.page},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getPageSizes=function(){return this.pageSizes},t.prototype.isPagerTop=function(){return this.pagerTop},t.prototype.isPagerBottom=function(){return this.pagerBottom},t.prototype.isNextPageDisabled=function(){return this.isNextDisabled},t.prototype.isPrevPageDisabled=function(){return this.isPrevDisabled},t.prototype.getStart=function(){return this.start},t.prototype.getEnd=function(){return this.end},t.prototype.getSourceSize=function(){return this.sourceSize},t.prototype.calculateVisiblePages=function(t,e,n){return t-e<n&&n<t+e},t.prototype.sample=function(t){var e=this.getStart();return 0!==e&&(e-=1),t.slice(e,this.getEnd())},t.prototype.compare=function(t){return JSON.stringify(this)===JSON.stringify(t)},t.ctorParameters=function(){return[{type:Boolean},{type:Number},{type:Number},{type:Array},{type:Boolean},{type:Boolean},{type:Boolean},{type:Boolean},{type:Number},{type:Number},{type:Number}]},t=g([r.ReadModelObject,h("design:paramtypes",[Boolean,Number,Number,Array,Boolean,Boolean,Boolean,Boolean,Number,Number,Number])],t)}();var se=function(t){function e(e){var n=t.call(this,e)||this;return n.subClassConstructor=n.constructor,n.subClassNgOnInit=n.ngOnInit,n.hasConstructorOnlyElementRefInjected(arguments)||n.throwError("it should not inject services"),n.subClassNgOnInit&&n.throwError("it should not use ngOnInit"),n}return l(e,t),e.prototype.hasConstructorOnlyElementRefInjected=function(t){return!(arguments.length>1)&&(1===arguments.length&&this.isElementRef(arguments[0]))},e.prototype.isElementRef=function(t){return null!==t.nativeElement},e.prototype.throwError=function(t){throw new Error('Component "'+this.subClassConstructor.name+'" is a PureComponent, '+t+".")},e}(Yt);var ce=function(t){function n(n){var r=t.call(this,n)||this;return r.pageSizeChanged=new e.EventEmitter,r}return l(n,t),n.prototype.ngOnChanges=function(t){t.paging&&this.paging&&(this.selectPageSizes=this.getSelectPageSizes(),this.selectPageSize=this.getSelectPageSize(this.paging.getPageSize()))},n.prototype.changePageSize=function(t){this.pageSizeChanged.emit(+t.value)},n.prototype.getSelectPageSizes=function(){var t=this,e=[];return this.paging.getPageSizes().forEach((function(n){var r=t.getSelectPageSize(n);e.push(r)})),e},n.prototype.getSelectPageSize=function(t){return{name:t.toString(),value:t.toString()}},n.prototype.getSelectorName=function(){return"gui-paging-select"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-paging-select][paging]",template:'<span class="gui-inline-block gui-mr-5">\n\t{{ \'pagingItemsPerPage\' | guiTranslate }}\n</span>\n\n<gui-select (optionChanged)="changePageSize($event)"\n\t\t\t[options]="selectPageSizes"\n\t\t\t[selected]="selectPageSize"\n\t\t\t[width]="25">\n</gui-select>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={paging:[{type:e.Input}],pageSizeChanged:[{type:e.Output}]},n}(se);var le=function(t){function n(n,r,i){var o=t.call(this,n)||this;return o.structureId=r,o.pagingCommandInvoker=i,o.nextPageChanged=new e.EventEmitter,o.prevPageChanged=new e.EventEmitter,o.prevDisabled=!1,o.nextDisabled=!1,o}return l(n,t),n.prototype.ngOnChanges=function(){this.calculatePrev(),this.calculateNext()},n.prototype.prevPage=function(){this.prevPageChanged.emit()},n.prototype.nextPage=function(){this.nextPageChanged.emit()},n.prototype.firstPage=function(){this.pagingCommandInvoker.goToPage(1,this.paging.getPage(),this.structureId)},n.prototype.lastPage=function(){var t=Math.ceil(this.sourceSize/this.paging.getPageSize());this.pagingCommandInvoker.goToPage(t,this.paging.getPage(),this.structureId)},n.prototype.calculatePrev=function(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())},n.prototype.calculateNext=function(){(this.paging||this.sourceSize)&&(this.nextDisabled=this.paging.isNextPageDisabled())},n.prototype.getSelectorName=function(){return"gui-paging-alternative-navigator"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-paging-alternative-navigator][paging][sourceSize]",template:'<button (click)="firstPage()"\n\t\t[disabled]="prevDisabled"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 11.081 10.661" width="11.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<g transform="translate(-522.98 669.601) rotate(180)">\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t\t  stroke-width="1.5" transform="translate(-533.75 659.25)"/>\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round"\n\t\t\t\t  stroke-linejoin="round" stroke-width="1.5" transform="translate(-528.75 659.25)"/>\n\t\t</g>\n\t</svg>\n</button>\n\n<button (click)="prevPage()"\n\t\t[disabled]="prevDisabled"\n\t\tclass="gui-paging-navigator-prev"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 6.081 10.661" width="6.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t  stroke-width="1.5" transform="translate(5.77 10.351) rotate(180)"/>\n\t</svg>\n</button>\n\n<ng-content></ng-content>\n\n<button (click)="nextPage()"\n\t\t[disabled]="nextDisabled"\n\t\tclass="gui-paging-navigator-next"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 6.081 10.661" width="6.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t  stroke-width="1.5" transform="translate(0.311 0.311)"/>\n\t</svg>\n</button>\n\n<button (click)="lastPage()"\n\t\t[disabled]="nextDisabled"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 11.081 10.661" width="11.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<g transform="translate(534.061 -658.939)">\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t\t  stroke-width="1.5" transform="translate(-533.75 659.25)"/>\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round"\n\t\t\t\t  stroke-linejoin="round" stroke-width="1.5" transform="translate(-528.75 659.25)"/>\n\t\t</g>\n\t</svg>\n</button>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:oe},{type:Gt}]},n.propDecorators={paging:[{type:e.Input}],sourceSize:[{type:e.Input}],nextPageChanged:[{type:e.Output}],prevPageChanged:[{type:e.Output}]},n}(se);var pe=function(t){function n(e,n,r){var i=t.call(this,e)||this;return i.structureId=n,i.pagingCommandService=r,i.sourceSize=0,i.numberOfVisiblePages=3,i}return l(n,t),n.prototype.ngOnChanges=function(t){this.calculate()},n.prototype.calculate=function(){if(this.paging&&this.sourceSize){var t=Math.ceil(this.sourceSize/this.paging.getPageSize());if(this.currentPage=this.paging.getPage(),this.pages=[],this.pages.length<=t)for(var e=1;e<=t;e++)this.pages.push(e)}},n.prototype.isSourceNotEmpty=function(){return this.sourceSize>0},n.prototype.goToPage=function(t){var e=this.paging.getPage();this.pagingCommandService.goToPage(t,e,this.structureId)},n.prototype.calculateVisiblePages=function(t){return this.paging.calculateVisiblePages(this.currentPage,this.numberOfVisiblePages,t)},n.prototype.activePage=function(t){return this.currentPage===t},n.prototype.getSelectorName=function(){return"gui-paging-alternative-pages"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-paging-alternative-pages][paging]",template:'<ng-container *ngIf="isSourceNotEmpty(); else noSource;">\n\n\t<div *ngFor="let page of pages">\n\t\t<div [class.gui-paging-active-page]="activePage(page)"\n\t\t\t [class.gui-paging-visible-page]="calculateVisiblePages(page)"\n\t\t\t class="relative">\n\t\t\t<div (click)="goToPage(page)"\n\t\t\t\t class="gui-paging-page gui-select-none gui-cursor-pointer gui-py-0 gui-px-6 gui-font-base">\n\t\t\t\t{{page}}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</ng-container>\n\n<ng-template #noSource>\n\t<span class="gui-paging-source-stats gui-paging-no-items">\n\t\t{{\'pagingNoItems\' | guiTranslate}}\n\t</span>\n</ng-template>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:oe},{type:Gt}]},n.propDecorators={paging:[{type:e.Input}],sourceSize:[{type:e.Input}]},n}(se);var ge=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus}]},n}(r.EventRepository);var he=function(){};var de=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.DomainEvent),me=function(t){function e(e){return t.call(this,e,null,"PageChangedEvent")||this}return l(e,t),e}(de),fe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.AggregateEvent),ye=function(t){function e(e){return t.call(this,e,"PageChangedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new me(this.getAggregateId())},e}(fe),ve=function(t){function e(e){return t.call(this,e,null,"PagesizeChangedEvent")||this}return l(e,t),e}(de),be=function(t){function e(e){return t.call(this,e,"PagesizeChangedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new ve(this.getAggregateId())},e}(fe),Ce=function(){function t(t,e,n,r,i,o,a,u){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=r,this.pagerTop=i,this.pagerBottom=o,this.sourceSize=a,this.events=[],this.logger=u}return t.default=function(e){return new t(!1,1,25,[10,25,50,100],!1,!0,0,e)},t.fromConfig=function(e,n){var r=t.default(n);return new t(e.enabled||r.isEnabled(),e.page||r.getPage(),e.pageSize||r.getPageSize(),e.pageSizes||r.getPageSizes(),e.pagerTop||r.isPagerTop(),e.pagerBottom||r.isPagerBottom(),0,n)},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isDisabled=function(){return!this.enabled},t.prototype.getPage=function(){return this.page},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getPageSizes=function(){return this.pageSizes},t.prototype.isPagerTop=function(){return!this.isDisabled()&&this.pagerTop},t.prototype.isPagerBottom=function(){return!this.isDisabled()&&this.pagerBottom},t.prototype.getSourceSize=function(){return this.sourceSize},t.prototype.change=function(t){void 0!==t.enabled&&(this.enabled=t.enabled),void 0!==t.page&&(this.page=t.page,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSize&&(this.pageSize=t.pageSize,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSizes&&(this.pageSizes=t.pageSizes,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerTop&&(this.pagerTop=t.pagerTop,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerBottom&&(this.pagerBottom=t.pagerBottom,void 0===t.enabled&&(this.enabled=!0)),!0===this.enabled&&!1===t.pagerTop&&!1===t.pagerBottom&&(this.pagerBottom=!0,this.logger.warn("Pagers cannot be turn off when paging is enabled."))},t.prototype.setSourceSize=function(t){this.sourceSize=t},t.prototype.nextPage=function(){var t=this.page;this.isNextPageDisabled()||(t+=1),this.page=t},t.prototype.prevPage=function(){var t=this.page;this.isPrevPageDisabled()||(t-=1),this.page=t},t.prototype.changePageSize=function(t){return this.pageSizes.find((function(e){return e===t}))&&(this.setPage(1),this.setPageSize(t)),this.events},t.prototype.isNextPageDisabled=function(){return 0===this.sourceSize||this.page===Math.ceil(this.sourceSize/this.pageSize)},t.prototype.isPrevPageDisabled=function(){return 1===this.page},t.prototype.calculateStart=function(){var t=1+(this.page-1)*this.pageSize;return this.sourceSize<t?0:t},t.prototype.calculateEnd=function(){var t=this.page*this.pageSize;return this.sourceSize<t?this.sourceSize:t},t.prototype.sample=function(t){if(this.isDisabled())return t;var e=this.calculateStart();return 0!==e&&(e-=1),t.slice(e,this.calculateEnd())},t.prototype.clearEvents=function(){this.events.length=0},t.prototype.setPage=function(t){this.page=t,this.events.push(new ye(new oe("TODO need to be changed")))},t.prototype.setPageSize=function(t){this.pageSize=t,this.events.push(new be(new oe("TODO need to be changed")))},t}();var Ee=function(){function t(t){this.logger=t}return t.prototype.createDefault=function(){return Ce.default(this.logger)},t.prototype.createFromConfig=function(t){return Ce.fromConfig(t,this.logger)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:he}]},t}();var Ie=function(t){function e(e,n){var r=t.call(this,e,"SetPagingCommand")||this;return r.config=n,r}return l(e,t),e.prototype.getPagingConfig=function(){return this.config},e}(ft);var we=function(t){function e(e,n){var r=t.call(this,e,"ChangePagesizeCommand")||this;return r.pageSize=n,r}return l(e,t),e.prototype.getPageSize=function(){return this.pageSize},e}(ft);var Se=function(t){function e(e){return t.call(this,e,"NextPageCommand")||this}return l(e,t),e}(ft),Te=function(t){function e(e){return t.call(this,e,"PrevPageCommand")||this}return l(e,t),e}(ft),Ae=function(){function t(t){this.commandDispatcher=t}return t.prototype.setPaging=function(t,e){this.commandDispatcher.dispatch(new Ie(t,e))},t.prototype.changePageSize=function(t,e){this.commandDispatcher.dispatch(new we(t,e))},t.prototype.nextPage=function(t){this.commandDispatcher.dispatch(new Se(t))},t.prototype.prevPage=function(t){this.commandDispatcher.dispatch(new Te(t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var xe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.AggregateRepository);var Me=function(t){function e(e){return t.call(this,e,null,"PagingSetEvent")||this}return l(e,t),e}(de),De=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Ie},t.prototype.handle=function(t,e){var n=e.getPagingConfig();t.changePaging(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new Me(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xe},{type:r.DomainEventPublisher}]},t}();var Re=function(t){function e(e){return t.call(this,e,null,"NextPageEvent")||this}return l(e,t),e}(de),Pe=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Se},t.prototype.handle=function(t,e){t.nextPage()},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new Re(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Fe=function(t){function e(e){return t.call(this,e,null,"PrevPageEvent")||this}return l(e,t),e}(de),Ne=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Te},t.prototype.handle=function(t,e){t.prevPage()},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new Fe(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Oe=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return we},t.prototype.handle=function(t,e){var n=e.getPageSize();t.changePageSize(n)},t.prototype.publish=function(t,e){var n=t.getEvents();n.forEach((function(e){e.aggregateId=t.getId()})),this.publishAggregateEvents(n,e),t.clearEvents()},t.prototype.publishAggregateEvents=function(t,e){var n,r;try{for(var i=d(t),o=i.next();!o.done;o=i.next()){var a=o.value;this.publishAggregateEvent(a,e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.publishAggregateEvent=function(t,e){switch(t.getType()){case"PageChangedAggregateEvent":var n=new me(e.getAggregateId());this.domainEventPublisher.publish(n);break;case"PagesizeChangedAggregateEvent":var r=new ve(e.getAggregateId());this.domainEventPublisher.publish(r);break;case"StructurePreparedEntitiesSetAggregateEvent":this.domainEventPublisher.publish(t.toDomainEvent())}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var ke="StructureAggregate",He=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(De,ke),r.HermesModule.registerCommandHandler(Pe,ke),r.HermesModule.registerCommandHandler(Ne,ke),r.HermesModule.registerCommandHandler(Oe,ke))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[Ae,Ee],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),Be=function(){function t(){}return t.prototype.convert=function(t){return new ue(t.isEnabled(),t.getPage(),t.getPageSize(),t.getPageSizes(),t.isPagerTop(),t.isPagerBottom(),t.isNextPageDisabled(),t.isPrevPageDisabled(),t.calculateStart(),t.calculateEnd(),t.getSourceSize())},t.decorators=[{type:e.Injectable}],t}(),Ve=function(t){function e(e){var n=t.call(this)||this;return e.ofEvent.apply(e,f(n.forEvents())).pipe(n.hermesTakeUntil()).subscribe((function(t){try{n.subs(t)}catch(t){console.error(t)}})),n}return l(e,t),e}(r.Reactive);var je=function(){function t(t){this.structureRepository=t}return t.prototype.on=function(t){return this.structureRepository.on(t).pipe(r.hermesFilter((function(e){return e.getId().toString()===t.toString()})),r.hermesMap((function(t){return t.getPaging()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ve}]},t}();var Ge=function(t){function n(e){var n=t.call(this)||this;return n.pagingRepository=e,n}return l(n,t),n.prototype.onPaging=function(t){return this.pagingRepository.on(t)},n.prototype.oncePaging=function(t){return this.pagingRepository.on(t).pipe(r.hermesTake(1))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:je}]},n}(Zt);var ze=function(t){function n(e){var n=t.call(this)||this;return n.pagingDispatcher=e,n}return l(n,t),n.prototype.enable=function(t){this.pagingDispatcher.setPaging(t,{enabled:!0})},n.prototype.disable=function(t){this.pagingDispatcher.setPaging(t,{enabled:!1})},n.prototype.setPaging=function(t,e){this.pagingDispatcher.setPaging(e,t)},n.prototype.changePageSize=function(t,e){this.pagingDispatcher.changePageSize(e,t)},n.prototype.nextPage=function(t){this.pagingDispatcher.nextPage(t)},n.prototype.prevPage=function(t){this.pagingDispatcher.prevPage(t)},n.prototype.goToPage=function(t,e,n){if(e<t)for(;e!==t;)this.nextPage(n),e+=1;else for(;e!==t;)this.prevPage(n),e-=1},n.prototype.changePagerTop=function(t,e){this.pagingDispatcher.setPaging(e,{pagerTop:t})},n.prototype.changePagerBottom=function(t,e){this.pagingDispatcher.setPaging(e,{pagerBottom:t})},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Ae}]},n}(Gt);var Le=function(t){function n(e,n){var r=t.call(this,e)||this;return r.eventBus=e,r.pagingWarehouse=n,r}return l(n,t),n.prototype.onPageChange=function(t){var e=this;return this.eventBus.ofEvent(Fe,Re,me).pipe(r.hermesFilter((function(e){return e.getAggregateId().toString()===t.toAggregateId().toString()})),r.hermesSwitchMap((function(n){return e.pagingWarehouse.oncePaging(t.toAggregateId()).pipe(r.hermesMap((function(t){return t.getPage()})))})))},n.prototype.onPageSizeChange=function(t){var e=this;return this.eventBus.ofEvent(ve).pipe(r.hermesFilter((function(e){return e.getAggregateId().toString()===t.toAggregateId().toString()})),r.hermesSwitchMap((function(n){return e.pagingWarehouse.oncePaging(t.toAggregateId()).pipe(r.hermesMap((function(t){return t.getPageSize()})))})))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus},{type:Zt}]},n}(ge);var Ue=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,He],providers:[{provide:Gt,useClass:ze},{provide:Zt,useClass:Ge},{provide:ge,useClass:Le},je,Be],declarations:[],exports:[]}]}],r}(r.ApiModule),We=function(t){function n(n){var r=t.call(this,n)||this;return r.nextPageChanged=new e.EventEmitter,r.prevPageChanged=new e.EventEmitter,r.prevDisabled=!1,r.nextDisabled=!1,r}return l(n,t),n.prototype.ngOnChanges=function(){this.calculatePrev(),this.calculateNext()},n.prototype.prevPage=function(){this.prevPageChanged.emit()},n.prototype.nextPage=function(){this.nextPageChanged.emit()},n.prototype.calculatePrev=function(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())},n.prototype.calculateNext=function(){(this.paging||this.sourceSize)&&(this.nextDisabled=this.paging.isNextPageDisabled())},n.prototype.getSelectorName=function(){return"gui-paging-navigator"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-paging-navigator][paging]",template:'<gui-button-group>\n\t<button (click)="prevPage()"\n\t\t\t[disabled]="prevDisabled"\n\t\t\tclass="gui-paging-navigator-prev gui-mr-5"\n\t\t\tgui-button>\n\t\t{{ \'pagingPrevPage\' | guiTranslate }}\n\t</button>\n\n\t<button (click)="nextPage()"\n\t\t\t[disabled]="nextDisabled"\n\t\t\tclass="gui-paging-navigator-next gui-mr-0"\n\t\t\tgui-button>\n\t\t{{ \'pagingNextPage\' | guiTranslate }}\n\t</button>\n</gui-button-group>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={paging:[{type:e.Input}],sourceSize:[{type:e.Input}],nextPageChanged:[{type:e.Output}],prevPageChanged:[{type:e.Output}]},n}(se);var qe=function(t){function n(e){var n=t.call(this,e)||this;return n.addClassToHost("gui-mx-6"),n}return l(n,t),n.prototype.ngOnChanges=function(){this.calculate()},n.prototype.calculate=function(){this.paging&&(this.firstItemIndex=this.paging.getStart(),this.lastItemIndex=this.paging.getEnd(),this.sourceSize=this.paging.getSourceSize())},n.prototype.isSourceNotEmpty=function(){return this.sourceSize>0},n.prototype.getSelectorName=function(){return"gui-paging-stats"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-paging-stats][paging]",template:'<ng-container *ngIf="isSourceNotEmpty(); else noSource;">\n\t<span class="gui-paging-source-stats">\n\t\t<span>{{firstItemIndex}}</span>\n\t\t-\n\t\t<span>{{lastItemIndex}}</span>\n\t</span>\n\t<span>\n\t\t{{ \'pagingOf\' | guiTranslate }}\n\t</span>\n\t<span class="gui-paging-source-size">\n\t\t{{sourceSize}}\n\t</span>\n</ng-container>\n\n<ng-template #noSource>\n\t<span class="gui-paging-source-stats gui-paging-no-items">\n\t\t{{\'pagingNoItems\' | guiTranslate}}\n\t</span>\n</ng-template>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={paging:[{type:e.Input}]},n}(se);var Ke=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[],declarations:[],exports:[]}]}],r}(r.ApiModule),Xe=function(){};var Qe=function(){function t(t,e){this.changeDetectorRef=t,this.translationService=e,this.actualTranslationValue=""}return t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.transform=function(t){var e=this;return this.subscription&&this.subscription.unsubscribe(),this.subscription=this.translationService.onTranslation().subscribe((function(n){var r=n[t];r||(e.actualTranslationValue=t),e.actualTranslationValue=r,e.changeDetectorRef.markForCheck()})),this.actualTranslationValue},t.decorators=[{type:e.Pipe,args:[{name:"guiTranslate",pure:!1}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:Xe}]},t}();var Ye=function(){function t(){this.translation=new Map,this.resolver=function(t,e){return e}}return t.prototype.changeTranslation=function(t){var e,n;try{for(var r=d(Object.keys(t)),i=r.next();!i.done;i=r.next()){var o=i.value;this.translation.set(o,t[o])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.getTranslation=function(){var t=this;return Array.from(this.translation).reduce((function(e,n){var r,i=m(n,2),o=i[0],a=i[1];return Object.assign(e,((r={})[o]=t.resolver(o,a),r))}),{})},t.prototype.setResolver=function(t){this.resolver=t},t}();var Je=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultTranslation=y,e.dictionary=new Ye,e.dictionary$=new r.HermesReplaySubject(1),e}return l(n,t),n.prototype.getTranslation=function(){return this.dictionary.getTranslation()},n.prototype.onTranslation=function(){return this.dictionary$.toObservable()},n.prototype.setDefaultTranslation=function(){this.changeTranslationAndPropagate(this.defaultTranslation)},n.prototype.changeTranslation=function(t){this.changeTranslationAndPropagate(t)},n.prototype.setResolver=function(t){this.setResolverAndPropagate(t)},n.prototype.changeTranslationAndPropagate=function(t){this.dictionary.changeTranslation(t),this.dictionary$.next(this.dictionary.getTranslation())},n.prototype.setResolverAndPropagate=function(t){this.dictionary.setResolver(t),this.dictionary$.next(this.dictionary.getTranslation())},n.decorators=[{type:e.Injectable}],n}(Xe);var Ze=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("TranslationApiModule is required.");return n}return l(r,t),r.forComponent=function(){return[{provide:Xe,useClass:Je}]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Ke],declarations:[Qe],exports:[Qe],entryComponents:[]}]}],r.ctorParameters=function(){return[{type:Ke,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),_e=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("PagingApiModule is required.");return n}return l(r,t),r.forComponent=function(){return[_t]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,o.FabricModule,Ue,Ze],declarations:[ae,We,ce,qe,le,pe],exports:[ae,We,ce,qe,le,pe]}]}],r.ctorParameters=function(){return[{type:Ue,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),$e=function(){function t(){}return t.prototype.transform=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},t.decorators=[{type:e.Pipe,args:[{name:"numberFormatter"}]}],t}(),tn=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[$e],exports:[$e]}]}],t}(),en=function(t){function e(e,n){var r=t.call(this,e)||this;return r.changeDetectorRef=n,r}return l(e,t),e.prototype.ngOnInit=function(){this.changeDetectorRef.detach()},e}(Yt);var nn=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.prototype.getSelectorName=function(){return"gui-info-dialog"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-info-dialog]",template:'<div class="gui-structure-info-modal gui-flex gui-flex-col gui-p-0 gui-text-lg gui-w-full">\n\n\t<p class="gui-dialog-title gui-text-3xl gui-mb-8 gui-font-bold">\n\t\tGeneric UI Grid\n\t</p>\n\n\n\t<p class="gui-text-xl gui-mb-18 gui-font-bold">\n\t\tver. 0.15.0\n\t</p>\n\n\t<p class="gui-quote gui-text-2xl gui-italic gui-font-light">\n\t\t"The best way to success is to help others succeed."\n\t</p>\n\n\t<br/>\n\n\t<section class="gui-m-0 gui-px-0 gui-pt-10 gui-pb-6">\n\t\t<p class="gui-font-bold">Links:</p>\n\t\t<ul class="gui-m-0 gui-pl-9 gui-list-none">\n\n\t\t\t<li>\n\t\t\t\t<a class="gui-mb-6 gui-no-underline gui-leading-6" href="https://generic-ui.com/">Website</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a class="gui-mb-6 gui-no-underline gui-leading-6" href="https://generic-ui.com/guide/">Documentation</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a class="gui-mb-6 gui-no-underline gui-leading-6" href="https://github.com/generic-ui/generic-ui/tree/master/ngx-grid">Github</a>\n\t\t\t</li>\n\t\t</ul>\n\n\t\t<br/>\n\n\t\t<p class="gui-font-bold">Feedback:</p>\n\t\t<ul class="gui-m-0 gui-pl-9 gui-list-none">\n\n\t\t\t<li>\n\t\t\t\t<a class="gui-mb-6 gui-no-underline gui-leading-6" href="https://github.com/generic-ui/generic-ui/issues">Report a bug</a>\n\t\t\t</li>\n\t\t\t<li>\n\t\t\t\t<a class="gui-mb-6 gui-no-underline gui-leading-6" href="https://github.com/generic-ui/generic-ui/issues">Suggest an idea</a>\n\t\t\t</li>\n\n\t\t</ul>\n\t</section>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef}]},n}(en),rn=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toAggregateId=function(){return new on(this.toString())},e}(r.ReadModelRootId),on=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toReadModelRootId=function(){return new rn(this.getId())},e}(r.AggregateId),an=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.prototype.getSelectorName=function(){return"gui-structure-dialog-column-manager"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-dialog-column-manager]",template:"<div class=\"gui-dialog-title\">{{'columnManagerModalTitle' | guiTranslate}}</div>\n\n<div gui-structure-column-manager>\n</div>\n",changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef}]},n}(Jt),un=function(){function t(){}return t.prototype.convertTheme=function(t){switch(t){case W.FABRIC:return o.Theme.FABRIC;case W.MATERIAL:return o.Theme.MATERIAL;case W.GENERIC:return o.Theme.GENERIC;case W.LIGHT:return o.Theme.LIGHT;case W.DARK:return o.Theme.DARK;default:return o.Theme.FABRIC}},t.decorators=[{type:e.Injectable}],t}(),sn=function(){function t(){}return t.decorators=[{type:e.Injectable}],t}();var cn=function(t){function n(e,n,r,i){var o=t.call(this)||this;return o.injector=e,o.schemaWarehouse=n,o.structureThemeConverter=r,o.fabricDialogService=i,o}return l(n,t),n.prototype.open=function(t,n,r){var i=this;r||(r=this.injector);var o=e.Injector.create({parent:r,providers:[{provide:on,useValue:t}]});this.schemaWarehouse.onceTheme(n).pipe(this.hermesTakeUntil()).subscribe((function(t){i.fabricDialogService.open(an,{injector:o,theme:i.structureThemeConverter.convertTheme(t)})}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:sn},{type:un},{type:o.FabricDialogService}]},n}(r.Reactive);var ln=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toReadModelRootId=function(){return new pn(this.getId())},e}(r.AggregateId),pn=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toAggregateId=function(){return new ln(this.getId())},e}(r.ReadModelRootId),gn=function(){function t(t,e,n,r,i){this.enabled=!1,this.infoDialog=!0,this.columnsManager=!0,this.schemaManager=!0,this.sourceSize=!0,this.isNotUndefinedOrNull(t)&&(this.enabled=t),this.isNotUndefinedOrNull(e)&&(this.infoDialog=e),this.isNotUndefinedOrNull(n)&&(this.columnsManager=n),this.isNotUndefinedOrNull(i)&&(this.sourceSize=i),this.isNotUndefinedOrNull(r)&&(this.schemaManager=r)}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.isInfoDialogEnabled=function(){return this.infoDialog},t.prototype.isColumnsManagerEnabled=function(){return this.columnsManager},t.prototype.isSourceSizeEnabled=function(){return this.sourceSize},t.prototype.isSchemaManagerEnabled=function(){return this.schemaManager},t.prototype.isNotUndefinedOrNull=function(t){return null!=t},t}();var hn=function(t){function n(){return t.call(this,new gn)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),dn=function(t){function n(e){var n=t.call(this,e)||this;return n.addClassToHost("gui-pr-10"),n}return l(n,t),n.prototype.getSelectorName=function(){return"gui-schema-manager-dialog"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-schema-manager-dialog]",template:"\n\t\t<div gui-structure-schema-manager></div>\n\t",changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n}(se),mn=function(t){function n(e,n){var r=t.call(this)||this;return r.injector=e,r.fabricDialogService=n,r}return l(n,t),n.prototype.open=function(t,n){n||(n=this.injector);var r=e.Injector.create({providers:[{provide:pn,useValue:t}],parent:n});this.fabricDialogService.open(dn,{injector:r})},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:o.FabricDialogService}]},n}(r.Reactive);var fn=function(t){function n(e,n,r,i,o,a,u,s,c,l,p,g){var h=t.call(this,e,n)||this;return h.changeDetectorRef=e,h.injector=r,h.sourceWarehouse=i,h.dialog=o,h.compositionId=a,h.structureId=u,h.schemaReadModelRootId=s,h.menuColumnManagerService=c,h.translationService=l,h.schemaManagerService=p,h.structureInfoPanelArchive=g,h.infoModal=nn,h}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.structureInfoPanelArchive.on(),(function(e){t.infoPanelConfig=e})),this.hermesSubscribe(this.sourceWarehouse.onOriginSize(this.structureId),(function(e){t.totalItemsSize=e})),this.hermesSubscribe(this.sourceWarehouse.onPreparedEntities(this.structureId),(function(e){t.preparedItemsSize=e.length})),this.hermesSubscribe(this.translationService.onTranslation(),(function(e){t.themeManagerTooltipText=e.infoPanelThemeMangerTooltipText,t.columnManagerTooltipText=e.infoPanelColumnManagerTooltipText,t.infoTooltipText=e.infoPanelInfoTooltipText}))},n.prototype.openInfo=function(){this.dialog.open(this.infoModal)},n.prototype.openColumnManager=function(){this.menuColumnManagerService.open(this.compositionId,this.schemaReadModelRootId,this.injector)},n.prototype.openSchemaManager=function(){this.schemaManagerService.open(this.schemaReadModelRootId,this.injector)},n.prototype.getSelectorName=function(){return"gui-structure-info-panel"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-info-panel]",template:'<div>\n\t<div *ngIf="infoPanelConfig.isSourceSizeEnabled()">\n\n\t\t<ng-container *ngIf="preparedItemsSize !== undefined && totalItemsSize !== undefined">\n\n\t\t\t<ng-container *ngIf="preparedItemsSize === totalItemsSize">\n\t\t\t\t{{\'infoPanelShowing\' | guiTranslate}}\n\t\t\t\t<b>{{totalItemsSize | numberFormatter}}</b>\n\t\t\t\t{{\'infoPanelItems\' | guiTranslate}}\n\t\t\t</ng-container>\n\n\t\t\t<span *ngIf="preparedItemsSize !== totalItemsSize"\n\t\t\t\t  gui-active-filter-menu-trigger>\n\t\t\t\t\t\t{{\'infoPanelShowing\' | guiTranslate}}\n\t\t\t\t<b>{{preparedItemsSize | numberFormatter}}</b>\n\t\t\t\t{{\'infoPanelOutOf\' | guiTranslate}}\n\t\t\t\t<b>{{totalItemsSize | numberFormatter}}</b>\n\t\t\t\t{{\'infoPanelItems\' | guiTranslate}}\n\t\t\t</span>\n\n\t\t</ng-container>\n\n\t</div>\n</div>\n\n<div>\n\t<div class="gui-right-section">\n\n\t\t<div (click)="openSchemaManager()"\n\t\t\t *ngIf="infoPanelConfig.isSchemaManagerEnabled()">\n\t\t\t<div [gui-tooltip]="themeManagerTooltipText" gui-structure-schema-manager-icon></div>\n\t\t</div>\n\n\t\t<div (click)="openColumnManager()"\n\t\t\t *ngIf="infoPanelConfig.isColumnsManagerEnabled()">\n\t\t\t<div [gui-tooltip]="columnManagerTooltipText" gui-structure-column-manager-icon></div>\n\t\t</div>\n\n\t\t<div (click)="openInfo()"\n\t\t\t *ngIf="infoPanelConfig.isInfoDialogEnabled()">\n\t\t\t<div [gui-tooltip]="infoTooltipText" gui-structure-info-icon></div>\n\t\t</div>\n\t</div>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:e.Injector},{type:xt},{type:o.FabricDialogService},{type:on},{type:oe},{type:pn},{type:cn},{type:Xe},{type:mn},{type:hn}]},n}(Jt);var yn=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var vn=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var bn=function(t){function n(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.changeDetectorRef=e,a.compositionId=r,a.compositionCommandInvoker=i,a.compositionWarehouse=o,a.addClassToHost("gui-block"),a}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.compositionWarehouse.onAllColumns(this.compositionId),(function(e){t.columns=e,t.enabledColumnsCount=t.columns.map((function(t){return+t.isEnabled()})).reduce((function(t,e){return t+e}))}))},n.prototype.toggleColumn=function(t){event.stopPropagation(),t.isEnabled()?this.compositionCommandInvoker.disableColumn(t.getColumnDefinitionId(),this.compositionId):this.compositionCommandInvoker.enableColumn(t.getColumnDefinitionId(),this.compositionId)},n.prototype.getSelectorName=function(){return"gui-structure-column-manager"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-column-manager]",template:'\n\n\t\t<ol class="gui-p-0 gui-my-4 gui-mx-0 gui-list-none gui-overflow-auto">\n\t\t\t<li *ngFor="let column of columns"\n\t\t\t\t(click)="toggleColumn(column)"\n\t\t\t\tclass="gui-p-6 gui-cursor-pointer">\n\n\t\t\t\t<gui-checkbox [checked]="column.isEnabled()"\n\t\t\t\t\t\t\t  [disabled]="enabledColumnsCount === 1 && column.isEnabled()">\n\n\t\t\t\t\t<ng-container\n\t\t\t\t\t\t*ngTemplateOutlet="column.viewTemplate;\n\t\t\t\t\t\t\t\t\t\t\tcontext: column.context">\n\t\t\t\t\t</ng-container>\n\t\t\t\t</gui-checkbox>\n\n\t\t\t</li>\n\t\t</ol>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:on},{type:vn},{type:yn}]},n}(Jt);var Cn=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.prototype.getSelectorName=function(){return"gui-structure-menu-column-manager"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-menu-column-manager]",template:"<div gui-structure-column-manager></div>\n",changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n}(se),En=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.addClassToHost("gui-icon"),r}return l(e,t),e}(en),In=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.prototype.getSelectorName=function(){return"gui-structure-column-manager-icon"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-column-manager-icon]",template:'\n\t\t<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.32 10.31">\n\t\t\t<line class="cls-1" x1="9.57" y1="3.65" x2="0.75" y2="3.65"/>\n\t\t\t<line class="cls-2" x1="9.57" y1="0.75" x2="0.75" y2="0.75"/>\n\t\t\t<line class="cls-2" x1="0.75" y1="9.56" x2="0.75" y2="0.88"/>\n\t\t\t<line class="cls-1" x1="3.69" y1="9.65" x2="3.69" y2="3.89"/>\n\t\t\t<line class="cls-1" x1="6.63" y1="9.56" x2="6.63" y2="3.89"/>\n\t\t\t<line class="cls-2" x1="9.57" y1="9.56" x2="9.57" y2="0.88"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef}]},n}(En),wn=[bn,an,Cn,In],Sn=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Xt,Ze],declarations:wn,exports:wn,entryComponents:[bn,an,Cn],providers:[cn]}]}],t}(),Tn=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.prototype.getSelectorName=function(){return"gui-structure-info-icon"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-info-icon]",template:'<svg data-name="Layer 1" viewBox="0 0 10.08 10.08" xmlns="http://www.w3.org/2000/svg">\n\t<path class="cls-1"\n\t\t  d="M401.64,307.76c0-.28.23-.45.54-.45s.55.17.55.45v0a.49.49,0,0,1-.55.46.48.48,0,0,1-.54-.46Zm.05,1.27a.49.49,0,0,1,1,0v2.54a.49.49,0,0,1-1,0Z"\n\t\t  transform="translate(-397.14 -304.64)"/>\n\t<circle class="cls-2" cx="5.04" cy="5.04" r="4.54"/>\n</svg>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef}]},n}(En),An=function(){function t(){}return t.prototype.convert=function(t){var e,n,r,i;return void 0!==t.infoDialog&&(e=t.infoDialog),void 0!==t.columnsManager&&(n=t.columnsManager),void 0!==t.schemaManager&&(i=t.schemaManager),void 0!==t.sourceSize&&(r=t.sourceSize),new gn(t.enabled,e,n,i,r)},t.decorators=[{type:e.Injectable}],t}(),xn={NONE:0,EVEN:1,ODD:2};xn[xn.NONE]="NONE",xn[xn.EVEN]="EVEN",xn[xn.ODD]="ODD";var Mn=function(t){function n(e,n,r,i,o,a){var u=t.call(this,e,n)||this;return u.changeDetectorRef=e,u.structureId=r,u.schemaReadModelRootId=i,u.schemaCommandInvoker=o,u.schemaWarehouse=a,u.coloring=Object.keys(xn).map((function(t){return xn[t]})).filter((function(t){return!Number.isInteger(t)})).map((function(t){return{value:t,name:t}})),u.themes=Object.keys(W).map((function(t){return W[t]})).filter((function(t){return!Number.isInteger(t)})).map((function(t){return{value:t,name:t}})),u}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.schemaWarehouse.onRowColoring(this.schemaReadModelRootId),(function(e){t.selectedRowColoring={value:xn[e],name:xn[e]}})),this.hermesSubscribe(this.schemaWarehouse.onTheme(this.schemaReadModelRootId),(function(e){t.selectedTheme={value:W[e],name:W[e]}})),this.hermesSubscribe(this.schemaWarehouse.onVerticalGrid(this.schemaReadModelRootId),(function(e){t.verticalGrid=e})),this.hermesSubscribe(this.schemaWarehouse.onHorizontalGrid(this.schemaReadModelRootId),(function(e){t.horizontalGrid=e}))},n.prototype.toggleTheme=function(t){this.schemaCommandInvoker.setTheme(this.toTheme(t.value),this.schemaReadModelRootId,this.structureId)},n.prototype.toggleRowColoring=function(t){this.schemaCommandInvoker.setRowColoring(this.toRowColoring(t.value),this.schemaReadModelRootId)},n.prototype.toggleVerticalGrid=function(t){this.schemaCommandInvoker.setVerticalGrid(t,this.schemaReadModelRootId)},n.prototype.toggleHorizontalGrid=function(t){this.schemaCommandInvoker.setHorizontalGrid(t,this.schemaReadModelRootId)},n.prototype.toTheme=function(t){switch(t.toLowerCase()){case"fabric":return W.FABRIC;case"material":return W.MATERIAL;case"generic":return W.GENERIC;case"light":return W.LIGHT;case"dark":return W.DARK}},n.prototype.toRowColoring=function(t){switch(t.toLowerCase()){case"none":return K.NONE;case"odd":return K.ODD;case"even":return K.EVEN}},n.prototype.getSelectorName=function(){return"gui-structure-schema-manager"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-schema-manager]",template:'<div class="gui-schema-manager gui-flex gui-flex-col">\n\n\t<div class="gui-dialog-title">{{\'themeManagerModalTitle\' | guiTranslate}}</div>\n\n\t<div class="gui-structure-schema-manager-select gui-flex gui-flex-col gui-mb-10">\n\t\t<span class="gui-mb-4">{{\'themeManagerModalTheme\' | guiTranslate}}</span>\n\t\t<gui-select (optionChanged)="toggleTheme($event)"\n\t\t\t\t\t[options]="themes"\n\t\t\t\t\t[placeholder]="\'Select theme\'"\n\t\t\t\t\t[selected]="selectedTheme">\n\t\t</gui-select>\n\t</div>\n\n\t<div class="gui-structure-schema-manager-select gui-flex gui-flex-col">\n\n\t\t<span class="gui-mb-4">\n\t\t\t{{\'themeManagerModalRowColoring\' | guiTranslate}}\n\t\t</span>\n\n\t\t<gui-select (optionChanged)="toggleRowColoring($event)"\n\t\t\t\t\t[options]="coloring"\n\t\t\t\t\t[selected]="selectedRowColoring">\n\t\t</gui-select>\n\t</div>\n\n\t<gui-checkbox (changed)="toggleVerticalGrid($event)"\n\t\t\t\t  [checked]="verticalGrid"\n\t\t\t\t  class="gui-mt-14">\n\t\t{{\'themeManagerModalVerticalGrid\' | guiTranslate}}\n\t</gui-checkbox>\n\n\t<gui-checkbox (changed)="toggleHorizontalGrid($event)"\n\t\t\t\t  [checked]="horizontalGrid"\n\t\t\t\t  class="gui-mt-10">\n\t\t{{\'themeManagerModalHorizontalGrid\' | guiTranslate}}\n\t</gui-checkbox>\n\n</div>\n',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:pn},{type:Pt},{type:sn}]},n}(Jt);var Dn=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.prototype.getSelectorName=function(){return"gui-structure-schema-manager-icon"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-schema-manager-icon]",template:'<svg height="24" viewBox="0 0 32 24" width="32" xmlns="http://www.w3.org/2000/svg">\n\t<g transform="translate(0 -4)">\n\t\t<path d="M23.337,4H32v6H23.337Z" data-name="Path 303" id="Path_303"/>\n\t\t<path d="M11.662,4h8.662v6H11.662Z" data-name="Path 304" id="Path_304"/>\n\t\t<path d="M0,4H8.662v6H0Z" data-name="Path 305" id="Path_305"/>\n\t\t<path d="M23.337,22H32v6H23.337Z" data-name="Path 306" id="Path_306"/>\n\t\t<path d="M0,22H8.662v6H0Z" data-name="Path 307" id="Path_307"/>\n\t\t<path d="M11.662,22h8.662v6H11.662Z" data-name="Path 308" id="Path_308"/>\n\t\t<path d="M23.337,13H32v6H23.337Z" data-name="Path 309" id="Path_309"/>\n\t\t<path d="M11.662,13h8.662v6H11.662Z" data-name="Path 310" id="Path_310"/>\n\t\t<path d="M0,13H8.662v6H0Z" data-name="Path 311" id="Path_311"/>\n\t</g>\n</svg>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef}]},n}(En),Rn=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Xt,Ze],declarations:[Mn,dn,Dn],exports:[Dn],entryComponents:[dn,Mn],providers:[mn]}]}],t}(),Pn=function(){function t(){}return t.decorators=[{type:e.Component,args:[{template:'\n\n\t\t<h3>Active filters</h3>\n\n\t\t<div gui-active-filter-list></div>\n\n\t\t<div>\n\n\t\t\t<button gui-button\n\t\t\t\t\t[text]="true">\n\t\t\t\tCancel\n\t\t\t</button>\n\n\t\t\t<button gui-button\n\t\t\t\t\t[outline]="true"\n\t\t\t\t\t[primary]="true">\n\t\t\t\tClear All\n\t\t\t</button>\n\t\t</div>\n\t'}]}],t}(),Fn=function(t){function n(e,n,r,i){var o=t.call(this)||this;return o.injector=e,o.schemaReadModelRepository=n,o.structureThemeConverter=r,o.fabricDialogService=i,o}return l(n,t),n.prototype.open=function(t,n){var r=this,i=e.Injector.create({parent:this.injector,providers:[{provide:pn,useValue:t},{provide:oe,useValue:n}]});this.schemaReadModelRepository.onceTheme(t).pipe(this.hermesTakeUntil()).subscribe((function(t){r.fabricDialogService.open(Pn,{injector:i,theme:r.structureThemeConverter.convertTheme(t)})}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:sn},{type:un},{type:o.FabricDialogService}]},n}(r.Reactive);var Nn=function(){function t(t,e,n,r){this.el=t,this.structureId=e,this.activeFilterService=n,this.schemaReadModelRootId=r}return t.prototype.ngOnInit=function(){},t.decorators=[{type:e.Directive,args:[{selector:"[gui-active-filter-menu-trigger]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:oe},{type:Fn},{type:pn}]},t}();var On=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.prototype.getSelectorName=function(){return"gui-filter-icon"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-filter-icon]",template:'\n\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.32 7.23">\n\t\t\t<line class="cls-1" x1="9.57" y1="0.75" x2="0.75" y2="0.75"/>\n\t\t\t<line class="cls-1" x1="8.14" y1="3.62" x2="2.18" y2="3.62"/>\n\t\t\t<line class="cls-1" x1="6.71" y1="6.48" x2="3.62" y2="6.48"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef}]},n}(En),kn=function(t){function n(){return t.call(this,n.default)||this}return l(n,t),n.default=[],n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var Hn=function(){function t(t){this.fieldReadModelArchive=t}return t.prototype.onFields=function(t){return this.fieldReadModelArchive.on(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:kn}]},t}();var Bn=function(t){function n(){return t.call(this,n.default)||this}return l(n,t),n.default=!1,n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var Vn=function(t){function n(){return t.call(this,n.default)||this}return l(n,t),n.default=!1,n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var jn=function(){function t(t){this.map=t}return t.prototype.getFilterTypes=function(t){return this.map.get(t.toString())},t}();var Gn=function(t){function n(){return t.call(this,n.default)||this}return l(n,t),n.default=new jn(new Map),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var zn=function(t){function n(){return t.call(this,n.default)||this}return l(n,t),n.default=[],n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var Ln=function(){function t(t){this.map=new Map,this.allSelected=new Map,this.allDisabled=new Map,this.map=t,this.calculateSelection()}return t.prototype.getValues=function(t){return this.map.get(t.toString())},t.prototype.areAllSelected=function(t){return this.allSelected.get(t.toString())},t.prototype.areAllDisabled=function(t){return this.allDisabled.get(t.toString())},t.prototype.isSelectAllChecked=function(t){return this.areAllSelected(t)},t.prototype.isIndeterminate=function(t){return!(this.areAllSelected(t)||this.areAllDisabled(t))},t.prototype.calculateSelection=function(){var t,e;try{for(var n=d(Array.from(this.map.keys())),r=n.next();!r.done;r=n.next()){var i=r.value,o=this.map.get(i);this.allSelected.set(i,!o.some((function(t){return!t.isEnabled()}))),this.allDisabled.set(i,!o.some((function(t){return t.isEnabled()})))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t}();var Un=function(t){function n(){return t.call(this,n.default)||this}return l(n,t),n.default=new Ln(new Map),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var Wn=function(){function t(t,e,n,r,i){this.filterEnabledArchive=t,this.structureQuickFilterRepository=e,this.filterTypeArchive=n,this.uniqueValuesArchive=r,this.activeFilterArchive=i}return t.prototype.onFilteringEnabled=function(t){return this.filterEnabledArchive.on(t)},t.prototype.onQuickFiltersEnabled=function(t){return this.structureQuickFilterRepository.on(t)},t.prototype.onFilterTypes=function(t){return this.filterTypeArchive.on(t)},t.prototype.onActiveFilters=function(t){return this.activeFilterArchive.on(t)},t.prototype.onUniqueValues=function(t){return this.uniqueValuesArchive.on(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Bn},{type:Vn},{type:Gn},{type:Un},{type:zn}]},t}();var qn=function(t){function e(e,n){var r=t.call(this,e,"SetConfigFilterCommand")||this;return r.filterConfig=n,r}return l(e,t),e.prototype.getConfig=function(){return this.filterConfig},e}(ft);var Kn=function(t){function e(e){return t.call(this,e,"RemoveAllFiltersCommand")||this}return l(e,t),e}(ft),Xn=function(t){function e(e,n,r,i){var o=t.call(this,e,"AddFilterCommand")||this;return o.fieldId=n,o.filterTypeId=r,o.value=i,o}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getFilterTypeId=function(){return this.filterTypeId},e.prototype.getValue=function(){return this.value},e}(ft);var Qn=function(t){function e(e,n){var r=t.call(this,e,"RemoveFilterCommand")||this;return r.filterId=n,r}return l(e,t),e.prototype.getFilterId=function(){return this.filterId},e}(ft);var Yn=function(t){function e(e,n){var r=t.call(this,e,"SelectAllUniqueFilterCommand")||this;return r.fieldId=n,r}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e}(ft);var Jn=function(t){function e(e,n){var r=t.call(this,e,"UnselectAllUniqueFilterCommand")||this;return r.fieldId=n,r}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e}(ft);var Zn=function(t){function e(e,n,r){var i=t.call(this,e,"SelectUniqueFilterCommand")||this;return i.fieldId=n,i.uniqueValueId=r,i}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getUniqueValueId=function(){return this.uniqueValueId},e}(ft);var _n=function(t){function e(e,n,r){var i=t.call(this,e,"UnselectUniqueFilterCommand")||this;return i.fieldId=n,i.uniqueValueId=r,i}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getUniqueValueId=function(){return this.uniqueValueId},e}(ft);var $n=function(){function t(t){this.commandDispatcher=t}return t.prototype.setFilteringEnabled=function(t,e){this.commandDispatcher.dispatch(new qn(e,t))},t.prototype.add=function(t,e,n,r){this.commandDispatcher.dispatch(new Xn(r,t,e,n))},t.prototype.removeAllFilters=function(t){this.commandDispatcher.dispatch(new Kn(t))},t.prototype.removeFilter=function(t,e){this.commandDispatcher.dispatch(new Qn(e,t))},t.prototype.selectAllUniqueFilter=function(t,e){this.commandDispatcher.dispatch(new Yn(e,t))},t.prototype.unselectAllUniqueFilter=function(t,e){this.commandDispatcher.dispatch(new Jn(e,t))},t.prototype.selectUniqueFilter=function(t,e,n){this.commandDispatcher.dispatch(new Zn(n,t,e))},t.prototype.unselectUniqueFilter=function(t,e,n){this.commandDispatcher.dispatch(new _n(n,t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var tr=function(t){function n(e,n,r,i,o,a,u,s){var c=t.call(this,e,n)||this;return c.changeDetectorRef=e,c.structureId=r,c.compositionId=i,c.fieldWarehouse=o,c.filterWarehouse=a,c.filterCommandDispatcher=u,c.compositionWarehouse=s,c.columns=[],c.fields=[],c.activeFilters=[],c.addClassToHost("gui-block"),c}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.filterWarehouse.onActiveFilters(this.structureId),(function(e){t.activeFilters=e})),this.hermesSubscribe(this.filterWarehouse.onFilterTypes(this.structureId),(function(e){t.filterTypeMap=e})),this.hermesSubscribe(this.fieldWarehouse.onFields(this.structureId),(function(e){t.fields=e})),this.hermesSubscribe(this.compositionWarehouse.onHeaderColumns(this.compositionId),(function(e){t.columns=e}))},n.prototype.onColumnSelect=function(t){this.selectedColumn=t,this.filterTypes=this.filterTypeMap.getFilterTypes(this.selectedColumn.getFieldId()),this.changeDetectorRef.detectChanges()},n.prototype.onFieldSelect=function(t){this.selectedField=t,this.filterTypes=this.filterTypeMap.getFilterTypes(this.selectedField.getFieldId()),this.changeDetectorRef.detectChanges()},n.prototype.onFilterTypeSelect=function(t){this.selectedFilterTypeId=t,this.changeDetectorRef.detectChanges()},n.prototype.removeAllFilters=function(){this.filterCommandDispatcher.removeAllFilters(this.structureId)},n.prototype.addFilter=function(){var t=this.selectedField.getFieldId(),e=this.selectedFilterTypeId,n=this.selectedValue;this.filterCommandDispatcher.add(t,e,n,this.structureId),this.clearAddFilterForm()},n.prototype.onValueChanged=function(t){this.selectedValue=t},n.prototype.clearAddFilterForm=function(){this.selectedColumn=null,this.selectedField=null,this.selectedFilterTypeId=null,this.selectedValue=null,this.changeDetectorRef.detectChanges()},n.prototype.getSelectorName=function(){return"gui-filter-menu"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-filter-menu]",template:'<div>\n\t<div gui-active-filter-list></div>\n</div>\n\n\x3c!--\t\t<div>--\x3e\x3c!--\t\t\t<div gui-column-selector--\x3e\x3c!--\t\t\t\t\t[columns]="columns"--\x3e\x3c!--\t\t\t\t\t(columnSelected)\n="onColumnSelect($event)">--\x3e\x3c!--\t\t\t</div>--\x3e\n\n\x3c!--\t\t\t<ng-container *ngIf="selectedColumn">--\x3e\x3c!--\t\t\t\t{{selectedColumn.getFieldId()}}--\x3e\x3c!--\t\t\t</ng-container>--\x3e\x3c!--\t\t</div>--\x3e\n\n<div>\n\t<div (fieldSelected)="onFieldSelect($event)"\n\t\t [fields]="fields" gui-field-selector></div>\n\n\t<ng-container *ngIf="selectedColumn">\n\t\t{{selectedColumn.getFieldId()}}\n\t</ng-container>\n</div>\n\n<div>\n\t<div (filterTypeSelected)="onFilterTypeSelect($event)"\n\t\t [filterTypes]="filterTypes" gui-filter-type-selector></div>\n\n\t<ng-container *ngIf="selectedFilterTypeId">\n\t\t{{selectedFilterTypeId.toString()}}\n\t</ng-container>\n</div>\n\n<div>\n\n\t<div (valueChanged)="onValueChanged($event)" *ngIf="selectedFilterTypeId" gui-filter-value></div>\n\n</div>\n\n<div>\n\t<button (click)="addFilter()"\n\t\t\t[disabled]="!selectedFilterTypeId"\n\t\t\t[primary]="true" gui-button>\n\t\tFilter\n\t</button>\n</div>\n\n<div>\n\t<button (click)="removeAllFilters()"\n\t\t\t[secondary]="true" gui-button>\n\t\tClear filters\n\t</button>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:on},{type:Hn},{type:Wn},{type:$n},{type:yn}]},n}(Jt);var er=new e.InjectionToken("Filter container token"),nr=function(t){function n(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.injector=r,a.drawerService=i,a.filterContainerRef=o,a}return l(n,t),n.prototype.openDrawer=function(){var t=this.filterContainerRef.getElementRef();this.drawerService.open(t,tr,{injector:this.injector})},n.prototype.getSelectorName=function(){return"gui-filter-menu-trigger"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-filter-menu-trigger]",template:'<div (click)="openDrawer()"\n\t [gui-tooltip]="\'Filters\'" class="gui-filter-icon-wrapper">\n\t<div gui-filter-icon></div>\n</div>\n',encapsulation:e.ViewEncapsulation.None,changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[".gui-filter-icon-wrapper{margin-right:24px}.gui-filter-menu{width:400px}.gui-filter-icon svg{height:16px;width:16px}.gui-filter-icon svg .cls-1{fill:none;stroke:#aaa;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px;transition:stroke .3s ease-in-out}.gui-filter-icon:hover .cls-1{stroke:#464646}"]}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:e.Injector},{type:o.FabricDrawerService},{type:void 0,decorators:[{type:e.Inject,args:[er]}]}]},n}(Jt);var rr=function(t){function n(n){var r=t.call(this,n)||this;return r.columnSelected=new e.EventEmitter,r}return l(n,t),n.prototype.onSelectChange=function(t){this.columnSelected.emit(t)},n.prototype.getSelectorName=function(){return"gui-column-selector"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-column-selector][columns]",template:'\n\n\t\tColumn:\n\n\t\t<gui-dropdown>\n\t\t\t<gui-dropdown-item *ngFor="let column of columns"\n\t\t\t\t\t\t\t   (click)="onSelectChange(column)">\n\t\t\t\t<ng-container\n\t\t\t\t\t\t*ngTemplateOutlet="column.viewTemplate;\n\t\t\t\t\t\t   context: column.context">\n\t\t\t\t</ng-container>\n\t\t\t</gui-dropdown-item>\n\t\t</gui-dropdown>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={columns:[{type:e.Input}],columnSelected:[{type:e.Output}]},n}(se);var ir=function(t){function n(n){var r=t.call(this,n)||this;return r.filterTypeSelected=new e.EventEmitter,r}return l(n,t),n.prototype.onSelectChange=function(t){this.filterTypeSelected.emit(t.getId())},n.prototype.getSelectorName=function(){return"gui-filter-type-selector"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-filter-type-selector][filterTypes]",template:'<ng-container>\n\tFilter Type:\n</ng-container>\n\n<gui-dropdown>\n\t<gui-dropdown-item (click)="onSelectChange(filterType)"\n\t\t\t\t\t   *ngFor="let filterType of filterTypes">\n\t\t{{filterType.getName()}}\n\t</gui-dropdown-item>\n</gui-dropdown>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={filterTypes:[{type:e.Input}],filterTypeSelected:[{type:e.Output}]},n}(se);var or=function(t){function n(r,i,o){var a=t.call(this,r,i)||this;a.formBuilder=o,a.valueChanged=new e.EventEmitter;var u={};return u[n.FORM_FILTER_VALUE]="",a.filterForm=a.formBuilder.group(u),a}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.filterForm.controls[n.FORM_FILTER_VALUE].valueChanges.subscribe((function(e){t.valueChanged.emit(e)}))},n.prototype.getSelectorName=function(){return"gui-filter-value"},n.FORM_FILTER_VALUE="filterValue",n.decorators=[{type:e.Component,args:[{selector:"div[gui-filter-value]",template:'<form #formRef\n\t  [formGroup]="filterForm">\n\n\t<input formControlName="filterValue"/>\n</form>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:i.FormBuilder}]},n.propDecorators={formRef:[{type:e.ViewChild,args:["formRef",{static:!1}]}],valueChanged:[{type:e.Output}]},n}(Jt);var ar=function(t){function n(n){var r=t.call(this,n)||this;return r.fieldSelected=new e.EventEmitter,r}return l(n,t),n.prototype.onSelectChange=function(t){this.fieldSelected.emit(t)},n.prototype.getSelectorName=function(){return"gui-field-selector"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-field-selector][fields]",template:'\n\n\t\tField:\n\n\t\t<gui-dropdown>\n\t\t\t<gui-dropdown-item *ngFor="let field of fields"\n\t\t\t\t\t\t\t   (click)="onSelectChange(field)">\n\t\t\t\t{{field.getName()}}\n\t\t\t</gui-dropdown-item>\n\t\t</gui-dropdown>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={fields:[{type:e.Input}],fieldSelected:[{type:e.Output}]},n}(se);var ur=function(t){function e(e,n,r,i){var o=t.call(this,e,"ToggleFilterCommand")||this;return o.fieldId=n,o.externalFilterId=r,o.filterValue=i,o}return l(e,t),e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getExternalFilterId=function(){return this.externalFilterId},e.prototype.getFilterValue=function(){return this.filterValue},e}(ft);var sr=function(t){function e(e){return t.call(this,e,null,"FilterToggledEvent")||this}return l(e,t),e}(de),cr=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return ur},t.prototype.handle=function(t,e){var n=e.getFieldId(),r=e.getExternalFilterId(),i=e.getFilterValue();t.toggleFilter(n,r,i)},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new sr(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xe},{type:r.DomainEventPublisher}]},t}();var lr=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Xn},t.prototype.handle=function(t,e){var n=e.getFieldId(),r=e.getFilterTypeId(),i=e.getValue();t.addFilter(n,r,i)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var pr=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Kn},t.prototype.handle=function(t,e){t.removeAllFilters()},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var gr=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Qn},t.prototype.handle=function(t,e){var n=e.getFilterId();t.removeFilter(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var hr=function(t){function e(e,n){var r=t.call(this,e,n,"ConfigFilterSetEvent")||this;return r.enabled=n,r}return l(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(de);var dr=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return qn},t.prototype.handle=function(t,e){var n=e.getConfig();t.setFilterConfig(n)},t.prototype.publish=function(t,e){var n=e.getConfig();this.domainEventPublisher.publish(new hr(e.getAggregateId(),n.enabled))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var mr=function(t){function e(e,n){var r=t.call(this,e,"SetConfigQuickFilterCommand")||this;return r.quickFiltersConfig=n,r}return l(e,t),e.prototype.getConfig=function(){return this.quickFiltersConfig},e}(ft);var fr=function(t){function e(e,n){var r=t.call(this,e,n,"ConfigQuickFilterSetEvent")||this;return r.enabled=n,r}return l(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(de);var yr=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return mr},t.prototype.handle=function(t,e){var n=e.getConfig();t.setQuickFiltersConfig(n)},t.prototype.publish=function(t,e){var n=e.getAggregateId(),r=e.getConfig();this.domainEventPublisher.publish(new fr(n,r.enabled))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xe},{type:r.DomainEventPublisher}]},t}();var vr=function(){function t(t,e,n,r){this.filterId=t,this.fieldId=e,this.filterTypeId=n,this.filterValue=r}return t.prototype.getFilterId=function(){return this.filterId},t.prototype.getFilterTypeId=function(){return this.filterTypeId},t.prototype.getFieldId=function(){return this.fieldId},t.prototype.getFilterValue=function(){return this.filterValue},t}();var br=function(){function t(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=!1),this.filteringEnabled=!1,this.searchEnabled=!1,this.quickFiltersEnabled=!1,this.filteringEnabled=t,this.searchEnabled=e,this.quickFiltersEnabled=n}return t.prototype.isFilteringEnabled=function(){return this.filteringEnabled},t.prototype.isQuickFilteringEnabled=function(){return this.quickFiltersEnabled},t.prototype.isSearchingEnabled=function(){return this.searchEnabled},t.prototype.setFilterConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.filteringEnabled=t.enabled)},t.prototype.setSearchingConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.searchEnabled=t.enabled)},t.prototype.setQuickFiltersConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.quickFiltersEnabled=t.enabled)},t}();var Cr=function(){function t(t){this.filterTypeId=t}return t.prototype.getId=function(){return this.filterTypeId},t.prototype.filterMany=function(t,e,n){var r=this;return 0===t.length?t:t.filter((function(t){return r.filterEntity(t,e,n)}))},t.prototype.filterOne=function(t,e,n){return this.filterEntity(t,e,n)},t}();var Er=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.getName=function(){return"Contains"},e.prototype.filterEntity=function(t,e,n){return!!e.getValue(t).includes(n)},e}(Cr),Ir=function(){function t(t){this.id=t}return t.prototype.toString=function(){return this.id},t}();var wr=function(){function t(){}return t.prototype.generate=function(){return t.index+=1,new Ir(""+t.index)},t.index=0,t}();var Sr=function(){function t(t,e){this.filterTypeId=t,this.name=e}return t.prototype.getId=function(){return this.filterTypeId},t.prototype.getName=function(){return this.name},t}();var Tr=function(){function t(t){this.fieldIds=[],this.map=new WeakMap,this.filterTypeMap=new WeakMap,this.dataTypeToFilterType=new Map,this.filterTypeIdGenerator=new wr,this.assignFilterTypes(),this.addFields(t)}return t.prototype.getFilterType=function(t){return this.filterTypeMap.get(t)},t.prototype.getFieldIdsToFilterTypes=function(){var t,e,n=new Map;try{for(var r=d(this.fieldIds),i=r.next();!i.done;i=r.next()){var o=i.value,a=this.map.get(o).map((function(t){return new Sr(t.getId(),t.getName())}));n.set(o.toString(),a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.addFields=function(t){var e,n;try{for(var r=d(t),i=r.next();!i.done;i=r.next()){var o=i.value;this.addField(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.addField=function(t){var e=t.getId(),n=t.getDataType(),r=this.dataTypeToFilterType.get(n);this.fieldIds.push(e),this.map.set(e,f(r))},t.prototype.assignFilterTypes=function(){this.assignFilterTypesForDataTypeUnknown(),this.assignFilterTypesForDataTypeNumber(),this.assignFilterTypesForDataTypeString(),this.assignFilterTypesForDataTypeBoolean(),this.assignFilterTypesForDataTypeDate(),this.assignFilterTypesForDataTypeCustom()},t.prototype.assignFilterTypesForDataTypeUnknown=function(){this.dataTypeToFilterType.set(N.UNKNOWN,[])},t.prototype.assignFilterTypesForDataTypeNumber=function(){this.dataTypeToFilterType.set(N.NUMBER,[])},t.prototype.assignFilterTypesForDataTypeString=function(){var t=[new Er(this.generateId())];this.dataTypeToFilterType.set(N.STRING,t),this.addFilterTypes(t)},t.prototype.assignFilterTypesForDataTypeBoolean=function(){this.dataTypeToFilterType.set(N.BOOLEAN,[])},t.prototype.assignFilterTypesForDataTypeDate=function(){this.dataTypeToFilterType.set(N.DATE,[])},t.prototype.assignFilterTypesForDataTypeCustom=function(){this.dataTypeToFilterType.set(N.CUSTOM,[])},t.prototype.generateId=function(){return this.filterTypeIdGenerator.generate()},t.prototype.addFilterTypes=function(t){var e,n;try{for(var r=d(t),i=r.next();!i.done;i=r.next()){var o=i.value;this.filterTypeMap.set(o.getId(),o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t}();var Ar=function(){function t(t){this.id=t}return t.prototype.toString=function(){return this.id},t}();var xr=function(){function t(){}return t.generateId=function(){return new Ar(""+t.index)},t.index=0,t}();var Mr=function(){function t(t,e,n,r){this.filterId=t,this.fieldName=e,this.filterTypeName=n,this.value=r}return t.prototype.getText=function(){return this.fieldName+": "+this.filterTypeName+": "+this.value},t.prototype.getFilterId=function(){return this.filterId},t}();var Dr=function(){function t(){this.filterSettings=new br,this.filters=new Map,this.activeFilters=[]}return t.prototype.getSettings=function(){return this.filterSettings},t.prototype.getAll=function(){return Array.from(this.filters).map((function(t){return t[1]}))},t.prototype.getAllActiveFilters=function(t){var e=this;return this.activeFilters.map((function(n){return new Mr(n.getFilterId(),t.get(n.getFieldId().toString()).getName(),e.filterTypeManager.getFilterType(n.getFilterTypeId()).getName(),n.getFilterValue())}))},t.prototype.getFilterTypes=function(){return this.filterTypeManager.getFieldIdsToFilterTypes()},t.prototype.assignFilterTypes=function(t){this.filterTypeManager=new Tr(t)},t.prototype.add=function(t,e,n){var r=new vr(xr.generateId(),t,e,n);this.activeFilters.push(r)},t.prototype.filter=function(t,e){var n,r,i=f(t);try{for(var o=d(this.activeFilters),a=o.next();!a.done;a=o.next()){var u=a.value,s=u.getFilterTypeId(),c=this.getFilterType(s),l=u.getFilterValue();i=c.filterMany(i,e.get(u.getFieldId().toString()),l)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.prototype.removeAll=function(){this.activeFilters.length=0},t.prototype.remove=function(t){this.activeFilters=this.activeFilters.filter((function(e){return e.getFilterId()!==t}))},t.prototype.getFilterType=function(t){return this.filterTypeManager.getFilterType(t)},t}();var Rr=function(){function t(){}return t.prototype.create=function(t){return void 0===t&&(t=!1),new Dr},t.decorators=[{type:e.Injectable}],t}(),Pr=function(){function t(t){this.structureQuickFilterRepository=t}return t.prototype.forEvent=function(){return fr},t.prototype.handle=function(t){t.ofMessageType("ConfigQuickFilterSetEvent")&&this.structureQuickFilterRepository.next(t.getAggregateId(),t.getEnabled())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Vn}]},t}();var Fr=function(){function t(t){this.structureFilterRepository=t}return t.prototype.forEvent=function(){return hr},t.prototype.handle=function(t){t.ofMessageType("ConfigFilterSetEvent")&&this.structureFilterRepository.next(t.getAggregateId(),t.getEnabled())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Bn}]},t}();var Nr=function(t){function e(e,n){var r=t.call(this,e,n,"FilterTypesInitedEvent")||this;return r.map=n,r}return l(e,t),e.prototype.getMap=function(){return this.map},e}(de);var Or=function(){function t(t){this.filterTypeArchive=t}return t.prototype.forEvent=function(){return Nr},t.prototype.handle=function(t){if(t.ofMessageType("FilterTypesInitedEvent")){var e=t.getMap();this.filterTypeArchive.next(t.getAggregateId(),new jn(e))}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Gn}]},t}();var kr=function(t){function e(e,n){var r=t.call(this,e,n,"ActiveFiltersSetEvent")||this;return r.filters=n,r}return l(e,t),e.prototype.getFilters=function(){return this.filters},e}(de);var Hr=function(){function t(t){this.activeFilterRepository=t}return t.prototype.forEvent=function(){return kr},t.prototype.handle=function(t){if(t.ofMessageType("ActiveFiltersSetEvent")){var e=t.getFilters();this.activeFilterRepository.next(t.getAggregateId(),e)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:zn}]},t}();var Br=function(t){function e(e,n){var r=t.call(this,e,n,"UniqueFilterCalculatedEvent")||this;return r.map=n,r}return l(e,t),e.prototype.getUniqueValues=function(){return this.map},e}(de);var Vr=function(){function t(t,e,n){this.id=t,this.value=e,this.enabled=n}return t.prototype.getId=function(){return this.id},t.prototype.getValue=function(){return this.value},t.prototype.geDisplayValue=function(){return this.displayValue},t.prototype.isEnabled=function(){return this.enabled},t}();var jr=function(){function t(t){this.uniqueValuesRepository=t}return t.prototype.forEvent=function(){return Br},t.prototype.handle=function(t){if(t.ofMessageType("UniqueFilterCalculatedEvent")){var e=new Map;t.getUniqueValues().forEach((function(t,n){var r=t.map((function(t){return new Vr(t.getId(),t.getDisplayValue(),t.isEnabled())}));e.set(n,r)}));var n=new Ln(e);this.uniqueValuesRepository.next(t.getAggregateId(),n)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Un}]},t}();var Gr=function(t){function e(e,n,r){var i=t.call(this,e,{fieldConfigs:n,fields:r},"FieldsInitedEvent")||this;return i.fieldConfigs=n,i.fields=r,i}return l(e,t),e.prototype.getFields=function(){return this.fields},e}(de);var zr=function(){function t(){}return t.prototype.forEvent=function(){return Gr},t.prototype.handle=function(t){},t.decorators=[{type:e.Injectable}],t}(),Lr=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Jn},t.prototype.handle=function(t,e){var n=e.getFieldId();t.unselectAllUniqueFilter(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Ur=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return _n},t.prototype.handle=function(t,e){var n=e.getFieldId(),r=e.getUniqueValueId();t.unselectUniqueFilter(n,r)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Wr=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Yn},t.prototype.handle=function(t,e){var n=e.getFieldId();t.selectAllUniqueFilter(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var qr=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Zn},t.prototype.handle=function(t,e){var n=e.getFieldId(),r=e.getUniqueValueId();t.selectUniqueFilter(n,r)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Kr=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(dr,ke),r.HermesModule.registerCommandHandler(yr,ke),r.HermesModule.registerCommandHandler(cr,ke),r.HermesModule.registerCommandHandler(lr,ke),r.HermesModule.registerCommandHandler(pr,ke),r.HermesModule.registerCommandHandler(gr,ke),r.HermesModule.registerCommandHandler(qr,ke),r.HermesModule.registerCommandHandler(Wr,ke),r.HermesModule.registerCommandHandler(Ur,ke),r.HermesModule.registerCommandHandler(Lr,ke))},i.domainEventHandlers=function(){return f(r.HermesModule.registerDomainEventHandler(Pr),r.HermesModule.registerDomainEventHandler(Fr),r.HermesModule.registerDomainEventHandler(Or),r.HermesModule.registerDomainEventHandler(Hr),r.HermesModule.registerDomainEventHandler(jr),r.HermesModule.registerDomainEventHandler(zr))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[Rr],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),Xr=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Kr],providers:[$n,Wn,Gn,zn,Un,Bn,Vn],declarations:[],exports:[]}]}],r}(r.ApiModule),Qr=function(t){function n(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.changeDetectorRef=e,a.structureId=r,a.filterWarehouse=i,a.filterCommandDispatcher=o,a.activeFilters=[],a}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.filterWarehouse.onActiveFilters(this.structureId),(function(e){t.activeFilters=e}))},n.prototype.removeFilter=function(t){this.filterCommandDispatcher.removeFilter(t.getFilterId(),this.structureId)},n.prototype.getSelectorName=function(){return"gui-active-filter-list"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-active-filter-list]",template:'<div *ngFor="let filter of activeFilters">\n\t{{filter.getText()}}\n\t<span (click)="removeFilter(filter)">X</span>\n</div>\n\n<div gui-active-search></div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:Wn},{type:$n}]},n}(Jt);var Yr=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var Jr=function(t){function n(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.changeDetectorRef=e,a.structureId=r,a.searchCommandDispatcher=i,a.searchWarehouse=o,a}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.searchWarehouse.onPhrase(this.structureId),(function(e){t.phrase=e}))},n.prototype.clearSearch=function(){event.stopPropagation(),this.searchCommandDispatcher.search("",this.structureId)},n.prototype.getSelectorName=function(){return"gui-active-search"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-active-search]",template:'<ng-container *ngIf="phrase">\n\t<div>\n\t\tActive search by:\n\t</div>\n\n\t<div>\n\t\t<gui-chip>{{phrase}}</gui-chip>\n\t</div>\n\n\t<div>\n\t\t<button (click)="clearSearch()"\n\t\t\t\t[outline]="true"\n\t\t\t\t[primary]="true"\n\t\t\t\tgui-button>\n\t\t\tClear search\n\t\t</button>\n\t</div>\n</ng-container>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:Dt},{type:Yr}]},n}(Jt);var Zr=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("FilterApiModule is required.");return n}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Xt,Xr],declarations:[Qr,Jr],exports:[Qr]}]}],r.ctorParameters=function(){return[{type:Xr,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),_r=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("FilterApiModule is required.");return n}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,o.FabricModule,i.ReactiveFormsModule,Xr,Zr],declarations:[On,tr,nr,rr,ir,or,ar],exports:[nr],entryComponents:[tr]}]}],r.ctorParameters=function(){return[{type:Xr,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),$r=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,_r,Zr,o.FabricButtonModule],declarations:[Nn,Pn],exports:[Nn],providers:[Fn],entryComponents:[Pn]}]}],r}(r.FeatureModule),ti=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,tn,o.FabricModule,Sn,Rn,$r,Ze],declarations:[fn,nn,Tn],exports:[nn,fn],entryComponents:[nn],providers:[An]}]}],t}(),ei=function(){function t(){this.increment=0}return t.prototype.generateId=function(){return this.increment++,this.increment},t}();var ni=function(t){function n(e){var n=t.call(this)||this;return n.schemaReadModelRepository=e,n.cssClass=null,n.classModifier=new Ot,n}return l(n,t),n.prototype.init=function(t,e){var n=this;this.cssHostRef=t,this.schemaReadModelRepository.onCssClasses(e).pipe(this.hermesTakeUntil()).subscribe((function(t){var e=n.updateState(t);n.renderCssClasses(e)}))},n.prototype.updateState=function(t){var e=this;if(this.cssClass){var n={};return Object.keys(this.cssClass).forEach((function(r){t[r]!==e.cssClass[r]&&(n[r]=t[r])})),this.cssClass=t,n}return this.cssClass=t,this.cssClass},n.prototype.renderCssClasses=function(t){t.hasOwnProperty("verticalGrid")&&this.toggleCssClass(t.verticalGrid,n.VERTICAL_GRID_CLASS_NAME),t.hasOwnProperty("horizontalGrid")&&this.toggleCssClass(t.horizontalGrid,n.HORIZONTAL_GRID_CLASS_NAME),t.hasOwnProperty("theme")&&(this.removeThemeCssClasses(),this.addClass(this.resolveThemeClassName(t.theme))),t.hasOwnProperty("rowColoring")&&(this.removeRowColoringClasses(),this.addClass(this.resolveRowColoringClassName(t.rowColoring)))},n.prototype.toggleCssClass=function(t,e){t?this.addClass(e):this.removeClass(e)},n.prototype.removeThemeCssClasses=function(){var t=this;Object.keys(W).map((function(t){return W[t]})).map((function(e){return t.resolveThemeClassName(e)})).filter((function(t){return!!t})).forEach((function(e){t.removeClass(e)}))},n.prototype.resolveThemeClassName=function(t){switch(t){case W.FABRIC:case W[W.FABRIC]:return n.THEME_FABRIC_CLASS_NAME;case W.MATERIAL:case W[W.MATERIAL]:return n.THEME_MATERIAL_CLASS_NAME;case W.LIGHT:case W[W.LIGHT]:return n.THEME_LIGHT_CLASS_NAME;case W.DARK:case W[W.DARK]:return n.THEME_DARK_CLASS_NAME;case W.GENERIC:case W[W.GENERIC]:return n.THEME_GENERIC_CLASS_NAME;default:return n.THEME_FABRIC_CLASS_NAME}},n.prototype.resolveRowColoringClassName=function(t){switch(t){case xn.ODD:case xn[xn.ODD]:return n.ROW_COLORING_ODD;case xn.EVEN:case xn[xn.EVEN]:return n.ROW_COLORING_EVEN;default:return null}},n.prototype.removeRowColoringClasses=function(){var t=this;Object.keys(xn).map((function(t){return xn[t]})).map((function(e){return t.resolveRowColoringClassName(e)})).filter((function(t){return!!t})).forEach((function(e){t.removeClass(e)}))},n.prototype.addClass=function(t){t&&this.classModifier.getElement(this.cssHostRef.nativeElement).add(t)},n.prototype.removeClass=function(t){t&&this.classModifier.getElement(this.cssHostRef.nativeElement).remove(t)},n.VERTICAL_GRID_CLASS_NAME="gui-vertical-grid",n.HORIZONTAL_GRID_CLASS_NAME="gui-horizontal-grid",n.THEME_FABRIC_CLASS_NAME="gui-fabric",n.THEME_MATERIAL_CLASS_NAME="gui-material",n.THEME_LIGHT_CLASS_NAME="gui-light",n.THEME_DARK_CLASS_NAME="gui-dark",n.THEME_GENERIC_CLASS_NAME="gui-generic",n.ROW_COLORING_ODD="gui-rows-odd",n.ROW_COLORING_EVEN="gui-rows-even",n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:sn}]},n}(r.Reactive);var ri=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),ii=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),oi=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),ai=function(){function t(t,e){this.top=!1,this.bottom=!0,null!=t&&(this.top=t),null!=e&&(this.bottom=e)}return t.prototype.itTopEnabled=function(){return this.top},t.prototype.itBottomEnabled=function(){return this.bottom},t}();var ui=function(t){function n(){return t.call(this,new ai)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),si=function(){function t(){}return t.prototype.convert=function(t){return t.enabled?new ai(t.top,t.bottom):new ai(!1,!1)},t.decorators=[{type:e.Injectable}],t}(),ci=function(){function t(t,e,n,r){this.structureSummariesPanelConfigConverter=t,this.structureSummariesArchive=e,this.structureSummariesCommandDispatcher=n,this.structureId=r}return t.prototype.set=function(t){var e=this.structureSummariesPanelConfigConverter.convert(t);this.structureSummariesArchive.next(e),this.structureSummariesCommandDispatcher.setSummariesEnabled(t.enabled,this.structureId)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:si},{type:ui},{type:zt},{type:oe}]},t}();var li=new e.InjectionToken("StructureComponentToken"),pi={ENTER:0,SUBMIT:1,CANCEL:2};pi[pi.ENTER]="ENTER",pi[pi.SUBMIT]="SUBMIT",pi[pi.CANCEL]="CANCEL";var gi=function(t){function e(e,n){var r=t.call(this,e,"InitFieldsCommand")||this;return r.fieldConfigs=n,r}return l(e,t),e.prototype.getFieldConfigs=function(){return this.fieldConfigs},e}(ft);var hi=function(){function t(t){this.id=t}return t.prototype.getId=function(){return this.id},t}();var di=function(){function t(t,e){this.column=t,this.field=e}return t.prototype.getColumn=function(){return this.column},t.prototype.getField=function(){return this.field},t}();var mi=function(){function t(t,e,n,r,i,o){this.structureId=t,this.compositionId=e,this.commandDispatcher=n,this.domainEventBus=r,this.columnFieldFactory=i,this.compositionCommandInvoker=o}return t.prototype.handle=function(t){var e=this,n=t.columns.currentValue;this.compositionCommandInvoker.setGroups(n,this.compositionId);var i=this.getConfigs(t.columns.currentValue),o=i.columns,a=(i.groups,this.getFieldConfigs(o)),u=new gi(this.structureId,a);this.domainEventBus.ofEvent(Gr).pipe(r.hermesFilter((function(t){return t.getAggregateId().toString()===e.structureId.toString()})),r.hermesTake(1)).subscribe((function(t){var n=t.getFields(),r=e.convertColumnFieldIds(n),i=e.convertColumns(o,n,r);e.compositionCommandInvoker.setColumns(i,e.compositionId)})),this.commandDispatcher.dispatch(u)},t.prototype.getConfigs=function(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];void 0!==i.columns?(n.push(i),e.push.apply(e,f(i.columns))):e.push(i)}return{columns:e,groups:n}},t.prototype.getFieldConfigs=function(t){return t.map((function(t){return{field:t.field,type:t.type,matcher:t.matcher,summaries:t.summaries,sorting:t.sorting}}))},t.prototype.convertColumnFieldIds=function(t){return t?t.map((function(t){return new hi(t.getId().getId())})):[]},t.prototype.convertColumns=function(t,e,n){var r=this;return t?t.map((function(t,i){var o=n[i],a=e[i],u=r.columnFieldFactory.create(o,a.getAccessorMethod(),a.getDataType(),a.getSearchAccessorMethod());return new di(t,u)})):[]},t}();var fi=function(t){function n(n,r,i,o,a,u,s,c,l,p,g,h,d,m,f,y,v,b,C,E,I,w,S,T,A,x,M,D,R,P,F,N,O,k,H,B,V,j,G,z,L,U){var W=t.call(this,n,r)||this;return W.changeDetectorRef=n,W.domainEventBus=i,W.commandDispatcher=o,W.structureId=a,W.compositionId=u,W.schemaId=s,W.structureCommandInvoker=c,W.structurePagingCommandDispatcher=l,W.pagingEventRepository=p,W.sortingCommandDispatcher=g,W.searchCommandDispatcher=h,W.fieldCommandDispatcher=d,W.sourceCommandService=m,W.sourceEventService=f,W.schemaCommandInvoker=y,W.compositionCommandDispatcher=v,W.compositionEventRepository=b,W.formationEventService=C,W.structureEditModeArchive=E,W.structureCellEditArchive=I,W.structureInfoPanelEnabledArchive=w,W.structureInfoPanelConfigService=S,W.structureSummariesConfigService=T,W.structureCellEditStore=A,W.columnFieldFactory=x,W.structureColumnMenuConfigArchive=M,W.structurePagingDisplayModeArchive=D,W.rowSelectEnabledArchive=R,W.rowSelectionTypeArchive=P,W.schemaRowClassArchive=F,W.schemaRowStyleArchive=N,W.formationCommandDispatcher=O,W.searchEventRepository=k,W.structureHeaderTopEnabledArchive=H,W.structureHeaderBottomEnabledArchive=B,W.structureDetailViewConfigArchive=V,W.structureTitlePanelConfigArchive=j,W.structureFooterPanelConfigArchive=G,W.schemaEventRepository=z,W.translationService=L,W.structureInitialValuesReadyArchive=U,W.source=[],W.columns=[],W.themeChanged=new e.EventEmitter,W.columnsChanged=new e.EventEmitter,W.containerWidthChanged=new e.EventEmitter,W.sourceEdited=new e.EventEmitter,W.cellEditEntered=new e.EventEmitter,W.cellEditCanceled=new e.EventEmitter,W.cellEditSubmitted=new e.EventEmitter,W.changeAfterInit=!1,W.structureColumnInputHandler=new mi(a,u,o,i,x,v),W.translationService.setDefaultTranslation(),W}return l(n,t),n.prototype.ngOnChanges=function(t){void 0!==t.editMode&&void 0!==t.editMode.currentValue&&this.structureEditModeArchive.next(this.editMode),void 0!==t.cellEditing&&void 0!==t.cellEditing.currentValue&&this.structureCellEditArchive.next(this.cellEditing),void 0!==t.width&&void 0!==t.width.currentValue&&this.compositionCommandDispatcher.setWidth(this.width,this.compositionId),void 0!==t.theme&&void 0!==t.theme.currentValue&&this.schemaCommandInvoker.setTheme(this.theme,this.schemaId,this.structureId),void 0!==t.rowHeight&&void 0!==t.rowHeight.currentValue&&this.structureCommandInvoker.setRowHeight(this.rowHeight,this.structureId),void 0!==t.autoResizeWidth&&void 0!==t.autoResizeWidth.currentValue&&this.compositionCommandDispatcher.setResizeWidth(this.autoResizeWidth,this.compositionId),void 0!==t.columns&&void 0!==t.columns.currentValue&&this.structureColumnInputHandler.handle(t),t.maxHeight&&this.maxHeight&&this.structureCommandInvoker.setContainerHeight(this.maxHeight,this.structureId),t.source&&this.sourceCommandService.setOrigin(this.source,this.structureId)},n.prototype.ngOnInit=function(){var t=this;this.compositionEventRepository.onColumnsChanged(this.compositionId.toReadModelRootId()).pipe(this.hermesTakeUntil()).subscribe((function(){t.columnsChanged.emit()})),this.compositionEventRepository.onContainerWidthChanged(this.compositionId.toReadModelRootId()).pipe(this.hermesTakeUntil()).subscribe((function(e){t.containerWidthChanged.emit(e)})),this.sourceEventService.onSourceEdited(this.structureId).subscribe((function(e){t.sourceEdited.emit(e)})),this.structureCellEditStore.on().pipe(this.hermesTakeUntil()).subscribe((function(e){switch(e){case pi.ENTER:t.cellEditEntered.emit();break;case pi.SUBMIT:t.cellEditSubmitted.emit();break;case pi.CANCEL:t.cellEditCanceled.emit()}})),this.subscribeAndEmit(this.schemaEventRepository.onThemeChanged(this.schemaId),this.themeChanged),this.componentInitialized()},n.prototype.componentInitialized=function(){this.changeAfterInit=!0},n.propDecorators={maxHeight:[{type:e.Input}],width:[{type:e.Input}],rowHeight:[{type:e.Input}],autoResizeWidth:[{type:e.Input}],source:[{type:e.Input}],columns:[{type:e.Input}],editMode:[{type:e.Input}],cellEditing:[{type:e.Input}],theme:[{type:e.Input}],themeChanged:[{type:e.Output}],columnsChanged:[{type:e.Output}],containerWidthChanged:[{type:e.Output}],sourceEdited:[{type:e.Output}],cellEditEntered:[{type:e.Output}],cellEditCanceled:[{type:e.Output}],cellEditSubmitted:[{type:e.Output}]},n}(Jt);var yi=function(t,e){this.after=t,this.before=e};var vi=function(t){function e(e,n,r){var i=t.call(this,e,{beforeItem:n,afterItem:r},"StructureSourceItemEditedEvent")||this;return i.beforeItem=n,i.afterItem=r,i}return l(e,t),e.prototype.getBeforeItem=function(){return this.beforeItem},e.prototype.getAfterItem=function(){return this.afterItem},e}(de);var bi=function(){function t(t){this.domainEventBus=t}return t.prototype.onSourceEdited=function(t){return this.domainEventBus.ofEvent(vi).pipe(r.hermesFilter((function(e){return e.getAggregateId().toString()===t.toString()})),r.hermesMap((function(t){var e=t.getAfterItem().getData(),n=t.getBeforeItem().getData();return new yi(e,n)})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventBus}]},t}();var Ci=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus}]},n}(r.EventRepository);var Ei=function(t){function e(e,n,r,i){var o=t.call(this,e,{selectedRows:n,allSelected:r,allUnselected:i},"SelectedRowChangedEvent")||this;return o.selectedRows=n,o.allSelected=r,o.allUnselected=i,o}return l(e,t),e.prototype.getSelectedRows=function(){return this.selectedRows},e.prototype.isAllSelected=function(){return this.allSelected},e.prototype.isAllUnselected=function(){return this.allUnselected},e}(de);var Ii=function(t){function n(e,n){var i=t.call(this,e)||this;return i.sourceWarehouse=n,i.map=new Map,i.subject$=new r.HermesSubject,e.ofEvent(Ei).pipe(r.hermesSwitchMap((function(t){var e=t.getSelectedRows(),n=t.getAggregateId();return i.sourceWarehouse.onPreparedEntities(n).pipe(r.hermesTake(1),r.hermesMap((function(t){for(var r=[],i=t.length,o=new Map,a=0;a<i;a+=1)o.set(t[a].getId().toString(),t[a]);for(var u=0;u<e.length;u+=1){var s=o.get(e[u]);r.push(new dt(s.getData(),u,s.getId()))}return{id:n,items:r}})))}))).subscribe((function(t){i.map.set(t.id.toString(),t.items),i.subject$.next(i.map)})),i}return l(n,t),n.prototype.onItemSelected=function(t){return this.subject$.toObservable().pipe(r.hermesFilter((function(e){return e.has(t.toString())})),r.hermesMap((function(e){return e.get(t.toString())})))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus},{type:xt}]},n}(r.EventRepository);var wi=function(){function t(t){this.structureRepository=t}return t.prototype.on=function(t){return this.structureRepository.on(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ve}]},t}();var Si=function(){function t(t,e,n,r){void 0===t&&(t=!1),void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===r&&(r=!1),this.enabled=t,this.sort=e,this.filter=n,this.columnsManager=r,this.mainMenu="Menu",this.filterMenu="Filter",this.columnsMenu="Columns"}return t.default=function(){return new t},t.fromConfig=function(e){return new t(e.enabled,e.sort,e.filter,e.columnsManager)},t.prototype.isEnabled=function(){return this.enabled&&(this.sort||this.filter||this.columnsManager)},t.prototype.isMainEnabled=function(){return this.sort},t.prototype.isSortingEnabled=function(){return this.sort},t.prototype.isFilteringEnabled=function(){return this.filter},t.prototype.isColumnManagerEnabled=function(){return this.columnsManager},t.prototype.getMenus=function(){var t=[];return this.isMainEnabled()&&t.push(this.getMainMenu()),this.isFilteringEnabled()&&t.push(this.getFilterMenu()),this.isColumnManagerEnabled()&&t.push(this.getColumnMenu()),t},t.prototype.getActiveMenu=function(){return this.getMenus()[0]},t.prototype.getMainMenu=function(){return this.mainMenu},t.prototype.getFilterMenu=function(){return this.filterMenu},t.prototype.getColumnMenu=function(){return this.columnsMenu},t.prototype.setMainMenu=function(t){this.mainMenu=t},t.prototype.setFilterMenu=function(t){this.filterMenu=t},t.prototype.setColumnsMenu=function(t){this.columnsMenu=t},t}();var Ti=function(t){function n(){return t.call(this,Si.default())||this}return l(n,t),n.prototype.nextConfig=function(t){var e=Si.fromConfig(t);this.next(e)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),Ai=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),xi=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus}]},n}(r.EventRepository);var Mi=function(){function t(){this.closeAll$=new r.HermesSubject}return t.prototype.closeAll=function(){this.closeAll$.next()},t.prototype.onCloseAll=function(){return this.closeAll$.toObservable()},t.decorators=[{type:e.Injectable}],t}();var Di=function(t){function n(){return t.call(this,!1)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),Ri=function(t){function n(){return t.call(this,!0)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),Pi=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus}]},n}(r.EventRepository);var Fi=function(t){function n(){return t.call(this,{enabled:!1,template:function(t){return"Detail View"}})||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),Ni=new e.InjectionToken("structureRowDetailViewItem"),Oi=new e.InjectionToken("structureRowDetailViewTemplate"),ki=function(){function t(t,e,n){this.item=t,this.template=e,this.sanitizer=n,this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.template(this.item.getSource(),this.item.getIndex()))}return t.prototype.ngOnInit=function(){this.selectedRowValue=this.item.getSource()},t.decorators=[{type:e.Component,args:[{template:'\n\n\t\t<div [innerHTML]="safeHTML"></div>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:dt,decorators:[{type:e.Inject,args:[Ni]}]},{type:void 0,decorators:[{type:e.Inject,args:[Oi]}]},{type:a.DomSanitizer}]},t}();var Hi=function(t){function n(e,n,r,i,o){var a=t.call(this)||this;return a.injector=e,a.structureId=n,a.structureDetailViewConfigArchive=r,a.formationEventService=i,a.drawerService=o,a.enabled=!1,a}return l(n,t),n.prototype.init=function(t){var n=this;this.elementRef=t,this.structureDetailViewConfigArchive.on().pipe(this.hermesTakeUntil()).subscribe((function(t){n.config=t,!0===t.enabled?n.turnOn():!1===t.enabled&&n.turnOff()})),this.formationEventService.onItemSelected(this.structureId).pipe(this.hermesTakeUntil()).subscribe((function(t){if(n.enabled&&(n.drawerService.close(),0!==t.length)){var r=t[0],i=e.Injector.create({parent:n.injector,providers:[{provide:Ni,useValue:r},{provide:Oi,useValue:n.config.template}]});n.drawerService.open(n.elementRef,ki,{injector:i})}}))},n.prototype.turnOn=function(){this.enabled=!0},n.prototype.turnOff=function(){this.enabled=!1},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:oe},{type:Fi},{type:Ii},{type:o.FabricDrawerService}]},n}(r.Reactive);var Bi=function(t){function e(){return t.call(this,p({},e.titlePanelConfig))||this}return l(e,t),e.titlePanelConfig={enabled:!1,template:"Title Panel"},e}(r.Archive);var Vi=function(t){function e(){return t.call(this,p({},e.footerPanelConfig))||this}return l(e,t),e.footerPanelConfig={enabled:!1,template:"Footer Panel"},e}(r.Archive);var ji=function(){function t(t,e){this.structureInfoPanelConfigConverter=t,this.structureInfoPanelArchive=e}return t.prototype.set=function(t){var e=this.structureInfoPanelConfigConverter.convert(t);this.structureInfoPanelArchive.next(e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:An},{type:hn}]},t}();var Gi=function(t){function e(e,n,r){var i=t.call(this,e,{compositionId:n,directions:r},"SortToggledEvent")||this;return i.compositionId=n,i.directions=r,i}return l(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getDirections=function(){return this.directions},e}(de);var zi=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Ut},t.prototype.handle=function(t,e){var n=e.getAggregateId(),r=e.getCompositionId(),i=e.getFieldId(),o=t.toggleSort(i);this.publishSortEvent(n,r,i,o)},t.prototype.publish=function(t,e){},t.prototype.publishSortEvent=function(t,e,n,r){var i=r.map((function(t){return{direction:t.hasDirection(),fieldId:t.getField().getId()}}));this.domainEventPublisher.publish(new Gi(t,e,i))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xe},{type:r.DomainEventPublisher}]},t}();var Li=function(t){function e(e){return t.call(this,e,null,"SortingSetEvent")||this}return l(e,t),e}(de),Ui=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Lt},t.prototype.handle=function(t,e){var n=e.getSortingConfig();t.setSortingConfig(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new Li(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Wi=function(t){function e(e,n,r){var i=t.call(this,e,{compositionId:n,directions:r},"SortOrderSetEvent")||this;return i.compositionId=n,i.directions=r,i}return l(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getDirections=function(){return this.directions},e}(de);var qi=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Wt},t.prototype.handle=function(t,e){var n=e.getAggregateId(),r=e.getCompositionId(),i=e.getFieldId(),o=e.getSortOrder(),a=t.setSortOrder(i,o);this.publishSortEvent(n,r,i,a)},t.prototype.publish=function(t,e){},t.prototype.publishSortEvent=function(t,e,n,r){var i=r.map((function(t){return{direction:t.hasDirection(),fieldId:t.getField().getId()}}));this.domainEventPublisher.publish(new Wi(t,e,i))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xe},{type:r.DomainEventPublisher}]},t}();var Ki=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(zi,ke),r.HermesModule.registerCommandHandler(Ui,ke),r.HermesModule.registerCommandHandler(qi,ke))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),Xi=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Ki],providers:[qt],declarations:[],exports:[]}]}],r}(r.ApiModule),Qi=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("SortingApiModule is required.");return n}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Xi],declarations:[],exports:[]}]}],r.ctorParameters=function(){return[{type:Xi,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),Yi=function(t){function e(e,n){var r=t.call(this,e,"SetConfigSearchingCommand")||this;return r.searchConfig=n,r}return l(e,t),e.prototype.getConfig=function(){return this.searchConfig},e}(ft);var Ji=function(t){function e(e,n){var r=t.call(this,e,n,"ConfigSearchingSetEvent")||this;return r.enabled=n,r}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(de);var Zi=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Yi},t.prototype.handle=function(t,e){var n=e.getConfig();t.setSearchingConfig(n)},t.prototype.publish=function(t,e){var n=e.getConfig();this.domainEventPublisher.publish(new Ji(e.getAggregateId(),n.enabled))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var _i=function(t){function e(e,n,r){var i=t.call(this,e,"SetSearchPhraseCommand")||this;return i.phrase=n,i.initial=r,i}return l(e,t),e.prototype.getPhrase=function(){return this.phrase},e.prototype.isInitial=function(){return this.initial},e}(ft);var $i=function(t){function e(e,n,r){var i=t.call(this,e,{phrase:n,initial:r},"SearchPhraseSetDomainEvent")||this;return i.phrase=n,i.initial=r,i}return l(e,t),e.prototype.getPhrase=function(){return this.phrase},e.prototype.isInitial=function(){return this.initial},e}(de);var to=function(t){function e(e,n){var r=t.call(this,e,n,"OriginSetEvent")||this;return r.origin=n,r}return l(e,t),e.prototype.getOrigin=function(){return this.origin},e}(de);var eo=function(t){function e(e,n){var r=t.call(this,e,n,"StructureSummariesChangedEvent")||this;return r.values=n,r}return l(e,t),e.prototype.getSummaries=function(){return this.values},e}(de);var no=function(t){function e(e,n){var r=t.call(this,e,"StructureSummariesChangedAggregateEvent")||this;return r.summarizedValues=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new eo(this.getAggregateId(),this.summarizedValues)},e.prototype.getSummaries=function(){return this.summarizedValues},e}(fe);var ro=function(t){function e(e,n){var r=t.call(this,e,n,"StructurePreparedEntitiesSetEvent")||this;return r.preparedItems=n,r}return l(e,t),e.prototype.getPreparedItems=function(){return this.preparedItems},e}(de);var io=function(){function t(t){this.domainEventPublisher=t}return t.prototype.publish=function(t){var e=this;t.forEach((function(t){e.publishEvent(t)}))},t.prototype.publishEvent=function(t){if("StructureOriginChangedAggregateEvent"===t.getType()){var e=t,n=new to(e.getAggregateId(),e.getOrigin());this.domainEventPublisher.publish(n)}if("StructureSourceItemEditedAggregateEvent"===t.getType()){var r=t;n=new vi(r.getAggregateId(),r.getBeforeItem(),r.getAfterItem());this.domainEventPublisher.publish(n)}if("StructureSummariesChangedAggregateEvent"===t.getType()){var i=t;n=new eo(i.getAggregateId(),i.getSummaries());this.domainEventPublisher.publish(n)}if("StructurePreparedEntitiesSetAggregateEvent"===t.getType()){var o=t;n=new ro(o.getAggregateId(),o.getPreparedItems());this.domainEventPublisher.publish(n)}if("UniqueFilterCalculatedAggregateEvent"===t.getType()){n=t.toDomainEvent();this.domainEventPublisher.publish(n)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var oo=function(){function t(t,e){this.structureSourceDomainEventPublisher=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return _i},t.prototype.handle=function(t,e){var n=e.getPhrase();t.addSearchPhrase(n)},t.prototype.publish=function(t,e){var n=e.getPhrase(),r=e.isInitial();this.domainEventPublisher.publish(new $i(e.getAggregateId(),n,r)),this.structureSourceDomainEventPublisher.publish(t.getEvents())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:io},{type:r.DomainEventPublisher}]},t}();var ao=function(){function t(){this.searchFields=[],this.enabledDataTypes=[N.STRING]}return t.prototype.addSearchPhrase=function(t,e){var n=this;if(e){var r=t.filter((function(t){return n.enabledDataTypes.some((function(e){return e===t.getDataType()}))}));0!==r.length&&(this.searchFields=r,this.searchPhrase=e)}else this.searchFields=[]},t.prototype.removeSearchFilters=function(){this.searchFields=[]},t.prototype.search=function(t){var e=this;if(0===t.length||0===this.searchFields.length)return t;for(var n=new Set,r=function(r){i.searchFields.filter((function(n){return n.search(t[r],e.searchPhrase)})).forEach((function(){n.add(t[r])}))},i=this,o=0;o<t.length;o+=1)r(o);return Array.from(n)},t}();var uo=function(){function t(){}return t.prototype.create=function(){return new ao},t.decorators=[{type:e.Injectable}],t}(),so=function(t){function n(){return t.call(this,n.HIGHLIGHTING)||this}return l(n,t),n.HIGHLIGHTING=!0,n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var co=function(t){function n(){return t.call(this,n.PLACEHOLDER)||this}return l(n,t),n.PLACEHOLDER="Search...",n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var lo=function(){function t(t,e,n){this.commandDispatcher=t,this.searchHighlightArchive=e,this.searchPlaceholderArchive=n}return t.prototype.setSearchingConfig=function(t,e){void 0!==t.highlighting&&null!==t.highlighting&&this.searchHighlightArchive.next(e,t.highlighting),void 0!==t.placeholder&&null!==t.placeholder&&this.searchPlaceholderArchive.next(e,t.placeholder),void 0!==t.phrase&&null!==t.phrase&&this.searchOnInit(t.phrase,e),this.commandDispatcher.dispatch(new Yi(e,t))},t.prototype.search=function(t,e){this.commandDispatcher.dispatch(new _i(e,t,!1))},t.prototype.searchOnInit=function(t,e){this.commandDispatcher.dispatch(new _i(e,t,!0))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher},{type:so},{type:co}]},t}();var po=function(t){function n(){return t.call(this,n.SEARCH_PHRASE)||this}return l(n,t),n.SEARCH_PHRASE="",n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var go=function(){function t(t){this.searchPhraseRepository=t}return t.prototype.forEvent=function(){return $i},t.prototype.handle=function(t){t.ofMessageType("SearchPhraseSetDomainEvent")&&this.searchPhraseRepository.next(t.getAggregateId(),t.getPhrase())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:po}]},t}();var ho=function(t){function n(){return t.call(this,n.ENABLED)||this}return l(n,t),n.ENABLED=!1,n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var mo=function(){function t(t){this.structureSearchingRepository=t}return t.prototype.forEvent=function(){return Ji},t.prototype.handle=function(t){t.ofMessageType("ConfigSearchingSetEvent")&&this.structureSearchingRepository.next(t.getAggregateId(),t.isEnabled())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ho}]},t}();var fo=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(Zi,ke),r.HermesModule.registerCommandHandler(oo,ke))},i.domainEventHandlers=function(){return f(r.HermesModule.registerDomainEventHandler(go),r.HermesModule.registerDomainEventHandler(mo))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[uo,lo],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),yo=function(t){function n(e,n,r,i){var o=t.call(this)||this;return o.searchingEnabledArchive=e,o.searchPhraseArchive=n,o.searchHighlightArchive=r,o.searchPlaceholderArchive=i,o}return l(n,t),n.prototype.onSearchEnabled=function(t){return this.searchingEnabledArchive.on(t)},n.prototype.onPhrase=function(t){return this.searchPhraseArchive.on(t)},n.prototype.onHighlight=function(t){return this.searchHighlightArchive.on(t)},n.prototype.onPlaceholder=function(t){return this.searchPlaceholderArchive.on(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:ho},{type:po},{type:so},{type:co}]},n}(Yr);var vo=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.prototype.onSearchPhrase=function(t){return this.onEvent(t,$i).pipe(r.hermesFilter((function(t){return!1===t.isInitial()})),r.hermesMap((function(t){return t.getPhrase()})),r.hermesFilter((function(t){return null!==t})))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus}]},n}(xi),bo=function(t){function n(e){var n=t.call(this)||this;return n.searchDispatcher=e,n}return l(n,t),n.prototype.setSearchingConfig=function(t,e){this.searchDispatcher.setSearchingConfig(t,e)},n.prototype.search=function(t,e){this.searchDispatcher.search(t,e)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lo}]},n}(Dt);var Co=function(t){function r(){return t.call(this)||this}return l(r,t),r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,fo],providers:[{provide:Dt,useClass:bo},{provide:Yr,useClass:yo},{provide:xi,useClass:vo},po,so,co,ho],declarations:[],exports:[]}]}],r.ctorParameters=function(){return[]},r}(r.ApiModule),Eo=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.prototype.getSelectorName=function(){return"gui-search-icon"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-search-icon]",template:'\n\t\t<svg class="gui-search-icon-svg" xmlns="http://www.w3.org/2000/svg" width="10.231" height="10.601" viewBox="0 0 10.231 10.601">\n\t\t\t<line x2="1.77" y2="1.77" transform="translate(7.4 7.77)" fill="none" stroke-linecap="round"\n\t\t\t\t  stroke-linejoin="round" stroke-width="1.5"/>\n\t\t\t<circle cx="4.02" cy="4.02" r="4.02" transform="translate(0.5 0.5)" stroke-width="1"\n\t\t\t\t\tstroke-linecap="round" stroke-linejoin="round" fill="none"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef}]},n}(En),Io=function(t){function n(e,r,i,o,a,u,s){var c=t.call(this,r,i)||this;c.formBuilder=e,c.changeDetectorRef=r,c.structureId=o,c.searchCommandDispatcher=a,c.structureWarehouse=u,c.searchWarehouse=s;var l={};return l[n.FORM_SEARCH_NAME]="",c.searchForm=c.formBuilder.group(l),c}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.observeChanges(),this.hermesSubscribe(this.searchWarehouse.onPlaceholder(this.structureId),(function(e){t.placeholder=e})),this.hermesSubscribe(this.searchWarehouse.onSearchEnabled(this.structureId),(function(e){t.searchingEnabled=e})),this.hermesSubscribeWithoutRender(this.searchWarehouse.onPhrase(this.structureId),(function(e){void 0===e&&(e=null);var r={};r[n.FORM_SEARCH_NAME]=e,e!==t.searchForm.get([n.FORM_SEARCH_NAME]).value&&(t.stopObserveChanges(),t.searchForm.setValue(r),t.observeChanges())}))},n.prototype.clear=function(){this.searchForm.reset()},n.prototype.getSelectorName=function(){return"gui-search-bar"},n.prototype.observeChanges=function(){var t=this;this.searchInputSubscription=r.fromRxJsObservable(this.searchForm.controls[n.FORM_SEARCH_NAME].valueChanges.pipe(u.debounceTime(200))).pipe(this.hermesTakeUntil()).subscribe((function(e){t.searchCommandDispatcher.search(e,t.structureId)}))},n.prototype.stopObserveChanges=function(){this.searchInputSubscription.unsubscribe()},n.FORM_SEARCH_NAME="searchPhrase",n.decorators=[{type:e.Component,args:[{selector:"div[gui-search-bar]",template:'<ng-container *ngIf="searchingEnabled">\n\t<form #formRef\n\t\t  [formGroup]="searchForm"\n\t\t  class="gui-flex gui-relative gui-w-full">\n\n\t\t<div gui-search-icon></div>\n\n\t\t<input [placeholder]="placeholder"\n\t\t\t   class="gui-border-0 gui-w-full gui-h-full gui-py-5 gui-pr-5 gui-pl-21"\n\t\t\t   formControlName="searchPhrase">\n\n\t\t<span (click)="clear()"\n\t\t\t  *ngIf="searchForm.controls[\'searchPhrase\'].value"\n\t\t\t  class="gui-clear-search-icon">\n\t\t\t\t</span>\n\t</form>\n</ng-container>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,styles:[".gui-search-bar form{background:#fff}.gui-search-bar form:hover .gui-search-icon-svg circle,.gui-search-bar form:hover .gui-search-icon-svg line{stroke:#333}.gui-search-bar .gui-search-icon-svg{height:17px;left:10px;position:absolute;top:6px;width:17px}.gui-search-bar .gui-search-icon-svg circle,.gui-search-bar .gui-search-icon-svg line{stroke:#ccc;transition:stroke .3s ease-in-out}"]}]}],n.ctorParameters=function(){return[{type:i.FormBuilder},{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:Dt},{type:wi},{type:Yr}]},n.propDecorators={formRef:[{type:e.ViewChild,args:["formRef",{static:!1}]}]},n}(Jt);var wo=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("SearchApiModule is required");return n}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,o.FabricModule,Co,i.ReactiveFormsModule],declarations:[Eo,Io],exports:[Eo,Io]}]}],r.ctorParameters=function(){return[{type:Co}]},r}(r.FeatureModule),So=function(){function t(t,e,n){this.id=t,this.dataType=e,this.name=n}return t.prototype.getFieldId=function(){return this.id},t.prototype.getId=function(){return this.id.getId()},t.prototype.getDataType=function(){return this.dataType},t.prototype.getName=function(){return this.name},t}();var To=function(){function t(){}return t.prototype.convert=function(t){var e=this;return t.map((function(t){return e.convertOne(t)}))},t.prototype.convertOne=function(t){return new So(t.getId(),t.getDataType(),t.getName())},t.decorators=[{type:e.Injectable}],t}(),Ao=function(){function t(t){this.fieldFactory=t,this.fields=new Map}return t.prototype.getField=function(t){return null===t?this.getAllFields()[0]:this.fields.get(t.getId())},t.prototype.getAllFieldIds=function(){return Array.from(this.fields.keys())},t.prototype.getAllFields=function(){return Array.from(this.fields.values())},t.prototype.getFieldsAsMap=function(){return this.fields},t.prototype.initFields=function(t){var e=this.fieldFactory.create(t);this.addFields(e)},t.prototype.addFields=function(t){var e,n;try{for(var r=d(t),i=r.next();!i.done;i=r.next()){var o=i.value;this.addField(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.addField=function(t){this.fields.set(t.getId().toString(),t)},t}();var xo=function(){function t(t,e,n){this.id=t,this.field=e,this.name=n}return t.of=function(e,n,r){return new t(e,n,r)},t.prototype.getId=function(){return this.id},t.prototype.getKey=function(){return this.getId().toString()},t.prototype.getDataType=function(){return this.field.getDataType()},t.prototype.getName=function(){return this.name},t.prototype.getField=function(){return this.field},t.prototype.getAccessor=function(){return this.field.getAccessor()},t.prototype.getAccessorMethod=function(){return this.field.getAccessorMethod()},t.prototype.getSearchAccessorMethod=function(){return this.field.getSearchAccessorMethod()},t.prototype.getValue=function(t){return this.field.getValue(t)},t.prototype.getDisplayValue=function(t){return this.field.getDisplayValue(t)},t.prototype.isSummaries=function(t){return this.field.isSummaries(t)},t.prototype.isSummariesEnabled=function(){return this.field.isSummariesEnabled()},t.prototype.search=function(t,e){return this.field.search(t,e)},t.prototype.filter=function(t,e){var n=this.field.getValue(t);return this.field.getDataType()===N.NUMBER||this.field.getDataType()===N.BOOLEAN||this.field.getDataType()===N.STRING?this.field.filter(n,e):this.field.getDataType()!==N.DATE||this.field.filter(n,e)},t.prototype.sort=function(t,e,n){var r=n?this.field.getSortValue(t):this.field.getSortValue(e),i=n?this.field.getSortValue(e):this.field.getSortValue(t);return this.field.getDataType()===N.NUMBER||this.field.getDataType()===N.BOOLEAN||this.field.getDataType()===N.STRING||this.field.getDataType()===N.DATE?this.field.sort(r,i):0},t}();var Mo=function(){function t(t,e,n){this.accessor=t,this.dataType=e,this.matchers=n,"string"==typeof t?this.accessorMethod=function(e){return e.getData()[t]}:"function"==typeof t&&(this.accessorMethod=function(e){return t(e.getData())})}return t.prototype.getDataType=function(){return this.dataType},t.prototype.getAccessor=function(){return this.accessor},t.prototype.getAccessorMethod=function(){return this.accessorMethod},t.prototype.getMatchers=function(){return this.matchers},t.prototype.getSearchAccessorMethod=function(){var t,e=this;return this.matchers.getSearchMatcher().ifPresent((function(e){t=e})),t?function(n){var r=e.accessorMethod(n);return t(r)}:function(t){return e.accessorMethod(t)}},t.prototype.getValue=function(t){return this.accessorMethod(t)},t.prototype.getSortValue=function(t){var e=this.accessorMethod(t);return this.matchers.getSortMatcher().ifPresent((function(t){e=t(e)})),e},t.prototype.getSearchValue=function(t){var e=this.accessorMethod(t);return this.matchers.getSearchMatcher().ifPresent((function(t){e=t(e)})),e},t}();var Do=function(t){function e(e,n,r,i){var o=t.call(this,e,n,r)||this;return o.summariesEnabled=!0,o.possibleSummaries=o.assignPossibleSummaries(),o.assignSummaries(i),o}return l(e,t),e.prototype.isSummaries=function(t){return!!this.isSummariesEnabled()&&!!(this.summariesTypes&t)},e.prototype.isSummariesEnabled=function(){return this.summariesEnabled},e.prototype.setSummariesEnabled=function(t){this.summariesEnabled=t},e.prototype.assignSummaries=function(t){var e=this;t&&0!==Object.keys(t).length?(t.enabled&&(this.summariesEnabled=!!t.enabled),t.summariesTypes?(this.summariesTypes=0,t.summariesTypes.forEach((function(t){e.summariesTypes|=t}))):this.summariesTypes=this.assignDefaultSummaries()):this.summariesTypes=this.assignDefaultSummaries()},e}(Mo);var Ro=function(t){function e(e,n,r){return t.call(this,e,N.UNKNOWN,n,r)||this}return l(e,t),e.prototype.assignDefaultSummaries=function(){return 0},e.prototype.assignPossibleSummaries=function(){return k.COUNT|k.DISTINCT},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){return 0},e.prototype.filter=function(t,e){return!1},e.prototype.equals=function(t,e){return!1},e.prototype.getDisplayValue=function(t){return t},e}(Do),Po=function(t){function e(e,n,r){return t.call(this,e,N.NUMBER,n,r)||this}return l(e,t),e.prototype.getField=function(){return this},e.prototype.assignDefaultSummaries=function(){return 0},e.prototype.assignPossibleSummaries=function(){return k.COUNT|k.DISTINCT|k.SUM|k.MIN|k.MAX|k.AVERAGE|k.MEDIAN},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){return+t-+e},e.prototype.filter=function(t,e){return t>e},e.prototype.equals=function(t,e){return this.getValue(t)===e},e.prototype.getDisplayValue=function(t){return""+t},e}(Do),Fo=function(t){function e(e,n,r){return t.call(this,e,N.STRING,n,r)||this}return l(e,t),e.prototype.assignDefaultSummaries=function(){return 0},e.prototype.assignPossibleSummaries=function(){return k.COUNT|k.DISTINCT},e.prototype.search=function(t,e){var n=this.getSearchValue(t);return"string"==typeof n&&n.toLowerCase().indexOf(e.toLowerCase())>-1},e.prototype.sort=function(t,e){return(""+t).localeCompare(""+e)},e.prototype.filter=function(t,e){return t.toLowerCase().indexOf(e.toLowerCase())>-1},e.prototype.equals=function(t,e){return this.getValue(t)===e},e.prototype.getDisplayValue=function(t){return t},e}(Do),No=function(t){function e(e,n,r){return t.call(this,e,N.BOOLEAN,n,r)||this}return l(e,t),e.prototype.assignDefaultSummaries=function(){return 0},e.prototype.assignPossibleSummaries=function(){return k.COUNT|k.DISTINCT|k.TRUTHY|k.FALSY},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){var n=!!e;return!!t===n?0:n?-1:1},e.prototype.filter=function(t,e){return t===e},e.prototype.equals=function(t,e){return this.getValue(t)===e},e.prototype.getDisplayValue=function(t){return t?"True":"False"},e}(Do),Oo=function(t){function e(e,n,r){return t.call(this,e,N.DATE,n,r)||this}return l(e,t),e.prototype.assignDefaultSummaries=function(){return 0},e.prototype.assignPossibleSummaries=function(){return k.COUNT|k.DISTINCT},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){return t-e},e.prototype.filter=function(t,e){return!1},e.prototype.equals=function(t,e){return this.getValue(t).getTime()===e.getTime()},e.prototype.getDisplayValue=function(t){return t.toDateString()},e}(Do),ko=function(){function t(t,e,n){this.matcher=t,this.sortMatcher=e,this.searchMatcher=n}return t.prototype.getMatcher=function(){return r.Optional.of(this.matcher)},t.prototype.getSortMatcher=function(){var t;return this.sortMatcher&&(t=this.sortMatcher),this.matcher&&(t=this.matcher),r.Optional.of(t)},t.prototype.getSearchMatcher=function(){var t;return this.searchMatcher&&(t=this.searchMatcher),this.matcher&&(t=this.matcher),r.Optional.of(t)},t}();var Ho=function(){function t(){}return t.prototype.create=function(t){var e=this.createMatchers(t),n=t.type;return void 0===n&&(n=N.STRING),n===N.UNKNOWN?new Ro(t.field,e,t.summaries):n===N.NUMBER?new Po(t.field,e,t.summaries):n===N.STRING?new Fo(t.field,e):n===N.BOOLEAN?new No(t.field,e):n===N.DATE?new Oo(t.field,e):void 0},t.prototype.createMatchers=function(t){var e,n=t.matcher;return t.sorting&&(e=t.sorting.matcher),new ko(n,e)},t.decorators=[{type:e.Injectable}],t}(),Bo=function(){function t(t){this.id=t}return t.prototype.getId=function(){return this.id},t.prototype.equals=function(t){return t.toString()===this.id},t.prototype.toString=function(){return this.id},t}();var Vo=function(){function t(){}return t.prototype.generateId=function(){var t=r.RandomStringGenerator.generate();return new Bo(t)},t}(),jo=function(){function t(t,e){this.fieldIdGenerator=t,this.dataFieldFactory=e}return t.prototype.create=function(t){var e=this;return t?t.map((function(t,n){var r=e.fieldIdGenerator.generateId(),i=e.dataFieldFactory.create(t);return new xo(r,i,e.getFieldName(t,n))})):[]},t.prototype.getFieldName=function(t,e){return"string"==typeof t.field?t.field.toLowerCase():"Field #"+e},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Vo},{type:Ho}]},t}();var Go=function(){function t(t){this.fieldFactory=t}return t.prototype.create=function(){return new Ao(this.fieldFactory)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:jo}]},t}();var zo=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return gi},t.prototype.handle=function(t,e){var n=e.getFieldConfigs();t.createFields(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Lo=function(){function t(t,e){this.fieldReadModelRepository=t,this.fieldUiConverter=e}return t.prototype.forEvent=function(){return Gr},t.prototype.handle=function(t){if(t.ofMessageType("FieldsInitedEvent")){var e=this.fieldUiConverter.convert(t.getFields());this.fieldReadModelRepository.next(t.getAggregateId(),e)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:kn},{type:To}]},t}();var Uo=function(t){function n(){return t.call(this)||this}return l(n,t),n.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(zo,ke))},n.domainEventHandlers=function(){return f(r.HermesModule.registerDomainEventHandler(Lo))},n.decorators=[{type:e.NgModule,args:[{providers:[Go,jo,Vo,Ho]}]}],n.ctorParameters=function(){return[]},n}(r.DomainModule),Wo=function(){function t(t,e){this.domainEventBus=t,this.commandDispatcher=e}return t.prototype.initFields=function(t,e){this.commandDispatcher.dispatch(new gi(e,t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventBus},{type:r.CommandDispatcher}]},t}();var qo=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Uo],providers:[Wo,kn,To,Hn]}]}],r}(r.ApiModule),Ko=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("FieldApiModule is required.");return n}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,qo],declarations:[],exports:[]}]}],r.ctorParameters=function(){return[{type:qo,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),Xo=function(){function t(t,e,n,r){this.fieldId=t,this.accessor=e,this.dataType=n,this.searchAccessor=r}return t.prototype.getId=function(){return this.fieldId},t.prototype.getValue=function(t){return this.accessor(t)},t.prototype.getAccessor=function(){return this.accessor},t.prototype.getSearchAccessor=function(){return this.searchAccessor},t.prototype.getDataType=function(){return this.dataType},t}();var Qo=function(){function t(){}return t.prototype.create=function(t,e,n,r){return new Xo(t,e,n,r)},t.decorators=[{type:e.Injectable}],t}(),Yo=function(t){function n(){return t.call(this,n.DEFAULT_ROW_SELECTION_TYPE)||this}return l(n,t),n.DEFAULT_ROW_SELECTION_TYPE=_.ROW,n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive);var Jo=function(){function t(t){this.loading=t}return t.prototype.isLoading=function(){return this.loading},t.ctorParameters=function(){return[{type:Boolean}]},t=g([r.ReadModelObject,h("design:paramtypes",[Boolean])],t)}();var Zo=function(){function t(){}return t.prototype.convert=function(t){return new Jo(t.isLoading())},t.decorators=[{type:e.Injectable}],t}(),_o=function(t){function e(e){return t.call(this,e,null,"SetSourceLoadingEvent")||this}return l(e,t),e}(de),$o=function(t){function e(e,n){var r=t.call(this,e,"SourceSetLoadingCommand")||this;return r.enabled=n,r}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(ft);var ta=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return $o},t.prototype.handle=function(t,e){var n=e.isEnabled();t.getSource().setLoading(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new _o(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var ea=function(t){function e(e,n){void 0===n&&(n=[]);var r=t.call(this,e,"SetOriginCommand")||this;return r.items=n,r}return l(e,t),e.prototype.getItems=function(){return this.items},e}(ft);var na=function(){function t(t){this.structureSourceDomainEventPublisher=t}return t.prototype.forCommand=function(){return ea},t.prototype.handle=function(t,e){var n=e.getItems();t.setOrigin(n)},t.prototype.publish=function(t,e){var n=t.getEvents();this.structureSourceDomainEventPublisher.publish(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:io}]},t}();var ra=function(t){function e(e,n){var r=t.call(this,e,"StructureEditSourceItemCommand")||this;return r.params=n,r}return l(e,t),e.prototype.getParams=function(){return this.params},e}(ft);var ia=function(){function t(t){this.structureSourceDomainEventPublisher=t}return t.prototype.forCommand=function(){return ra},t.prototype.handle=function(t,e){var n=e.getParams();t.editItem(n)},t.prototype.publish=function(t,e){var n=t.getEvents();this.structureSourceDomainEventPublisher.publish(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:io}]},t}();var oa=function(){function t(t){this.commandDispatcher=t}return t.prototype.setLoading=function(t,e){this.commandDispatcher.dispatch(new $o(t,e))},t.prototype.setOrigin=function(t,e){this.commandDispatcher.dispatch(new ea(t,e))},t.prototype.editItem=function(t,e){this.commandDispatcher.dispatch(new ra(t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var aa=function(t){function e(e,n,r,i){void 0===i&&(i=0);var o=t.call(this,e)||this;return o.rawData=n,o.position=r,o.version=i,o}return l(e,t),e.prototype.getData=function(){return this.rawData},e.prototype.getVersion=function(){return this.version},e.prototype.getPosition=function(){return this.position},e.prototype.bumpVersion=function(){this.version+=1},e.prototype.setPosition=function(t){this.position=t},e.prototype.clone=function(){var t=p({},this.rawData);return new e(this.getId(),t,this.version)},e}(r.Entity);var ua=function(t){function e(e,n,r){var i=t.call(this,e,"StructureSourceItemEditedAggregateEvent")||this;return i.beforeItem=n,i.afterItem=r,i}return l(e,t),e.prototype.toDomainEvent=function(){return new vi(this.getAggregateId(),this.beforeItem,this.afterItem)},e.prototype.getBeforeItem=function(){return this.beforeItem},e.prototype.getAfterItem=function(){return this.afterItem},e}(fe);var sa=function(t){function e(e,n){var r=t.call(this,e,"StructureOriginChangedAggregateEvent")||this;return r.origin=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new to(this.getAggregateId(),this.origin)},e.prototype.getOrigin=function(){return this.origin},e}(fe);var ca=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toString=function(){return this.getId()},e}(r.EntityId),la=function(){function t(t){this.loading=!1,this.fetched=!1,this.entities=[],this.preparedEntities=[],this.slicedEntities=[],this.formationManager=t}return t.prototype.isLoading=function(){return this.loading},t.prototype.isFetched=function(){return this.fetched},t.prototype.setLoading=function(t){this.loading=t},t.prototype.setEntities=function(t){this.entities=t,this.recalculatePositions()},t.prototype.getEntities=function(){return this.entities},t.prototype.setPreparedEntities=function(){this.preparedEntities=f(this.entities)},t.prototype.getPreparedEntities=function(){return this.preparedEntities},t.prototype.setSlicedEntities=function(t){this.slicedEntities=t},t.prototype.getSlicedEntities=function(){return this.slicedEntities},t.prototype.setOrigin=function(t,e){return void 0===t&&(t=[]),this.origin=this.convertItems(t),this.createOriginChangedEvent(e)},t.prototype.setConvertedOrigin=function(t,e){return void 0===t&&(t=[]),this.origin=f(t),this.createOriginChangedEvent(e)},t.prototype.getOrigin=function(){return this.origin},t.prototype.getOriginSize=function(){return this.origin.length},t.prototype.editOriginItem=function(t,e,n,r){var i=this.findOriginItem(t),o=i.clone();return i&&(i.rawData[n.getAccessor()]=e,i.bumpVersion()),[new ua(r,o,i.clone()),this.createOriginChangedEvent(r)]},t.prototype.deleteAllSelected=function(t){var e=this,n=[];return this.formationManager.getSelectedRows().forEach((function(r){n.push.apply(n,f(e.deleteOriginItemByItemId(new ca(r),t)))})),n},t.prototype.deleteOriginItem=function(t,e){var n=this;if(t instanceof ca)return this.deleteOriginItemByItemId(t,e);if(Array.isArray(t)){var r=[];return t.forEach((function(t){r.push.apply(r,f(n.deleteOneOriginItem(t,e)))})),r}return Number.isInteger(t)?this.deleteOriginItemByIndex(t,e):void 0},t.prototype.addOriginItem=function(t,e){return this.origin.push(t),[this.createOriginChangedEvent(e)]},t.prototype.selectAll=function(){this.formationManager.selectAll(this.getEntities().map((function(t){return t.getId().toString()})))},t.prototype.unselectAll=function(){this.formationManager.unselectAll()},t.prototype.toggleRow=function(t,e){this.formationManager.toggleRow(t,e,this.getEntities().map((function(t){return t.getId().toString()})))},t.prototype.getFormation=function(){return this.formationManager},t.prototype.convertItems=function(t){return t.map((function(t,e){return new aa(new ca(r.RandomStringGenerator.generate()),t,e)}))},t.prototype.createOriginChangedEvent=function(t){return new sa(t,this.origin)},t.prototype.findOriginItem=function(t){return this.origin.find((function(e){return e.getId().toString()===t}))},t.prototype.findOriginItemIndex=function(t){return this.origin.findIndex((function(e){return e.getId().toString()===t}))},t.prototype.recalculatePositions=function(){this.entities.forEach((function(t,e){t.setPosition(e)}))},t.prototype.deleteOneOriginItem=function(t,e){return t instanceof ca?this.deleteOriginItemByItemId(t,e):Number.isInteger(t)?this.deleteOriginItemByIndex(t,e):[]},t.prototype.deleteOriginItemByItemId=function(t,e){var n=this.findOriginItemIndex(t.toString());return this.deleteOriginItemByIndex(n,e)},t.prototype.deleteOriginItemByIndex=function(t,e){var n,r;if(t>-1){var i=this.origin.splice(t,1);if(i.length>0){try{for(var o=d(i),a=o.next();!a.done;a=o.next()){var u=a.value;this.formationManager.unselectRow(u.getId().toString())}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}this.formationManager.calculateAllSelected(i.map((function(t){return t.getId().toString()}))),this.formationManager.calculateAllUnselected()}return[this.createOriginChangedEvent(e)]}return[]},t.prototype.deleteManyOriginItemByIndex=function(t,e){var n=this,r=[];return t.forEach((function(t){r.push.apply(r,f(n.deleteOriginItemByIndex(t,e)))})),r},t.prototype.deleteManyOriginItemByItemID=function(t,e){var n=this,r=[];return t.forEach((function(t){r.push.apply(r,f(n.deleteOriginItemByItemId(t,e)))})),r},t}();var pa={NONE:0,ADD:1,RANGE:2};pa[pa.NONE]="NONE",pa[pa.ADD]="ADD",pa[pa.RANGE]="RANGE";var ga=function(){function t(t){this.enabled=!0,this.mode=$.SINGLE,this.selectedRows=t}return t.prototype.isAllSelected=function(){return this.allSelected},t.prototype.isAllUnselected=function(){return this.allUnselected},t.prototype.setSelection=function(t){this.enabled=t},t.prototype.setMode=function(t){this.mode=t},t.prototype.getSelectedRows=function(){return Array.from(this.selectedRows)},t.prototype.selectAll=function(t){this.selectedRows=new Set(t),this.allSelected=!0,this.allUnselected=!1},t.prototype.unselectAll=function(){this.selectedRows.clear(),this.allSelected=!1,this.allUnselected=!0},t.prototype.toggleRow=function(t,e,n){if(this.enabled){switch(e===pa.ADD&&this.mode===$.SINGLE&&(e=pa.NONE),e){case pa.NONE:this.selectedRows.has(t)?this.selectedRows.delete(t):(this.selectedRows.clear(),this.selectedRows.add(t));break;case pa.ADD:this.selectedRows.has(t)?this.selectedRows.delete(t):this.selectedRows.add(t);break;case pa.RANGE:}this.calculateAllSelected(n),this.calculateAllUnselected()}},t.prototype.calculateAllSelected=function(t){if(t.length!==this.selectedRows.size)this.allSelected=!1;else{var e=Array.from(this.selectedRows),n=!0;e.sort(),t.sort();for(var r=0;r<e.length;r+=1)if(e[r]!==t[r]){n=!1;break}this.allSelected=n}},t.prototype.calculateAllUnselected=function(){this.allUnselected=0===this.selectedRows.size},t.prototype.unselectRow=function(t){this.selectedRows.has(t)&&this.selectedRows.delete(t)},t}();var ha=function(){function t(){}return t.prototype.create=function(){return new ga(new Set)},t.decorators=[{type:e.Injectable}],t}(),da=function(){function t(t){this.formationManagerFactory=t}return t.prototype.createDefault=function(){var t=this.formationManagerFactory.create();return new la(t)},t.prototype.create=function(){var t=this.formationManagerFactory.create();return new la(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ha}]},t}();var ma=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return bt},t.prototype.handle=function(t,e){t.setSelection(e.isEnabled())},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var fa=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return yt},t.prototype.handle=function(t,e){var n=e.getSelectedRow(),r=e.getType();t.toggleRow(n,r)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xe},{type:r.DomainEventPublisher}]},t}();var ya=function(){function t(t,e,n){this.itemIds=new Array,this.itemIds=t,this.allSelected=e,this.allUnselected=n}return t.prototype.getAll=function(){return this.itemIds},t.prototype.isSelected=function(t){return this.itemIds.some((function(e){return e===t}))},t.prototype.isAllSelected=function(){return this.allSelected},t.prototype.isAllUnselected=function(){return this.allUnselected},t.prototype.isIndeterminate=function(){return!(this.isAllSelected()||this.isAllUnselected())},t}();var va=function(){function t(t){this.rowSelectedRepository=t}return t.prototype.forEvent=function(){return Ei},t.prototype.handle=function(t){if(t.ofMessageType("SelectedRowChangedEvent")){var e=new ya(t.getSelectedRows(),t.isAllSelected(),t.isAllUnselected());this.rowSelectedRepository.next(t.getAggregateId(),e)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Tt}]},t}();var ba=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Ct},t.prototype.handle=function(t,e){t.setSelectionMode(e.getMode())},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Ca=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Et},t.prototype.handle=function(t,e){t.selectAll()},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xe},{type:r.DomainEventPublisher}]},t}();var Ea=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return It},t.prototype.handle=function(t,e){t.unselectAll()},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xe},{type:r.DomainEventPublisher}]},t}();var Ia=function(t){function e(e,n){var r=t.call(this,e,n,"SelectionModeSetEvent")||this;return r.mode=n,r}return l(e,t),e.prototype.getMode=function(){return this.mode},e}(de);var wa=function(){function t(t){this.rowSelectionModeRepository=t}return t.prototype.forEvent=function(){return Ia},t.prototype.handle=function(t){t.ofMessageType("SelectionModeSetEvent")&&this.rowSelectionModeRepository.next(t.getAggregateId(),t.getMode())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:At}]},t}();var Sa={INDEX:0,ITEM_ID:1,MANY_INDEX:2,MANY_ITEM_ID:3};Sa[Sa.INDEX]="INDEX",Sa[Sa.ITEM_ID]="ITEM_ID",Sa[Sa.MANY_INDEX]="MANY_INDEX",Sa[Sa.MANY_ITEM_ID]="MANY_ITEM_ID";var Ta=function(t){function e(e,n,r){var i=t.call(this,e,"DeleteOriginItemCommand")||this;return i.payload=n,i.type=r,i}return l(e,t),e.byIndex=function(t,n){return new e(t,n,Sa.INDEX)},e.byManyIndex=function(t,n){return new e(t,n,Sa.MANY_INDEX)},e.byItemId=function(t,n){return new e(t,n,Sa.ITEM_ID)},e.byManyItemId=function(t,n){return new e(t,n,Sa.MANY_ITEM_ID)},e.prototype.getType=function(){return this.type},e.prototype.getPayload=function(){return this.payload},e}(ft);var Aa=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Ta},t.prototype.handle=function(t,e){t.deleteItem(e.getPayload())},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var xa=function(t){function n(){return t.call(this,n.default)||this}return l(n,t),n.default=[],n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var Ma=function(){function t(t){this.structureSourceOriginRepository=t}return t.prototype.forEvent=function(){return to},t.prototype.handle=function(t){if(t.ofMessageType("OriginSetEvent")){var e=t.getOrigin();this.structureSourceOriginRepository.next(t.getAggregateId(),e)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xa}]},t}();var Da=function(t){function n(){return t.call(this,n.default)||this}return l(n,t),n.prototype.getPreparedItems=function(t){return this.get(t).getValueOrNullOrThrowError()},n.default=[],n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var Ra=function(){function t(t){this.structurePreparedItemsRepository=t}return t.prototype.forEvent=function(){return ro},t.prototype.handle=function(t){if(t.ofMessageType("StructurePreparedEntitiesSetEvent")){var e=t.getPreparedItems();this.structurePreparedItemsRepository.next(t.getAggregateId(),e)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Da}]},t}();var Pa=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(ta,ke),r.HermesModule.registerCommandHandler(na,ke),r.HermesModule.registerCommandHandler(ia,ke),r.HermesModule.registerCommandHandler(ma,ke),r.HermesModule.registerCommandHandler(ba,ke),r.HermesModule.registerCommandHandler(Ca,ke),r.HermesModule.registerCommandHandler(Ea,ke),r.HermesModule.registerCommandHandler(Aa,ke),r.HermesModule.registerCommandHandler(fa,ke))},i.domainEventHandlers=function(){return f(r.HermesModule.registerDomainEventHandler(Ma),r.HermesModule.registerDomainEventHandler(va),r.HermesModule.registerDomainEventHandler(wa),r.HermesModule.registerDomainEventHandler(Ra))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[oa,da,io,vt,ha],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),Fa=function(t){function n(e,n,r){var i=t.call(this)||this;return i.structureRepository=e,i.structurePreparedItemsRepository=n,i.structureSourceOriginRepository=r,i}return l(n,t),n.prototype.getEntities=function(t){return this.structureRepository.getStructure(t).getEntities()},n.prototype.onEntities=function(t){return this.structureRepository.on(t).pipe(r.hermesMap((function(t){return t.getEntities()})),r.hermesDistinctUntilChanged((function(t,e){if(t.length!==e.length)return!1;var n=!0;return t.forEach((function(t,r){t.equals(e[r])||(n=!1)})),n})))},n.prototype.onEntitiesSize=function(t){return this.onEntities(t).pipe(r.hermesMap((function(t){return t.length})))},n.prototype.onceEntities=function(t){return this.onEntities(t).pipe(r.hermesTake(1))},n.prototype.onOriginSize=function(t){return this.structureSourceOriginRepository.on(t).pipe(r.hermesMap((function(t){return t.length})))},n.prototype.onLoading=function(t){return this.structureRepository.on(t).pipe(r.hermesMap((function(t){return t.getSource().isLoading()})))},n.prototype.onPreparedEntities=function(t){return this.structurePreparedItemsRepository.on(t)},n.prototype.getPreparedEntities=function(t){return this.structurePreparedItemsRepository.getPreparedItems(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Ve},{type:Da},{type:xa}]},n}(xt);var Na=function(){function t(t,e,n){this.itemId=t,this.columnFieldId=e,this.value=n}return t.prototype.getItemId=function(){return this.itemId},t.prototype.getColumnFieldId=function(){return this.columnFieldId},t.prototype.getValue=function(){return this.value},t}();var Oa=function(t){function n(e,n,r,i){var o=t.call(this)||this;return o.commandDispatcher=e,o.sourceDispatcher=n,o.fieldWarehouse=r,o.sourceReadModelService=i,o}return l(n,t),n.prototype.setOrigin=function(t,e){this.sourceDispatcher.setOrigin(e,t)},n.prototype.setLoading=function(t,e){this.sourceDispatcher.setLoading(e,t)},n.prototype.editItem=function(t,e){this.sourceDispatcher.editItem(e,t)},n.prototype.editItemByIndex=function(t,e,n,i){var o=this,a=r.toRxJsObservable(this.sourceReadModelService.onceEntities(i).pipe(r.hermesMap((function(e){return e[t].getId()})))),u=r.toRxJsObservable(this.fieldWarehouse.onFields(i));r.fromRxJsObservable(s.zip(a,u)).pipe(r.hermesTake(1)).subscribe((function(t){var r=t[0],a=t[1];o.editItem(new Na(r,a[e],n),i)}))},n.prototype.deleteRow=function(t,e){void 0!==t.getItemId()?this.deleteItemById(t.getItemId(),e):void 0!==t.getIndex()&&this.deleteItemByIndex(t.getIndex(),e)},n.prototype.deleteRows=function(t,e){t.length>0&&(void 0!==t[0].getItemId()?this.deleteManyItemsByItemIds(t.map((function(t){return t.getItemId()})),e):void 0!==t[0].getIndex()&&this.deleteManyItemsByIndex(t.map((function(t){return t.getIndex()})),e))},n.prototype.deleteItemByIndex=function(t,e){this.commandDispatcher.dispatch(Ta.byIndex(e,t))},n.prototype.deleteItemById=function(t,e){this.commandDispatcher.dispatch(Ta.byItemId(e,t))},n.prototype.deleteManyItemsByIndex=function(t,e){this.commandDispatcher.dispatch(Ta.byManyIndex(e,t))},n.prototype.deleteManyItemsByItemIds=function(t,e){this.commandDispatcher.dispatch(Ta.byManyItemId(e,t))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.CommandDispatcher},{type:oa},{type:Hn},{type:xt}]},n}(St);var ka=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Pa],providers:[xa,Da,Zo,{provide:St,useClass:Oa},{provide:xt,useClass:Fa},bi,Tt,Ii,wt,Mt,At],declarations:[],exports:[]}]}],r}(r.ApiModule),Ha=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("SourceApiModule is required");return n}return l(r,t),r.forComponent=function(){return[Yo]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,ka],declarations:[],exports:[]}]}],r.ctorParameters=function(){return[{type:ka,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),Ba=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),Va=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.Archive),ja=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.DomainEvent),Ga=function(t){function e(e,n){var r=t.call(this,e,n,"SchemaThemeSetEvent")||this;return r.theme=n,r}return l(e,t),e.prototype.getTheme=function(){return this.theme},e}(ja);var za=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.AggregateEvent),La=function(t){function e(e,n){var r=t.call(this,e,"SchemaThemeSetAggregateEvent")||this;return r.theme=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Ga(this.getAggregateId(),this.theme)},e}(za);var Ua=function(t){function e(e,n){var r=t.call(this,e,n,"RowColoringSetEvent")||this;return r.rowColoring=n,r}return l(e,t),e.prototype.getRowColoring=function(){return this.rowColoring},e}(ja);var Wa=function(t){function e(e,n){var r=t.call(this,e,"RowColoringSetEvent")||this;return r.rowColoring=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Ua(this.getAggregateId(),this.rowColoring)},e}(za);var qa=function(t){function e(e,n){var r=t.call(this,e,n,"SchemaVerticalGridSetEvent")||this;return r.verticalGrid=n,r}return l(e,t),e.prototype.getVerticalGrid=function(){return this.verticalGrid},e}(ja);var Ka=function(t){function e(e,n){var r=t.call(this,e,"SchemaHorizontalGridSetEvent")||this;return r.verticalGrid=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new qa(this.getAggregateId(),this.verticalGrid)},e}(za);var Xa=function(t){function e(e,n){var r=t.call(this,e,n,"SchemaHorizontalGridSetEvent")||this;return r.horizontalGrid=n,r}return l(e,t),e.prototype.getHorizontalGrid=function(){return this.horizontalGrid},e}(ja);var Qa=function(t){function e(e,n){var r=t.call(this,e,"SchemaHorizontalGridSetEvent")||this;return r.horizontalGrid=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Xa(this.getAggregateId(),this.horizontalGrid)},e}(za);var Ya=function(t){function e(e){return t.call(this,e,null,"SchemaCreatedEvent")||this}return l(e,t),e}(ja),Ja=function(t){function e(e){return t.call(this,e,"SchemaCreatedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Ya(this.getAggregateId())},e}(za),Za=function(t){function e(n){var r=t.call(this,n,"SchemaAggregate")||this;return r.setTheme(e.DEFAULT_THEME),r.setHorizontalGrid(e.DEFAULT_HORIZONTAL_GRID),r.setVerticalGrid(e.DEFAULT_VERTICAL_GRID),r.setRowColoring(e.DEFAULT_ROW_COLORING),r}return l(e,t),e.prototype.createEvent=function(){return Ja},e.prototype.changeTheme=function(t){this.setTheme(t),t===W.MATERIAL&&(this.setRowColoring(xn.NONE),this.setVerticalGrid(!1)),t===W.LIGHT&&(this.setRowColoring(xn.NONE),this.setVerticalGrid(!1)),t===W.DARK&&(this.setRowColoring(xn.NONE),this.setVerticalGrid(!1)),t===W.GENERIC&&this.setRowColoring(xn.ODD)},e.prototype.setRowColoring=function(t){this.rowColoring=t,this.addEvent(new Wa(this.getId(),this.rowColoring))},e.prototype.setVerticalGrid=function(t){this.verticalGrid=t,this.addEvent(new Ka(this.getId(),this.verticalGrid))},e.prototype.setHorizontalGrid=function(t){this.horizontalGrid=t,this.addEvent(new Qa(this.getId(),this.horizontalGrid))},e.prototype.setTheme=function(t){this.theme=t,this.addEvent(new La(this.getId(),this.theme))},e.DEFAULT_THEME=W.GENERIC,e.DEFAULT_ROW_COLORING=xn.ODD,e.DEFAULT_VERTICAL_GRID=!0,e.DEFAULT_HORIZONTAL_GRID=!0,e}(r.AggregateRoot);var _a=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.create=function(t){return new Za(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateFactory),$a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.AggregateRepository);var tu=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n}(r.InMemoryStore),eu=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:tu},{type:r.AggregateStoreRegister}]},n}(r.InMemoryAggregateStore),nu=function(t){function n(e){var n=t.call(this)||this;return n.inMemorySchemaAggregateStore=e,n}return l(n,t),n.prototype.findById=function(t){return this.inMemorySchemaAggregateStore.findById(t)},n.prototype.save=function(t){this.inMemorySchemaAggregateStore.save(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:eu}]},n}($a);var ru=function(t){function e(e){return t.call(this,e,"CreateSchemaCommand")||this}return l(e,t),e}(r.CreateAggregateCommand),iu=function(){function t(){}return t.prototype.forCommand=function(){return ru},t.decorators=[{type:e.Injectable}],t}(),ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.Command),au=function(t){function e(e,n){var r=t.call(this,e,"SetSchemaThemeCommand")||this;return r.theme=n,r}return l(e,t),e.prototype.getTheme=function(){return this.theme},e}(ou);var uu=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return au},t.prototype.handle=function(t,e){var n=e.getTheme();t.changeTheme(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var su=function(t){function e(e,n){var r=t.call(this,e,"SetRowColoringCommand")||this;return r.coloring=n,r}return l(e,t),e.prototype.getColoring=function(){return this.coloring},e}(ou);var cu=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return su},t.prototype.handle=function(t,e){var n=e.getColoring();t.setRowColoring(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var lu=function(t){function e(e,n){var r=t.call(this,e,"SetSchemaHorizontalGridCommand")||this;return r.enabled=n,r}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(ou);var pu=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return lu},t.prototype.handle=function(t,e){var n=e.isEnabled();t.setHorizontalGrid(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var gu=function(t){function e(e,n){var r=t.call(this,e,"SetSchemaVerticalGridCommand")||this;return r.enabled=n,r}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(ou);var hu=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return gu},t.prototype.handle=function(t,e){var n=e.isEnabled();t.setVerticalGrid(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var du=function(t){function n(){return t.call(this)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),mu=function(){function t(t,e,n,r){this.verticalGrid=t,this.horizontalGrid=e,this.theme=n,this.rowColoring=r}return t.prototype.getRowColoring=function(){return this.rowColoring},t}();var fu=function(){function t(t){this.schemaCssClassesRepository=t}return t.prototype.publish=function(t){void 0!==this.rowColoring&&void 0!==this.horizontalGrid&&void 0!==this.verticalGrid&&void 0!==this.schemaTheme&&this.schemaCssClassesRepository.next(t,new mu(this.verticalGrid,this.horizontalGrid,this.schemaTheme,this.rowColoring))},t.prototype.forEvents=function(){return[Ga,Ua,Xa,qa]},t.prototype.handle=function(t){t.ofMessageType("RowColoringSetEvent")&&(this.rowColoring=t.getRowColoring()),t.ofMessageType("SchemaHorizontalGridSetEvent")&&(this.horizontalGrid=t.getHorizontalGrid()),t.ofMessageType("SchemaVerticalGridSetEvent")&&(this.verticalGrid=t.getVerticalGrid()),t.ofMessageType("SchemaThemeSetEvent")&&(this.schemaTheme=t.getTheme()),this.publish(t.getAggregateId())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:du}]},t}();var yu="SchemaAggregate",vu=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.forEvent=function(){return qa},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.EventDrivenRepository),bu=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.forEvent=function(){return Ga},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.EventDrivenRepository),Cu=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.forEvent=function(){return Ua},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.EventDrivenRepository),Eu=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.forEvent=function(){return Xa},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.EventDrivenRepository),Iu=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(uu,yu),r.HermesModule.registerCommandHandler(cu,yu),r.HermesModule.registerCommandHandler(pu,yu),r.HermesModule.registerCommandHandler(hu,yu))},i.domainEventHandlers=function(){return f(r.HermesModule.registerDomainEventHandler(bu),r.HermesModule.registerDomainEventHandler(Eu),r.HermesModule.registerDomainEventHandler(Cu),r.HermesModule.registerDomainEventHandler(vu),r.HermesModule.registerMultiDomainEventHandler(fu))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),wu=function(){function t(t){this.commandDispatcher=t}return t.prototype.create=function(t){this.commandDispatcher.dispatch(new ru(t))},t.prototype.setTheme=function(t,e){this.commandDispatcher.dispatch(new au(e,t))},t.prototype.setRowColoring=function(t,e){this.commandDispatcher.dispatch(new su(e,t))},t.prototype.setVerticalGrid=function(t,e){this.commandDispatcher.dispatch(new gu(e,t))},t.prototype.setHorizontalGrid=function(t,e){this.commandDispatcher.dispatch(new lu(e,t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var Su=function(t){function n(e,n,r){var i=t.call(this)||this;return i.schemaDispatcher=e,i.structureCommandService=n,i.fabricModalThemeService=r,i}return l(n,t),n.prototype.create=function(t){this.schemaDispatcher.create(t.toAggregateId())},n.prototype.setTheme=function(t,e,n){this.schemaDispatcher.setTheme(t,e.toAggregateId()),this.fabricModalThemeService.changeTheme(this.toFabricTheme(t)),this.structureCommandService.setRowHeightBasedOnTheme(t,n)},n.prototype.setRowColoring=function(t,e){var n=this.toSchemaRowColoring(t);this.schemaDispatcher.setRowColoring(n,e.toAggregateId())},n.prototype.setVerticalGrid=function(t,e){this.schemaDispatcher.setVerticalGrid(t,e.toAggregateId())},n.prototype.setHorizontalGrid=function(t,e){this.schemaDispatcher.setHorizontalGrid(t,e.toAggregateId())},n.prototype.toSchemaRowColoring=function(t){switch(t){case K.NONE:return xn.NONE;case K.ODD:return xn.ODD;case K.EVEN:return xn.EVEN}},n.prototype.toFabricTheme=function(t){switch(t){case W.DARK:return o.Theme.DARK;case W.FABRIC:return o.Theme.FABRIC;case W.GENERIC:return o.Theme.GENERIC;case W.LIGHT:return o.Theme.LIGHT;case W.MATERIAL:return o.Theme.MATERIAL}},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:wu},{type:Ft},{type:o.FabricModalThemeService}]},n}(Pt);var Tu=function(t){function n(e,n,r,i,o){var a=t.call(this)||this;return a.schemaCssClassesRepository=e,a.schemaThemeRepository=n,a.schemaHorizontalGridRepository=r,a.schemaRowColoringRepository=i,a.schemaVerticalGridRepository=o,a}return l(n,t),n.prototype.onTheme=function(t){return this.schemaThemeRepository.on(t.toAggregateId())},n.prototype.onceTheme=function(t){return this.onTheme(t).pipe(r.hermesTake(1))},n.prototype.onHorizontalGrid=function(t){return this.schemaHorizontalGridRepository.on(t.toAggregateId())},n.prototype.onVerticalGrid=function(t){return this.schemaVerticalGridRepository.on(t.toAggregateId())},n.prototype.onRowColoring=function(t){return this.schemaRowColoringRepository.on(t.toAggregateId())},n.prototype.onCssClasses=function(t){return this.schemaCssClassesRepository.on(t.toAggregateId())},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:du},{type:bu},{type:Eu},{type:Cu},{type:vu}]},n}(sn);var Au=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.prototype.onThemeChanged=function(t){return this.onEvent(t,Ga).pipe(r.hermesMap((function(t){return t.getTheme()})))},n.prototype.onHorizontalGridChanged=function(t){return this.onEvent(t,Xa).pipe(r.hermesMap((function(t){return t.getHorizontalGrid()})))},n.prototype.onVerticalGridChanged=function(t){return this.onEvent(t,qa).pipe(r.hermesMap((function(t){return t.getVerticalGrid()})))},n.prototype.onRowColoring=function(t){return this.onEvent(t,Ua).pipe(r.hermesMap((function(t){return t.getRowColoring()})))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus}]},n}(Pi),xu=function(t){function i(){return t.call(this)||this}return l(i,t),i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,r.HermesModule.defineAggregate(yu,_a,nu,iu,f(Iu.commandHandlers()),f(Iu.domainEventHandlers())),Iu],providers:[wu,{provide:$a,useClass:nu},eu,tu,{provide:Pt,useClass:Su},{provide:sn,useClass:Tu},{provide:Pi,useClass:Au},du],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.ApiModule),Mu=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("SchemaApiModule is required.");return n}return l(r,t),r.forComponent=function(){return[Ba,Va]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,xu],declarations:[],exports:[]}]}],r.ctorParameters=function(){return[{type:xu,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),Du=function(t){function n(){return t.call(this,n.default)||this}return l(n,t),n.prototype.on=function(e){return t.prototype.on.call(this,e).pipe(r.hermesFilter((function(t){return t})))},n.prototype.once=function(t){return this.on(t).pipe(r.hermesTake(1))},n.default=!1,n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);function Ru(t){return new oe("gui-grid-"+t.generateId())}function Pu(t){return new on("gui-grid-"+t.generateId())}function Fu(t){return new pn("gui-grid-"+t.generateId())}var Nu=[{provide:oe,useFactory:Ru,deps:[ei]},{provide:on,useFactory:Pu,deps:[ei]},{provide:pn,useFactory:Fu,deps:[ei]},ni,ri,Mi,ii,oi,hn,ji,ui,ci,Ti,_e.forComponent(),Qi.forComponent(),Ko.forComponent(),wo.forComponent(),Ha.forComponent(),Mu.forComponent(),Ze.forComponent(),Ai,Ri,Di,Fi,Hi,Bi,Vi],Ou=function(t){function n(e,n,r,i,o,a,u,s,c,l,p,g,h,d,m,f,y,v,b,C,E,I,w,S,T,A,x,M,D,R,P,F,N,O,k,H,B,V,j,G,z,L,U,W,q,K,X,Q){var Y=t.call(this,j,V,K,X,e,n,q,d,r,i,u,s,c,o,a,l,p,g,h,m,f,y,v,b,C,E,I,w,S,T,A,x,M,D,R,P,F,N,O,k,H,B)||this;return Y.elementRef=V,Y.detectorRef=j,Y.injector=G,Y.structureDefinition=z,Y.structureWarehouse=L,Y.compositionWarehouse=U,Y.schemaStylesManager=W,Y.schemaReadModelRootId=q,Y.structureDetailViewService=Q,Y.loaderEnabled=!1,Y.circleLoaderEnabled=!0,Y.initialLoaderAnimation=!1,Y.localStreamCloser=new Qt,Y.styleModifier=new Vt(Y.elementRef.nativeElement),d.create(Y.structureId),p.create(Y.compositionId),l.create(Y.schemaId),Y}return l(n,t),n.prototype.ngOnChanges=function(e){t.prototype.ngOnChanges.call(this,e)},n.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this.hermesSubscribe(this.structureWarehouse.on(this.structureId),(function(t){e.structure=t,e.loaderEnabled=t.getSource().isLoading(),e.circleLoaderEnabled=t.isLoaderVisible(),e.loaderEnabled&&!e.initialLoaderAnimation&&(e.initialLoaderAnimation=!0),e.detectorRef.detectChanges()})),this.structureDetailViewService.init(this.elementRef)},n.prototype.ngAfterViewInit=function(){var t=this;this.structureInitialValuesReadyArchive.next(this.structureId,!0);var e=this.elementRef.nativeElement.offsetWidth;e>0?this.compositionCommandDispatcher.setContainerWidth(e,this.compositionId):r.hermesTimer(0).pipe(this.hermesTakeUntil()).subscribe((function(){(e=t.elementRef.nativeElement.offsetWidth)>0&&t.compositionCommandDispatcher.setContainerWidth(e,t.compositionId)})),this.schemaStylesManager.init(this.elementRef,this.schemaReadModelRootId),this.hermesSubscribeWithoutRender(this.compositionWarehouse.onWidth(this.compositionId),(function(e){t.styleModifier.getHost().setWidth(e)}))},n.prototype.ngOnDestroy=function(){this.localStreamCloser.unsubscribe(),t.prototype.ngOnDestroy.call(this)},n.prototype.isBorderEnabled=function(){return this.structureDefinition.isBorderEnabled()},n.prototype.getStructureId=function(){return this.structureId},n.prototype.getElementRef=function(){return this.elementRef},n.prototype.getSelectorName=function(){return"gui-structure"},n.decorators=[{type:e.Component,args:[{selector:"gui-structure",template:'<div gui-structure-blueprint></div>\n\n\x3c!---------- LOADING ----------\x3e\n<div [ngClass]="{\'gui-loader-visible\': loaderEnabled, \'gui-loader-hidden\': !loaderEnabled && initialLoaderAnimation}"\n\t class="gui-loading">\n\t<gui-spinner *ngIf="circleLoaderEnabled"\n\t\t\t\t [diameter]="120"\n\t\t\t\t [primary]="true">\n\t</gui-spinner>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-border]":"isBorderEnabled()","[id]":"structureId.toString()"},providers:f(Nu,[{provide:li,useExisting:n},{provide:er,useExisting:n}]),styles:[".gui-box-border{box-sizing:border-box}.gui-bg-transparent{background-color:transparent}@use 'common/variables';.gui-border{border-width:1px}.gui-border-0{border-width:0}.gui-border-b{border-bottom-width:1px}.gui-border-t{border-top-width:1px}.gui-border-solid{border-style:solid}.gui-border-b-solid{border-bottom-style:solid}.gui-border-t-solid{border-top-style:solid}.gui-border-none{border-style:none}.gui-rounded{border-radius:4px}.gui-cursor-pointer{cursor:pointer}.gui-block{display:block}.gui-inline-block{display:inline-block}.gui-inline{display:inline}.gui-flex{display:-ms-flexbox;display:flex}.gui-hidden{display:none}.gui-display-grid{display:-ms-grid;display:grid}@use 'common/variables';.gui-flex-row{-ms-flex-direction:row;flex-direction:row}.gui-flex-row-reverse{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.gui-flex-col{-ms-flex-direction:column;flex-direction:column}.gui-flex-col-reverse{-ms-flex-direction:column-reverse;flex-direction:column-reverse}.gui-justify-start{-ms-flex-pack:start;justify-content:flex-start}.gui-justify-end{-ms-flex-pack:end;justify-content:flex-end}.gui-justify-center{-ms-flex-pack:center;justify-content:center}.gui-justify-between{-ms-flex-pack:justify;justify-content:space-between}.gui-justify-around{-ms-flex-pack:distribute;justify-content:space-around}.gui-justify-evenly{-ms-flex-pack:space-evenly;justify-content:space-evenly}.gui-items-start{-ms-flex-align:start;align-items:flex-start}.gui-items-end{-ms-flex-align:end;align-items:flex-end}.gui-items-center{-ms-flex-align:center;align-items:center}.gui-items-between{-ms-flex-align:space-between;align-items:space-between}.gui-items-around{-ms-flex-align:space-around;align-items:space-around}.gui-items-evenly{-ms-flex-align:space-evenly;align-items:space-evenly}.gui-flex-wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.gui-flex-wrap-reverse{-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse}.gui-flex-nowrap{-ms-flex-wrap:nowrap;flex-wrap:nowrap}@use 'common/variables';.gui-grid-cols-1{-ms-grid-columns:(minmax(0,1fr))[1];grid-template-columns:repeat(1,minmax(0,1fr))}.gui-grid-cols-2{-ms-grid-columns:(minmax(0,1fr))[2];grid-template-columns:repeat(2,minmax(0,1fr))}.gui-grid-cols-3{-ms-grid-columns:(minmax(0,1fr))[3];grid-template-columns:repeat(3,minmax(0,1fr))}.gui-grid-cols-4{-ms-grid-columns:(minmax(0,1fr))[4];grid-template-columns:repeat(4,minmax(0,1fr))}.gui-grid-cols-5{-ms-grid-columns:(minmax(0,1fr))[5];grid-template-columns:repeat(5,minmax(0,1fr))}.gui-grid-cols-6{-ms-grid-columns:(minmax(0,1fr))[6];grid-template-columns:repeat(6,minmax(0,1fr))}.gui-grid-cols-7{-ms-grid-columns:(minmax(0,1fr))[7];grid-template-columns:repeat(7,minmax(0,1fr))}.gui-grid-cols-8{-ms-grid-columns:(minmax(0,1fr))[8];grid-template-columns:repeat(8,minmax(0,1fr))}.gui-grid-cols-9{-ms-grid-columns:(minmax(0,1fr))[9];grid-template-columns:repeat(9,minmax(0,1fr))}.gui-grid-rows-1{-ms-grid-rows:(minmax(0,1fr))[1];grid-template-rows:repeat(1,minmax(0,1fr))}.gui-grid-rows-2{-ms-grid-rows:(minmax(0,1fr))[2];grid-template-rows:repeat(2,minmax(0,1fr))}.gui-grid-rows-3{-ms-grid-rows:(minmax(0,1fr))[3];grid-template-rows:repeat(3,minmax(0,1fr))}.gui-grid-rows-4{-ms-grid-rows:(minmax(0,1fr))[4];grid-template-rows:repeat(4,minmax(0,1fr))}.gui-grid-rows-5{-ms-grid-rows:(minmax(0,1fr))[5];grid-template-rows:repeat(5,minmax(0,1fr))}.gui-grid-rows-6{-ms-grid-rows:(minmax(0,1fr))[6];grid-template-rows:repeat(6,minmax(0,1fr))}.gui-grid-rows-7{-ms-grid-rows:(minmax(0,1fr))[7];grid-template-rows:repeat(7,minmax(0,1fr))}.gui-grid-rows-8{-ms-grid-rows:(minmax(0,1fr))[8];grid-template-rows:repeat(8,minmax(0,1fr))}.gui-grid-rows-9{-ms-grid-rows:(minmax(0,1fr))[9];grid-template-rows:repeat(9,minmax(0,1fr))}.gui-grid-rows-gap-0{grid-row-gap:0}.gui-grid-rows-gap-1{grid-row-gap:1px}.gui-grid-rows-gap-2{grid-row-gap:2px}.gui-grid-rows-gap-3{grid-row-gap:3px}.gui-grid-rows-gap-4{grid-row-gap:4px}.gui-grid-rows-gap-5{grid-row-gap:6px}.gui-grid-rows-gap-6{grid-row-gap:8px}.gui-grid-rows-gap-7{grid-row-gap:10px}.gui-grid-rows-gap-8{grid-row-gap:12px}.gui-grid-rows-gap-23{grid-row-gap:42px}.gui-grid-cols-gap-0{grid-column-gap:0}.gui-grid-cols-gap-1{grid-column-gap:1px}.gui-grid-cols-gap-2{grid-column-gap:2px}.gui-grid-cols-gap-3{grid-column-gap:3px}.gui-grid-cols-gap-4{grid-column-gap:4px}.gui-grid-cols-gap-5{grid-column-gap:6px}.gui-grid-cols-gap-6{grid-column-gap:8px}.gui-grid-cols-gap-7{grid-column-gap:10px}.gui-grid-cols-gap-8{grid-column-gap:12px}.gui-grid-cols-gap-23{grid-column-gap:42px}.gui-h-full{height:100%}.gui-list-none{list-style-type:none}@use 'common/variables';.gui-m-0{margin:0}.gui-mx-0{margin-left:0;margin-right:0}.gui-my-0{margin-bottom:0;margin-top:0}.gui-m-1{margin:1px}.gui-mx-1{margin-left:1px;margin-right:1px}.gui-my-1{margin-bottom:1px;margin-top:1px}.gui-m-2{margin:2px}.gui-mx-2{margin-left:2px;margin-right:2px}.gui-my-2{margin-bottom:2px;margin-top:2px}.gui-m-3{margin:3px}.gui-mx-3{margin-left:3px;margin-right:3px}.gui-my-3{margin-bottom:3px;margin-top:3px}.gui-m-4{margin:4px}.gui-mx-4{margin-left:4px;margin-right:4px}.gui-my-4{margin-bottom:4px;margin-top:4px}.gui-m-5{margin:6px}.gui-mx-5{margin-left:6px;margin-right:6px}.gui-my-5{margin-bottom:6px;margin-top:6px}.gui-m-6{margin:8px}.gui-mx-6{margin-left:8px;margin-right:8px}.gui-my-6{margin-bottom:8px;margin-top:8px}.gui-m-7{margin:10px}.gui-mx-7{margin-left:10px;margin-right:10px}.gui-my-7{margin-bottom:10px;margin-top:10px}.gui-m-8{margin:12px}.gui-mx-8{margin-left:12px;margin-right:12px}.gui-my-8{margin-bottom:12px;margin-top:12px}.gui-m-23{margin:42px}.gui-mx-23{margin-left:42px;margin-right:42px}.gui-my-23{margin-bottom:42px;margin-top:42px}.gui-mb-4{margin-bottom:4px}.gui-mb-6{margin-bottom:8px}.gui-mb-8{margin-bottom:12px}.gui-mb-10{margin-bottom:16px}.gui-mb-18{margin-bottom:32px}.gui-mr-0{margin-right:0}.gui-mr-5{margin-right:6px}.gui-mr-auto{margin-right:auto}.gui-ml-auto{margin-left:auto}.gui-mt-4{margin-top:4px}.gui-mt-6{margin-top:8px}.gui-mt-10{margin-top:16px}.gui-mt-14{margin-top:24px}.gui-overflow-hidden{overflow:hidden}.gui-overflow-y-scroll{overflow-y:scroll}.gui-overflow-x-hidden{overflow-x:hidden}.gui-overflow-auto{overflow:auto}@use 'common/variables';.gui-p-0{padding:0}.gui-px-0{padding-left:0;padding-right:0}.gui-py-0{padding-bottom:0;padding-top:0}.gui-p-1{padding:1px}.gui-px-1{padding-left:1px;padding-right:1px}.gui-py-1{padding-bottom:1px;padding-top:1px}.gui-p-2{padding:2px}.gui-px-2{padding-left:2px;padding-right:2px}.gui-py-2{padding-bottom:2px;padding-top:2px}.gui-p-3{padding:3px}.gui-px-3{padding-left:3px;padding-right:3px}.gui-py-3{padding-bottom:3px;padding-top:3px}.gui-p-4{padding:4px}.gui-px-4{padding-left:4px;padding-right:4px}.gui-py-4{padding-bottom:4px;padding-top:4px}.gui-p-5{padding:6px}.gui-px-5{padding-left:6px;padding-right:6px}.gui-py-5{padding-bottom:6px;padding-top:6px}.gui-p-6{padding:8px}.gui-px-6{padding-left:8px;padding-right:8px}.gui-py-6{padding-bottom:8px;padding-top:8px}.gui-p-7{padding:10px}.gui-px-7{padding-left:10px;padding-right:10px}.gui-py-7{padding-bottom:10px;padding-top:10px}.gui-p-8{padding:12px}.gui-px-8{padding-left:12px;padding-right:12px}.gui-py-8{padding-bottom:12px;padding-top:12px}.gui-p-23{padding:42px}.gui-px-23{padding-left:42px;padding-right:42px}.gui-py-23{padding-bottom:42px;padding-top:42px}.gui-pr-10{padding-right:16px}.gui-pl-9{padding-right:10px}.gui-pb-6{padding-bottom:8px}.gui-pl-21{padding-left:38px}.gui-pt-4{padding-top:4px}.gui-pt-6{padding-top:8px}.gui-pt-10{padding-top:16px}.gui-pt-14{padding-top:24px}.gui-static{position:static}.gui-fixed{position:fixed}.gui-relative{position:relative}.gui-absolute{position:absolute}.gui-text-xxs{font-size:11px}.gui-text-xs{font-size:12px}.gui-text-sm{font-size:13px}.gui-text-base{font-size:14px}.gui-text-lg{font-size:16px}.gui-text-xl{font-size:18px}.gui-text-2xl{font-size:20px}.gui-text-3xl{font-size:22px}.gui-leading-4{line-height:16px}.gui-leading-6{line-height:24px}.gui-font-thin{font-weight:100}.gui-font-extralight{font-weight:200}.gui-font-light{font-weight:300}.gui-font-normal{font-weight:400}.gui-font-medium{font-weight:500}.gui-font-semibold{font-weight:600}.gui-font-bold{font-weight:700}.gui-font-extrabold{font-weight:800}.gui-font-black{font-weight:900}.gui-not-italic{font-style:normal}.gui-whitespace-nowrap{white-space:nowrap}.gui-overflow-ellipsis{text-overflow:ellipsis}.gui-no-underline{text-decoration:none}.gui-w-full{width:100%}.gui-w-96{width:384px}.gui-w-3\\/5{width:60%}.gui-structure *,.gui-structure ::after,.gui-structure ::before{box-sizing:border-box}.gui-structure input{font-size:13px;outline:0}.gui-bold{font-weight:700}.gui-italic{font-style:italic}.gui-bar-view{width:100%}.gui-align-right{display:-ms-flexbox;display:flex;-ms-flex-pack:end;justify-content:flex-end;text-align:right;width:100%}.gui-align-left{text-align:left;width:100%}.gui-align-center{-ms-flex-pack:center;justify-content:center;text-align:center;width:100%}.gui-icon{cursor:pointer}.gui-icon svg{fill:#aaa;stroke:#aaa;transition:stroke .3s ease-in-out}.gui-icon svg:hover{fill:#464646!important;stroke:#464646!important}.gui-view-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.gui-percentage-bar{background:#deebff;border-radius:4px;box-shadow:inset 1px 1px 2px 0 #ccc;color:#0747a6;height:22px;padding:4px;position:relative;text-align:center;width:100%}.gui-percentage-bar .gui-percentage{background:#8abcfc;border-radius:4px;height:22px;left:0;position:absolute;top:0}.gui-percentage-bar .gui-percentage-view{color:#031d44;position:relative;width:100%}.gui-clear-search-icon{cursor:pointer;height:16px;position:absolute;right:8px;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);width:16px}.gui-clear-search-icon::after,.gui-clear-search-icon::before{background-color:#aaa;border-radius:8px;content:' ';height:16px;left:7px;position:absolute;width:2px}.gui-clear-search-icon::before{-ms-transform:rotate(45deg);transform:rotate(45deg)}.gui-clear-search-icon::after{-ms-transform:rotate(-45deg);transform:rotate(-45deg)}.gui-clear-search-icon:hover::after,.gui-clear-search-icon:hover::before{background-color:#464646}",".gui-structure,.gui-structure *{border-color:#d6d6d6;font-size:14px}.gui-structure input{color:#333;font-family:Arial}.gui-header{background:#f2f3f4;border-bottom:1px solid;border-color:inherit;height:36px}.gui-header .gui-header-cell.gui-header-sortable{cursor:pointer}.gui-header .gui-header-cell.gui-header-sortable:hover{background:#e6e7e8}.gui-header .gui-header-cell .gui-header-menu-icon{display:none}.gui-header .gui-header-cell:hover .gui-header-menu{cursor:pointer}.gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:block}.gui-header .gui-header-cell:last-of-type{border-right:0}.gui-header .gui-header-cell .gui-header-title{display:-ms-flexbox;display:flex;line-height:1.4em}.gui-header .gui-header-cell .gui-header-title .gui-sort{display:none;height:14px;margin-left:4px;width:14px}.gui-header .gui-header-cell .gui-header-title .gui-sort-asc{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAB2CAYAAAAz4kaDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABNRSURBVHhe7V1pU1vHmkYSixEIBAIhME6cXNshjjMkNuBNeMM2U6lUJeOKwfg6W5UrqeRLPuQHJPk2n6Y8+ZaUZ7I5cYwXbEySe+/Unbmp3MQbiM3YGBtvxAVml1iEEJLmeVqniSyD8ILhKDmP3Zw+3X16eZ9+3377nCMpRoMGDSHQKceoQiAQ0H366aexra2tsXogOTk5gGT/M8884y0rK/MFS0UXDMoxKkACcIh1OBxmg8FQ0tzSsmfM43llYHDwhe6engJLZuaC7Vu3dq9Zs2b8xx9/JDlRg6jRCEULUsbHx9ecra3dqDfoV46NjT3r9Y4nMT8uNs6dEJ9wXqfXnytcverv1nTrGWjHsLg4ChAVRJCEzz//PNXj86w/c+pcxcjo8GZdjC4FWUYEPcvodDoUC7gRXEZj0v+tt9sPZKan//Tyyy8PMV/tUL1pIgn79u1L9UxM2FtaLpSPDA9tHRvzZMXGxibAPOl8Ph/LxOCcTMR5vd4kvU5n6+3rNRoTE4d27NjRVV1dPa5Up1qonojc5bnp/nH/+ubmpor+vr5tMPxWLtBAjN/vF2WgDYIMHhGo5caR4eGcgYGB5GxbtrO8vPx2VVWVRxRWKYRaqxVff/112lDX6PrGhuayIdfQFsg4EwLXQxOE4EmEIvwYqRnMQ7oOGmJxulxbz9Wdq3C5XMXHjx83KdWqEqrViC+++MLS09Oz/uKFC7uGXK5tAX/AajBADaASYs4LnwhaoCxz/DsZRBmBRI/Hk9Pf1w8PN9n5xhtvdB8+fFiVmqFKjaAmDA4Ormtvb38Fs3kTkjKFLYKAYf8FCRS4XqefFH4wruRNltHpkG4ZGRkpaWpq2tXf329Xq2aoTiOOHTtm6ejoWHf58uUKCK4EZsYmSHhw6FCHEYt4Tm9vrykpKclZUVGhujVDVUSQhJs3b66FJuyE0Eows20IUALO+QcHrqdHZYSZskHDEq1Wqwt7DFWRoRoiSMKlS5fW3bhx45W+vr4tSMpBoAxF/sNA8ahYkdHtdlvhTRnNZvOQmjRDFUSQBGjBuuvXr5dDE+gd5XKPQK9IEaJS8sHAOhi418BpMsjIdjqdprS0NNWYqXlfrLkwkwSYpB1YoLkwL2S6JODhlocgWAfrIrEAojoriNiCBbx8eHjYXllZmSwKziPmVSOoCbdu3Vrf1tbGhVmYI0qJJFBoFB7DbIH1Ekq9SdAMG8xgCjXj9ddfn1fXdt6IoCaQhCtwUWGzS5CUjQD5/Cb8UDKkECVkmiwr46FHQsZZl9QMQimXPD4+boMmJprMJteOl+fvdsi8mKZDhw6l3+7ttV9sa63AmrANAqF3RCglggKUZkkKNRShZQmey7TQ8jLOHXcoZHmEjEHnYKnDUb/HG/AWw0ylKkXmFHOuEdSEXzs77dfgokITtkB0NopDyb4DUrDhs5lHCphpUtCMh2qQDDJfnk8FFEmamJjIcg66EhOTkly752EBn1MiqAmd3Z321gsXdg04B7YE/AEbRBRxn0ABM/BeEmc1A+NSyJIgkkAwDd6RiLNcXFzctARIkCp/wG8cc49m9w/0J1vS0uf8dsicEfHZZ5+Z4anYWy5c2Ol0urZCcFkQKsWolJgaoTMau+NJLQgVbnic+ZjhghASFF4+HMzjdEA5o2fMk+0aciZa0i3OV199tRNkzMmaMSdEkITR0dFiR0NDhWtwcItOrxckyFkcSUgS8fHxQrgsSwFTuCSFaayHmsI0HqXwExISJu/KRmrDj3zlWnRNbxwZdWf39vWaMi0ZzpdeemlOFvBHSgQGp1u8eLF52D1sb25uLseiuBVpVpLAgROUD+ajiE8FRYA+j8fjg5mhGRPurQTzZZAgQQgBXONlecSnb4AIdkKQwWsDfn8Sb4fATBmt2Tmuf5sDMh4ZESRBecZcXFvrKB8aGirBIMVDnTs1IRINYqH2QgP6oBE9mP18Pm1AGuUr8qkBFJ6sUzmi+cCY0WjsYARYQD5EgWkg6+P1rA/niWPYZ3R3305alLvIVQoz9f0jNFOPhAgMXDxjJgmOekfFqHu0BLPMCpGjPZgJzjqaAz9NBi8IXieFwTwFXgjlitlsrsnLy7vY1dVFN5dvcEySyaOME8pC7cd1159//vkTME03R0ZG0pGWgnqFY8D65VEAzdI8ESQBGUxEasA4MeHL7u7pTl6ckeksfbUUZHz/SMiYdSIwOKEJmL322traiuHhkW26QEwGxiXakvOfw5RxKUhJBI9I80LgHbDzB5KSkv7d5XL1YZ3hxi8LQcxulgsPCihJXruvsLDQgV17LMhYiL6loIwoxAOJkKSE/pvsGQ74bxz3jOfcvn3buDhzsetRLeCzuqELIWFDfX39brfbXYIBWZBlCA4vCDlUIQAEmhceQ2a2F+vB9bS0tJObNm36n3379jlBghv5kwXkteFBAn0J9PT0jGHXXLt69eqD6enpx6klSKZdE23xKNsOvf63fooY/6RjLNvq6ur2wPPb8CjuTc0aEZIEDKb43Llz5ejwVhDCZ8wRtQ75k/sCCgVxLrA3MzMza9asWVMJTajH+aStul+8/fbb3uHh4Xq73X4wKyvrBOsGCT6aMLZJQtiHGcC3RTJAaumpU6f2oL4NX375pXifarYwK0SQhI8//tiEgRWfPXu2AmaA3pEFgjVwsJFAISiLI+NcmK9lZGTU5OfnH4FpqX/vvfceelNFMqAdDUVFRd+CYJJxg2TIvs1EBMuhj/TW0jAxtpEMeFUbZ1MzHpoIdE534MABPoIsPn36dAW8o20QZgY6b5A+fCRIEqA9Ezi9illbg0W2EmmO8vJyd7DUw4OEwtw1rF279mB2dvZxJF1Hk1zUgwt0BHAMiinToQ4LyNguNWO2yHgoIkgCzRGEvwEk7EbHSpCWThKkDZ4JimmYiI2Lu2q1WqtBwhGQWv/mm2+OKUVmDWVlZePUDJi8b0F4FQi4jvYJpcT04FhYTmoGJxzJmK0144GJIAl0UTHruSbQHG1DJ4UmcHJzlrHzM5GBfG7UrmTbbCdXrlx5BIOtn01NCAc1A8ITmpGbm3scbbcjOSITchwMvM2CI4anTwcZpT///POskPFAREhNgCdhh3e0i24lCKGvHnRR0WFplmQIRcj5BMpeweysXr58+VGkNz0KTQgH1wwI8vxzzz1HzaA3dRVt30WG7DsDtUHRCJFHMjBG89jY2NYzZ878GS7yxv379z/wqzr3TQQ69ZsmOGrFmoBOCU1QiggiZIcJDkAOSAJxH8pcXrhw4clly5YdMZlMDXNBggTNFJyBxhUrVnyLPhxHn0kGIfLlkX0nwsdE4Jy3aizUjLPnzv4Z2lL8oGTcFxFoVJCABu3NLc1l7lE3H28G9wnoKBF6lIFuqRyYAvry7Tk5OTVLly49hvOWR2mOpgPJQD8uoA9HuICjj9dwHmCfCfZ5yn1GyBFBj5GljYyObq1vatwd0Osf6PXOeyZCksAbeGdra8sGB50lEz7fPe8T5IAww3yIt8M+f/f4449XYaPVDFMxqhSfc1ALsXFsgrt8GBOjGknX0V9BBjVAakQkgBaaKYtzcHDb6VM/777V1bXhfsm4ZyKwGKVxTWhqPF8xMNC/HQuyzaDXU7pKibtBEhg4IAwsgEFxVFdhCk4sWbLkcHx8fKMaPkxCbcSC21hYWMgF/Bj6yh14gJOHYLc5julA0lCWZioTE7TU4ajd09Xbu+Grr77iZzjuCfdEBB9vdnV1rW9obChzuZxb0GgmGhe3sqenIdhBxa4GFJ+9/bHHHqt54oknjs63JoSD3tT4+HgT9zCcKEi6BhMMSxPcZ3As0wHTTRCFMuItdJfTtfXc2TMVrpF7fwt9RiL4VnZvb6/9QuuFXf0DA9vRoBWNTT5PkMepwDzMJhZANEASjj/55JOVILJJDZoQDpopjLVx1apVB0FGFZKuseMzmyeQhFGyHMZG35ZmSryQcKvrFl3bGV9IiEgENaG7r3vdxUsXXxl0ujaB8Ewk0x6KGSLDdEAeba0fnbuC9eC7RYsWVWVkZJxXkyaEQ2oGyKBmnOQtF3KBoJS4G5SATh+URfAGAe/06y3DQ8Ml9XUNu7p6emZ8C31aIvjyFz+fcOXylV39ff3b/D7f5FvZ7JToWITOKeBUugxNOEFNSE1NVaUmhIOawdshBQUF39hstmMYdsRNn6LyQZkocZDCHXiGa8hV2thIzeiKuGZMSURNTU3a1atX17a1te0cHHBuRp185UV8PkGwr6gi2+UDFR9VVyTxXzANR6rNFWjBSd5OwMLc8tprr42IBqIAdG2pGc8+++xhW7atWm/QX/PTSAXHNjlWn195Jh5MFLKR8sFf2ouMEWhGQ13drkivd05JxC+//PKn9vb2sr6+vu2oSLx3pKcZQp7STIx4/0KYJpEoyGBfqKI4n0A3Ly/MzT2BhfmwxWJp2rt3b1R8ujMU1Ax6U0WFRQezbFnHMNh2jM/HMXKsIEY8bRQCgSDkOym/BfGPhTNQz7/W1tbuvnz58pPIugt3EXH06FGrx+PJHxgYKICg+TSMdU4JkSHI+G3XiTkzEWswXM222b7709InxJoQTZoQDuWubXPhqsIjVmvWSZAgbqEzj2NWzND0QgpCh3WSn1wqwC58TVVVlVlJn8RdRDgcjryxsTF+Uke8ixpMnRrsBD0FHtEQj150qR2qfCL/X/IPWVItjfOxY55t0Ezx4dIGu/0bTDDeCYCZCnBjKvKlDCKB+XBysvkpqJaWljwleRJ3EFFdXZ2BBXo5XLh8nKbOVDlpCpon4S14Yw2x17Js1u+WP5tfhbTm3wMJErxRiENzwcqCwzZbVjW0gTtw3i8T459JJSBLelImEJEPk78yfOG+g4jz588vTUhIKEbFNvrDMxKB1tkJlPNiTbiJteCHgtUFR529vXN6A2+uQM2gN7WmaE1lljWzxu/z/4qxK0/6IjNBWZI0uMNZsDjFmPDLlCyBO4i4ePGiFdrwDC5Ko7oFG4iAoLp54RFdz7BkVhcVFlb6xnyO999//3ejCeEgGbDzDpDxTabVWoUJexOOCl0npcTUoCwhK05uM7RieV1dHT+aNok7iLBarU4wNoDCvCs5ea9lOqBpb2xcbEd6uuV7+7p1h9GQ4/eoCeGgmaJmYMzfWq2Z1XBOOiDpiF9PRFkyQEZuo9HYk52dfcem9g4iNm/e3Ird5D8Q7eQ5LhIqRfAYFrxwaW+YzeYTBUUrD0GT/hAkSEjNKCoo+ibNbD4O23ETyT7KhpByknFFlpzcnfAk/1FUVNQmMhXcQcSLL77YNTo6+k+w3QrT5JamKaxSLlrUnBtpaWk1xRvshwd7Bx1080SBPxCoGfSmijcXf5uenl4Ned1A8hBkJLQjVG6UJeLDCxYsuAQZn9m5c2eHyFBwBxHE9u3bW7CbrISgT+HCfiR5uF5goeGbd06QdD0xMfFvUK//3rhx46Hert4/JAkSJGOof8hht9sPpKSkfELZkBAEF+SF5UPc9OTLcb1YS0/l5eUdQdlW5AcZUnAXEdSKFStW/IDwXxD2MQi+BST0wZu6CXL+npqa+vkLL7zwcU5Ozn8i/dwfmQQJklFRUVFns9k+Li0t/Q9Yiv0Q+v9CXjdBRj/izZDf0aeffvrAsmXL/tba2npLuXQS07pFn3zySRwqyenq6tqIDcgzcE0HwORPHR0dDWB+XPGr5wx79+5dBZv8CWbScziN7EUEbXWDyWR6e//+/XVK2pzggw8+0EM+Cbm5uc/99NNPdnhImZjUF7Oysn5saGi4BRPm/eijj+66gTiDfxokhF9iiMqpShOoRNznnWtECxESJAQkxEEr9HwoNh0BEjMSoRZEGxH3i7vWCA3zA40IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJoo6IQMi3gk2FSHlqxu9SI6KRDM00qQQaESqBRoRKoBGhEmhEqATRRwS/hRCBfhF/SEN+K6GIRzGihgifwTAR0Os8IIC/vAQiAjF6/mYF8gIgg3H+pgvjMXodf12DX48d8fu61YSoIcJiMg2nmlLa9Ho9f51F/CRZbGys2DOExcnNkNmc2paSkqLaX/cKR9QQkZeX15331FN/hbDbDQaDPy4uLsbtdovfZMC5iJMMBGrBlaVP5f11yZIlPcGr1Y+oIYI/FuVyuX5JTk6qx6zvxvQfhdD5i4/it99IDkgahjp0m1JMjZ2//nr2nXfeGVQuVz1m+iJbVeHdd98dTzGlODu7bg/FGsTMT4Lw+Ysmnvi4+IG4hPhav8//l8KVq35YvHhxW35+ftR8b7nic0QP+FXPZrM5Bdpg/+X06XVer4e/DBYTHx/fvXad/dS42/1PaI7rww8/JEFcL6ICUUeERGVlpaGlpSWus7NTbzKZdDBXfqwjE2+99RZ/NT5qCNCgQcPdiIn5f8mUtwsfGiECAAAAAElFTkSuQmCC) center/contain no-repeat;display:block}.gui-header .gui-header-cell .gui-header-title .gui-sort-desc{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAB2CAYAAAAz4kaDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABPcSURBVHhe7V1pU1TXuqa7aQSaHpjBaxRkEKMCMikeoyeVm9ycqAhGcIia5GYwX/IhvyDmD+RDqu6HpJJKVeJ1wFQqZSVVVxETacQBxOiJlibxRBOFpqFpukGGHu/zrN6b0yg0RgF3m/2QlbV7DXuv9T7rHdbe2+4YFSpUhEEj5VGFYDCo+eSTT2KvXbsWq9PptG63O5idnR1YtmyZt6GhwS81iyropDwqQAKQxV68eNESo9M9d/3na7sc/Y6tI6MjLw243BWpKSnxzz//vH316tWeU6dOBUO9ogNRpRH79+83OZ3O6razZ9fPmxdX5vN4V3h8XgPrdLHaEb0u7ieQ1bGqqupERkZGG7RjRHSMAkSNRlAbvvzyy/m37tzaOzbmqff7fAU+vz85EAgkoC5eE6MxBHz+bJ/fWwSy4kdHRzugFS6pu+IRNURkZmYmxxsM63779V91Go0mHyne5/Np9Hp9jFarjeFxrD5Wj/LEMa9Hk7c47w9oxK2jR496pFMoGlFDxJIlSxbaurpeG/WMrfH7/YnUkPj4+Biv1yvqeezxeITmgBiDe3DIOzQ4eKGtrc0pGigcWilXPAYHBxMHXK5CHBohaCx8DbVAaEP4MaCBuTIMuF2FDrc7iQXRgKghAitdh//FxwSCGg3iIYg/JuD3x/CYEYc4xh8o4meNNhCcp/X7Y0O9lY+oIWIyaDXS8EkMjkUIyKA1qgLXEKKaiCcJKhEKgUqEQqASoRCoRCgEUUcE9wxPIqJSIyKRwbpoJEs1TQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQRvz3k/fff1/b39+tjY2O1Pp8vkJKS4v3ggw8CUvWc4s033ywfHBz8WKPRlOLjdF+T6g8Ggz8ajca9n3766QWpbE4B2fGLHWPdbremqKjIt3fv3tD3ok6BSSdEAoqLi+P4XauY+KabN2/Wz5s3b0VlZWWgurrasXr16sBcf/d2WVnZfI/HswnjycLH6TSZY7NhzN92dnZ2h4rmBh9//LF+/fr1Cfn5+RXXrl3b1tvb+4+kpKTMnTt3DmzYsGH422+/nXQh36cREgnzr1+//uzVq1f/homvHBsby8Ok3Ki+hJOeX7du3SlcpHPfvn1jqJ8TQpSuEY2NjborV67MW7ZsWRkW6TqMtRxjLRkZGbHExcXd0uv1nYWFhSch2+9BiE3qNo77JvTOO+8suHHjxgsgYSdW4HOBQGABJmVElcnv9y8YHR0tunXrVi7IWTA0NDT2wgsv9E7F8kxCyRrx0UcfzUtMTCy/fPnydizg2uHh4RchtxUw52nIkyC/FK/Xm2+327O1Wu3Ie++9Zztw4MCQ1F1gwoTQQdPa2lqE1b4VHavRKQ3FCfzmYZCgQ70JaRFYfsHlcu21Wq27TKmmMqpj6Ax/PZCE1KxUasE2EPDflA1klwN5mUGCXvp25nlYQCkoqwZZDceOHVsmOodhAhFHjhx5Csyuwqpfgo5kUpTjePxbwZBTi4wkBI68pqW5ZTvM1cq/IhkkwZxqLrO2WOudTudGaMAiFJshIyGLcLlRliAlASQVQcZrv/vuO2r2OCYQcf78+UI4l7+DuWycQKPT6cIJmHAM6EDTQqdroLa9o32nyWQqg52MEw3+Avj888/jU1NTyy60X9w24HRtDmBhQi78tv5xWUlyEjllKSH7zp07fz958mSR9FlgAhE2my0RqpWOTgkgI4YpIoJBnc/vf8pmt9e0tLVtB9ulfwXNIAkI6cusZ87UO/r7XvJ5fU9B5BHnTVlCK8CJJg6ak4wFb5aqBCYQAYfYhb3CVXQYABnIpgmIyLRWqwv4/Qv7enrqzrWfe+I148MPP0yIjY8tO9fe3uDos9d4xjw5kJWesogEyTRRO5zQpCvYW9ilKoEJRGRkZPwcHx9vhZPpQRpXrakRFBdAO51Wp11g67FvPHPuTAM140kkg5pgTk0tbT/X/rKjr+8fMD7cZ+lDCzbyoqUsoRVc3DbIx7p8+fJfpCqBCUTs2rXLDbY6kS6BiEF0jnx21HIQJA2rQoc8x2brqblw8UI9alc8SWYKCysB2Yqr/7xc19PTu8Hn9+XCPAkSBBGRJSUvald6evqltLS0qzU1NX2iQsIEIghsSK4lJyc34yLdUucpwXopPBM2UBuKqHK7uru3tLS27mQ09SRoBknoc/WV/Pjjj9u6u7o3B4OBPMxdzznLMphOVkAQ7bphcZrLy8uvSWXjuI+Iurq6AexIzyLE6sCFHCiakmtWcDVwENQKAhfTBQPBRT32nk0dnR3cj6xgmCcqoxBffPGFAY51+Y2ff6vr6rFt8AX8izFH8QMhnHNIG6AVovWUQLNgDxZ4BzaZl7Zs2TLBPxD3EUEUFBT8q7Ky8oDFYvm/GE1MX0j5QheTk5+Cl1QyiGP5hzRAApNOEwzm2bptWxAS74ADL6F9RXVU4bPPPjM6HI7i3377rb7r9u3NmGEB5hvLOXKuCFRC8xcpKGRC2ciyQkjLoyAkZYO5P56fn99YXV19g+e+F5MS0dDQMASz0lpaXn7IYDQ046QgA+fE1UMXwSceI1Eb4KnFwOC8RM6flwEx2oA/kIuQuOann36qj4uLK44mM0VNGBsbW9aDaPCPP/7YBEHnY2466adzQjOFGEiGKAsVytKRjwP4s6UkW74vLCw8kpube2bjxo2T/vjUpEQQdNzzMzNbSkrL95tM5mMQeB/1S7aFzEUSn6aEFuqb1w2f0dHRsZPRVDRoBhZMktvtpiY0/P7775tRVIA0pawEZHlI8sG8A1qdzpaaltqUV5B3CE76NEwSTf2kiHjy2traway0tNay8tJDSdAMnFv4DDjykLGiGQo1nRTSwPgsI7erq2tTZ2dnAzVDyT4DkV5iX1/fchBQd/PmzQ3wk/mYq5ZrUGpyH4QspITgkUUBBKq9yWbzD0uLln6VkZrR9sorr0T8GbbILAMwU675mfNb4On3m5Mtx0gG42ERLYmhRaICFwhFFHAZwdzbt2/XXbhwYQfspSJ9BjUBc5M1oRbDzkMxf9eOUwg1mgRyHXMsugBye5ol+fjTS58+hLm2vvrqq1NqgoxpiSCoGSaDyVpVueqgyWw84fX5HBCsMFORjBNXCIgTSa/Xs2HunTt3NiMMVJxmUBP6+/tXgISXoQkbMeY8PplEFX/XTsxlKrCGskCbgM/v7TWaLSdXrlzZmJWVdXo6TZDxQEQQ9BmZaWnQjKr9yRbzMVy5F6sHgcHUA+TghOYAaMvP1IwcOL8t7e3tIppijC4aPEZQE+C/Sm7cuFHPhYJhMkQV5ogkcB5MUwIyQMTkB3G21OS046Ulyw9iv9BaX1//wL8K+cBEENQMOvDVa9YeSDZbmmAPHaBh2odCJENeVejDGeXAgddcvnyZt4+LH6eZkjUBWsDoiD4hD+PljTaxeGjzI5IAoN4fq9X1Wizm5sqKikZDvKH1tddec6E8st0Ow58igiAZCIWsK0tLDxgSEk9Auk4MelwzwnM5SdoQXi7MFBx47S+//LIVn59+HKEttRHjWvbrr79uwcLYiHHQJ4zLhGPm2KUxi0Tck/MWtSPBEH+yeHlxI0zwnyaB+NNEEG+88cYgLmhdtWrV/8K8MLR1YMVP0IxwuyqbJ5kM5kg0U4vhwGuvXLmy3ePx0EzNGRnUwsHBwdLr169vhTnaBIEXYEjjDw2kMY6PnQifE4Fj3sXrMxqNTVXlVQfR1vowJBAPRQRBMrBlP0UysG0/ARUewKAEGRwwJ8AkT4jpXqCM+4zF2PTVwoFvx/HyubhRSBJw7eKrV6++jA1bDa6bj2Jx2+LeccpjZ6KZCiPCj8/9iYmJzWVlZYfoE95++2032v1pEoiHJoLgDtxsNresXbt2P1YFQ9t+ksHfmOaA5TQNtHCUebDPtW1tbTtwvtLZjKZojrBAVl68eHFrV3f3Jlyb+4RxTZgM8jy4wKQ9FHxzoM9gMDRVVT2aJsh4JCIImYw1a9aQjCYUOTFIsc94ABJkzaFm5Njt9rqzZ89uxy50Vp5nUBOGhoYECbhWjc/rXQzhxXIM04FzkebkR59+kNC8evXqA5hzy6NogoxHJoIgGRhYS3V19X6QchyrTOwzOHAMUGo1ObjKpJXGsTCaqj1z5swO3g6ZSc2gJmBIZdzDwBzRMS/GNWORi+tHAucgmSU/NmzCJ2CuB4eHh63YJ0z/3OYBMCNEECQDvuIUNQMOvAmDE5rBiUaCTBTbgTiGjYuwWjefP39eaMZM+AwSOjY2tvLSpUtbe3t7+bZFLq4rHuqQBHkMU4Ht4MypCQ4suBM0RyizvvvuuzNCAjFjRBB79uy5K2uGxWI5hlXEp1ARB0ohSCov/0o7yViIVbvZarXueNRXdXAuDVbwSmhZA0nguTEu8VCH1+RKn44I1NMxY59gOVFZWXkY/awzYY7CEdFJPQyOHDni2b17d3dKSooLZsaAsPQ/MOAEuDtMVxO6HYBEIciQTYNMCNpzR2seHR2d73K5YgsLC51ut1s/MDDwEpqJN/3C+4cDXZnRLNopuOPHj7sRou6Ab9gGohehXJDKdjzHBI0QGUf579WDYz9G50iCJlRUVAjHPNMkEDNOBEEyXtz9YndORo7b7rAbPF5vFiadGJoxxo8s9NAkJJDwREg5Mo3x7t272dj5JmdlZS0CscUoT0E5nTvb3AeSCfDUw0uWLNE5HI7/xH6hBtcX5oiV0vkFxDH+Gx+PlnXiCEQF/BqttteYlNQMEg7B9J5G2D7jJBD/HtEs4H8aG5PiXK51p8+e3jk8OPy8RqdNR/HE+zeYUqRBQIB+CLcfIfEANGQB+sSjP++IinqaFoKmhuC5UYduQU9cXNxtfE6CJqSgbErzJqTKoZAMJOnc4CbQk2AwNq+uqDiMslnRBBmzSgTBx43eQOCZixc6dvY7nf+FojTG4rLgaAimGwSEGUB7H8jgm3TckQuBkUgKnjmTXCYhiMjLx2gMZZH3CeIPY5HOA+J4K7s3xZLctKJ0xeGHuXf0ZzGjznoyiNshWE0V5RUHeAsdM+mVV50s0EiQBK3FDpZvyAltklasEBo/k1QeE/J52RZ9qAXiBl4ksJpteA7kAQTdPUaTma/Qixt4r7/++sBskkDMio+4F0ePHhUOPD013TXgdCbC7s/HhMVb5pi01CoyKHAmmiLmMvhZFj4ht5GjIpkgOZ8MrKNvQB/xUMeSYjmxsrj0MIi0kgSp2axi1jVChrQDP11SXMKHS01YX70QGm/bSi0mB4UsC5a3TngsC13O7xUy+8A/CFJYx8+RwDGgbUCr09pMScaTRUuLjvAZ81yRQMyJRshANDW2Y8eOHnNKqmtwaCjB4xmjZhgirVYKk4kEEOGrnAJmHctkrZDL5HoSSES6BpSSHXvS0zKa8wsLG7PTM1sxzgd+qDMTmFMiiK+//nrs9VdftVuSTa7evl6j1+PJhGEwSNXjCBf4ZEKUBc86pnAywhHed7LzAPAKQZs52fRDYdHSwwvnzz891yQQc04EQc2oq62zZWRluFxOVwI3bihOZF24sLiyZUHLCD8OJ2sqyPX3nksiDFnQlpaR0bQkv7AxMz19zjVBRuRZzDIaGxvN2Kz9rb29fTc2Xc9iRWeynEKShTydoB8Uk5wTH4NdJpOpZenSpQdzcnLaIr13NNt4LBohg5qxZ88ecTvE6XQmjIyMZKNY+AyZgJkigpD9DLUDpHfBITctXrz4SHZ2duu2bdv6ReVjwpxFTVOB0ZR4vbO09LDFYjmJVcoXdMefZ8iO91HAc8jaIOEOIrgfFi5c+HVeXt60L3/NBR6rRsigA2c0lZyc7BoYGIiHZmRAcEkgQ0juUbVC7o9z8l2s29CEZpBwpKCg4LGao3AogghCJiMjI8MNM2UAGcKBQ3CPbJskbSAPNpKQn5//FUzSGaWQQCiGCIJkwFZTMwYdDofR5/Nlwaw8Mhk4RwDa1QNf9D1M0WE4ZkWRQDzyapsNfPPNN8aenp51nZ2d210ul7hRiPRQY4UW0MlQE04UFhZ+xXdRleAT7sVjd9aTgS+xQStaS0pKDvEhfSAYcDD4JBU0MyLHH8rFXVMm+Zh14rYJc3rpmJheo9H4A0zRV3DQinDMk0FRpikcDG3feustG4TocjgdCSPY9Gm02gQIefxZBOUsjiWCeOOOVkyQwruoOq3dZDI3Pb1ihdis7d69+7GGqJGgSI2QId5CN5msVRVVB81Gk3gLHYIPyre95RuATCSEZVKd+PcJRnPSyZKVxY2mrMQHfiv7cUHRRBB8Cz02Nlb8+4z01LRjOo22D04csg89+JeJkI+9Xm8AbeyZmRnHly8vPegd9ba+Uf+GokkgoNTRATrwXqfzmVarddfI8N1nYYRMMEV8V0meA/3BMGhxJyYmfV9dXXUwThd3erafrM0UooYIorGxMcneb1/Vfu7Cc8FAoHLMM7bc6/OKf1+h18fdTYiP/6ffH+isqqg4FRcXd3Y2nzHPNKKKCILfsGaxWEz6+Pi1rS0ta/R6vbhR6PF67eufeebM6OhoK0Je9759+/hCWFSQQEQdETKgHfzqNj6T1t69e5df7BXglxhCC3zRRIAKFSruR0zM/wMYBpbiISU/xQAAAABJRU5ErkJggg==) center/contain no-repeat;display:block}.gui-header .gui-header-cell .gui-header-menu{display:-ms-flexbox;display:flex}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:16px;padding:16px;position:relative;right:0;width:16px}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:none;height:16px;width:16px}.gui-header-bottom .gui-header{border-bottom:0;border-color:inherit;border-top:1px solid}.gui-structure{background:#fff;border-color:#d6d6d6;box-sizing:border-box;color:#333;display:block;font-family:Arial;font-size:14px;position:relative}.gui-structure *{box-sizing:border-box}.gui-structure .gui-structure-header{display:block;height:100%;width:100%}.gui-structure .gui-structure-header .gui-structure-header-filters.gui-header{height:32px}.gui-structure .gui-structure-header .gui-structure-header-filters.gui-header .gui-header-cell{padding:4px}.gui-structure .gui-structure-header .gui-structure-header-filters.gui-header .gui-header-cell input{box-sizing:border-box;height:100%;padding:2px;position:relative;width:100%;font-size:13px;border:1px solid #d6d6d6}.gui-structure-container{display:block;height:100%;overflow:auto;overflow-x:hidden;position:relative;width:100%}.gui-structure-container .gui-structure-container-element{height:100%;position:absolute;width:100%}.gui-structure-container .gui-structure-container-element .gui-content{height:100%;position:relative}.gui-structure-container .gui-structure-container-element .gui-content .gui-row{border-bottom:1px solid transparent;position:absolute;width:100%}.gui-structure-container .gui-structure-container-element .gui-content .gui-row:last-child{border-bottom:0}.gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:#ecedee}.gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:#d0e8fb}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell{border-right:1px solid transparent;box-sizing:border-box;line-height:1em;overflow:hidden;padding:0;white-space:nowrap}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-cell-view span{line-height:1.4em}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-button{padding:0}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-cell-boolean{-ms-flex-pack:center;justify-content:center}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-checkbox{line-height:24px;position:relative}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-checkbox input{position:relative}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-chip{line-height:1em;margin:0;padding:4px 8px}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-badge{padding:0}.gui-structure-container .gui-structure-container-element .gui-content .gui-row .gui-cell .gui-input{background:0 0;font-size:14px;padding:0;border-radius:0;border-style:none}.gui-structure-container .gui-cell{display:inline-block}.gui-structure-container .gui-cell:last-child .gui-cell-view{padding-right:20px}.gui-structure-container .gui-cell>span{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:100%;padding:0 8px;width:100%}.gui-structure-container .gui-cell .gui-cell-edit-mode{border:2px solid #2185d0;height:100%;padding:6px}.gui-structure-container .gui-cell .gui-cell-edit-mode .gui-boolean-edit{margin-left:calc(50% - 11px)}.gui-structure-container .gui-cell .gui-cell-edit-mode input:focus{box-shadow:none;outline:0}.gui-vertical-grid .gui-structure-container-element .gui-content .gui-row .gui-cell,.gui-vertical-grid .gui-structure-header .gui-header .gui-header-cell,.gui-vertical-grid .gui-structure-summaries-cell{border-right:1px solid;border-right-color:inherit}.gui-vertical-grid .gui-structure-container-element .gui-content .gui-row .gui-cell:last-of-type,.gui-vertical-grid .gui-structure-header .gui-header .gui-header-cell:last-of-type{border-right:0}.gui-vertical-grid .gui-row-checkbox{border-right:1px solid!important;border-right-color:inherit!important}.gui-horizontal-grid .gui-structure-container-element .gui-content .gui-row{border-bottom:1px solid;border-bottom-color:inherit}.gui-horizontal-grid .gui-structure-container-element .gui-content .gui-row:last-of-type{border-bottom:0}.gui-rows-even .gui-row.even,.gui-rows-odd .gui-row.odd{background:#f7f8f9}.gui-structure-info-panel{-ms-flex-align:center;align-items:center;background:#f2f3f4;box-sizing:border-box;display:-ms-flexbox;display:flex;height:36px;-ms-flex-pack:justify;justify-content:space-between;padding:0 6px;width:100%;border-top:1px solid;border-top-color:inherit}.gui-structure-info-panel p{margin:0}.gui-structure-info-panel p b{font-weight:700}.gui-structure-info-panel div button{background:#ccc;color:#fff;cursor:pointer;font-family:Arial;font-weight:700;height:16px;line-height:14px;padding:0;width:16px;border-radius:50%;border:1px solid transparent}.gui-structure-info-panel div button:focus{box-shadow:0 0 4px #ccc;outline:0}.gui-structure-border{border:1px solid #d6d6d6}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOut{from{opacity:1}to{opacity:0}}@keyframes fadeOut{from{opacity:1}to{opacity:0}}.gui-loading{-ms-flex-line-pack:center;align-content:center;-webkit-animation-duration:.2s;animation-duration:.2s;background:rgba(255,255,255,.8);border:1px solid;border-color:inherit;display:-ms-flexbox;display:flex;height:100%;-ms-flex-pack:center;justify-content:center;left:0;opacity:0;position:absolute;top:0;visibility:hidden;width:100%}.gui-loading .gui-spinner{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.gui-loading.gui-loader-hidden{-webkit-animation-name:fadeOut;animation-name:fadeOut;opacity:0;visibility:visible;z-index:-1}.gui-loading.gui-loader-visible{-webkit-animation-name:fadeIn;animation-name:fadeIn;opacity:1;visibility:visible;z-index:1}.gui-structure-column-manager>div:hover{background:#ecedee}.gui-structure-column-manager label{margin-bottom:0}.gui-text-highlight{background:#fff799;padding:0!important}.gui-title-panel{border-bottom-color:#d6d6d6}.gui-footer-panel{border-top-color:#d6d6d6}.gui-schema-manager-dialog .gui-schema-manager .gui-checkbox,.gui-schema-manager-dialog .gui-schema-manager .gui-structure-schema-manager-select{color:#333}.gui-schema-manager-dialog .gui-schema-manager .gui-checkbox:nth-last-child(1),.gui-schema-manager-dialog .gui-schema-manager .gui-structure-schema-manager-select:nth-last-child(1){margin-bottom:0}.gui-structure-schema-manager-icon{margin-right:16px}.gui-structure-schema-manager-icon svg{height:18px;margin-bottom:-1px;width:18px}.gui-row-checkbox{-ms-flex-align:center;align-items:center;cursor:pointer;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center;justify-content:center;padding:0 12px!important;width:48px!important}.gui-row-checkbox .gui-checkbox{height:24px;margin:0;padding:0;width:24px}.gui-select-all .gui-checkbox .gui-checkmark{top:0}.gui-structure-cell-edit-boolean{height:100%}",".gui-structure-column-manager ol li:hover{background:#ecedee}.gui-structure-column-menu-icon svg{height:16px;width:16px}.gui-structure-column-menu-icon .cls-1{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px}.gui-structure-column-menu-arrow-icon{display:inline-block}.gui-structure-column-menu-arrow-icon svg{height:10px;width:12px}.gui-structure-column-menu-arrow-icon .gui-structure-column-menu-sort-icon svg{height:16px}.gui-structure-column-menu-arrow-icon .cls-1{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px}.gui-structure-dialog-column-manager .gui-dialog-title{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gui-structure-dialog-column-manager ol{max-height:400px;min-width:250px}",".gui-summaries-value{font-weight:700}.gui-structure-summaries-panel{background:#f2f3f4}.gui-structure-summaries-panel.gui-structure-summaries-panel-bottom .gui-structure-summaries-cell{border-top:1px solid #d6d6d6}.gui-structure-summaries-panel.gui-structure-summaries-panel-top .gui-structure-summaries-cell{border-bottom:1px solid #d6d6d6}.gui-structure-summaries-panel .gui-structure-summaries-cell{font-size:14px;padding-left:16px;padding-right:16px}.gui-structure-summaries-panel .gui-structure-summaries-cell:last-child{padding-right:20px}.gui-structure-summaries-panel .gui-structure-summaries-value{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;line-height:1em;overflow:hidden;padding:8px 0}.gui-structure-summaries-panel .gui-structure-summaries-value div .gui-math-symbol{position:relative;top:-1px}.gui-structure-summaries-panel .gui-structure-summaries-value .gui-mean,.gui-structure-summaries-panel .gui-structure-summaries-value .gui-median{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;position:relative}.gui-structure-summaries-panel .gui-structure-summaries-value .gui-mean span:nth-child(1){left:1px;position:absolute;top:-15px}.gui-structure-summaries-panel .gui-structure-summaries-value .gui-median span:nth-child(1){left:1px;position:absolute;top:-8px}",".gui-structure-column-manager-icon svg{height:16px;width:16px}.gui-structure-column-manager-icon .cls-1,.gui-structure-column-manager-icon .cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round}.gui-structure-column-manager-icon .cls-2{stroke-width:1.5px}.gui-structure-info-icon svg{height:16px;width:16px}.gui-structure-info-icon .cls-1{stroke-width:0}.gui-structure-info-icon .cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round}.gui-structure-info-panel div,.gui-structure-info-panel div button{display:inline-block}.gui-structure-info-panel .gui-right-section .gui-structure-column-manager-icon{margin-right:16px;position:relative}.gui-structure-info-panel .gui-right-section .gui-structure-info-icon{margin-right:4px;position:relative}.gui-structure-info-modal .gui-quote{color:#575757}.gui-structure-info-modal p{color:#333}.gui-structure-info-modal a{color:#2185d0}.gui-structure-info-modal a:hover{color:#59a9e5;text-decoration:underline}","@media (max-width:500px){.gui-paging .gui-paging-stats,.gui-paging>*{padding-left:4px}}",".gui-header{display:-ms-flexbox;display:flex}.gui-header .gui-header-cell{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.gui-content{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.gui-content .gui-row,.gui-content .gui-structure-cell-container{display:-ms-flexbox;display:flex}.gui-content .gui-row .gui-cell,.gui-content .gui-structure-cell-container .gui-cell{display:inline-block}.gui-content .gui-structure-row-details{background:#80cbc4;display:block;height:200px;position:absolute;-ms-transform:translateY(0);transform:translateY(0);width:100%}",".gui-inline-dialog-header-menu.gui-inline-dialog-wrapper .gui-inline-dialog-content{background:0 0;box-shadow:none}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-item-active{font-weight:700}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-list{background:#fff}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#333}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item.gui-active{color:#2185d0}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-content{box-shadow:0 3px 7px #ccc;box-sizing:content-box;padding:0;width:225px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move{color:#333;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;padding:0}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item{-ms-flex-align:center;align-items:center;cursor:pointer;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item svg line{stroke:#aaa}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item.left{padding:12px 16px 12px 12px;width:48%}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item.right{padding:12px 10px;width:52%}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover svg line{stroke:#464646}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container{border:none;border-radius:0}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover .gui-dropdown-arrow{opacity:1}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu{width:125px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item{background:#fff;color:#333;display:-ms-flexbox;display:flex;padding:8px 8px 8px 12px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover .gui-sort-title svg line{stroke:#464646}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;width:100%}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title svg{margin-top:3px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title svg line{stroke:#aaa}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-header-item-active .gui-item .gui-sort{opacity:1}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item{color:#333;cursor:pointer;display:block;padding:8px 12px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item:hover{background:#ecedee}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox{color:#333;margin-left:12px;padding:8px 12px 8px 32px;width:169px}.gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox label{display:inline-block;width:inherit}",".gui-cell .gui-checkbox{display:block}.gui-cell .gui-chip{margin:0;padding:2px 8px}.gui-cell .gui-input{display:block;font-size:11px;padding:2px 4px;width:100%}.gui-cell .gui-button{padding:2px 8px}.gui-cell .gui-cell-number{display:block;width:100%}.gui-cell .gui-cell-boolean{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:100%;text-align:center;width:100%}.gui-cell .gui-string-edit{width:100%}",".gui-fabric{border-color:#d6d6d6;font-family:Arial;font-size:14px}.gui-fabric .gui-header-cell,.gui-fabric .gui-paging,.gui-fabric .gui-structure-header-columns,.gui-fabric .gui-structure-info-panel,.gui-fabric .gui-structure-top-panel{height:42px}",".gui-material{border-color:rgba(0,0,0,.12);font-family:Arial;font-size:14px}.gui-material *{border-color:rgba(0,0,0,.12);font-size:14px}.gui-material.gui-structure{border:0;border-radius:0;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12),0 1px 5px 0 rgba(0,0,0,.2)}.gui-material .gui-header,.gui-material.gui-structure{font-family:Arial}.gui-material .gui-header-cell,.gui-material .gui-structure-header-columns{height:56px}.gui-material .gui-header .gui-header-cell.gui-header-sortable:hover{background:0 0}.gui-material .gui-header-cell,.gui-material .gui-structure-container-element .gui-structure-cell>span{padding-left:16px;padding-right:16px}.gui-material .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:rgba(0,0,0,.04)}.gui-material .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:#e6f7ff}.gui-material .gui-structure-header .gui-header{background:0 0;color:#464646;font-weight:700}.gui-material .gui-structure-header .gui-header .gui-header-cell{border-color:inherit}.gui-material .gui-cell .gui-badge,.gui-material .gui-cell .gui-button{padding:0}.gui-material .gui-paging-alternative-navigator .gui-button{background:0 0;color:#333;margin:0 4px;padding:0}.gui-material .gui-paging-alternative-navigator .gui-button:hover{background:0 0}.gui-material .gui-paging-alternative-navigator .gui-button:disabled{background:0 0;color:#ccc;opacity:.4}.gui-material .gui-structure-summaries-panel{background:#fff}.gui-material .gui-paging,.gui-material .gui-structure-info-panel,.gui-material gui-structure-top-panel{height:52px;padding-left:16px;padding-right:16px}.gui-material .gui-structure-info-panel{background:#fff;border-radius:0}.gui-material gui-structure-top-panel{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;padding-right:0}.gui-material .gui-search-bar form input,.gui-material gui-structure-top-panel .gui-search-bar form input{border:0;outline:0}",".gui-dark{border-color:#575757;border-radius:2px;color:#f0f0f0;font-family:Arial;font-size:14px}.gui-dark *{border-color:#575757;color:#f0f0f0;font-size:14px}.gui-dark.gui-structure{border-radius:2px}.gui-dark .gui-header-cell,.gui-dark .gui-structure-header-columns{background:#333;height:46px}.gui-dark .gui-structure-border{border:none;box-shadow:5px 5px 10px 2px #1f1f1f}.gui-dark .gui-header-cell{border-bottom:1px solid;border-color:inherit;padding-left:16px;padding-right:16px}.gui-dark .gui-structure-container-element .gui-structure-cell>span{padding-left:16px;padding-right:16px}.gui-dark .gui-structure-header .gui-header{border-bottom-color:#666;color:#bdbdbd}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover{background:#525252}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-list{background:#383838}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item.gui-active{color:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-tab-content{box-shadow:0 1px 2px #525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab .gui-structure-column-manager ol li:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-item:hover svg line{stroke:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container .gui-dropdown-menu{border-color:#666}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container .gui-dropdown-menu .gui-item:hover svg line{stroke:#ce93d8}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item{background:#383838;color:#f0f0f0;display:-ms-flexbox;display:flex}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item{color:#f0f0f0}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-header-menu-item:hover{background:#525252}.gui-dark .gui-inline-dialog-header-menu .gui-header-menu-tab .gui-checkbox{color:#f0f0f0}.gui-dark .gui-structure-column-manager>div:hover,.gui-dark .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:#525252}.gui-dark .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:#7cb9f652}.gui-dark.gui-rows-even .gui-row.even,.gui-dark.gui-rows-odd .gui-row.odd{background:#4f4f4f}.gui-dark .gui-horizontal-grid .gui-structure-container-element .gui-row .gui-cell{border-bottom-color:#666}.gui-dark .gui-paging.gui-paging-bottom{border-top-color:#666}.gui-dark .gui-paging.gui-paging-top{border-bottom-color:#666}.gui-dark ::-webkit-scrollbar{width:15px}.gui-dark ::-webkit-scrollbar-track{background:#616161}.gui-dark ::-webkit-scrollbar-thumb{background:#424242}.gui-dark ::-webkit-scrollbar-thumb:hover{background:#212121}.gui-dark .gui-paging,.gui-dark .gui-row,.gui-dark .gui-structure-container-element,.gui-dark .gui-structure-info-panel,.gui-dark .gui-structure-top-panel{background:#444}.gui-dark .gui-paging,.gui-dark .gui-structure-info-panel,.gui-dark .gui-structure-top-panel{height:42px;padding-left:16px;padding-right:16px}.gui-dark .gui-structure-summaries-cell{background:#383838;color:#f0f0f0}.gui-dark .gui-structure-summaries-panel-bottom .gui-structure-summaries-cell{border-top-color:#666}.gui-dark .gui-structure-summaries-panel-top .gui-structure-summaries-cell{border-bottom-color:#666}.gui-dark .gui-structure-info-panel{background:#383838;border-top-color:#666}.gui-dark .gui-structure-info-panel div{color:#f0f0f0}.gui-dark .gui-structure-info-panel div button{background:#616161}.gui-dark .gui-structure-info-modal p,.gui-dark .gui-structure-info-panel p{color:#f0f0f0}.gui-dark gui-paging-alternative-navigator .gui-button{background:0 0;color:#f0f0f0;margin:0 4px;padding:0}.gui-dark gui-paging-alternative-navigator .gui-button:hover{background:0 0}.gui-dark gui-paging-alternative-navigator .gui-button:disabled{background:0 0;color:#f0f0f0;opacity:.4}.gui-dark gui-paging-alternative-navigator gui-paging-alternative-pages .gui-paging-active-page{box-shadow:0 1px 0 0 #f0f0f0;color:#f0f0f0}.gui-dark .gui-search-bar form{background:#444}.gui-dark .gui-search-bar input{background:#444;border:0;color:#f0f0f0;cursor:pointer}.gui-dark .gui-search-bar:hover .gui-search-icon-svg circle,.gui-dark .gui-search-bar:hover .gui-search-icon-svg line{stroke:#878787}.gui-dark .gui-icon{cursor:pointer}.gui-dark .gui-icon svg{stroke:#aaa;transition:stroke .3s ease-in-out}.gui-dark .gui-icon svg:hover{stroke:#e6e6e6!important}.gui-dark .gui-empty-source div{background:#383838}.gui-dark .gui-dialog-wrapper .gui-dialog-content .gui-schema-manager-dialog .gui-dialog-title{color:#f0f0f0}.gui-dark .gui-footer-panel,.gui-dark .gui-title-panel{background:#383838}",".gui-light{border-color:#f0f0f0;font-family:Arial;font-size:14px}.gui-light *{border-color:#f0f0f0;font-size:14px}.gui-light.gui-structure-border{border:0;border-color:#f0f0f0 transparent}.gui-light .gui-header,.gui-light.gui-structure{background:#fff;color:#333;font-family:Arial}.gui-light .gui-header-cell,.gui-light .gui-structure-header-columns{height:56px}.gui-light .gui-header-cell,.gui-light .gui-structure-container-element .gui-structure-cell>span{padding-left:16px;padding-right:16px}.gui-light .gui-structure-header .gui-header{color:#333;font-weight:700}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover{background:#f3f9ff}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#f3f9ff}.gui-light .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:#f3f9ff}.gui-light .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:#7cb9f652}.gui-light.gui-rows-even .gui-row.even,.gui-light.gui-rows-odd .gui-row.odd{background:#f7f7f7}.gui-light gui-paging-alternative-navigator .gui-button{background:0 0;color:#333;margin:0 4px;padding:0}.gui-light gui-paging-alternative-navigator .gui-button:hover{background:0 0}.gui-light gui-paging-alternative-navigator .gui-button:disabled{background:0 0;color:#333;opacity:.4}.gui-light .gui-paging,.gui-light .gui-structure-info-panel,.gui-light .gui-structure-top-panel{height:56px;padding-left:16px;padding-right:16px}.gui-light .gui-paging,.gui-light .gui-structure-info-panel,.gui-light .gui-structure-summaries-panel,.gui-light .gui-structure-top-panel{background:#fff}.gui-light .gui-search-bar form input{border:0;outline:0}",".gui-structure.gui-generic{border-color:rgba(34,36,38,.1);font-family:Arial;font-size:14px}.gui-structure.gui-generic *{border-color:rgba(34,36,38,.1);font-size:14px}.gui-structure.gui-generic .gui-header-cell,.gui-structure.gui-generic .gui-structure-header-columns{height:46px}.gui-structure.gui-generic .gui-header .gui-header-cell.gui-header-sortable:hover{background:rgba(0,0,0,.04);transition:.15s}.gui-structure.gui-generic .gui-header-cell,.gui-structure.gui-generic .gui-structure-container-element .gui-structure-cell>span{padding-left:12px;padding-right:12px}.gui-structure.gui-generic .gui-structure-container-element .gui-structure-cell:last-child>span{padding-right:20px}.gui-structure.gui-generic .gui-structure-header.gui-header-bottom .gui-header{border-color:inherit;border-style:solid;border-width:2px 0 0}.gui-structure.gui-generic .gui-structure-container .gui-structure-container-element .gui-content .gui-row:hover{background:rgba(0,0,0,.04)}.gui-structure.gui-generic .gui-structure-container .gui-structure-container-element .gui-content .gui-row.selected{background:#e6f7ff}.gui-structure.gui-generic .gui-structure-header .gui-header{background:#f9fafb;border-width:0 0 2px;color:#464646;font-weight:700}.gui-structure.gui-generic .gui-rows-even .gui-row.even,.gui-structure.gui-generic .gui-rows-odd .gui-row.odd{background:#f9fafb}.gui-structure.gui-generic .gui-cell .gui-badge,.gui-structure.gui-generic .gui-cell .gui-button{padding:0}.gui-structure.gui-generic .gui-paging-alternative-navigator .gui-button{background:0 0;color:#333;margin:0 4px;padding:0}.gui-structure.gui-generic .gui-paging-alternative-navigator .gui-button:hover{background:0 0}.gui-structure.gui-generic .gui-paging-alternative-navigator .gui-button:disabled{background:0 0;color:#ccc;opacity:.4}.gui-structure.gui-generic .gui-structure-summaries-panel{background:#f9fafb}.gui-structure.gui-generic .gui-paging,.gui-structure.gui-generic .gui-structure-info-panel,.gui-structure.gui-generic .gui-structure-top-panel{height:46px;padding-left:12px;padding-right:12px}.gui-structure.gui-generic .gui-structure-info-panel{background:#f9fafb;border-radius:0}.gui-structure.gui-generic .gui-structure-top-panel{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;padding-right:0}.gui-structure.gui-generic .gui-structure-top-panel .gui-search-bar form input{border:0;outline:0}.gui-structure.gui-generic .gui-rows-even .gui-row.even,.gui-structure.gui-generic .gui-rows-odd gui-row.odd{background:#f9fafb}.gui-structure.gui-generic .gui-row:hover{background:#f9fafb;transition:.15s}"]}]}],n.ctorParameters=function(){return[{type:oe},{type:on},{type:Gt},{type:ge},{type:St},{type:bi},{type:qt},{type:Dt},{type:Wo},{type:Pt},{type:vn},{type:Ci},{type:Ii},{type:Ft},{type:oi},{type:ri},{type:hn},{type:ji},{type:ci},{type:ii},{type:Qo},{type:Ti},{type:_t},{type:Ai},{type:Yo},{type:Ba},{type:Va},{type:wt},{type:xi},{type:Ri},{type:Di},{type:Fi},{type:Bi},{type:Vi},{type:Pi},{type:Xe},{type:Du},{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:e.Injector},{type:st},{type:wi},{type:yn},{type:ni},{type:pn},{type:r.DomainEventBus},{type:r.CommandDispatcher},{type:Hi}]},n}(fi);var ku={ASC:0,DESC:1,NONE:2};ku[ku.ASC]="ASC",ku[ku.DESC]="DESC",ku[ku.NONE]="NONE";var Hu=function(){function t(t,e,n,r,i,o,a,u,s,c){this.viewTemplate=t,this.editTemplate=e,this.context=n,this.width=r,this.fieldId=i,this.columnDefinitionId=o,this.sortStatus=a,this.enabled=u,this.sortable=s,this.align=c}return t.prototype.getColumnDefinitionId=function(){return this.columnDefinitionId},t.prototype.getFieldId=function(){return this.fieldId},t.prototype.getSortStatus=function(){return this.sortStatus},t.prototype.isSortEnabled=function(){return this.sortable},t.prototype.isAscSort=function(){return this.sortStatus===ku.ASC},t.prototype.isDescSort=function(){return this.sortStatus===ku.DESC},t.prototype.isNoSort=function(){return this.sortStatus===ku.NONE},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isAlignLeft=function(){return this.align===z.LEFT},t.prototype.isAlignCenter=function(){return this.align===z.CENTER},t.prototype.isAlignRight=function(){return this.align===z.RIGHT},t}();var Bu=function(t){function n(e,n,r,i,o,a,u,s,c){var l=t.call(this,e,n)||this;return l.changeDetectorRef=e,l.structureId=r,l.structureCommandService=i,l.compositionReadModelService=o,l.filterWarehouse=a,l.translationFacade=u,l.structureColumnMenuConfigArchive=s,l.column=c,l.uniqueValues=[],l}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.filterWarehouse.onUniqueValues(this.structureId),(function(e){t.uniqueValues=e.getValues(t.column.getFieldId())})),this.hermesSubscribe(this.structureColumnMenuConfigArchive.on().pipe(r.hermesSwitchMap((function(e){return t.config=e,t.translationFacade.onTranslation()}))),(function(e){t.setTabTitles(e),t.dropdownTextTranslation=e.headerMenuMainTabColumnSort}))},n.prototype.isEnabled=function(){return this.config&&this.config.isEnabled()},n.prototype.setTabTitles=function(t){this.config.setMainMenu(t.headerMenuMainTab),this.config.setFilterMenu(t.headerMenuFilterTab),this.config.setColumnsMenu(t.headerMenuColumnsTab)},n.prototype.getSelectorName=function(){return"gui-column-config"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-column-config]",template:'<div *ngIf="isEnabled()"\n\t class="gui-header-menu-tab">\n\n\t<gui-tab [active]="config.getActiveMenu()" [menu]="config.getMenus()">\n\n\t\t<ng-container *ngIf="config.isMainEnabled()">\n\n\t\t\t<gui-tab-item [tab]="config.getMainMenu()" class="gui-tab-item-dropdown">\n\n\t\t\t\t<gui-structure-column-config-sort *ngIf="column.isSortEnabled()"\n\t\t\t\t\t\t\t\t\t\t\t\t  [column]="column"\n\t\t\t\t\t\t\t\t\t\t\t\t  [dropdownTextTranslation]="dropdownTextTranslation">\n\t\t\t\t</gui-structure-column-config-sort>\n\n\t\t\t\t<gui-structure-column-config-column-hide\n\t\t\t\t\t[column]="column">\n\t\t\t\t</gui-structure-column-config-column-hide>\n\n\t\t\t\t<gui-structure-column-config-column-move\n\t\t\t\t\t[column]="column">\n\t\t\t\t</gui-structure-column-config-column-move>\n\n\t\t\t</gui-tab-item>\n\n\t\t</ng-container>\n\n\t\t<ng-container *ngIf="config.isFilteringEnabled()">\n\n\t\t\t<gui-tab-item [tab]="config.getFilterMenu()">\n\n\t\t\t\t\x3c!--\t\t\t\t\t\t<div class="gui-header-menu-item">{{config.getFilterMenu()}}</div>--\x3e\n\n\t\t\t\t<div [fieldId]="column.getFieldId()"\n\t\t\t\t\t gui-unique-value-list>\n\t\t\t\t</div>\n\n\t\t\t</gui-tab-item>\n\n\t\t</ng-container>\n\n\t\t<ng-container *ngIf="config.isColumnManagerEnabled()">\n\n\t\t\t<gui-tab-item [tab]="config.getColumnMenu()">\n\n\t\t\t\t<div gui-structure-menu-column-manager>\n\t\t\t\t</div>\n\n\n\t\t\t</gui-tab-item>\n\n\t\t</ng-container>\n\n\t</gui-tab>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:Ft},{type:yn},{type:Wn},{type:Xe},{type:Ti},{type:Hu,decorators:[{type:e.Inject,args:["column"]}]}]},n.propDecorators={headerSortMenu:[{type:e.ViewChild,args:["headerSortMenu",{static:!1}]}]},n}(Jt);var Vu=function(t){function n(e,n,r,i,o){var a=t.call(this)||this;return a.injector=e,a.schemaReadModelRootId=n,a.schemaWarehouse=r,a.structureThemeConverter=i,a.inlineDialogService=o,a}return l(n,t),n.prototype.open=function(t,n){var r=this;this.close();var i=e.Injector.create({providers:[{provide:"column",useValue:n}],parent:this.injector});this.schemaWarehouse.onceTheme(this.schemaReadModelRootId).pipe(this.hermesTakeUntil()).subscribe((function(e){r.inlineDialogService.open(t,Bu,{injector:i,placement:o.FabricPlacement.BOTTOM,offset:-34,theme:r.structureThemeConverter.convertTheme(e),customClass:"gui-inline-dialog-header-menu"})}))},n.prototype.close=function(){this.inlineDialogService.close()},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:pn},{type:sn},{type:un},{type:o.FabricInlineDialogService}]},n}(r.Reactive);var ju=function(t){function n(e,n,r,i,o,a,u){var s=t.call(this,r,e)||this;return s.elementRef=e,s.injector=n,s.changeDetectorRef=r,s.compositionId=i,s.structureId=o,s.formationCommandDispatcher=a,s.sortingCommandDispatcher=u,s.checkboxSelection=!1,s.globalSearching=!1,s}return l(n,t),n.prototype.toggleSort=function(t){t.isSortEnabled()&&this.sortingCommandDispatcher.toggleSort(t.getFieldId(),this.compositionId,this.structureId)},n.prototype.isSortAsc=function(t){return t.getSortStatus()===ku.ASC},n.prototype.isSortDesc=function(t){return t.getSortStatus()===ku.DESC},n.prototype.isGlobalSortEnabled=function(){return this.globalSearching},n.prototype.getSelectorName=function(){return"gui-structure-header-columns"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-header-columns][columns]",template:'<div *ngIf="checkboxSelection"\n\t class="gui-header-cell gui-row-checkbox\n\t gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis">\n\t<div gui-select-all></div>\n</div>\n\n<div (click)="toggleSort(column)"\n\t *ngFor="let column of columns"\n\t [ngClass]="{\'gui-header-sortable\': column.isSortEnabled()}"\n\t [style.width.px]="column.width"\n\t class="gui-header-cell gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis">\n\n\t<div class="gui-header-title">\n\t\t<ng-container\n\t\t\t*ngTemplateOutlet="column.viewTemplate;\n\t\t\t\t\t\t\t\t   context: column.context">\n\t\t</ng-container>\n\n\t\t<div [ngClass]="{\'gui-sort-asc\': isSortAsc(column), \'gui-sort-desc\': isSortDesc(column)}"\n\t\t\t class="gui-sort">\n\t\t</div>\n\t</div>\n\n\t<div class="gui-header-menu">\n\t\t<div [column]="column"\n\t\t\t gui-structure-column-config-trigger>\n\t\t</div>\n\t</div>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,providers:[Vu]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Injector},{type:e.ChangeDetectorRef},{type:on},{type:oe},{type:wt},{type:qt}]},n.propDecorators={columns:[{type:e.Input}],checkboxSelection:[{type:e.Input}]},n}(Jt);var Gu=function(t){function n(n,r,i,o,a){var u,s=t.call(this,o)||this;return s.structureFilterCommandService=n,s.formBuilder=r,s.cd=i,s.structureId=a,s.closed=new e.EventEmitter,s.filterFieldName="phrase",s.filterMode=!1,s.filterForm=s.formBuilder.group(((u={})[s.filterFieldName]=[""],u)),s}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.filterForm.valueChanges.subscribe((function(e){t.filter(e[t.filterFieldName])}))},n.prototype.filter=function(t){null==t&&(t="")},n.prototype.clearFilters=function(){this.filterForm.reset()},n.prototype.turnOnFilterMode=function(){this.filterMode=!0,this.cd.detectChanges()},n.prototype.turnOffFilterMode=function(){this.filterMode=!1,this.cd.detectChanges()},n.prototype.getSelectorName=function(){return""},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-header-filters][columns]",template:'\n\n\t\t<ng-container *ngIf="!filterMode">\n\n\t\t\t<div *ngFor="let cell of columns"\n\t\t\t\t [style.width.px]="cell.width"\n\t\t\t\t class="gui-header-cell gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis">\n\n\t\t\t\t\x3c!--\t\t\t\t<gui-structure-header-filter [column]="cell">--\x3e\n\t\t\t\t\x3c!--\t\t\t\t</gui-structure-header-filter>--\x3e\n\n\t\t\t\t<button (click)="turnOnFilterMode()">Add Filter</button>\n\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t\t<ng-container *ngIf="filterMode">\n\n\t\t\t<gui-select [options]="[\'has value\', \'is the same as\', \'starts with\', \'ends with\']" [selected]="\'has value\'">\n\n\t\t\t</gui-select>\n\n\t\t\t<form [formGroup]="filterForm">\n\t\t\t\t<input type="text" [formControlName]="filterFieldName" gui-input/>\n\t\t\t</form>\n\n\t\t\t<button gui-button (click)="clearFilters()">Clear All</button>\n\t\t\t<button gui-button (click)="turnOffFilterMode()">Close</button>\n\n\t\t</ng-container>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:$n},{type:i.FormBuilder},{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe}]},n.propDecorators={columns:[{type:e.Input}],closed:[{type:e.Output}]},n}(se);var zu=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var Lu=function(t){function n(e,n,r,i,o,a,u,s,c,l){var p=t.call(this,e,n)||this;return p.changeDetectorRef=e,p.eventBus=r,p.structureId=i,p.compositionId=o,p.filterWarehouse=a,p.structureWarehouse=u,p.rowSelectionTypeArchive=s,p.structureVerticalFormationWarehouse=c,p.compositionWarehouse=l,p.headerColumns=[],p.filterRowEnabled=!1,p.showGroups=!1,p.styleModifier=new Vt(n.nativeElement),p}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.rowSelectionTypeArchive.on(),(function(e){t.checkboxSelection=e===_.CHECKBOX})),this.hermesSubscribe(this.compositionWarehouse.onHeaderColumns(this.compositionId),(function(e){t.headerColumns=e})),this.hermesSubscribeWithoutRender(this.compositionWarehouse.onContainerWidth(this.compositionId),(function(e){t.styleModifier.getElement(t.containerRef.nativeElement).setWidth(e)})),this.hermesSubscribe(this.filterWarehouse.onFilteringEnabled(this.structureId),(function(e){t.filterRowEnabled=e})),this.hermesSubscribe(this.compositionWarehouse.onGroups(this.compositionId),(function(e){t.showGroups=e.isVisible(),t.groups=e.getGroups()}))},n.prototype.ngAfterViewInit=function(){var e=this;t.prototype.ngAfterViewInit.call(this),this.hermesSubscribeWithoutRender(this.structureVerticalFormationWarehouse.onRowHeight(this.structureId),(function(t){var n=+t+2;e.filtersRef&&e.styleModifier.getElement(e.filtersRef.nativeElement).setHeight(n)}))},n.prototype.getSelectorName=function(){return"gui-structure-header"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-header]",template:'<div *ngIf="showGroups"\n\t [checkboxSelection]="checkboxSelection"\n\t [groups]="groups"\n\t class="gui-header"\n\t gui-structure-header-groups>\n</div>\n\n<div [checkboxSelection]="checkboxSelection"\n\t [columns]="headerColumns"\n\t class="gui-header"\n\t gui-structure-header-columns>\n</div>\n\n<div *ngIf="filterRowEnabled"\n\t [columns]="headerColumns"\n\t class="gui-header"\n\t gui-structure-header-filters>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:r.DomainEventBus},{type:oe},{type:on},{type:Wn},{type:wi},{type:Yo},{type:zu},{type:yn}]},n.propDecorators={containerRef:[{type:e.ViewChild,args:[ju,{read:e.ElementRef,static:!0}]}],filtersRef:[{type:e.ViewChild,args:[Gu,{read:e.ElementRef,static:!0}]}]},n}(Jt);var Uu=function(){function t(){this.subject$=new r.HermesReplaySubject(1)}return t.prototype.emit=function(t){this.subject$.next(t)},t.prototype.on=function(){return this.subject$.toObservable()},t}();var Wu=function(t){function n(e,n,r,i){var o=t.call(this,e,n)||this;return o.changeDetectorRef=e,o.structureFilterCommandService=r,o.structureId=i,o.sub=new Uu,o.editContext={changes:o.sub},o}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.sub.on().subscribe((function(e){return t.filter(e)}))},n.prototype.filter=function(t){},n.prototype.getSelectorName=function(){return"gui-structure-header-filter"},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-header-filter",template:'\n\n\t\t\x3c!--\t\t<ng-container--\x3e\n\t\t\x3c!--\t\t\t\t*ngTemplateOutlet="column.editTemplate; context: editContext">--\x3e\n\t\t\x3c!--\t\t</ng-container>--\x3e\n\n\t\t<button gui-button [primary]="true">Add Filter</button>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:$n},{type:oe}]},n.propDecorators={column:[{type:e.Input}]},n}(Jt);var qu=function(t){function e(e){return t.call(this,e,null,"StructureCreatedEvent")||this}return l(e,t),e}(de),Ku=function(t){function e(e){return t.call(this,e,null,"VerticalScrollEnabledSetEvent")||this}return l(e,t),e}(de),Xu=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n}(r.InMemoryStore),Qu=function(){function t(t,e,n,r,i){this.enabled=t,this.topMargin=e,this.sourceHeight=n,this.viewportHeight=r,this.rowHeight=i}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.getTopMargin=function(){return this.topMargin},t.prototype.getSourceHeight=function(){return this.sourceHeight},t.prototype.getViewPortHeight=function(){return this.viewportHeight},t.prototype.getRowHeight=function(){return this.rowHeight},t.ctorParameters=function(){return[{type:Boolean},{type:Number},{type:Number},{type:Number},{type:Number}]},t=g([r.ReadModelObject,h("design:paramtypes",[Boolean,Number,Number,Number,Number])],t)}();var Yu=function(){function t(){}return t.prototype.convert=function(t){var e=t.isEnabled(),n=t.getTopMargin(),r=t.getSourceHeight(),i=t.getViewPortHeight(),o=t.getRowHeight();return new Qu(e,n,r,i,o)},t.decorators=[{type:e.Injectable}],t}(),Ju=function(t){function e(e,n,r,i,o){var a=t.call(this,e)||this;return a.paging=n,a.entities=r,a.source=i,a.verticalFormation=o,a}return l(e,t),e.prototype.getPaging=function(){return this.paging},e.prototype.getEntities=function(){return this.entities},e.prototype.getSource=function(){return this.source},e.prototype.getVerticalFormation=function(){return this.verticalFormation},e.prototype.getTopMargin=function(){return this.verticalFormation.getTopMargin()},e.prototype.isLoaderVisible=function(){return this.getSource().isLoading()},e.prototype.getSourceHeight=function(){return this.verticalFormation.getSourceHeight()},e.prototype.isReadyToDisplay=function(){return this.entities.length>0},e.prototype.isVerticalScrollEnabled=function(){return this.verticalFormation.isEnabled()},e}(r.ReadModelRoot);var Zu=function(){function t(t,e,n,i){void 0===i&&(i=0),this.version=0,this.source=t,this.position=e,this.version=i,this.id=n||r.RandomStringGenerator.generate()}return t.prototype.getData=function(){return this.source},t.prototype.getUiId=function(){return"gui"+this.id.replace(/-/g,"")},t.prototype.getId=function(){return this.id},t.prototype.getVersion=function(){return this.version},t.prototype.getPosition=function(){return this.position},t.prototype.isSelected=function(){return!1},t.prototype.isEven=function(){return this.position%2==0},t.prototype.isOdd=function(){return this.position%2==1},t.prototype.equals=function(t){return this.id===t.id&&this.getVersion()===t.getVersion()},t.prototype.equalsById=function(t){return this.id===t},t}();var _u=function(){function t(t,e,n){this.pagingConverter=t,this.sourceConverter=e,this.verticalFormationConverter=n}return t.prototype.convert=function(t){var e=t.getPaging(),n=t.getEntities(),r=t.getSource(),i=t.getVerticalFormation();return new Ju(t.getId().toReadModelRootId(),this.pagingConverter.convert(e),this.convertSource(n),this.sourceConverter.convert(r),this.verticalFormationConverter.convert(i))},t.prototype.convertSource=function(t){return t.map((function(t){return new Zu(t.rawData,t.getPosition(),t.getId().toString(),t.getVersion())}))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Be},{type:Zo},{type:Yu}]},t}();var $u=function(t){function n(e,n){var r=t.call(this,e)||this;return r.inMemoryProjectStore=e,r.structureConverter=n,r}return l(n,t),n.prototype.toReadModel=function(t){return this.structureConverter.convert(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Xu},{type:_u}]},n}(r.InMemoryReadModelStore);var ts=function(t){function e(e){return t.call(this,e,null,"RowHeightSetEvent")||this}return l(e,t),e}(de),es=function(t){function e(e){return t.call(this,e,null,"StructureHeightSetEvent")||this}return l(e,t),e}(de),ns=function(t){function e(e){return t.call(this,e,null,"ScrollPositionSetEvent")||this}return l(e,t),e}(de),rs=function(t){function e(e){return t.call(this,e,null,"RowHeightSetBasedOnThemeEvent")||this}return l(e,t),e}(de),is=function(t){function n(e,n){var i=t.call(this)||this;return i.domainEventBus=e,i.inMemoryStructureReadStore=n,i.verticalFormation=new Map,i.verticalFormation$=new r.HermesReplaySubject(1),i.domainEventBus.ofEvent(qu,Ku,to,es,ts,Ga,rs,ns,$i,me,Me).pipe(i.hermesTakeUntil()).subscribe((function(t){var e=t.getAggregateId();i.inMemoryStructureReadStore.getById(e).ifPresent((function(t){var n=t.getVerticalFormation();i.next(e,n)}))})),i}return l(n,t),n.prototype.onVerticalScrollEnabled=function(t){return this.onVerticalFormation(t).pipe(r.hermesMap((function(t){return t.isEnabled()})),r.hermesDistinctUntilChanged())},n.prototype.onRowHeight=function(t){return this.onVerticalFormation(t).pipe(r.hermesMap((function(t){return t.getRowHeight()})),r.hermesDistinctUntilChanged())},n.prototype.onContainerHeight=function(t){return this.onVerticalFormation(t).pipe(r.hermesMap((function(t){return t.getViewPortHeight()})),r.hermesDistinctUntilChanged())},n.prototype.onTopMargin=function(t){return this.onVerticalFormation(t).pipe(r.hermesMap((function(t){return t.getTopMargin()})),r.hermesDistinctUntilChanged())},n.prototype.onVerticalFormation=function(t){return this.verticalFormation$.toObservable().pipe(r.hermesFilter((function(e){var n=t.getId();return e.has(n)})),r.hermesMap((function(e){return e.get(t.getId())})))},n.prototype.next=function(t,e){this.verticalFormation.set(t.toString(),e),this.verticalFormation$.next(this.verticalFormation)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus},{type:$u}]},n}(r.Reactive);var os=function(t){function n(e,n,r,i,o,a,u,s,c,l,p,g,h,d){var m=t.call(this,n,e)||this;return m.elementRef=e,m.changeDetectorRef=n,m.formationCommandService=r,m.structureCellEditArchive=i,m.structureEditModeArchive=o,m.formationWarehouse=a,m.structureWarehouse=u,m.structureVerticalFormationWarehouse=s,m.verticalFormationRepository=c,m.structureId=l,m.rowSelectionTypeArchive=p,m.searchWarehouse=g,m.schemaRowClassArchive=h,m.schemaRowStyleArchive=d,m.editMode=!1,m.cellEditing=!1,m.searchPhrase="",m.highlighting=!0,m.phrase=!0,m.rowDetailOpened=4,m.checkboxSelection=!1,m}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.rowSelectionTypeArchive.on(),(function(e){t.checkboxSelection=e===_.CHECKBOX})),this.hermesSubscribe(this.structureEditModeArchive.on(),(function(e){t.editMode=e})),this.hermesSubscribe(this.structureCellEditArchive.on(),(function(e){t.cellEditing=e})),this.hermesSubscribe(this.schemaRowClassArchive.on(),(function(e){t.schemaRowClass=e})),this.hermesSubscribe(this.schemaRowStyleArchive.on(),(function(e){t.schemaRowStyle=e})),this.hermesSubscribe(this.structureVerticalFormationWarehouse.onRowHeight(this.structureId),(function(e){t.rowHeight=e})),this.hermesSubscribe(r.fromRxJsObservable(s.combineLatest(r.toRxJsObservable(this.searchWarehouse.onPhrase(this.structureId)),r.toRxJsObservable(this.searchWarehouse.onHighlight(this.structureId)))),(function(e){var n=e[0],r=e[1];t.highlighting=r,t.searchPhrase=n,t.highlighting||(t.searchPhrase="")}))},n.prototype.trackByFn=function(){return 0},n.prototype.translateY=function(t){return"translateY("+t*this.rowHeight+"px)"},n.prototype.toggleSelectedRow=function(t){this.checkboxSelection||this.formationCommandService.toggleSelectedRow(t.getId(),pa.NONE,this.structureId)},n.prototype.getSelectorName=function(){return"gui-structure-content"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-content]",template:'<div class="gui-content">\n\n\t<div (click)="toggleSelectedRow(entity)" *ngFor="let entity of source; let index = index; trackBy: trackByFn"\n\t\t [cellEditing]="cellEditing"\n\t\t [checkboxSelection]="checkboxSelection"\n\t\t [columns]="columns"\n\t\t [detailsEnabled]="rowDetailOpened === index"\n\t\t [editMode]="editMode"\n\t\t [entity]="entity"\n\t\t [id]="entity.getUiId()"\n\t\t [index]="entity.getPosition()"\n\t\t [ngClass]="{\'even\': entity.isEven(), \'odd\': entity.isOdd()}"\n\t\t [ngStyle]="{\'transform\': translateY(index)}"\n\t\t [rowClass]="schemaRowClass"\n\t\t [rowStyle]="schemaRowStyle"\n\t\t [searchPhrase]="searchPhrase"\n\t\t [style.height.px]="rowHeight"\n\t\t class="gui-row"\n\t\t gui-structure-row>\n\t</div>\n\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:wt},{type:ri},{type:oi},{type:Mt},{type:wi},{type:zu},{type:is},{type:oe},{type:Yo},{type:Yr},{type:Ba},{type:Va}]},n.propDecorators={source:[{type:e.Input}],columns:[{type:e.Input}]},n}(Jt);var as=function(t){function n(e,n,r,i,o,a){var u=t.call(this,e,n)||this;return u.changeDetectorRef=e,u.elRef=n,u.structureId=r,u.formationWarehouse=i,u.formationCommandDispatcher=o,u.cssClassModifier=a,u.detailsEnabled=!1,u.checkboxSelection=!1,u.selectedItem=!1,u.styleModifier=new Vt(u.elRef.nativeElement),u.classModifier=new Ot(u.elRef.nativeElement),u}return l(n,t),n.prototype.ngOnChanges=function(t){void 0!==t.entity&&void 0!==t.entity.currentValue&&(this.checkSelectedItem(),this.updateRowClass(t.entity.previousValue),this.updateRowStyle(t.entity.previousValue)),void 0!==t.rowClass&&void 0!==t.rowClass.currentValue&&this.updateRowClass(),void 0!==t.rowStyle&&void 0!==t.rowStyle.currentValue&&this.updateRowStyle()},n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribeWithoutRender(this.formationWarehouse.onRowSelectedReadModel(this.structureId),(function(e){t.row=e;var n=t.selectedItem;t.checkSelectedItem(),n!==t.selectedItem&&(n?t.cssClassModifier.unselect(t.elRef.nativeElement):t.cssClassModifier.select(t.elRef.nativeElement),t.changeDetectorRef.detectChanges())}))},n.prototype.ngAfterViewInit=function(){t.prototype.ngAfterViewInit.call(this),this.updateRowClass(),this.updateRowStyle()},n.prototype.trackByFn=function(){return 0},n.prototype.selectRow=function(){event.stopPropagation(),this.formationCommandDispatcher.toggleSelectedRow(this.entity.getId(),pa.ADD,this.structureId)},n.prototype.checkSelectedItem=function(){if(this.row){var t=this.selectedItem;this.selectedItem=this.row.isSelected(this.entity.getId()),t!==this.selectedItem&&(t?this.cssClassModifier.unselect(this.elRef.nativeElement):this.cssClassModifier.select(this.elRef.nativeElement))}},n.prototype.calculateRowStyle=function(t){return this.rowStyle?"string"==typeof this.rowStyle.style?this.rowStyle.style||"":"function"==typeof this.rowStyle.styleFunction?this.rowStyle.styleFunction(t.getData(),t.getPosition()):void 0:""},n.prototype.updateRowStyle=function(t){if(t){var e=this.calculateRowStyle(t);this.removeRowStyles(e)}var n=this.calculateRowStyle(this.entity);this.renderRowStyles(n)},n.prototype.removeRowStyles=function(t){if(t)for(var e=t.split(";"),n=0;n<e.length;n+=1){var r=e[n].split(":");r[0]&&r[1]&&this.styleModifier.getHost().removeStyleByName(r[0].trim())}},n.prototype.renderRowStyles=function(t){if(t)for(var e=t.split(";"),n=0;n<e.length;n+=1){var r=e[n].split(":");r[0]&&r[1]&&this.styleModifier.getHost().setStyleByName(r[0].trim(),r[1].trim())}},n.prototype.updateRowClass=function(t){if(t){var e=this.calculateRowClass(t);e&&this.classModifier.getHost().remove(e)}var n=this.calculateRowClass(this.entity);n&&this.classModifier.getHost().add(n)},n.prototype.calculateRowClass=function(t){return this.rowClass?("string"==typeof this.rowClass.class&&(e=this.rowClass.class||""),"function"==typeof this.rowClass.classFunction&&t&&(e=this.rowClass.classFunction(t.getData(),t.getPosition())||""),e):"";var e},n.prototype.getSelectorName=function(){return"gui-structure-row"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-row]",template:'\x3c!--<div class="gui-structure-cell-container" >--\x3e\n\n<div *ngIf="checkboxSelection"\n\t class="gui-cell gui-row-checkbox">\n\t<gui-checkbox (changed)="selectRow()" [checked]="selectedItem"></gui-checkbox>\n\t\x3c!--\t<input type="checkbox" [checked]="selectedItem" />--\x3e\n</div>\n\n<div *ngFor="let column of columns; trackBy: trackByFn" [cellEditingEnabled]="cellEditing"\n\t [cell]="column"\n\t [editMode]="editMode"\n\t [entity]="entity"\n\t [searchPhrase]="searchPhrase"\n\t [style.width.px]="column.width"\n\t class="gui-cell"\n\t gui-structure-cell>\n</div>\n\n\x3c!--</div>--\x3e\n\n\x3c!--<div *ngIf="detailsEnabled"--\x3e\n\x3c!--\t [ngStyle]="{\'transform\': \'translateY(32px)\'}"--\x3e\n\x3c!--\t class="gui-structure-row-details">--\x3e\n\n\x3c!--\tDETAILS PANEL--\x3e\n\n\x3c!--</div>--\x3e\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:Mt},{type:wt},{type:re}]},n.propDecorators={entity:[{type:e.Input}],columns:[{type:e.Input}],editMode:[{type:e.Input}],cellEditing:[{type:e.Input}],searchPhrase:[{type:e.Input}],index:[{type:e.Input}],rowStyle:[{type:e.Input}],rowClass:[{type:e.Input}],detailsEnabled:[{type:e.Input}],checkboxSelection:[{type:e.Input}]},n}(Jt);var us={TEXT:0,HTML:1};us[us.TEXT]="TEXT",us[us.HTML]="HTML";var ss=function(){function t(t,e){this.value=t,this.type=e}return t.text=function(e){return new t(e,us.TEXT)},t.HTML=function(e){return new t(e,us.HTML)},t}();var cs=function(){function t(t,e,n,r,i,o,a,u,s,c,l,p,g){this.template=t,this.editTemplate=e,this.editable=n,this.templateFun=r,this.formatterFun=i,this.accessor=o,this.searchAccessor=a,this.width=u,this.columnFieldId=s,this.align=c,this.cellEditingEnabled=l,this.type=p,this.view=g}return t.prototype.isCellEditingEnabled=function(){return this.cellEditingEnabled},t.prototype.isBooleanDataType=function(){return this.type===N.BOOLEAN},t.prototype.isAlignLeft=function(){return this.align===z.LEFT},t.prototype.isAlignCenter=function(){return this.align===z.CENTER},t.prototype.isAlignRight=function(){return this.align===z.RIGHT},t.prototype.getValue=function(t,e){var n=this.findValue(t,e);return n.value=this.templateFun(n.value,t.getData()),this.formatterFun&&(n.value=this.formatterFun(n.value,t.getData())),n},t.prototype.findValue=function(t,e){var n=this.accessor(t);if(this.type!==N.STRING)return ss.text(n);if(this.view&&this.view.getCellView()===B.FUNCTION)return ss.text(n);if(e){for(var r=""+this.searchAccessor(t),i=r.toLocaleLowerCase(),o=e.toLocaleLowerCase(),a=[],u=0;u<o.length;){var s=i.indexOf(o,u);s>=0?(a.push(s),u=s+e.length):u=o.length}var c=r.split("");return a.forEach((function(t){for(var n=0;n<e.length;n+=1){var r=void 0;r=0===n?'<span class="gui-text-highlight">'+c[t+n]:c[t+n],n===e.length-1&&(r+="</span>"),c[t+n]=r}})),r=c.join(""),ss.HTML(r)}return ss.text(n)},t}();var ls={SUBMIT:0,BLUR:1,CANCEL:2};ls[ls.SUBMIT]="SUBMIT",ls[ls.BLUR]="BLUR",ls[ls.CANCEL]="CANCEL";var ps=function(t){function n(e,n,r,i,o,a,u){var s=t.call(this,e,n)||this;return s.changeDetectorRef=e,s.elementRef=n,s.structureId=r,s.structureCellEditArchive=i,s.structureCellEditStore=o,s.cellEditCloseAllService=a,s.sourceCommandService=u,s.inEditMode=!1,s}return l(n,t),n.prototype.ngAfterViewInit=function(){var e=this;t.prototype.ngAfterViewInit.call(this),this.hermesSubscribeWithoutRender(this.cellEditCloseAllService.onCloseAll(),(function(){e.exitEditMode()}))},n.prototype.isCellEditingEnabled=function(){return this.cellEditingEnabled&&this.cell.isCellEditingEnabled()},n.prototype.enterEditMode=function(t){var e=this;void 0===t&&(t=!0),this.isCellEditingEnabled()&&(this.cellEditCloseAllService.closeAll(),r.hermesTimer(0).pipe(this.hermesTakeUntil()).subscribe((function(){e.inEditMode=!0,e.valueChanges$=new Uu,e.status$=new Uu,e.editContext={status:e.status$,valueChanges:e.valueChanges$,value:e.cell.getValue(e.entity).value,focus:t,parent:e.elementRef},e.observeFieldStatus(),e.observeValueChanges(),e.publishEditEnter(),t?e.changeDetectorRef.detectChanges():e.changeDetectorRef.markForCheck()})))},n.prototype.exitEditMode=function(){this.inEditMode=!1,this.changeDetectorRef.detectChanges()},n.prototype.submitChangesAndExit=function(){var t=this.entity.getId(),e=this.actualValue,n=this.cell.columnFieldId;this.sourceCommandService.editItem(new Na(t,n,e),this.structureId),this.exitEditMode()},n.prototype.observeFieldStatus=function(){var t=this;this.status$.on().pipe(this.hermesTakeUntil()).subscribe((function(e){switch(e){case ls.SUBMIT:t.submitChangesAndExit(),t.publishEditSubmit();break;case ls.CANCEL:t.exitEditMode(),t.publishEditCancel()}}))},n.prototype.observeValueChanges=function(){var t=this;this.valueChanges$.on().pipe(this.hermesTakeUntil()).subscribe((function(e){t.actualValue=e}))},n.prototype.publishEditState=function(t){this.structureCellEditStore.next(t)},n.prototype.publishEditEnter=function(){this.publishEditState(pi.ENTER)},n.prototype.publishEditCancel=function(){this.publishEditState(pi.CANCEL)},n.prototype.publishEditSubmit=function(){this.publishEditState(pi.SUBMIT)},n.prototype.getSelectorName=function(){return"gui-structure-cell"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-cell][entity][cell]",template:'<ng-container *ngIf="!cell.isBooleanDataType() || (cell.isBooleanDataType() && !this.isCellEditingEnabled())">\n\n\t<span (click)="enterEditMode()"\n\t\t  *ngIf="!inEditMode"\n\t\t  [ngClass]="{\'gui-cell-view\': true,\'gui-align-left\': cell.isAlignLeft(),\'gui-align-center\': cell.isAlignCenter(),\'gui-align-right\': cell.isAlignRight()}">\n\t\t<ng-container\n\t\t\t*ngTemplateOutlet="cell.template;\n\t\t\t\tcontext: { element: cell.getValue(entity, searchPhrase) }">\n\t\t</ng-container>\n\t</span>\n\n\t<span *ngIf="inEditMode"\n\t\t  class="gui-cell-edit-mode">\n\t\t<ng-container\n\t\t\t*ngTemplateOutlet="cell.editTemplate;\n\t\t\t\tcontext: editContext">\n\t\t</ng-container>\n\t</span>\n\n\n\t\x3c!--\t<span *ngIf="inEditMode"--\x3e\n\t\x3c!--\t\t  class="gui-cell-edit-mode">--\x3e\n\n\t\x3c!--\t\t<gui-structure-cell-edit [cell]="cell"--\x3e\n\t\x3c!--\t\t\t\t\t\t\t\t [entity]="entity">--\x3e\n\t\x3c!--\t\t</gui-structure-cell-edit>--\x3e\n\t\x3c!--\t</span>--\x3e\n\n\n</ng-container>\n\n<ng-container *ngIf="cell.isBooleanDataType() && this.isCellEditingEnabled()">\n\t<div [cell]="cell" [entity]="entity"\n\t\t gui-structure-cell-edit-boolean>\n\t</div>\n</ng-container>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:ri},{type:ii},{type:Mi},{type:St}]},n.propDecorators={entity:[{type:e.Input}],cell:[{type:e.Input}],editMode:[{type:e.Input}],cellEditingEnabled:[{type:e.Input}],searchPhrase:[{type:e.Input}]},n}(Jt);var gs=function(){function t(t){this.platformId=t}return t.prototype.on=function(t){return n.isPlatformBrowser(this.platformId)?r.fromRxJsObservable(new s.Observable((function(e){var n=new ResizeObserver((function(t){t&&t.length>0&&e.next(t[0].contentRect)}));return n.observe(t),function(){return n.disconnect()}})).pipe(u.throttleTime(25))):r.hermesEmpty()},t.prototype.destroy=function(t){},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},t}();var hs=function(t){function n(e,n,i,o,a,u,s,c,l,p,g,h,d,m,f){var y=t.call(this,e,n)||this;return y.elRef=n,y.ngZone=i,y.structureId=o,y.compositionId=a,y.structureCommandService=u,y.structureWarehouse=s,y.verticalFormationWarehouse=c,y.sourceWarehouse=l,y.compositionCommandInvoker=p,y.compositionWarehouse=g,y.formationWarehouse=h,y.resizeDetector=d,y.structureInitialValuesReadyArchive=m,y.structureParent=f,y.columns=[],y.source=[],y.autoResizeWidthEnabled=!1,y.scrollObservation$=new r.HermesSubject,y.styleModifier=new Vt(y.elRef.nativeElement),y}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribeWithoutRender(this.verticalFormationWarehouse.onContainerHeight(this.structureId),(function(e){t.setContainerHeight(e)})),this.hermesSubscribe(r.fromRxJsObservable(r.toRxJsObservable(this.structureInitialValuesReadyArchive.once(this.structureId)).pipe(u.flatMap((function(){return s.combineLatest(r.toRxJsObservable(t.sourceWarehouse.onEntities(t.structureId)),r.toRxJsObservable(t.compositionWarehouse.onTemplateColumns(t.compositionId)))})))),(function(e){t.source=e[0],t.columns=e[1]})),this.hermesSubscribeWithoutRender(this.compositionWarehouse.onResizeWidth(this.compositionId),(function(e){t.autoResizeWidthEnabled=e}))},n.prototype.ngAfterViewInit=function(){var e=this;t.prototype.ngAfterViewInit.call(this),this.structureParent&&this.hermesSubscribeWithoutRender(this.resizeDetector.on(this.structureParent.getElementRef().nativeElement).pipe(r.hermesFilter((function(){return e.autoResizeWidthEnabled})),r.hermesMap((function(t){return t.width})),r.hermesDistinctUntilChanged()),(function(t){e.recalculateContainer(t)})),this.hermesSubscribeWithoutRender(this.compositionWarehouse.onContainerWidth(this.compositionId),(function(t){e.styleModifier.getElement(e.sourceCollectionRef.nativeElement).setWidth(t)})),this.hermesSubscribeWithoutRender(this.verticalFormationWarehouse.onVerticalScrollEnabled(this.structureId),(function(t){t?e.enableScrollObservation():e.disableScrollObservation()})),this.hermesSubscribeWithoutRender(this.structureWarehouse.on(this.structureId).pipe(r.hermesFilter((function(t){return t.isVerticalScrollEnabled()}))),(function(t){var n=t.getTopMargin(),r=t.getSourceHeight();e.setSourceHeight(n,r)})),this.hermesSubscribeWithoutRender(this.verticalFormationWarehouse.onScrollBarPosition(this.structureId),(function(t){e.elRef.nativeElement.scrollTop=t}))},n.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this.resizeDetector.destroy(this.elRef.nativeElement)},n.prototype.setContainerHeight=function(t){this.height=t,this.styleModifier.getHost().setHeight(t)},n.prototype.setSourceHeight=function(t,e){this.styleModifier.getElement(this.sourceCollectionRef.nativeElement).setPaddingTop(t),this.styleModifier.getElement(this.sourceCollectionRef.nativeElement).setHeight(e)},n.prototype.recalculateContainer=function(t){this.autoResizeWidthEnabled&&this.compositionCommandInvoker.setContainerWidth(t,this.compositionId)},n.prototype.enableScrollObservation=function(){var t=this;this.ngZone.runOutsideAngular((function(){r.hermesFromEvent(t.elRef.nativeElement,"scroll").pipe(r.hermesTakeUntil(t.scrollObservation$),t.takeUntil()).subscribe((function(e){var n=e.target.scrollTop;t.structureCommandService.setScrollPosition(n,t.structureId)}))}))},n.prototype.disableScrollObservation=function(){this.scrollObservation$.next(),this.scrollObservation$.complete()},n.prototype.getSelectorName=function(){return"gui-structure-container"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-container]",template:'<div #sourceCollection\n\t class="gui-h-full gui-w-full gui-absolute gui-structure-container-element">\n\n\t<div [columns]="columns" [source]="source"\n\t\t gui-structure-content>\n\t</div>\n\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:e.NgZone},{type:oe},{type:on},{type:Ft},{type:wi},{type:zu},{type:xt},{type:vn},{type:yn},{type:Mt},{type:gs},{type:Du},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[pt]}]}]},n.propDecorators={sourceCollectionRef:[{type:e.ViewChild,args:["sourceCollection",{static:!1}]}]},n}(Jt);var ds=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-quick-filters]",template:"\n\n\t\tQuickFilters\n\n\t"}]}],t}(),ms=new e.InjectionToken("Structure - - css className"),fs=function(t){function n(e,n,r,i,o,a,u,s,c,l,p,g,h,d,m){var f=t.call(this,e,n)||this;return f.changeDetectorRef=e,f.structureDefinition=r,f.structureId=i,f.structureWarehouse=o,f.structureInfoPanelArchive=a,f.pagingWarehouse=u,f.structureSummariesArchive=s,f.filterWarehouse=c,f.searchWarehouse=l,f.structureHeaderTopEnabledArchive=p,f.structureHeaderBottomEnabledArchive=g,f.structureTitlePanelConfigArchive=h,f.structureFooterPanelConfigArchive=d,f.className=m,f.searchEnabled=!1,f.topSummariesPanelEnabled=!1,f.bottomSummariesPanelEnabled=!1,f.quickFiltersEnabled=!1,f.infoPanelEnabled=!1,f.items=[],f.localStreamCloser=new Qt,f.headerCssClass="gui-"+f.className+"-header",f.contentCssClass="gui-"+f.className+"-content",f}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.structureHeaderTopEnabledArchive.on(),(function(e){t.topHeaderEnabled=e})),this.hermesSubscribe(this.structureHeaderBottomEnabledArchive.on(),(function(e){t.bottomHeaderEnabled=e})),this.hermesSubscribe(this.structureWarehouse.on(this.structureId),(function(e){t.structure=e,t.items=e.getEntities()})),this.hermesSubscribe(this.pagingWarehouse.onPaging(this.structureId),(function(e){t.pagingReadModel=e})),this.hermesSubscribe(this.pagingWarehouse.onPaging(this.structureId),(function(e){t.pagingReadModel=e})),this.hermesSubscribe(this.searchWarehouse.onSearchEnabled(this.structureId),(function(e){t.searchEnabled=e})),this.hermesSubscribe(this.filterWarehouse.onQuickFiltersEnabled(this.structureId),(function(e){t.quickFiltersEnabled=e})),this.hermesSubscribe(this.structureSummariesArchive.on(),(function(e){t.topSummariesPanelEnabled=e.itTopEnabled(),t.bottomSummariesPanelEnabled=e.itBottomEnabled()})),this.hermesSubscribe(this.structureInfoPanelArchive.on(),(function(e){t.infoPanelEnabled=e.isEnabled()})),this.hermesSubscribe(this.structureTitlePanelConfigArchive.on(),(function(e){t.titlePanelEnabled=e.enabled})),this.hermesSubscribe(this.structureFooterPanelConfigArchive.on(),(function(e){t.footerPanelEnabled=e.enabled}))},n.prototype.ngOnDestroy=function(){this.localStreamCloser.unsubscribe(),t.prototype.ngOnDestroy.call(this)},n.prototype.getHeaderTopClasses=function(){return this.headerCssClass+" gui-header-top"},n.prototype.getHeaderBottomClasses=function(){return this.headerCssClass+" gui-header-bottom"},n.prototype.isColumnHeaderTopEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.topHeaderEnabled},n.prototype.isColumnHeaderBottomEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.bottomHeaderEnabled},n.prototype.isPagingTopEnabled=function(){return this.structureDefinition.getTopPaging().isEnabled()&&this.pagingReadModel&&this.pagingReadModel.isPagerTop()},n.prototype.isPagingBottomEnabled=function(){return this.structureDefinition.getBottomPaging().isEnabled()&&this.pagingReadModel&&this.pagingReadModel.isPagerBottom()},n.prototype.isSourceEmpty=function(){return this.structure&&0===this.structure.getEntities().length},n.prototype.getSelectorName=function(){return"gui-structure-blueprint"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-blueprint]",template:'\x3c!---------- TOP ----------\x3e\n<div *ngIf="titlePanelEnabled" gui-structure-title-panel></div>\n\n<div *ngIf="searchEnabled" gui-structure-top-panel></div>\n\n\x3c!--<div gui-structure-quick-filters *ngIf="quickFiltersEnabled">--\x3e\n\x3c!--</div>--\x3e\n\n<div *ngIf="isPagingTopEnabled()" [position]="0"\n\t gui-paging>\n</div>\n\n<div [enabled]="topSummariesPanelEnabled" class="gui-structure-summaries-panel-top"\n\t gui-structure-summaries-panel>\n</div>\n\n<div *ngIf="isColumnHeaderTopEnabled()" [ngClass]="getHeaderTopClasses()"\n\t gui-structure-header>\n</div>\n\n\n\x3c!---------- MAIN ----------\x3e\n<div [ngClass]="contentCssClass" gui-structure-container>\n</div>\n\n<div [items]="items" gui-empty-source>\n</div>\n\n\n\x3c!---------- BOTTOM ----------\x3e\n<div *ngIf="isColumnHeaderBottomEnabled()" [ngClass]="getHeaderBottomClasses()"\n\t gui-structure-header>\n</div>\n\n<div [enabled]="bottomSummariesPanelEnabled" class="gui-structure-summaries-panel-bottom"\n\t gui-structure-summaries-panel>\n</div>\n\n<div *ngIf="footerPanelEnabled" gui-structure-footer-panel></div>\n\n<div *ngIf="isPagingBottomEnabled()" [position]="1"\n\t gui-paging>\n</div>\n\n<div *ngIf="infoPanelEnabled" gui-structure-info-panel></div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:st},{type:oe},{type:wi},{type:hn},{type:Zt},{type:ui},{type:Wn},{type:Yr},{type:Ri},{type:Di},{type:Bi},{type:Vi},{type:String,decorators:[{type:e.Inject,args:[ms]}]}]},n}(Jt);var ys=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Xu},{type:r.AggregateStoreRegister}]},n}(r.InMemoryAggregateStore),vs=function(t){function n(e){var n=t.call(this)||this;return n.inMemoryStructureAggregateStore=e,n}return l(n,t),n.prototype.findById=function(t){return this.inMemoryStructureAggregateStore.findById(t)},n.prototype.save=function(t){this.inMemoryStructureAggregateStore.save(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:ys}]},n}(xe);var bs=function(t){function e(e,n){var r=t.call(this,e,n,"SelectionEnabledSetEvent")||this;return r.enabled=n,r}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(de);var Cs=function(t){function e(e,n,r,i){var o=t.call(this,e,{fieldId:n,filterTypeId:r,value:i},"FilterAddedEvent")||this;return o.fieldId=n,o.filterTypeId=r,o.value=i,o}return l(e,t),e}(de);var Es=function(t){function e(e){return t.call(this,e,null,"UniqueFilterSelectedEvent")||this}return l(e,t),e}(de),Is=function(t){function e(e){return t.call(this,e,null,"AllUniqueFilterSelectedEvent")||this}return l(e,t),e}(de),ws=function(t){function e(e){return t.call(this,e,null,"UniqueFilterUnselectedEvent")||this}return l(e,t),e}(de),Ss=function(t){function e(e){return t.call(this,e,null,"AllUniqueFilterUnselectedEvent")||this}return l(e,t),e}(de),Ts=function(t){function n(e,n){var i=t.call(this,e)||this;return i.inMemoryStructureReadStore=n,i.structureIdToStructure=new Map,i.hermesStructure$=new r.HermesReplaySubject(1),i}return l(n,t),n.prototype.getStructure=function(t){return this.structureIdToStructure.get(t.getId())},n.prototype.on=function(t){return this.hermesStructure$.toObservable().pipe(r.hermesFilter((function(e){var n=t.getId();return e.has(n)})),r.hermesMap((function(e){return e.get(t.getId())})))},n.prototype.forEvents=function(){return[qu,_o,Me,Fe,Re,ve,bs,Ku,ns,Gi,sr,$i,Wi,to,ts,es,rs,Cs,kr,Es,Is,ws,Ss]},n.prototype.subs=function(t){var e=this,n=t.getAggregateId();this.inMemoryStructureReadStore.getById(n).ifPresent((function(t){var n=t.getId().toString();e.structureIdToStructure.set(n,t),e.hermesStructure$.next(e.structureIdToStructure)}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus},{type:$u}]},n}(Ve);var As=[ys,{provide:xe,useClass:vs}],xs=[$u,{provide:Ve,useClass:Ts}],Ms=[Xu],Ds=function(){function t(t,e,n){this.start=t,this.end=e,this.margin=n}return t.prototype.getStart=function(){return this.start},t.prototype.getEnd=function(){return this.end},t.prototype.getMargin=function(){return this.margin},t}();var Rs=function(){function t(){this.containerHeight=r.Optional.empty()}return t.prototype.isContainerHeightProperForVirtualScroll=function(){return!!this.containerHeight.isPresent()&&this.containerHeight.getValueOrNullOrThrowError()>0},t.prototype.getVisibleContainerHeight=function(){return this.getHeight()},t.prototype.getHeight=function(){return this.containerHeight.isPresent()?this.getContainerHeight():this.sourceHeight},t.prototype.getSourceHeight=function(){return this.sourceHeight},t.prototype.setContainerHeight=function(t){t>=0&&(this.containerHeight=r.Optional.of(t))},t.prototype.setSourceSize=function(t){this.sourceHeight=t},t.prototype.getContainerHeight=function(){return this.containerHeight.getValueOrNullOrThrowError()>this.sourceHeight?this.sourceHeight:this.containerHeight.getValueOrNullOrThrowError()},t=g([r.DomainObject],t)}();var Ps=function(t){function e(e,n){var r=t.call(this,e,n,"ScrollBarPositionSetEvent")||this;return r.position=n,r}return l(e,t),e.prototype.getPosition=function(){return this.position},e}(de);var Fs=function(t){function e(e,n){var r=t.call(this,e,"ScrollBarPositionSetAggregateEvent")||this;return r.position=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Ps(this.getAggregateId(),this.position)},e}(fe);var Ns=function(){function t(t,n,r,i,o,a,u,s){void 0===n&&(n=!1),void 0===r&&(r=0),void 0===i&&(i=0),void 0===o&&(o=0),this.structureId=t,this.enabled=n,this.rowHeight=e.ROW_HEIGHT,this.hiddenItemsTop=e.HIDDEN_ITEMS_TOP,this.hiddenItemsBottom=e.HIDDEN_ITEMS_BOTTOM,this.container=new Rs,this.sourceSize=i,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.container.setContainerHeight(r),this.scrollPosition=o,Number.isInteger(a)&&(this.rowHeight=a),Number.isInteger(u)&&(this.hiddenItemsTop=u),Number.isInteger(s)&&(this.hiddenItemsBottom=s),this.calculateRange()}var e;return e=t,t.prototype.isEnabled=function(){return this.enabled&&this.container.getHeight()>0&&this.sourceSize>0},t.prototype.getViewPortHeight=function(){return this.container.getVisibleContainerHeight()},t.prototype.getSourceHeight=function(){return this.container.getSourceHeight()},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getRange=function(){return this.range},t.prototype.getTopMargin=function(){return this.range.getStart()*this.rowHeight},t.prototype.calculateRange=function(){if(!(this.calcFullHeight()<=this.container.getHeight())){var t=Math.ceil(this.container.getHeight()/this.rowHeight),e=Math.floor(this.scrollPosition/this.rowHeight),n=e+t+this.hiddenItemsBottom,r=e;r+t>=this.sourceSize&&(r=this.sourceSize-t);var i=Math.max(e-this.hiddenItemsTop,0);return n>this.sourceSize&&(i=(n=this.sourceSize)-t),this.range=new Ds(i,n,r),{start:i,end:n,topMargin:r}}this.range=new Ds(0,this.sourceSize,0)},t.prototype.setEnabled=function(t){this.enabled=t,this.enabled&&!this.container.isContainerHeightProperForVirtualScroll()&&this.logger.warn("Height needs to be specified in order for virtual scroll to work."),this.calculateRange()},t.prototype.setSourceSize=function(t){void 0===t&&(t=0),this.sourceSize=t,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.calculateRange()},t.prototype.setTopHiddenItemsCount=function(t){this.hiddenItemsTop=t,this.calculateRange()},t.prototype.setBottomHiddenItemsCount=function(t){this.hiddenItemsBottom=t,this.calculateRange()},t.prototype.setScrollPosition=function(t){this.scrollPosition=t,this.calculateRange()},t.prototype.scrollToIndex=function(t){t>=this.sourceSize&&(t=this.sourceSize),t<-1&&(t=0);var e=t*this.rowHeight;return new Fs(this.structureId,e)},t.prototype.setViewportHeight=function(t){this.container.setContainerHeight(t),this.calculateRange()},t.prototype.setRowHeight=function(t){this.rowHeight=t,this.container.setSourceSize(this.sourceSize*this.rowHeight),this.calculateRange()},t.prototype.setLogger=function(t){this.logger=t},t.prototype.calcFullHeight=function(){return this.sourceSize*this.rowHeight},t.ROW_HEIGHT=42,t.HIDDEN_ITEMS_TOP=5,t.HIDDEN_ITEMS_BOTTOM=2,t.ctorParameters=function(){return[{type:oe},{type:Boolean},{type:Number},{type:Number},{type:Number},{type:Number},{type:Number},{type:Number}]},t=e=g([r.DomainObject,h("design:paramtypes",[oe,Boolean,Number,Number,Number,Number,Number,Number])],t)}();var Os=function(){function t(t){this.logger=t}return t.prototype.create=function(t,e,n,r,i,o,a,u){void 0===e&&(e=!1),void 0===n&&(n=-1),void 0===r&&(r=0),void 0===i&&(i=0);var s=new Ns(t,e,n,r,i,o,a,u);return s.setLogger(this.logger),s},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:he}]},t}();var ks=function(){function t(e,n){this.calculators=n,this.values=new Map,this.structureId=e,this.enabled=t.DEFAULT_ENABLED}return t.prototype.calculate=function(t,e){if(!this.enabled)return[];var n=new Map;return this.calculators.forEach((function(r){var i=r.calculate(t,e);i&&Array.from(i.keys()).forEach((function(t){n.set(t,i.get(t))}))})),n.size>0?[new no(this.structureId,n)]:[]},t.prototype.setEnabled=function(t){this.enabled=t},t.prototype.add=function(){},t.prototype.remove=function(){},t.prototype.update=function(){},t.DEFAULT_ENABLED=!1,t}();var Hs=function(){function t(t){this.calculators=t}return t.prototype.create=function(t){return new ks(t,this.calculators)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:e.Inject,args:["GUI - Summaries Calculators"]}]}]},t}();var Bs=function(t){function e(e,n){var r=t.call(this,e,"StructurePreparedEntitiesSetAggregateEvent")||this;return r.preparedItems=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new ro(this.getAggregateId(),this.preparedItems)},e.prototype.getPreparedItems=function(){return this.preparedItems},e}(fe);var Vs=function(t){function e(e,n,r){var i=t.call(this,e,"FieldsInitedAggregateEvent")||this;return i.fieldConfigs=n,i.fields=r,i}return l(e,t),e.prototype.toDomainEvent=function(){return new Gr(this.getAggregateId(),this.fieldConfigs,this.fields)},e.prototype.getFieldConfigs=function(){return this.fieldConfigs},e.prototype.getFields=function(){return this.fields},e}(fe);var js=function(t){function e(e){return t.call(this,e,"StructureCreatedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new qu(this.getAggregateId())},e}(fe);function Gs(t,e){if("function"!=typeof Object.getPrototypeOf(t)[e])throw new Error('Method "'+e+'" of class "'+t.constructor.name+"\" doesn't override any method of base class.")}var zs=function(t){function e(e,n){var r=t.call(this,e,"FilterTypesInitedAggregateEvent")||this;return r.filterTypes=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Nr(this.getAggregateId(),this.filterTypes)},e.prototype.getFilterTypes=function(){return this.filterTypes},e}(fe);var Ls=function(t){function e(e){return t.call(this,e,"FilterAddedEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new kr(this.getAggregateId(),[])},e}(fe),Us=function(t){function e(e,n){var r=t.call(this,e,"FilterAddedEvent")||this;return r.activeFilters=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new kr(this.getAggregateId(),this.activeFilters)},e}(fe);var Ws=function(t){function e(e,n){var r=t.call(this,e,"FilterRemovedAggregateEvent")||this;return r.activeFilters=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new kr(this.getAggregateId(),this.activeFilters)},e}(fe);var qs=function(t){function e(e,n){var r=t.call(this,e,"UniqueFilterCalculatedAggregateEvent")||this;return r.map=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Br(this.getAggregateId(),this.map)},e}(fe);var Ks=function(t){function e(e){return t.call(this,e,"UniqueFilterSelectedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Es(this.getAggregateId())},e}(fe),Xs=function(t){function e(e){return t.call(this,e,"UniqueFilterUnselectedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new ws(this.getAggregateId())},e}(fe),Qs=function(t){function e(e){return t.call(this,e,"AllUniqueFilterUnselectedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Ss(this.getAggregateId())},e}(fe),Ys=function(t){function e(e){return t.call(this,e,"AllUniqueFilterSelectedAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Is(this.getAggregateId())},e}(fe),Js=function(t){function e(e,n,r,i){var o=t.call(this,e,"SelectedRowChangedAggregateEvent")||this;return o.selectedRows=n,o.allSelected=r,o.allUnselected=i,o}return l(e,t),e.prototype.toDomainEvent=function(){return new Ei(this.getAggregateId(),this.selectedRows,this.allSelected,this.allUnselected)},e}(fe);var Zs=function(t){function e(e,n){var r=t.call(this,e,"SelectionEnabledSetAggregateEvent")||this;return r.enabled=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new bs(this.getAggregateId(),this.enabled)},e}(fe);var _s=function(t){function e(e,n){var r=t.call(this,e,"SelectionModeSetAggregateEvent")||this;return r.mode=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Ia(this.getAggregateId(),this.mode)},e}(fe);var $s=function(t){function e(e,n,r,i,o,a,u,s,c,l){var p=t.call(this,e,ke)||this;return p.pagingManager=n,p.sourceManager=r,p.verticalFormation=i,p.summariesManager=o,p.sorterCollection=a,p.filterManager=u,p.uniqueFilterManager=s,p.searchManager=c,p.fieldCollection=l,p}return l(e,t),e.prototype.createEvent=function(){return js},e.prototype.clearEvents=function(){t.prototype.clearEvents.call(this),this.pagingManager.clearEvents()},e.prototype.init=function(){this.initTheme()},e.prototype.setVerticalFormationEnabled=function(t){this.verticalFormation.setEnabled(t),this.calculateSource()},e.prototype.getVerticalFormation=function(){return this.verticalFormation},e.prototype.setSummariesEnabled=function(t){return this.summariesManager.setEnabled(t),this.calculateSource(),this.getEvents()},e.prototype.setOrigin=function(t){return this.addEvent(this.sourceManager.setOrigin(t,this.getId())),this.calculateUniqueValues(),this.calculateSource(),this.getEvents()},e.prototype.deleteAllSelected=function(){},e.prototype.deleteItem=function(t){this.addEvent(this.sourceManager.deleteOriginItem(t,this.getId())),this.generateSelectedRowChangedEvent(),this.calculateSource()},e.prototype.editItem=function(t){var e=this,n=t.getItemId(),r=t.getColumnFieldId(),i=this.fieldCollection.getField(r),o=t.getValue();return this.sourceManager.editOriginItem(n,o,i,this.getId()).forEach((function(t){return e.addEvent(t)})),this.calculateSource(),this.getEvents()},e.prototype.setHeight=function(t){this.verticalFormation.setViewportHeight(t),this.calculateSourceBasedOnVirtualScroll()},e.prototype.setTheme=function(t){t===W.MATERIAL&&this.getVerticalFormation().setRowHeight(52),t===W.GENERIC&&this.getVerticalFormation().setRowHeight(42),t===W.FABRIC&&this.getVerticalFormation().setRowHeight(36),t===W.LIGHT&&this.getVerticalFormation().setRowHeight(56),t===W.DARK&&this.getVerticalFormation().setRowHeight(38)},e.prototype.setScrollPosition=function(t){this.verticalFormation.setScrollPosition(t),this.calculateSourceBasedOnVirtualScroll()},e.prototype.scrollToIndex=function(t){this.addEvent(this.verticalFormation.scrollToIndex(t))},e.prototype.setSelection=function(t){this.sourceManager.getFormation().setSelection(t),this.addEvent(new Zs(this.getId(),t))},e.prototype.setSelectionMode=function(t){this.sourceManager.getFormation().setMode(t),this.addEvent(new _s(this.getId(),t))},e.prototype.toggleRow=function(t,e){this.sourceManager.toggleRow(t,e),this.generateSelectedRowChangedEvent()},e.prototype.selectAll=function(){this.sourceManager.selectAll(),this.generateSelectedRowChangedEvent()},e.prototype.unselectAll=function(){this.sourceManager.unselectAll(),this.generateSelectedRowChangedEvent()},e.prototype.getFormation=function(){return this.sourceManager.getFormation()},e.prototype.getPaging=function(){return this.pagingManager},e.prototype.changePaging=function(t){this.pagingManager.change(t),this.calculateSource()},e.prototype.setPaging=function(t){this.pagingManager=t,this.calculateSource()},e.prototype.nextPage=function(){this.pagingManager.nextPage(),this.calculateSource()},e.prototype.prevPage=function(){this.pagingManager.prevPage(),this.calculateSource()},e.prototype.changePageSize=function(t){var e=this;return this.pagingManager.changePageSize(t).forEach((function(t){e.addEvent(t)})),this.calculateSource(),this.getEvents()},e.prototype.getEntities=function(){return this.sourceManager.getSlicedEntities()},e.prototype.getSource=function(){return this.sourceManager},e.prototype.createFields=function(t){this.fieldCollection.initFields(t);var e=this.fieldCollection.getAllFields();return this.addEvent(new Vs(this.getId(),t,e)),this.filterManager.assignFilterTypes(e),this.addEvent(new zs(this.getId(),this.filterManager.getFilterTypes())),this.getEvents()},e.prototype.setSortingConfig=function(t){this.sorterCollection.setConfig(t)},e.prototype.toggleSort=function(t){var e=this.fieldCollection.getField(t);return this.sorterCollection.toggle(e),this.calculateSource(),this.sorterCollection.getAll()},e.prototype.setSortOrder=function(t,e){var n=this.fieldCollection.getField(t);return this.sorterCollection.setSortOrder(n,e),this.calculateSource(),this.sorterCollection.getAll()},e.prototype.setFilterConfig=function(t){this.filterManager.getSettings().setFilterConfig(t)},e.prototype.setQuickFiltersConfig=function(t){this.filterManager.getSettings().setQuickFiltersConfig(t)},e.prototype.toggleFilter=function(t,e,n){return void 0===this.fieldCollection.getField(t)||this.calculateSource(),[]},e.prototype.addFilter=function(t,e,n){this.filterManager.add(t,e,n);var r=this.fieldCollection.getFieldsAsMap(),i=this.filterManager.getAllActiveFilters(r);this.addEvent(new Us(this.getId(),i)),this.calculateSource()},e.prototype.removeAllFilters=function(){this.filterManager.removeAll(),this.addEvent(new Ls(this.getId())),this.calculateSource()},e.prototype.removeFilter=function(t){this.filterManager.remove(t);var e=this.fieldCollection.getFieldsAsMap(),n=this.filterManager.getAllActiveFilters(e);this.addEvent(new Ws(this.getId(),n)),this.calculateSource()},e.prototype.setSearchingConfig=function(t){this.filterManager.getSettings().setSearchingConfig(t)},e.prototype.addSearchPhrase=function(t){var e=this.fieldCollection.getAllFields();return this.searchManager.addSearchPhrase(e,t),this.calculateSource(),[]},e.prototype.removeSearchPhrase=function(){return this.searchManager.removeSearchFilters(),this.calculateSource(),[]},e.prototype.selectAllUniqueFilter=function(t){this.uniqueFilterManager.selectAll(t),this.addEvent(new Ys(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()},e.prototype.selectUniqueFilter=function(t,e){this.uniqueFilterManager.select(t,e),this.addEvent(new Ks(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()},e.prototype.unselectAllUniqueFilter=function(t){this.uniqueFilterManager.unselectAll(t),this.addEvent(new Qs(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()},e.prototype.unselectUniqueFilter=function(t,e){this.uniqueFilterManager.unselect(t,e),this.addEvent(new Xs(this.getId())),this.generateCalculateUniqueValuesAggregateEvent(),this.calculateSource()},e.prototype.calculateSource=function(){var t=this;if(this.sourceManager.getOrigin()&&this.pagingManager){this.sourceManager.setEntities(this.sourceManager.getOrigin()),this.sourceManager.setEntities(this.filterManager.filter(this.sourceManager.getEntities(),this.fieldCollection.getFieldsAsMap()));var e=this.searchManager.search(this.sourceManager.getEntities());this.sourceManager.setEntities(e),this.sourceManager.setEntities(this.uniqueFilterManager.filterAll(this.sourceManager.getEntities(),this.fieldCollection.getAllFields()));var n=this.sorterCollection.sort(this.sourceManager.getEntities());this.sourceManager.setEntities(n),this.sourceManager.setPreparedEntities(),this.pagingManager.setSourceSize(this.sourceManager.getPreparedEntities().length),this.addEvent(new Bs(this.getId(),n)),this.summariesManager.calculate(this.fieldCollection.getAllFields(),this.sourceManager.getEntities()).forEach((function(e){t.addEvent(e)})),this.sourceManager.setEntities(this.pagingManager.sample(this.sourceManager.getEntities())),this.verticalFormation.setSourceSize(this.sourceManager.getEntities().length),this.calculateSourceBasedOnVirtualScroll()}},e.prototype.calculateSourceBasedOnVirtualScroll=function(){if(this.verticalFormation.isEnabled()){var t=this.verticalFormation.getRange();this.sourceManager.setSlicedEntities(this.sourceManager.getEntities().slice(t.getStart(),t.getEnd()))}else this.sourceManager.setSlicedEntities(this.sourceManager.getEntities())},e.prototype.initTheme=function(){var t=Za.DEFAULT_THEME;this.setTheme(t)},e.prototype.calculateUniqueValues=function(){var t=this.fieldCollection.getAllFields(),e=this.sourceManager.getOrigin();this.uniqueFilterManager.calculateAll(e,t),this.generateCalculateUniqueValuesAggregateEvent()},e.prototype.generateCalculateUniqueValuesAggregateEvent=function(){this.addEvent(new qs(this.getId(),this.uniqueFilterManager.getAll(this.fieldCollection.getAllFields())))},e.prototype.generateSelectedRowChangedEvent=function(){this.addEvent(new Js(this.getId(),this.sourceManager.getFormation().getSelectedRows(),this.sourceManager.getFormation().isAllSelected(),this.sourceManager.getFormation().isAllUnselected()))},g([Gs,h("design:type",Function),h("design:paramtypes",[]),h("design:returntype",void 0)],e.prototype,"clearEvents",null),e}(r.AggregateRoot);var tc=function(){function t(t,e,n){void 0===n&&(n=!0),this.rank=1,this.sorterId=t,this.field=e,this.direction=n}return t.prototype.getId=function(){return this.sorterId},t.prototype.getRank=function(){return this.rank},t.prototype.getField=function(){return this.field},t.prototype.hasDirection=function(){return this.direction},t.prototype.changeDirection=function(){this.direction=!this.direction},t.prototype.setDirection=function(t){this.direction=t},t.prototype.sort=function(t){var e=this;return 0===t.length?t:t.sort((function(t,n){return e.field.sort(t,n,e.direction)}))},t}();var ec=function(){function t(t){this.sorterId=t}return t.prototype.getId=function(){return this.sorterId},t}();var nc=function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.sorters=new Map,this.enabled=t,this.multi=e}return t.prototype.setConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.enabled=t.enabled),t&&void 0!==t.multiSorting&&null!==t.multiSorting&&(this.multi=t.multiSorting,this.sorters.clear())},t.prototype.toggle=function(t){var e=t.getId(),n=this.sorters.get(e.getId());n?n.hasDirection()?n.changeDirection():this.delete(e):this.add(t)},t.prototype.setSortOrder=function(t,e){var n=t.getId();this.sorters.get(n.getId());if(e===ku.NONE)this.delete(n);else if(e===ku.ASC||e===ku.DESC){this.delete(n);var r=e===ku.ASC;this.add(t,r)}},t.prototype.add=function(t,e){void 0===e&&(e=!0),this.addSorter(t.getId(),new tc(new ec(r.RandomStringGenerator.generate()),t,e))},t.prototype.addSorter=function(t,e){this.multi||this.sorters.clear(),this.sorters.set(t.getId(),e)},t.prototype.delete=function(t){this.sorters.delete(t.getId())},t.prototype.update=function(){},t.prototype.sort=function(t){var e,n,r=this.getAll(),i=f(t);try{for(var o=d(r),a=o.next();!a.done;a=o.next()){i=a.value.sort(i)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},t.prototype.getAll=function(){return this.enabled?Array.from(this.sorters).map((function(t){return t[1]})).sort((function(t,e){return t.getRank()-e.getRank()})).reverse():[]},t}();var rc=function(){function t(t,e,n,r){this.id=t,this.value=e,this.displayValue=n,this.enabled=r}return t.prototype.getId=function(){return this.id},t.prototype.getValue=function(){return this.value},t.prototype.getDisplayValue=function(){return this.displayValue},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isDisabled=function(){return!this.enabled},t.prototype.select=function(){this.enabled=!0},t.prototype.unselect=function(){this.enabled=!1},t}();var ic=function(){function t(t){this.id=t}return t.prototype.toString=function(){return this.id},t.prototype.equals=function(t){return t.toString()===this.id},t}();var oc=function(){function t(){}return t.generate=function(){return t.index+=1,new ic(""+t.index)},t.index=0,t}();var ac=function(){function t(t,e){var n,r;this.values=[];try{for(var i=d(t),o=i.next();!o.done;o=i.next()){var a=o.value;this.values.push(new rc(oc.generate(),a,e.getDisplayValue(a),!0))}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.calculateAllSelected(),this.calculateAllDisabled()}return t.prototype.getAll=function(){return this.values},t.prototype.isAllSelected=function(){return this.allSelected},t.prototype.isAllDisabled=function(){return this.allDisabled},t.prototype.getNotSelected=function(){return this.values.filter((function(t){return t.isDisabled()}))},t.prototype.selectAll=function(){this.values.forEach((function(t){t.select()})),this.allSelected=!0,this.allDisabled=!1},t.prototype.select=function(t){this.values.filter((function(e){return e.getId().equals(t)})).forEach((function(t){t.select()})),this.calculateAllSelected(),this.calculateAllDisabled()},t.prototype.unselectAll=function(){this.values.forEach((function(t){t.unselect()})),this.allSelected=!1,this.allDisabled=!0},t.prototype.unselect=function(t){this.values.filter((function(e){return e.getId().equals(t)})).forEach((function(t){t.unselect()})),this.calculateAllSelected(),this.calculateAllDisabled()},t.prototype.calculateAllSelected=function(){this.allSelected=!this.values.some((function(t){return t.isDisabled()}))},t.prototype.calculateAllDisabled=function(){this.allDisabled=!this.values.some((function(t){return t.isEnabled()}))},t}();var uc=function(){function t(){this.uniqueValueMap=new r.KeyMap}return t.prototype.calculate=function(t,e){var n=this,r=e.getId();this.uniqueValueMap.get(r).ifEmpty((function(){var r,i,o=new Set;try{for(var a=d(t),u=a.next();!u.done;u=a.next()){var s=u.value;o.add(e.getValue(s))}}catch(t){r={error:t}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var c=Array.from(o.values()).sort((function(t,n){return e.getField().sort(t,n)})),l=new ac(c,e);n.uniqueValueMap.set(e.getId(),l)}))},t.prototype.calculateAll=function(t,e){var n,r;try{for(var i=d(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.calculate(t,a)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.filterAll=function(t,e){var n,r,i=t;try{for(var o=d(e),a=o.next();!a.done;a=o.next()){var u=a.value;i=this.filter(i,u)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},t.prototype.filter=function(t,e){var n=[];return this.uniqueValueMap.get(e.getId()).ifPresent((function(r){n=r.isAllSelected()?t:r.isAllDisabled()?[]:t.filter((function(t){var n,i;try{for(var o=d(r.getNotSelected()),a=o.next();!a.done;a=o.next()){var u=a.value;if(e.getField().equals(t,u.getValue()))return!1}}catch(t){n={error:t}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!0}))})),n},t.prototype.selectAll=function(t){this.uniqueValueMap.get(t).ifPresent((function(t){t.selectAll()}))},t.prototype.select=function(t,e){this.uniqueValueMap.get(t).ifPresent((function(t){t.select(e)}))},t.prototype.unselectAll=function(t){this.uniqueValueMap.get(t).ifPresent((function(t){t.unselectAll()}))},t.prototype.unselect=function(t,e){this.uniqueValueMap.get(t).ifPresent((function(t){t.unselect(e)}))},t.prototype.getAll=function(t){var e,n,r=new Map,i=function(t){o.getValues(t).ifPresent((function(e){r.set(t.getId().toString(),e)}))},o=this;try{for(var a=d(t),u=a.next();!u.done;u=a.next()){i(u.value)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r},t.prototype.getValues=function(t){return this.uniqueValueMap.get(t.getId()).map((function(t){return t.getAll()}))},t}();var sc=function(t){function n(e,n,r,i,o,a,u){var s=t.call(this)||this;return s.pagingAggregateFactory=e,s.sourceManagerFactory=n,s.verticalFormationFactory=r,s.summariesManagerFactory=i,s.filterManagerFactory=o,s.searchManagerFactory=a,s.fieldCollectionFactory=u,s}return l(n,t),n.prototype.create=function(t){var e=this.pagingAggregateFactory.createDefault(),n=this.sourceManagerFactory.createDefault(),r=this.verticalFormationFactory.create(t),i=new nc,o=this.filterManagerFactory.create(!1),a=this.fieldCollectionFactory.create(),u=this.summariesManagerFactory.create(t),s=this.searchManagerFactory.create(),c=new $s(t,e,n,r,u,i,o,new uc,s,a);return this.init(c),c},n.prototype.init=function(t){t.init()},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Ee},{type:da},{type:Os},{type:Hs},{type:Rr},{type:uo},{type:Go}]},n}(r.AggregateFactory);var cc=function(t){function n(){return t.call(this,ks.DEFAULT_ENABLED)||this}return l(n,t),n.prototype.init=function(t){this.next(t,ks.DEFAULT_ENABLED)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive),lc=function(){function t(t){this.summariesEnabledArchive=t}return t.prototype.forEvent=function(){return qu},t.prototype.handle=function(t){if(t.ofMessageType("StructureCreatedEvent")){var e=t.getAggregateId();this.summariesEnabledArchive.init(e)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:cc}]},t}();var pc=function(t){function e(e){return t.call(this,e,"CreateStructureCommand")||this}return l(e,t),e}(ft),gc=function(t){function e(e,n){var r=t.call(this,e,"SetVerticalScrollEnabledCommand")||this;return r.enabled=n,r}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(ft);var hc=function(t){function e(e,n){var r=t.call(this,e,"SetScrollBarPositionCommand")||this;return r.position=n,r}return l(e,t),e.prototype.getPosition=function(){return this.position},e}(ft);var dc=function(t){function e(e,n){var r=t.call(this,e,"SetScrollPositionCommand")||this;return r.position=n,r}return l(e,t),e.prototype.getPosition=function(){return this.position},e}(ft);var mc=function(t){function e(e,n){var r=t.call(this,e,"SetRowHeightCommand")||this;return r.rowHeight=n,r}return l(e,t),e.prototype.getRowHeight=function(){return this.rowHeight},e}(ft);var fc=function(t){function e(e,n){var r=t.call(this,e,"StructureSetHeightCommand")||this;return r.height=n,r}return l(e,t),e.prototype.getHeight=function(){return this.height},e}(ft);var yc=function(t){function e(e,n){var r=t.call(this,e,"SetRowHeightBasedOnThemeCommand")||this;return r.theme=n,r}return l(e,t),e.prototype.getTheme=function(){return this.theme},e}(ft);var vc=function(t){function n(e,n,r){var i=t.call(this)||this;return i.commandDispatcher=e,i.structureFilterCommandService=n,i.sourceDispatcher=r,i}return l(n,t),n.prototype.create=function(t){this.commandDispatcher.dispatch(new pc(t))},n.prototype.enableVirtualScroll=function(t){this.commandDispatcher.dispatch(new gc(t,!0))},n.prototype.disableVirtualScroll=function(t){this.commandDispatcher.dispatch(new gc(t,!1))},n.prototype.scrollToTop=function(t){this.commandDispatcher.dispatch(new hc(t,0))},n.prototype.scrollToBottom=function(t){this.commandDispatcher.dispatch(new hc(t,Number.MAX_SAFE_INTEGER))},n.prototype.scrollToIndex=function(t,e){this.commandDispatcher.dispatch(new hc(e,t))},n.prototype.setScrollPosition=function(t,e){this.commandDispatcher.dispatch(new dc(e,t))},n.prototype.setOrigin=function(t,e){this.sourceDispatcher.setOrigin(e,t)},n.prototype.setFilterConfig=function(t,e){this.structureFilterCommandService.setFilteringEnabled(t,e)},n.prototype.setQuickFiltersConfig=function(t,e){this.commandDispatcher.dispatch(new mr(e,t))},n.prototype.setRowHeight=function(t,e){this.commandDispatcher.dispatch(new mc(e,+t))},n.prototype.setContainerHeight=function(t,e){this.commandDispatcher.dispatch(new fc(e,+t))},n.prototype.setRowHeightBasedOnTheme=function(t,e){this.commandDispatcher.dispatch(new yc(e,t))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.CommandDispatcher},{type:$n},{type:oa}]},n}(Ft);var bc=f(As),Cc=f(xs),Ec=[],Ic=f(r.HermesModule.registerDomainEventHandler(lc)),wc=f(Ms,bc,Cc,[sc,_u,wi,{provide:Ft,useClass:vc},Du]),Sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e.prototype.warn=function(t){console.warn(t)},e.prototype.error=function(t){console.error(t)},e}(he),Tc=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[{provide:he,useClass:Sc}]}]}],t}(),Ac=function(){function t(){}return t.prototype.create=function(t){return Array.isArray(t)?this.createEntities(t):this.createEntity(t)},t.prototype.createEntities=function(t){var e=this;return t.map((function(t){return e.createEntity(t)}))},t.prototype.createEntity=function(t){return t instanceof aa?new Zu(t.rawData,t.getPosition(),t.getId().toString(),t.getVersion()):new Zu(t,0)},t.decorators=[{type:e.Injectable}],t}(),xc=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.changeDetectorRef=e,r.addClassToHost("gui-p-6"),r.addClassToHost("gui-border-b"),r.addClassToHost("gui-border-b-solid"),r}return l(n,t),n.prototype.getSelectorName=function(){return"gui-structure-top-panel"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-top-panel]",template:'\n\n\t\t<div gui-search-bar\n\t\t\t class="gui-flex gui-items-center gui-h-full gui-w-3/5 gui-mr-auto"></div>\n\t\t\x3c!--\t\t<gui-filter-menu-trigger></gui-filter-menu-trigger>--\x3e\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef}]},n}(Jt);var Mc=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.ReactiveFormsModule,_r,wo],declarations:[xc],exports:[xc]}]}],t}(),Dc=function(t){function n(e,n,r,i,o){var a=t.call(this,n,e)||this;return a.elementRef=e,a.changeDetectorRef=n,a.structureCommandService=r,a.structureColumnMenuConfigArchive=i,a.structureColumnConfigService=o,a}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.structureColumnMenuConfigArchive.on(),(function(e){t.config=e}))},n.prototype.openConfigDialog=function(){this.structureColumnConfigService.open(this.headerDialogContainer,this.column)},n.prototype.closeConfigDialog=function(){this.structureColumnConfigService.close()},n.prototype.isEnabled=function(){return this.config&&this.config.isEnabled()},n.prototype.getSelectorName=function(){return"gui-structure-column-config-trigger"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-column-config-trigger]",template:'<div #headerDialogContainer\n\t (click)="openConfigDialog()"\n\t *ngIf="isEnabled()"\n\t class="gui-header-menu-icon-wrapper">\n\n\t<gui-structure-column-menu-icon [ngClass]="\'gui-header-menu-icon\'"></gui-structure-column-menu-icon>\n\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:Ft},{type:Ti},{type:Vu}]},n.propDecorators={headerDialogContainer:[{type:e.ViewChild,args:["headerDialogContainer",{static:!1}]}],column:[{type:e.Input}]},n}(Jt);var Rc=function(t){function n(e,n,r,i,a,u){var s=t.call(this,e,n)||this;return s.changeDetectorRef=e,s.compositionId=r,s.structureId=i,s.sortingCommandDispatcher=a,s.compositionReadModelService=u,s.placement=o.Placement.Right,s.status=ku,s}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.sortStatus=this.column.getSortStatus(),this.hermesSubscribe(this.compositionReadModelService.onSortOrder(this.column.getFieldId(),this.compositionId),(function(e){t.sortStatus=e}))},n.prototype.isAscSort=function(){return this.sortStatus===ku.ASC},n.prototype.isDescSort=function(){return this.sortStatus===ku.DESC},n.prototype.isNoneSort=function(){return this.sortStatus===ku.NONE},n.prototype.setSortOrder=function(t){event.stopPropagation(),this.sortingCommandDispatcher.setSortOrder(this.column.getFieldId(),t,this.compositionId,this.structureId)},n.prototype.getSelectorName=function(){return"gui-structure-column-config-sort"},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-config-sort",template:'<gui-dropdown [dropdownText]="dropdownTextTranslation"\n\t\t\t  [placement]="placement"\n\t\t\t  [showOnHover]="true"\n\t\t\t  [width]="225"\n\t\t\t  class="gui-header-menu-dropdown">\n\n\t<gui-dropdown-item (click)="setSortOrder(status.ASC)"\n\t\t\t\t\t   [class.gui-header-item-active]="isAscSort()">\n\t\t<div class="gui-sort-title">\n\t\t\t{{\'headerMenuMainTabColumnSortAscending\' | guiTranslate}}\n\t\t\t<gui-structure-column-menu-arrow-icon [rotateDeg]="0" [sort]="true">\n\t\t\t</gui-structure-column-menu-arrow-icon>\n\t\t</div>\n\t</gui-dropdown-item>\n\n\t<gui-dropdown-item (click)="setSortOrder(status.DESC)"\n\t\t\t\t\t   [class.gui-header-item-active]="isDescSort()">\n\t\t<div class="gui-sort-title">\n\t\t\t{{\'headerMenuMainTabColumnSortDescending\' | guiTranslate}}\n\t\t\t<gui-structure-column-menu-arrow-icon [rotateDeg]="180" [sort]="true">\n\t\t\t</gui-structure-column-menu-arrow-icon>\n\t\t</div>\n\t</gui-dropdown-item>\n\n\t<gui-dropdown-item (click)="setSortOrder(status.NONE)"\n\t\t\t\t\t   [class.gui-header-item-active]="isNoneSort()">\n\t\t{{\'headerMenuMainTabColumnSortNone\' | guiTranslate}}\n\t</gui-dropdown-item>\n\n</gui-dropdown>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:on},{type:oe},{type:qt},{type:yn}]},n.propDecorators={column:[{type:e.Input}],dropdownTextTranslation:[{type:e.Input}]},n}(Jt);var Pc=function(){function t(t,e,n){this.compositionId=t,this.compositionCommandService=e,this.structureColumnConfigService=n}return t.prototype.hideColumn=function(t){this.compositionCommandService.disableColumn(t.getColumnDefinitionId(),this.compositionId),this.structureColumnConfigService.close()},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-config-column-hide",template:'\n\t\t<div class="gui-header-menu-item"\n\t\t\t (click)="hideColumn(column)">\n\t\t\t{{\'headerMenuMainTabHideColumn\' | guiTranslate}}\n\t\t</div>\n\t'}]}],t.ctorParameters=function(){return[{type:on},{type:vn},{type:Vu}]},t.propDecorators={column:[{type:e.Input}]},t}();var Fc=function(){function t(t,e,n){this.compositionId=t,this.compositionCommandService=e,this.structureColumnConfigService=n}return t.prototype.moveLeft=function(t){this.compositionCommandService.moveLeft(t.getColumnDefinitionId(),this.compositionId),this.structureColumnConfigService.close()},t.prototype.moveRight=function(t){this.compositionCommandService.moveRight(t.getColumnDefinitionId(),this.compositionId),this.structureColumnConfigService.close()},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-config-column-move",template:'\n\t\t<div class="gui-header-menu-column-move">\n\t\t\t<div class="gui-header-menu-column-move-item left"\n\t\t\t\t (click)="moveLeft(column)">\n\t\t\t\t<gui-structure-column-menu-arrow-icon [rotateDeg]="-90"></gui-structure-column-menu-arrow-icon>\n\t\t\t\t{{\'headerMenuMainTabMoveLeft\' | guiTranslate}}\n\t\t\t</div>\n\n\t\t\t<div class="gui-header-menu-column-move-item right"\n\t\t\t\t (click)="moveRight(column)">\n\t\t\t\t{{\'headerMenuMainTabMoveRight\' | guiTranslate}}\n\t\t\t\t<gui-structure-column-menu-arrow-icon></gui-structure-column-menu-arrow-icon>\n\t\t\t</div>\n\t\t</div>\n\t'}]}],t.ctorParameters=function(){return[{type:on},{type:vn},{type:Vu}]},t.propDecorators={column:[{type:e.Input}]},t}();var Nc=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-menu-icon",template:'\n\t\t<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.32 7.46">\n\t\t\t<line class="cls-1" x1="9.57" y1="3.73" x2="0.75" y2="3.73"/>\n\t\t\t<line class="cls-1" x1="9.57" y1="0.75" x2="0.75" y2="0.75"/>\n\t\t\t<line class="cls-1" x1="9.57" y1="6.71" x2="0.75" y2="6.71"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-column-menu-icon]":"true","[class.gui-icon]":"true"}}]}],t}(),Oc=function(t){function n(e){var n=t.call(this,e)||this;return n.rotateDeg=90,n}return l(n,t),n.prototype.getSelectorName=function(){return"gui-structure-column-menu-arrow-icon"},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-menu-arrow-icon",template:'\n\t\t<div [style.transform]="\'rotate(\' + rotateDeg + \'deg)\'"\n\t\t\t [class.gui-structure-column-menu-sort-icon]="sort">\n\t\t\t<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.04 11.72">\n\t\t\t\t<line class="cls-1" x1="5.02" y1="2.15" x2="5.02" y2="10.97"/>\n\t\t\t\t<line class="cls-1" x1="5.02" y1="0.75" x2="9.29" y2="5.02"/>\n\t\t\t\t<line class="cls-1" x1="5.02" y1="0.75" x2="0.75" y2="5.02"/>\n\t\t\t</svg>\n\t\t</div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={rotateDeg:[{type:e.Input}],sort:[{type:e.Input}]},n}(se);var kc=function(t){function n(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.changeDetectorRef=e,a.structureId=r,a.filterWarehouse=i,a.filterCommandInvoker=o,a.uniqueValues=[],a}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.filterWarehouse.onUniqueValues(this.structureId),(function(e){t.uniqueValues=e.getValues(t.fieldId),t.selectAllChecked=e.isSelectAllChecked(t.fieldId),t.selectAllIndeterminate=e.isIndeterminate(t.fieldId)}))},n.prototype.toggleAllSelect=function(){event.stopPropagation(),this.selectAllChecked?this.filterCommandInvoker.unselectAllUniqueFilter(this.fieldId,this.structureId):this.filterCommandInvoker.selectAllUniqueFilter(this.fieldId,this.structureId)},n.prototype.toggleSelect=function(t){event.stopPropagation(),t.isEnabled()?this.filterCommandInvoker.unselectUniqueFilter(this.fieldId,t.getId(),this.structureId):this.filterCommandInvoker.selectUniqueFilter(this.fieldId,t.getId(),this.structureId)},n.prototype.clearFilters=function(){this.filterCommandInvoker.selectAllUniqueFilter(this.fieldId,this.structureId)},n.prototype.getSelectorName=function(){return"gui-unique-value-list"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-unique-value-list][fieldId]",template:'<gui-checkbox (changed)="toggleAllSelect()"\n\t\t\t  [checked]="selectAllChecked"\n\t\t\t  [indeterminate]="selectAllIndeterminate">\n\tSelect all\n</gui-checkbox>\n\n<div class="gui-unique-value-list-container gui-overflow-y-scroll gui-overflow-x-hidden">\n\t<div *ngFor="let value of uniqueValues">\n\t\t<gui-checkbox (changed)="toggleSelect(value)"\n\t\t\t\t\t  [checked]="value.isEnabled()">\n\t\t\t{{value.getValue()}}\n\t\t</gui-checkbox>\n\t</div>\n</div>\n\n<div class="gui-unique-value-list-actions gui-p-6 gui-flex gui-justify-end">\n\t<button (click)="clearFilters()"\n\t\t\t[outline]="true"\n\t\t\t[primary]="true"\n\t\t\tgui-button>\n\t\tClear\n\t</button>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,styles:[".gui-unique-value-list-container{max-height:300px}"]}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:Wn},{type:$n}]},n.propDecorators={fieldId:[{type:e.Input}]},n}(Jt);var Hc=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("FilterApiModule is required.");return n}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Xt,Xr],declarations:[kc],exports:[kc]}]}],r.ctorParameters=function(){return[{type:Xr,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),Bc=[Bu,Dc,Rc,Pc,Fc,Nc,Oc],Vc=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Xt,Sn,Hc,Ze],declarations:Bc,exports:Bc}]}],t}(),jc=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return pc},t.prototype.getAggregateRepository=function(){return this.structureAggregateRepository},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new qu(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xe},{type:r.DomainEventPublisher}]},t}();var Gc=function(t){function n(e,n,r,i){var o=t.call(this,e,n)||this;return o.changeDetectorRef=e,o.structureId=r,o.sourceCommandService=i,o}return l(n,t),n.prototype.ngOnChanges=function(t){null!==t.entity&&void 0!==t.entity&&this.initEditContext(),null!==t.cell&&void 0!==t.cell&&this.initEditContext()},n.prototype.ngOnInit=function(){this.initEditContext()},n.prototype.submitChangesAndExit=function(){var t=this.entity.getId(),e=this.actualValue,n=this.cell.columnFieldId;this.sourceCommandService.editItem(new Na(t,n,e),this.structureId)},n.prototype.initEditContext=function(){var t=this;this.valueChanges$=new Uu,this.status$=new Uu,this.editContext={status:this.status$,valueChanges:this.valueChanges$,value:this.cell.getValue(this.entity),focus:!1,parent:this.cellContainerRef},this.status$.on().pipe(this.hermesTakeUntil()).subscribe((function(e){switch(e){case ls.SUBMIT:t.submitChangesAndExit(),t.publishEditSubmit();break;case ls.CANCEL:t.publishEditCancel()}}))},n.prototype.observeValueChanges=function(){var t=this;this.valueChanges$.on().pipe(this.hermesTakeUntil()).subscribe((function(e){t.actualValue=e}))},n.prototype.publishEditState=function(t){},n.prototype.publishEditEnter=function(){this.publishEditState(pi.ENTER)},n.prototype.publishEditCancel=function(){this.publishEditState(pi.CANCEL)},n.prototype.publishEditSubmit=function(){this.publishEditState(pi.SUBMIT)},n.prototype.getSelectorName=function(){return"gui-structure-cell-edit"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-cell-edit][entity][cell]",template:'\n\n\t\t<span #cellContainer>\n\t\t\t<ng-container\n\t\t\t\t*ngTemplateOutlet="cell.editTemplate;\n\t\t\t\t\t\t\t\t\tcontext: editContext">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:St}]},n.propDecorators={cellContainerRef:[{type:e.ViewChild,args:["cellContainer",{static:!0}]}],entity:[{type:e.Input}],cell:[{type:e.Input}]},n}(Jt);var zc=function(t){function n(e,n,r,i){var o=t.call(this,e,n)||this;return o.changeDetectorRef=e,o.structureId=r,o.sourceCommandService=i,o}return l(n,t),n.prototype.ngOnChanges=function(t){null!==t.entity&&void 0!==t.entity&&this.initEditContext(),null!==t.cell&&void 0!==t.cell&&this.initEditContext()},n.prototype.ngOnInit=function(){this.initEditContext()},n.prototype.submitChanges=function(){var t=this.entity.getId(),e=this.actualValue,n=this.cell.columnFieldId;this.sourceCommandService.editItem(new Na(t,n,e),this.structureId)},n.prototype.initEditContext=function(){var t=this;this.valueChanges$=new Uu,this.status$=new Uu,this.editContext={status:this.status$,valueChanges:this.valueChanges$,value:this.cell.getValue(this.entity).value,focus:!1,parent:this.cellContainerRef},this.observeValueChanges(),this.status$.on().pipe(this.hermesTakeUntil()).subscribe((function(e){switch(e){case ls.SUBMIT:t.submitChanges()}}))},n.prototype.observeValueChanges=function(){var t=this;this.valueChanges$.on().pipe(this.hermesTakeUntil()).subscribe((function(e){t.actualValue=e}))},n.prototype.getSelectorName=function(){return"gui-structure-cell-edit-boolean"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-cell-edit-boolean][entity][cell]",template:'\n\n\t\t<span #cellContainer>\n\t\t\t<ng-container\n\t\t\t\t*ngTemplateOutlet="cell.editTemplate;\n\t\t\t\t\t\t\t\t\tcontext: editContext">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:St}]},n.propDecorators={cellContainerRef:[{type:e.ViewChild,args:["cellContainer",{static:!0}]}],entity:[{type:e.Input}],cell:[{type:e.Input}]},n}(Jt);var Lc=function(t){function e(e,n){return t.call(this,e,n)||this}return l(e,t),e.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.onBannerPanelConfig(),(function(e){t.bannerPanel=e.template,"function"==typeof t.bannerPanel&&(t.bannerPanel=t.bannerPanel())}))},e}(Jt);var Uc=function(t){function n(e,n,r){var i=t.call(this,n,r)||this;return i.structureTitlePanelConfigArchive=e,i}return l(n,t),n.prototype.onBannerPanelConfig=function(){return this.structureTitlePanelConfigArchive.on()},n.prototype.getSelectorName=function(){return"gui-structure-title-panel"},n.prototype.getPanelTitle=function(){return"Title panel"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-title-panel]",template:'\n\t\t<div [innerHTML]="bannerPanel | guiSafe: \'html\'"\n\t\t\t class="gui-title-panel gui-p-6 gui-border-b gui-border-b-solid">\n\t\t</div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:Bi},{type:e.ChangeDetectorRef},{type:e.ElementRef}]},n}(Lc);var Wc=function(t){function n(e,n,r){var i=t.call(this,n,r)||this;return i.structureFooterPanelConfigArchive=e,i}return l(n,t),n.prototype.onBannerPanelConfig=function(){return this.structureFooterPanelConfigArchive.on()},n.prototype.getSelectorName=function(){return"gui-structure-footer-panel"},n.prototype.getPanelTitle=function(){return"Footer panel"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-footer-panel]",template:'\n\t\t<div [innerHTML]="bannerPanel | guiSafe: \'html\'"\n\t\t\t class="gui-footer-panel gui-p-6 gui-border-t gui-border-t-solid">\n\t\t</div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:Vi},{type:e.ChangeDetectorRef},{type:e.ElementRef}]},n}(Lc);var qc=function(t){function n(e){var n=t.call(this,e)||this;return n.addClassToHost("gui-py-23"),n.addClassToHost("gui-px-6"),n}return l(n,t),n.prototype.ngOnChanges=function(t){this.hasChanged(t.items)&&(0===this.items.length?(this.removeClassFromHost("gui-hidden"),this.addClassToHost("gui-block")):(this.removeClassFromHost("gui-block"),this.addClassToHost("gui-hidden")))},n.prototype.getSelectorName=function(){return"gui-empty-source"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-empty-source][items]",template:"<ng-container *ngIf=\"items.length === 0\">\n\t{{'sourceEmpty' | guiTranslate}}\n</ng-container>\n",changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={items:[{type:e.Input}]},n}(se);var Kc=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Ze],declarations:[qc],exports:[qc]}]}],r}(r.FeatureModule),Xc=function(t){function n(e,n,r,i,o,a){var u=t.call(this,e,n)||this;return u.changeDetectorRef=e,u.structureId=r,u.rowSelectionModeRepository=i,u.formationCommandDispatcher=o,u.formationWarehouse=a,u.modeMulti=!1,u}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.formationWarehouse.onMode(this.structureId),(function(e){t.modeMulti=e===$.MULTIPLE})),this.hermesSubscribe(this.formationWarehouse.onRowSelectedReadModel(this.structureId),(function(e){t.selectAllChecked=e.isAllSelected(),t.selectAllIndeterminate=e.isIndeterminate()}))},n.prototype.toggleSelectAll=function(){this.selectAllIndeterminate||this.selectAllChecked?this.formationCommandDispatcher.unselectAll(this.structureId):this.formationCommandDispatcher.selectAll(this.structureId)},n.prototype.getSelectorName=function(){return"gui-select-all"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-select-all]",template:'<gui-checkbox (changed)="toggleSelectAll()"\n\t\t\t  *ngIf="modeMulti"\n\t\t\t  [checked]="selectAllChecked"\n\t\t\t  [gui-tooltip]="\'Select\'"\n\t\t\t  [indeterminate]="selectAllIndeterminate">\n</gui-checkbox>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:At},{type:wt},{type:Mt}]},n}(Jt);var Qc=function(t){function e(e,n){var r=t.call(this,e,"StructureSetSummariesEnabledCommand")||this;return r.enabled=n,r}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(ft);var Yc=function(t){function e(e,n){var r=t.call(this,e,n,"StructureSummariesEnabledSetEvent")||this;return r.enabled=n,r}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(de);var Jc=function(){function t(t,e){this.structureSourceDomainEventPublisher=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Qc},t.prototype.handle=function(t,e){var n=e.isEnabled();t.setSummariesEnabled(n)},t.prototype.publish=function(t,e){var n=e.isEnabled(),r=t.getEvents();this.domainEventPublisher.publish(new Yc(e.getAggregateId(),n)),this.structureSourceDomainEventPublisher.publish(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:io},{type:r.DomainEventPublisher}]},t}();var Zc=function(){function t(t){this.summariesEnabledArchive=t}return t.prototype.forEvent=function(){return Yc},t.prototype.handle=function(t){t.ofMessageType("StructureSummariesEnabledSetEvent")&&this.summariesEnabledArchive.next(t.getAggregateId(),t.isEnabled())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:cc}]},t}();var _c=function(){function t(){}return t.prototype.calculate=function(t,e){var n=this,r=t.filter((function(t){return n.forDataType(t.getDataType())}));if(!r||0===r.length||0===e.length)return null;var i=new Map,o=new Map;r.forEach((function(t){var e=t.getKey();i.set(e,0),o.set(e,new Set),n.prepare(t)})),e.forEach((function(t){r.forEach((function(e){var r=e.getKey(),a=e.getValue(t);if(null!==a||void 0!==a||""!==a){if(e.isSummaries(k.COUNT)){var u=i.get(r);i.set(r,u+1)}if(e.isSummaries(k.DISTINCT))o.get(r).add(a)}n.aggregate(e,a)}))})),r.forEach((function(t){n.postCalculate(t,e)}));var a=new Map;return r.forEach((function(t){var e=t.getKey(),r=n.generateAggregatedValues(t);t.isSummaries(k.COUNT)&&r.setCount(i.get(e)),t.isSummaries(k.DISTINCT)&&r.setDistinct(o.get(e).size),a.set(e,r)})),a},t}();var $c=function(){function t(){}return t.prototype.setCount=function(t){this.count=t},t.prototype.setDistinct=function(t){this.distinct=t},t}();var tl=function(t){function e(e,n){var r=t.call(this)||this;return r.truthy=e,r.falsy=n,r}return l(e,t),e}($c);var el=function(t){function n(){var e=t.call(this)||this;return e.truthy=new Map,e.falsy=new Map,e}return l(n,t),n.prototype.forDataType=function(t){return t===N.BOOLEAN},n.prototype.prepare=function(t){var e=t.getKey();t.isSummaries(k.TRUTHY)&&this.truthy.set(e,0),t.isSummaries(k.FALSY)&&this.falsy.set(e,0)},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){var n=e,r=t.getKey(),i=this.truthy.get(r),o=this.falsy.get(r);n?t.isSummaries(k.TRUTHY)&&this.truthy.set(r,i+1):t.isSummaries(k.FALSY)&&this.falsy.set(r,o+1)},n.prototype.generateAggregatedValues=function(t){var e=t.getKey();return new tl(this.truthy.get(e),this.falsy.get(e))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(_c);var nl=function(t){function e(){return t.call(this)||this}return l(e,t),e}($c),rl=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.forDataType=function(t){return t===N.DATE},n.prototype.prepare=function(t){},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){},n.prototype.generateAggregatedValues=function(t){return new nl},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(_c),il=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.sum=a.setValueWithPrecision(e),a.min=a.setValueWithPrecision(n),a.max=a.setValueWithPrecision(r),a.average=a.setValueWithPrecision(i),a.median=a.setValueWithPrecision(o),a}return l(e,t),e.prototype.setValueWithPrecision=function(t){return t||0===t?0===t?0:+t.toFixed(2):null},e}($c);var ol=function(t){function n(){var e=t.call(this)||this;return e.sum=new Map,e.min=new Map,e.max=new Map,e.average=new Map,e.median=new Map,e}return l(n,t),n.prototype.forDataType=function(t){return t===N.NUMBER},n.prototype.prepare=function(t){var e=t.getKey();this.sum.set(e,0),this.min.set(e,Number.MAX_SAFE_INTEGER),this.max.set(e,0)},n.prototype.postCalculate=function(t,e){var n=t.getKey();t.isSummaries(k.AVERAGE)&&this.average.set(n,this.sum.get(n)/e.length),t.isSummaries(k.MEDIAN)&&this.median.set(n,t.getValue(e[Math.floor(e.length/2)]))},n.prototype.aggregate=function(t,e){var n=+e,r=t.getKey(),i=this.sum.get(r),o=this.min.get(r),a=this.max.get(r);(t.isSummaries(k.SUM)||t.isSummaries(k.AVERAGE))&&this.sum.set(r,i+n),t.isSummaries(k.MIN)&&o>n&&this.min.set(r,n),t.isSummaries(k.MAX)&&a<n&&this.max.set(r,n)},n.prototype.generateAggregatedValues=function(t){var e=t.getKey(),n=t.isSummaries(k.SUM)?this.sum.get(e):void 0,r=t.isSummaries(k.MIN)?this.min.get(e):void 0,i=t.isSummaries(k.MAX)?this.max.get(e):void 0,o=t.isSummaries(k.AVERAGE)?this.average.get(e):void 0,a=t.isSummaries(k.MEDIAN)?this.median.get(e):void 0;return new il(n,r,i,o,a)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(_c);var al=function(t){function e(){return t.call(this)||this}return l(e,t),e}($c),ul=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.forDataType=function(t){return t===N.STRING},n.prototype.prepare=function(t){},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){},n.prototype.generateAggregatedValues=function(t){return new al},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(_c),sl=function(t){function e(){return t.call(this)||this}return l(e,t),e}($c),cl=function(t){function n(){return t.call(this)||this}return l(n,t),n.prototype.forDataType=function(t){return t===N.UNKNOWN},n.prototype.prepare=function(t){},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){},n.prototype.generateAggregatedValues=function(t){return new sl},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(_c);function ll(t){return{provide:"GUI - Summaries Calculators",useClass:t,multi:!0}}var pl=[ll(el),ll(rl),ll(ol),ll(ul),ll(cl),Hs],gl=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(Jc,ke))},i.domainEventHandlers=function(){return f(r.HermesModule.registerDomainEventHandler(Zc))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:f(pl),declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),hl=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus}]},n}(r.EventRepository);var dl=function(){function t(){}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var ml=function(t){function n(e){var n=t.call(this)||this;return n.structureSummariesRepository=e,n}return l(n,t),n.prototype.onSummariesEnabled=function(t){return this.structureSummariesRepository.on(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:cc}]},n}(dl);var fl=function(t){function n(e){var n=t.call(this)||this;return n.commandDispatcher=e,n}return l(n,t),n.prototype.setSummariesEnabled=function(t,e){this.commandDispatcher.dispatch(new Qc(e,t))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.CommandDispatcher}]},n}(zt);var yl=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.prototype.onSummariesChanged=function(t){return this.onEvent(t,eo)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus}]},n}(hl),vl=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,gl],providers:[{provide:zt,useClass:fl},{provide:hl,useClass:yl},{provide:dl,useClass:ml},cc],declarations:[],exports:[]}]}],r}(r.ApiModule),bl=function(t,e,n,r,i,o){this.distinctTooltip=t,this.averageTooltip=e,this.minTooltip=n,this.maxTooltip=r,this.medTooltip=i,this.countTooltip=o};var Cl=function(t){function n(e,n,r,i,o,a,u,s){var c=t.call(this,e,n)||this;return c.changeDetectorRef=e,c.structureId=r,c.structureSummariesEventRepository=i,c.translationService=o,c.sourceReadModelService=a,c.rowSelectionTypeArchive=u,c.compositionReadModelService=s,c.sourceEmpty=!1,c.addClassToHost("gui-flex"),c.hermesSubscribe(c.structureSummariesEventRepository.onSummariesChanged(c.structureId.toReadModelRootId()),(function(t){c.summaries=t.getSummaries()})),c}return l(n,t),n.prototype.ngOnInit=function(){var t=this;this.hermesSubscribe(this.rowSelectionTypeArchive.on(),(function(e){t.checkboxSelection=e===_.CHECKBOX})),this.hermesSubscribe(this.sourceReadModelService.onEntitiesSize(this.structureId),(function(e){t.sourceEmpty=0===e})),this.hermesSubscribe(this.compositionReadModelService.onHeaderColumns(this.structureId),(function(e){t.headerColumns=e})),this.hermesSubscribe(this.translationService.onTranslation(),(function(e){t.summariesTranslations=new bl(e.summariesDistinctValuesTooltip,e.summariesAverageTooltip,e.summariesMinTooltip,e.summariesMaxTooltip,e.summariesMedTooltip,e.summariesCountTooltip)}))},n.prototype.isSummariesTypePresent=function(t){return null!=t},n.prototype.getSelectorName=function(){return"gui-structure-summaries-panel"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-summaries-panel][enabled]",template:'<ng-container *ngIf="enabled && summaries && !sourceEmpty">\n\n\t<div *ngIf="checkboxSelection"\n\t\t class="gui-structure-summaries-cell gui-row-checkbox gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis">\n\t</div>\n\n\t<div *ngFor="let column of headerColumns"\n\t\t [style.width.px]="column.width"\n\t\t class="gui-structure-summaries-cell">\n\n\t\t<ng-container *ngIf="summaries && !!summaries.get(column.getFieldId().getId())">\n\n\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).count)"\n\t\t\t\t class="gui-structure-summaries-value">\n\t\t\t\t<span [gui-tooltip]="summariesTranslations.countTooltip">{{\'summariesCount\' | guiTranslate}}</span>\n\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).count }}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).distinct)"\n\t\t\t\t class="gui-structure-summaries-value">\n\t\t\t\t<span [gui-tooltip]="summariesTranslations.distinctTooltip">{{\'summariesDist\' | guiTranslate}}</span>\n\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).distinct }}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf=" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).sum)"\n\t\t\t\t class="gui-structure-summaries-value">\n\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span [gui-tooltip]="\'Sum\'" --\x3e\n\t\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t\t  class="gui-math-symbol">&sum;</span>--\x3e\n\t\t\t\t\t\t\t{{\'summariesSum\' | guiTranslate}}\n\t\t\t\t\t\t</span>\n\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).sum }}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).average)"\n\t\t\t\t class="gui-structure-summaries-value">\n\n\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Average\'"--\x3e\n\t\t\t\t\x3c!--\t\t\t\t\t\t\t class="gui-mean">--\x3e\n\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span>_</span><span>X</span>--\x3e\n\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\t\t\t\t<span [gui-tooltip]="summariesTranslations.averageTooltip">{{\'summariesAvg\' | guiTranslate}}</span>\n\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).average }}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf=" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).min)"\n\t\t\t\t class="gui-structure-summaries-value">\n\n\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Min\'">--\x3e\n\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span class="gui-math-symbol">&and;</span>--\x3e\n\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\t\t\t\t<span [gui-tooltip]="summariesTranslations.minTooltip">\n\t\t\t\t\t\t\t{{\'summariesMin\' | guiTranslate}}\n\t\t\t\t\t\t</span>\n\n\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).min }}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf=" isSummariesTypePresent(summaries.get(column.getFieldId().getId()).max)"\n\t\t\t\t class="gui-structure-summaries-value">\n\n\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Max\'">--\x3e\n\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span class="gui-math-symbol">&or;</span>--\x3e\n\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\n\t\t\t\t<span [gui-tooltip]="summariesTranslations.maxTooltip">\n\t\t\t\t\t\t\t{{\'summariesMax\' | guiTranslate}}\n\t\t\t\t\t\t</span>\n\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).max }}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).median)"\n\t\t\t\t class="gui-structure-summaries-value">\n\n\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Median\'"--\x3e\n\t\t\t\t\x3c!--\t\t\t\t\t\t\t class="gui-median">--\x3e\n\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span>~</span>--\x3e\n\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span>X</span>--\x3e\n\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\n\t\t\t\t<span [gui-tooltip]="summariesTranslations.medTooltip">{{\'summariesMed\' | guiTranslate}}</span>\n\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).median }}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).truthy)"\n\t\t\t\t class="gui-structure-summaries-value">\n\t\t\t\t<span>{{\'summariesTruthy\' | guiTranslate}}</span>\n\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).truthy }}</span>\n\t\t\t</div>\n\n\t\t\t<div *ngIf="isSummariesTypePresent(summaries.get(column.getFieldId().getId()).falsy)"\n\t\t\t\t class="gui-structure-summaries-value">\n\t\t\t\t<span>{{\'summariesFalsy\' | guiTranslate}}</span>\n\t\t\t\t<span class="gui-summaries-value">{{ summaries.get(column.getFieldId().getId()).falsy }}</span>\n\t\t\t</div>\n\n\t\t</ng-container>\n\t</div>\n\n</ng-container>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:oe},{type:hl},{type:Xe},{type:xt},{type:Yo},{type:yn}]},n.propDecorators={enabled:[{type:e.Input}]},n}(Jt);var El=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("SummariesApiModule is required.");return n}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,o.FabricModule,Ze,vl],declarations:[Cl],exports:[Cl],providers:[ui,ci,si]}]}],r.ctorParameters=function(){return[{type:vl,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),Il=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return dc},t.prototype.handle=function(t,e){var n=e.getPosition();t.setScrollPosition(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new ns(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var wl=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return gc},t.prototype.handle=function(t,e){var n=e.isEnabled();t.setVerticalFormationEnabled(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new Ku(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Sl=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return yc},t.prototype.handle=function(t,e){var n=e.getTheme();t.setTheme(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new rs(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Tl=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return mc},t.prototype.handle=function(t,e){var n=e.getRowHeight();t.getVerticalFormation().setRowHeight(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new ts(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Al=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return fc},t.prototype.handle=function(t,e){var n=e.getHeight();t.setHeight(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new es(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var xl=function(t){function n(){return t.call(this,n.DEFAULT_POSITION)||this}return l(n,t),n.DEFAULT_POSITION=0,n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var Ml=function(){function t(t){this.positionRepository=t}return t.prototype.forEvent=function(){return Ps},t.prototype.handle=function(t){t.ofMessageType("ScrollBarPositionSetEvent")&&this.positionRepository.next(t.getAggregateId(),t.getPosition())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xl}]},t}();var Dl=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return hc},t.prototype.handle=function(t,e){var n=e.getPosition();t.scrollToIndex(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publishFromAggregate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Rl=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(Il,ke),r.HermesModule.registerCommandHandler(wl,ke),r.HermesModule.registerCommandHandler(Sl,ke),r.HermesModule.registerCommandHandler(Tl,ke),r.HermesModule.registerCommandHandler(Al,ke),r.HermesModule.registerCommandHandler(Dl,ke))},i.domainEventHandlers=function(){return f(r.HermesModule.registerDomainEventHandler(Ml))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:[Os],declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),Pl=function(t){function n(e,n){var r=t.call(this)||this;return r.verticalFormationRepository=e,r.positionRepository=n,r}return l(n,t),n.prototype.onVerticalScrollEnabled=function(t){return this.verticalFormationRepository.onVerticalScrollEnabled(t)},n.prototype.onRowHeight=function(t){return this.verticalFormationRepository.onRowHeight(t)},n.prototype.onContainerHeight=function(t){return this.verticalFormationRepository.onContainerHeight(t)},n.prototype.onTopMargin=function(t){return this.verticalFormationRepository.onTopMargin(t)},n.prototype.onScrollBarPosition=function(t){return this.positionRepository.on(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:is},{type:xl}]},n}(zu);var Fl=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return l(r,t),r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Rl],providers:[Yu,is,{provide:zu,useClass:Pl},xl],declarations:[],exports:[]}]}],r}(r.ApiModule),Nl=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("VerticalFormationFeatureModule is required.");return n}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Fl],declarations:[],exports:[]}]}],r.ctorParameters=function(){return[{type:Fl,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),Ol="CompositionAggregate",kl=function(){function t(t){this.MIN_COLUMN_WIDTH=t}return t.prototype.calculateMinWidth=function(t){var e=this.segregateColumns(t),n=e.staticColumns,r=e.fluidColumns,i=0;return n.forEach((function(t){i+=t.getWidth()})),i+=r.length*this.MIN_COLUMN_WIDTH},t.prototype.segregateColumns=function(t){var e=this;return{staticColumns:t.filter((function(t){return t.isTypeNumber()&&t.getWidth()>e.MIN_COLUMN_WIDTH})),fluidColumns:t.filter((function(t){return t.isTypeAuto()||t.isTypePercentage()||t.isTypeNumber()&&t.getWidth()<=e.MIN_COLUMN_WIDTH}))}},t}();var Hl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.DomainEvent),Bl=function(t){function e(e){return t.call(this,e,null,"CompositionWidthSetEvent")||this}return l(e,t),e}(Hl),Vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.AggregateEvent),jl=function(t){function e(e){return t.call(this,e,"CompositionWidthSetAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Bl(this.getAggregateId())},e}(Vl),Gl=function(t){function e(e,n){return t.call(this,e,n,"CompositionContainerWidthSetEvent")||this}return l(e,t),e}(Hl),zl=function(t){function e(e,n){var r=t.call(this,e,"CompositionContainerWidthSetAggregateEvent")||this;return r.containerWidth=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Gl(this.getAggregateId(),this.containerWidth)},e}(Vl);var Ll=function(t){function e(e){return t.call(this,e,null,"CompositionResizeWidthSetEvent")||this}return l(e,t),e}(Hl),Ul=function(t){function e(e){return t.call(this,e,"CompositionResizeWidthSetAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new Ll(this.getAggregateId())},e}(Vl),Wl=function(t){function e(e){return t.call(this,e,null,"CompositionColumnSetEnabledEvent")||this}return l(e,t),e}(Hl),ql=function(t){function e(e,n){var r=t.call(this,e,"CompositionColumnSetEnabledAggregateEvent")||this;return r.activeColumns=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Wl(this.getAggregateId())},e.prototype.getActiveColumns=function(){return this.activeColumns},e}(Vl);var Kl={PERCENTAGE:0,NUMBER:1,AUTO:2};Kl[Kl.PERCENTAGE]="PERCENTAGE",Kl[Kl.NUMBER]="NUMBER",Kl[Kl.AUTO]="AUTO";var Xl=function(){function t(t){this.baseWidth=t,this.setWidthAndType(t)}return t.prototype.getWidth=function(){return this.width},t.prototype.getColumnType=function(){return this.template},t.prototype.isTypePercentage=function(){return this.template===Kl.PERCENTAGE},t.prototype.isTypeAuto=function(){return this.template===Kl.AUTO},t.prototype.isTypeNumber=function(){return this.template===Kl.NUMBER},t.prototype.setWidth=function(t){this.width=t},t.prototype.setWidthAndType=function(t){null==t||"auto"===t?(this.template=Kl.AUTO,this.setWidth(null)):this.isPercentage(t)?(this.template=Kl.PERCENTAGE,this.setWidth(this.percentageToNumber(""+t))):(this.isStringNumber(t),this.template=Kl.NUMBER,this.setWidth(+t))},t.prototype.clone=function(){return new t(this.baseWidth)},t.prototype.isPercentage=function(t){return"string"==typeof t&&"%"===t[t.length-1]},t.prototype.percentageToNumber=function(t){return+t.slice(0,-1)},t.prototype.isStringNumber=function(t){var e=+t;return Number.isNaN(e)},t}();var Ql=function(){function t(t,e,n){this.source=t,this.width=e,this.MIN_COLUMN_WIDTH=n,this.columns=this.source.map((function(t){return t.clone()}))}return t.prototype.calculate=function(){var t=this.width,e=f(this.columns);this.adjustMinimalWidth(e);var n=[];if(e.forEach((function(e,r){e.isTypeNumber()?t-=e.getWidth():n.push(e)})),0!==(e=n).length){var r=t/e.length;e.forEach((function(t,e){t.setWidth(r)}))}return this.columns},t.prototype.adjustMinimalWidth=function(t){var e=this;t.forEach((function(t){t.isTypeNumber()&&t.getWidth()<e.MIN_COLUMN_WIDTH&&t.setWidthAndType(e.MIN_COLUMN_WIDTH)}))},t.prototype.adjustPercentageWidth=function(){var t,e;this.columns.filter((function(t){return t.isTypePercentage()}));try{for(var n=d(this.columns),r=n.next();!r.done;r=n.next()){var i=r.value;i.getColumnType()===Kl.PERCENTAGE&&i.setWidth(this.width*i.getWidth()*.01)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.adjustAutoWidth=function(){for(var t,e,n=this.width,r=[],i=0;i<this.columns.length;i+=1){(s=this.columns[i]).getColumnType()!==Kl.AUTO?n-=s.getWidth():r.push(s)}if(r.length>0){var o=n/r.length;try{for(var a=d(r),u=a.next();!u.done;u=a.next()){var s;(s=u.value).setWidth(o)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}}},t}();var Yl=function(){function t(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=100),this.MIN_COLUMN_WIDTH=t,this.baseColumnWidths=e.map((function(t){return new Xl(t.width)})),this.columnWidths=e.map((function(t){return new Xl(t.width)})),this.setContainerWidth(n),this.calculate()}return t.prototype.getColumnWidths=function(){return this.baseColumnWidths},t.prototype.getColumnsWidth=function(){return this.width},t.prototype.getWidths=function(){return this.columnWidths.map((function(t){return t.getWidth()}))},t.prototype.getMinWidth=function(){return new kl(this.MIN_COLUMN_WIDTH).calculateMinWidth(this.columnWidths)},t.prototype.setWidth=function(t){this.setContainerWidth(t),this.calculate()},t.prototype.setColumns=function(t){this.baseColumnWidths=t.map((function(t){return new Xl(t.width)})),this.columnWidths=t.map((function(t){return new Xl(t.width)})),this.calculate()},t.prototype.getMinColumnWidth=function(){return this.MIN_COLUMN_WIDTH},t.prototype.calculate=function(){if(this.baseColumnWidths&&this.width){var t=new Ql(this.baseColumnWidths,this.width,this.MIN_COLUMN_WIDTH);this.columnWidths=t.calculate()}},t.prototype.setContainerWidth=function(t){this.getMinWidth()>t?this.width=this.getMinWidth():this.width=t,this.calculate()},t}();var Jl=function(t){function e(e,n){var r=t.call(this,e,n,"CompositionChangeSortStatusEvent")||this;return r.activeColumns=n,r}return l(e,t),e.prototype.getCompositionId=function(){return this.getAggregateId()},e.prototype.getActiveColumns=function(){return this.activeColumns},e}(Hl);var Zl=function(t){function e(e,n){var r=t.call(this,e,"CompositionChangeSortStatusAggregateEvent")||this;return r.activeColumns=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new Jl(this.getAggregateId(),this.activeColumns)},e}(Vl);var _l=function(){function t(t,e,n,r){void 0===e&&(e=[]),this.compositionId=t,this.MIN_COLUMN_WIDTH=50,this.columnWidthCollection=new Yl(this.MIN_COLUMN_WIDTH),this.columns=e,n&&r&&(this.columnWidthCollection=new Yl(this.MIN_COLUMN_WIDTH,r,n))}return t.prototype.getColumnWidths=function(){return this.columnWidthCollection.getColumnWidths()},t.prototype.getColumns=function(){return this.columns},t.prototype.setWidth=function(t){this.columnWidthCollection.setWidth(t)},t.prototype.addColumn=function(t,e){this.columns.splice(e,0,t)},t.prototype.removeColumn=function(t){this.columns.splice(t,1)},t.prototype.setColumns=function(t,e){this.columns=t,this.columnWidthCollection.setColumns(e);var n=this.columnWidthCollection.getWidths();this.columns.forEach((function(t,e){t.setWidth(n[e])}))},t.prototype.changeSort=function(t){var e,n;this.columns.forEach((function(t){t.setSortStatus(ku.NONE)}));var r=function(t){var e=t.fieldId,n=t.direction?ku.ASC:ku.DESC,r=i.columns.filter((function(t){return t.getField().getId().getId()===e.getId()}));r.length>0&&r.forEach((function(t){t.setSortStatus(n)}))},i=this;try{for(var o=d(t),a=o.next();!a.done;a=o.next()){r(a.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return new Zl(this.getCompositionId(),this.columns)},t.prototype.moveLeft=function(t){var e=this.findColumnIndex(t);this.move(e,e-1)},t.prototype.moveRight=function(t){var e=this.findColumnIndex(t);this.move(e,e+1)},t.prototype.getMinColumnWidth=function(){return this.MIN_COLUMN_WIDTH},t.prototype.move=function(t,e){if(this.validateMoveIndex(t)&&this.validateMoveIndex(e)){var n=this.columns[t];this.columns[t]=this.columns[e],this.columns[e]=n}},t.prototype.validateMoveIndex=function(t){return t>=0},t.prototype.getCompositionId=function(){return this.compositionId},t.prototype.findColumnIndex=function(t){return this.columns.findIndex((function(e){return e.getId().equals(t)}))},t}();var $l=function(){function t(t){this.templateFunction=function(t,e){return t},"function"==typeof t?(this.view=B.FUNCTION,this.templateFunction=t):this.view=t}return t.fromDataType=function(e){return e===N.DATE?new t(B.DATE):new t(B.TEXT)},t.prototype.getCellView=function(){return this.view},t.prototype.getTemplateFunction=function(){return this.templateFunction},t}();var tp=function(t){function e(e,n,r,i,o,a,u,s){var c=t.call(this,e)||this;return c.columnField=n,c.columnConfig=r,c.presentation=i,c.view=$l.fromDataType(n.getDataType()),o&&(c.header=o),u&&(c.view=u),s&&(c.width=s),c.setInitialAlign(n,a),c}return l(e,t),e.prototype.getPresentation=function(){return this.presentation},e.prototype.getColumnConfig=function(){return this.columnConfig},e.prototype.getField=function(){return this.columnField},e.prototype.getHeader=function(){return this.header},e.prototype.getDataType=function(){return this.columnField.getDataType()},e.prototype.getCellView=function(){return this.view.getCellView()},e.prototype.getTemplateFunction=function(){return this.view.getTemplateFunction()},e.prototype.getFormatterFunction=function(){return this.columnConfig.formatter},e.prototype.setView=function(t){this.view=t},e.prototype.setHeader=function(t){this.header=t},e.prototype.getView=function(){return this.view},e.prototype.getAlign=function(){return this.align},e.prototype.setWidth=function(t){this.width=t},e.prototype.getWidth=function(){return this.width},e.prototype.getSortingEnabled=function(){var t=this.columnConfig;if(void 0!==t.sorting&&null!==t.sorting)return void 0===t.sorting.enabled||null===t.sorting.enabled||t.sorting.enabled},e.prototype.isCellEditingEnabled=function(){var t=this.columnConfig;return void 0===t.cellEditing||null===t.cellEditing||(void 0===t.cellEditing.enabled||null===t.cellEditing.enabled||t.cellEditing.enabled)},e.prototype.setInitialAlign=function(t,e){null!=e?this.align=e:t.getDataType()===N.NUMBER?this.align=z.RIGHT:this.align=z.LEFT},e}(r.Entity);var ep=function(t){function e(e,n,r,i,o,a,u,s,c){var l=t.call(this,e,n,r,o,a,u,s,c)||this;return l.sortStatus=ku.NONE,l.enabled=!0,l.enabled=i,void 0===s&&(l.view=new $l(l.presentation.getDefaultView())),void 0===u&&(l.align=l.presentation.getDefaultAlign(l.view)),l}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e.prototype.setEnabled=function(t){this.enabled=t},e.prototype.getSortStatus=function(){return this.sortStatus},e.prototype.setSortStatus=function(t){this.sortStatus=t},e}(tp);var np=function(t){function e(e,n,r,i,o,a,u){return t.call(this,e,n,a,!0,u,r,i,o,void 0)||this}return l(e,t),e.fromEntity=function(t){return new e(t.getId(),t.getField(),t.getHeader(),t.getAlign(),t.getView(),t.getColumnConfig(),t.getPresentation())},e}(ep),rp=function(){function t(){}return t.prototype.convertMany=function(t){var e=this;return t.map((function(t){return e.convert(t)}))},t.prototype.convert=function(t){return np.fromEntity(t)},t}(),ip=function(t){function e(e){return t.call(this,e,null,"CompositionColumnMovedLeftEvent")||this}return l(e,t),e}(Hl),op=function(t){function e(e,n){var r=t.call(this,e,"CompositionColumnMovedLeftAggregateEvent")||this;return r.activeColumns=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new ip(this.getAggregateId())},e}(Vl);var ap=function(t){function e(e){return t.call(this,e,null,"CompositionColumnMovedRightEvent")||this}return l(e,t),e}(Hl),up=function(t){function e(e,n){var r=t.call(this,e,"CompositionColumnMovedRightAggregateEvent")||this;return r.activeColumns=n,r}return l(e,t),e.prototype.toDomainEvent=function(){return new ap(this.getAggregateId())},e}(Vl);var sp=function(t){function e(e){return t.call(this,e,null,"CompositionColumnsSetEvent")||this}return l(e,t),e}(Hl),cp=function(t){function e(e){return t.call(this,e,"ColumnsSetAggregateEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new sp(this.getAggregateId())},e}(Vl),lp=function(t){function e(e){return t.call(this,e,null,"CompositionCreatedEvent")||this}return l(e,t),e}(Hl),pp=function(t){function e(e){return t.call(this,e,"SchemaCreatedEvent")||this}return l(e,t),e.prototype.toDomainEvent=function(){return new lp(this.getAggregateId())},e}(Vl),gp=function(t,e,n){this.id=t,this.header=e,this.width=n};var hp=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toString=function(){return this.getId()},e}(r.HermesId),dp=new gp(new hp("-1"),"",100),mp=function(t){function e(e,n,i,o,a,u){void 0===o&&(o=[]);var s=t.call(this,e,"CompositionAggregate")||this;s.allColumns=[],s.resizeWidthEnabled=!0,s.activeColumnEntityConverter=new rp,s.groups=new r.KeyMap,s.columnNameToGroupId=new Map;var c=o.map((function(t){return t.getColumn()}));s.baseParams=o,s.baseColumns=c,s.columnFactory=n,s.groupFactory=i,s.width=a,s.allColumns=s.columnFactory.create(o);var l=s.activeColumnEntityConverter.convertMany(s.getEnabledColumns());return s.activeColumnContainer=new _l(s.getId(),l,a,c),null!=u&&(s.resizeWidthEnabled=u),s}return l(e,t),e.prototype.createEvent=function(){return pp},e.prototype.getColumns=function(){return this.allColumns},e.prototype.getActiveColumns=function(){return this.activeColumnContainer.getColumns()},e.prototype.getWidth=function(){return this.resizeWidthEnabled?this.containerInDOMWidth:this.width},e.prototype.isResizeEnabled=function(){return this.resizeWidthEnabled},e.prototype.isReady=function(){return!!this.getWidth()&&this.getActiveColumns().length>0},e.prototype.setGroups=function(t){for(var e=this,n=function(n){var i=t[n];if(void 0!==i.columns){var o=r.groupFactory.create(i);r.groups.set(o.id,o),i.columns.forEach((function(t,n){e.columnNameToGroupId.set(t.header,o.id)}))}else r.columnNameToGroupId.set(i.header,dp.id)},r=this,i=0;i<t.length;i+=1)n(i)},e.prototype.setColumns=function(t){this.allColumns=this.columnFactory.create(t);var e=t.map((function(t){return t.getColumn()})),n=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer.setColumns(n,e),this.addEvent(new cp(this.getId()))},e.prototype.setContainerWidth=function(t){this.setContainerWidthWithEvent(t),this.recalculateColumns()},e.prototype.setWidth=function(t){this.setWidthWithEvent(t),this.setResizeWidthWithEvent(!1),this.recalculateColumns()},e.prototype.setResizeWidth=function(t){this.setResizeWidthWithEvent(t)},e.prototype.changeSort=function(t){this.addEvent(this.activeColumnContainer.changeSort(t))},e.prototype.enableColumn=function(t,e){var n=-1;if(this.allColumns.forEach((function(r,i){if(r.getId().getId()===t.getId()){var o=r.isEnabled();r.setEnabled(e),o!==e&&(n=i)}})),n>0)if(e){var r=this.activeColumnEntityConverter.convert(this.allColumns[n]);this.activeColumnContainer.addColumn(r,n)}else this.activeColumnContainer.removeColumn(n);this.recalculateColumns(),this.addEvent(new ql(this.getId(),this.getActiveColumns()))},e.prototype.moveLeft=function(t){for(var e,n=this.findColumnIndex(t),r=-1,i=n-1;i>=0;i-=1){var o=this.allColumns[i];if(o.isEnabled()){e=o,r=i;break}}if(e&&r>=0&&n>=0){var a=this.allColumns[n];this.allColumns[n]=e,this.allColumns[r]=a}this.activeColumnContainer.moveLeft(t),this.addEvent(new op(this.getId(),this.getActiveColumns()))},e.prototype.moveRight=function(t){for(var e,n=this.findColumnIndex(t),r=-1,i=n+1;i<this.allColumns.length;i+=1){var o=this.allColumns[i];if(o.isEnabled()){e=o,r=i;break}}if(e&&r>=0&&n>=0){var a=this.allColumns[n];this.allColumns[n]=e,this.allColumns[r]=a}this.activeColumnContainer.moveRight(t),this.addEvent(new up(this.getId(),this.getActiveColumns()))},e.prototype.recalculateColumns=function(){var t=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer.setColumns(t,t.map((function(t){return t.getColumnConfig()})))},e.prototype.setWidthWithEvent=function(t){var e=new kl(this.getMinColumnWidth()).calculateMinWidth(this.activeColumnContainer.getColumnWidths());this.width=e>t?e:t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new jl(this.getId()))},e.prototype.setContainerWidthWithEvent=function(t){var e=new kl(this.getMinColumnWidth()).calculateMinWidth(this.activeColumnContainer.getColumnWidths());this.containerInDOMWidth=e>t?e:t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new zl(this.getId(),t))},e.prototype.setResizeWidthWithEvent=function(t){this.resizeWidthEnabled=t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new Ul(this.getId()))},e.prototype.getEnabledColumns=function(){return this.allColumns.filter((function(t){return t.isEnabled()}))},e.prototype.findColumnIndex=function(t){return this.allColumns.findIndex((function(e){return e.getId().equals(t)}))},e.prototype.getMinColumnWidth=function(){return this.activeColumnContainer.getMinColumnWidth()},e}(r.AggregateRoot);var fp=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e.prototype.toString=function(){return this.getId()},e}(r.EntityId),yp=function(){};var vp=function(t){function e(){return t.call(this)||this}return l(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getPossibleViews=function(){return[B.TEXT,B.BAR,B.PERCENTAGE_BAR,B.PERCENTAGE]},e.prototype.getDefaultView=function(){return B.NUMBER},e.prototype.getDefaultAlign=function(t){return z.RIGHT},e.instance=null,e}(yp);var bp=function(t){function e(){return t.call(this)||this}return l(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getPossibleViews=function(){return[B.TEXT,B.ITALIC,B.CHIP,B.BOLD,B.CHECKBOX]},e.prototype.getDefaultView=function(){return B.TEXT},e.prototype.getDefaultAlign=function(t){return t.getCellView()===B.CHECKBOX?z.CENTER:z.LEFT},e.instance=null,e}(yp);var Cp=function(t){function e(){return t.call(this)||this}return l(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getPossibleViews=function(){return[B.DATE,B.TEXT,B.ITALIC,B.BOLD,B.CHIP]},e.prototype.getDefaultView=function(){return B.DATE},e.prototype.getDefaultAlign=function(){return z.LEFT},e.instance=null,e}(yp);var Ep=function(t){function e(){return t.call(this)||this}return l(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getPossibleViews=function(){return[B.TEXT,B.ITALIC,B.BOLD,B.IMAGE,B.LINK,B.CHIP]},e.prototype.getDefaultView=function(){return B.TEXT},e.prototype.getDefaultAlign=function(){return z.LEFT},e.instance=null,e}(yp);var Ip=function(t){function e(){return t.call(this)||this}return l(e,t),e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.getPossibleViews=function(){return[B.TEXT]},e.prototype.getDefaultView=function(){return B.TEXT},e.prototype.getDefaultAlign=function(){return z.LEFT},e.instance=null,e}(yp);var wp=function(){function t(){}return t.prototype.convert=function(t){return t===N.NUMBER?vp.getInstance():t===N.BOOLEAN?bp.getInstance():t===N.DATE?Cp.getInstance():t===N.STRING?Ep.getInstance():Ip.getInstance()},t.decorators=[{type:e.Injectable}],t}(),Sp=function(){function t(t){this.columnPresentationConverter=t}return t.prototype.create=function(t){return Array.isArray(t)?this.createColumns(t):this.createColumn(t)},t.prototype.createColumn=function(t){var e,n,i=t.getColumn(),o=t.getField(),a=o.getDataType(),u=this.convertWidth(i.width)||void 0;void 0!==i.view&&(e=new $l(i.view)),n=void 0===i.enabled||i.enabled;var s=this.getPresentation(a),c=new ep(new fp(r.RandomStringGenerator.generate()),o,i,n,s,void 0,i.align,e,u);return void 0!==i.header&&c.setHeader(i.header),c},t.prototype.createColumns=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.createColumn(t))})),n},t.prototype.convertWidth=function(t){return+t},t.prototype.getPresentation=function(t){return this.columnPresentationConverter.convert(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:wp}]},t}();var Tp=function(){function t(){}return t.prototype.create=function(t){return new gp(new hp(r.RandomStringGenerator.generate()),t.header,t.width)},t}(),Ap=function(t){function n(e,n){var r=t.call(this)||this;return r.columnFactory=e,r.groupFactory=n,r}return l(n,t),n.prototype.create=function(t){return new mp(t,this.columnFactory,this.groupFactory)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Sp},{type:Tp}]},n}(r.AggregateFactory);var xp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.AggregateRepository);var Mp=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n}(r.InMemoryStore),Dp=function(t){function n(e,n){return t.call(this,e,n)||this}return l(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Mp},{type:r.AggregateStoreRegister}]},n}(r.InMemoryAggregateStore),Rp=function(t){function n(e){var n=t.call(this)||this;return n.inMemoryCompositionAggregateStore=e,n}return l(n,t),n.prototype.findById=function(t){return this.inMemoryCompositionAggregateStore.findById(t)},n.prototype.save=function(t){this.inMemoryCompositionAggregateStore.save(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Dp}]},n}(xp);var Pp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l(e,t),e}(r.Command),Fp=function(t){function e(e){var n=t.call(this,e,"CreateCompositionCommand")||this;return n.compositionId=e,n}return l(e,t),e}(Pp);var Np=function(){function t(t,e){this.compositionAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Fp},t.prototype.getAggregateRepository=function(){return this.compositionAggregateRepository},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new lp(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xp},{type:r.DomainEventPublisher}]},t}();var Op="CompositionResizeWidthSetAggregateEvent",kp="ColumnsSetAggregateEvent",Hp="CompositionContainerWidthSetAggregateEvent",Bp="CompositionWidthSetAggregateEvent",Vp="CompositionColumnSetEnabledAggregateEvent",jp="CompositionColumnMovedLeftAggregateEvent",Gp="CompositionColumnMovedRightAggregateEvent",zp="GroupsSetAggregateEvent",Lp=function(t){function e(e){return t.call(this,e,null,"CompositionGroupsSetEvent")||this}return l(e,t),e}(Hl),Up=function(){function t(){}return t.prototype.convert=function(t){return Array.isArray(t)?this.convertEvents(t):this.convertEvent(t)},t.prototype.convertEvents=function(t){var e=this;return t.map((function(t){return e.convertEvent(t)}))},t.prototype.convertEvent=function(t){switch(t.getType()){case Op:return new Ll(t.getAggregateId());case kp:return new sp(t.getAggregateId());case Hp:var e=t.containerWidth;return new Gl(t.getAggregateId(),e);case Bp:return new Bl(t.getAggregateId());case Vp:return new Wl(t.getAggregateId());case jp:return new ip(t.getAggregateId());case Gp:return new ap(t.getAggregateId());case zp:return new Lp(t.getAggregateId())}},t.decorators=[{type:e.Injectable}],t}(),Wp=function(t){function e(e,n){var r=t.call(this,e,"SetColumnsCommand")||this;return r.compositionId=e,r.columns=n,r}return l(e,t),e.prototype.getParams=function(){return this.columns},e}(Pp);var qp=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return Wp},t.prototype.handle=function(t,e){var n=e.getParams();t.setColumns(n)},t.prototype.publish=function(t,e){this.publishEvents(t,e)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),r=this.compositionEventConverter.convert(n);this.domainEventPublisher.publish(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xp},{type:r.DomainEventPublisher},{type:Up}]},t}();var Kp=function(t){function e(e,n){var r=t.call(this,e,"SetCompositionWidthCommand")||this;return r.structureId=e,r.width=n,r}return l(e,t),e.prototype.getWidth=function(){return this.width},e}(Pp);var Xp=function(){function t(t,e){this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Kp},t.prototype.handle=function(t,e){var n=e.getWidth();t.setWidth(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new Bl(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xp},{type:r.DomainEventPublisher}]},t}();var Qp=function(t){function e(e,n){var r=t.call(this,e,"SetCompositionResizeWidthCommand")||this;return r.structureId=e,r.enabled=n,r}return l(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(Pp);var Yp=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Qp},t.prototype.handle=function(t,e){var n=e.getEnabled();t.setResizeWidth(n)},t.prototype.publish=function(t,e){this.domainEventPublisher.publish(new Ll(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var Jp=function(t){function e(e,n){var r=t.call(this,e,"SetCompositionContainerWidthCommand")||this;return r.structureId=e,r.width=n,r}return l(e,t),e.prototype.getWidth=function(){return this.width},e}(Pp);var Zp=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return Jp},t.prototype.handle=function(t,e){var n=e.getWidth();t.setContainerWidth(n)},t.prototype.publish=function(t,e){this.publishAggregateEvents(t.getEvents())},t.prototype.publishAggregateEvents=function(t){var e=this.compositionEventConverter.convert(t);this.domainEventPublisher.publish(e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xp},{type:r.DomainEventPublisher},{type:Up}]},t}();var _p=function(t){function e(e,n,r){var i=t.call(this,e,"CompositionSetColumnEnabledCommand")||this;return i.compositionId=e,i.columnId=n,i.enabled=r,i}return l(e,t),e.prototype.getColumnId=function(){return this.columnId},e.prototype.isEnabled=function(){return this.enabled},e}(Pp);var $p=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return _p},t.prototype.handle=function(t,e){var n=e.getColumnId(),r=e.isEnabled();t.enableColumn(n,r)},t.prototype.publish=function(t,e){this.publishEvents(t,e)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),r=this.compositionEventConverter.convert(n);r&&r.length>0&&this.domainEventPublisher.publish(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xp},{type:r.DomainEventPublisher},{type:Up}]},t}();var tg=function(t){function e(e,n){var r=t.call(this,e,"CompositionChangeSortStatusCommand")||this;return r.compositionId=e,r.sortParams=n,r}return l(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getSortParams=function(){return this.sortParams},e}(Pp);var eg=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return tg},t.prototype.handle=function(t,e){var n=e.getSortParams();t.changeSort(n)},t.prototype.publish=function(t,e){var n=e.getAggregateId(),r=t.getActiveColumns();this.domainEventPublisher.publish(new Jl(n,r))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.DomainEventPublisher}]},t}();var ng=function(t){function e(e,n){var r=t.call(this,e,"CompositionMoveLeftColumnCommand")||this;return r.compositionId=e,r.columnId=n,r}return l(e,t),e.prototype.getColumnId=function(){return this.columnId},e}(Pp);var rg=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return ng},t.prototype.handle=function(t,e){var n=e.getColumnId();t.moveLeft(n)},t.prototype.publish=function(t,e){this.publishEvents(t,e)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),r=this.compositionEventConverter.convert(n);r&&r.length>0&&this.domainEventPublisher.publish(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xp},{type:r.DomainEventPublisher},{type:Up}]},t}();var ig=function(t){function e(e,n){var r=t.call(this,e,"CompositionMoveRightColumnCommand")||this;return r.columnId=n,r}return l(e,t),e.prototype.getColumnId=function(){return this.columnId},e}(Pp);var og=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return ig},t.prototype.handle=function(t,e){var n=e.getColumnId();t.moveRight(n)},t.prototype.publish=function(t,e){this.publishEvents(t,e)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),r=this.compositionEventConverter.convert(n);r&&r.length>0&&this.domainEventPublisher.publish(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xp},{type:r.DomainEventPublisher},{type:Up}]},t}();var ag=function(t){function e(e,n){var r=t.call(this,e,"SetGroupsCommand")||this;return r.compositionId=e,r.configs=n,r}return l(e,t),e.prototype.getConfigs=function(){return this.configs},e}(Pp);var ug=function(){function t(t){this.commandDispatcher=t}return t.prototype.createComposition=function(t){this.commandDispatcher.dispatch(new Fp(t))},t.prototype.setColumns=function(t,e){this.commandDispatcher.dispatch(new Wp(t,e))},t.prototype.setGroups=function(t,e){this.commandDispatcher.dispatch(new ag(t,e))},t.prototype.setWidth=function(t,e){this.commandDispatcher.dispatch(new Kp(t,e))},t.prototype.setContainerWidth=function(t,e){this.commandDispatcher.dispatch(new Jp(t,e))},t.prototype.setResizeWidth=function(t,e){this.commandDispatcher.dispatch(new Qp(t,e))},t.prototype.changeSort=function(t,e){this.commandDispatcher.dispatch(new tg(t,e))},t.prototype.setColumnEnabled=function(t,e,n){this.commandDispatcher.dispatch(new _p(t,e,n))},t.prototype.moveLeft=function(t,e){this.commandDispatcher.dispatch(new ng(t,e))},t.prototype.moveRight=function(t,e){this.commandDispatcher.dispatch(new ig(t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:r.CommandDispatcher}]},t}();var sg=function(t,e){this.fieldId=t,this.direction=e};var cg=function(){function t(t){this.compositionDispatcher=t}return t.prototype.forEvents=function(){return[Gi,Wi]},t.prototype.handle=function(t){if(t.ofMessageType("SortToggledEvent")){var e=t.getCompositionId(),n=t.getDirections().map((function(t){var e=new hi(t.fieldId.getId());return new sg(e,t.direction)}));this.compositionDispatcher.changeSort(e,n)}if(t.ofMessageType("SortOrderSetEvent")){e=t.getCompositionId(),n=t.getDirections().map((function(t){var e=new hi(t.fieldId.getId());return new sg(e,t.direction)}));this.compositionDispatcher.changeSort(e,n)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ug}]},t}();var lg=function(){function t(){}return t.prototype.getTemplate=function(t){switch(t){case B.TEXT:return this.textTemplate;case B.NUMBER:return this.numberTemplate;case B.CHIP:return this.chipTemplate;case B.LINK:return this.linkTemplate;case B.IMAGE:return this.imageTemplate;case B.CHECKBOX:return this.checkboxTemplate;case B.BOLD:return this.boldTemplate;case B.ITALIC:return this.italicTemplate;case B.CUSTOM:return this.customTemplate;case B.FUNCTION:return this.functionTemplate;case B.DATE:return this.dateTemplate;case B.BAR:return this.barTemplate;case B.PERCENTAGE_BAR:return this.percentageBarTemplate;case B.PERCENTAGE:return this.percentageTemplate;default:return this.textTemplate}},t.decorators=[{type:e.Component,args:[{template:'\n\n\t\t<ng-template #text let-element="element">\n\t\t\t<gui-view-text [value]="element"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-element="element">\n\t\t\t<span class="gui-cell-number">\n\t\t\t\t{{ element.value }}\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #chip let-element="element">\n\t\t\t<gui-chip>\n\t\t\t\t<gui-view-text [value]="element"></gui-view-text>\n\t\t\t</gui-chip>\n\t\t</ng-template>\n\n\t\t<ng-template #link let-element="element">\n\t\t\t<a gui-button link="true" href="{{ element.value }}">\n\t\t\t\t<gui-view-text [value]="element"></gui-view-text>\n\t\t\t</a>\n\t\t</ng-template>\n\n\t\t<ng-template #image let-element="element">\n\t\t\t<img src="{{ element.value }}"/>\n\t\t</ng-template>\n\n\t\t<ng-template #checkbox let-element="element">\n\t\t\t<span class="gui-cell-boolean">\n\t\t\t\t<gui-checkbox [checked]="!!element.value" [disabled]="true"></gui-checkbox>\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bold let-element="element">\n\t\t\t<gui-view-text bold [value]="element"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #italic let-element="element">\n\t\t\t<gui-view-text italic [value]="element"></gui-view-text>\n\t\t</ng-template>\n\n\t\t<ng-template #custom let-element="element">\n\t\t\t{{ element.value }}\n\t\t</ng-template>\n\n\t\t<ng-template #function let-element="element">\n\t\t\t<gui-function-view [element]="element"></gui-function-view>\n\t\t</ng-template>\n\n\t\t<ng-template #date let-element="element">\n\t\t\t<span class="gui-view-text">{{ element.value | date: \'dd/MM/yyyy\' }}</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bar let-element="element">\n\t\t\t<gui-bar-view [value]="element.value" [showPercentage]="false"></gui-bar-view>\n\t\t</ng-template>\n\n\t\t<ng-template #percentageBar let-element="element">\n\t\t\t<gui-bar-view [value]="element.value" [showPercentage]="true"></gui-bar-view>\n\t\t</ng-template>\n\n\t\t<ng-template #percentage let-element="element">\n\t\t\t<gui-percentage-view [value]="element.value"></gui-percentage-view>\n\t\t</ng-template>\n\n\t'}]}],t.propDecorators={textTemplate:[{type:e.ViewChild,args:["text",{read:e.TemplateRef,static:!0}]}],numberTemplate:[{type:e.ViewChild,args:["number",{read:e.TemplateRef,static:!0}]}],chipTemplate:[{type:e.ViewChild,args:["chip",{read:e.TemplateRef,static:!0}]}],linkTemplate:[{type:e.ViewChild,args:["link",{read:e.TemplateRef,static:!0}]}],imageTemplate:[{type:e.ViewChild,args:["image",{read:e.TemplateRef,static:!0}]}],checkboxTemplate:[{type:e.ViewChild,args:["checkbox",{read:e.TemplateRef,static:!0}]}],boldTemplate:[{type:e.ViewChild,args:["bold",{read:e.TemplateRef,static:!0}]}],italicTemplate:[{type:e.ViewChild,args:["italic",{read:e.TemplateRef,static:!0}]}],customTemplate:[{type:e.ViewChild,args:["custom",{read:e.TemplateRef,static:!0}]}],functionTemplate:[{type:e.ViewChild,args:["function",{read:e.TemplateRef,static:!0}]}],dateTemplate:[{type:e.ViewChild,args:["date",{read:e.TemplateRef,static:!0}]}],barTemplate:[{type:e.ViewChild,args:["bar",{read:e.TemplateRef,static:!0}]}],percentageBarTemplate:[{type:e.ViewChild,args:["percentageBar",{read:e.TemplateRef,static:!0}]}],percentageTemplate:[{type:e.ViewChild,args:["percentage",{read:e.TemplateRef,static:!0}]}]},t}();var pg=function(){function t(t,e){this.templatesComponentDefinition=t,this.componentFactoryResolver=e,this.templates=new Map,this.templatesComponent=null,this.createTemplatesComponent()}return t.prototype.getTemplates=function(){return this.templates},t.prototype.destroy=function(){this.templatesComponent&&(this.templatesComponent.destroy(),this.templatesComponent=null)},t.prototype.createTemplatesComponent=function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition),n=e.Injector.create({providers:[]});this.templatesComponent=t.create(n),this.generateMap()},t.prototype.generateMap=function(){var t=this;this.generateMapKeys().forEach((function(e){t.findAndSetTemplate(e)}))},t.prototype.findAndSetTemplate=function(t){var e=this.templatesComponent.instance.getTemplate(t);this.templates.set(t,e)},t}();var gg=function(t){function n(e){return t.call(this,lg,e)||this}return l(n,t),n.prototype.generateMapKeys=function(){return Object.keys(B).map((function(t){return B[t]}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.ComponentFactoryResolver}]},n}(pg),hg=function(){function t(t){this.columnTemplateFactory=t}return t.prototype.findTemplate=function(t){return this.columnTemplateFactory.getTemplates().get(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:gg}]},t}();var dg=function(){function t(){}return t.prototype.getTemplate=function(t){switch(t){case N.STRING:return this.stringTemplate;case N.NUMBER:return this.numberTemplate;case N.BOOLEAN:return this.booleanTemplate;case N.DATE:return this.dateTemplate;default:return this.emptyTemplate}},t.decorators=[{type:e.Component,args:[{template:'\n\n\t\t<ng-template #string let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus">\n\t\t\t<gui-string-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-string-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus">\n\t\t\t<gui-number-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-number-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #boolean let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus">\n\t\t\t<gui-boolean-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-boolean-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #date let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" let-parent="parent">\n\t\t\t<gui-date-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus" [parent]="parent">\n\t\t\t</gui-date-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #empty>\n\n\t\t</ng-template>\n\n\t'}]}],t.propDecorators={stringTemplate:[{type:e.ViewChild,args:["string",{read:e.TemplateRef,static:!0}]}],numberTemplate:[{type:e.ViewChild,args:["number",{read:e.TemplateRef,static:!0}]}],booleanTemplate:[{type:e.ViewChild,args:["boolean",{read:e.TemplateRef,static:!0}]}],dateTemplate:[{type:e.ViewChild,args:["date",{read:e.TemplateRef,static:!0}]}],emptyTemplate:[{type:e.ViewChild,args:["empty",{read:e.TemplateRef,static:!0}]}]},t}();var mg=function(t){function n(e){return t.call(this,dg,e)||this}return l(n,t),n.prototype.generateMapKeys=function(){return Object.keys(N).map((function(t){return N[t]}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.ComponentFactoryResolver}]},n}(pg),fg=function(){function t(t){this.editTemplateFactory=t}return t.prototype.findTemplate=function(t){return this.editTemplateFactory.getTemplates().get(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:mg}]},t}();var yg=function(t){this.element=t};var vg=function(t){function e(e,n,r,i,o,a,u,s,c,l){void 0===c&&(c=ku.NONE),void 0===l&&(l=!0);var p=t.call(this,n)||this;return p.type=i,p.view=o,p.align=a,p.sortable=!0,p.field=e,p.columnDefinitionId=n,p.enabled=r,p.header=u,p.cellEditingEnabled=s,p.sortStatus=c,p.sortable=l,p}return l(e,t),e.prototype.isEnabled=function(){return this.enabled},e.prototype.setHeader=function(t){this.header=t},e.prototype.setField=function(t){this.field=t},e.prototype.setTemplateFunction=function(t){this.templateFunction=t},e.prototype.setFormatterFunction=function(t){this.formatterFunction=t},e.prototype.getHeaderCellTemplateWithContext=function(t){var e,n=this.header||"";"string"==typeof n?e=new yg(ss.text(n)):"function"==typeof n&&(e=new yg(ss.text(n(t))));var r=new Bo(this.field.getId().getId());return new Hu(this.headerTemplate,this.editTemplate,e,this.width,r,this.columnDefinitionId,this.sortStatus,this.enabled,this.sortable,this.align)},e.prototype.getContentCellTemplateWithAccessor=function(){var t=this;return new cs(this.cellTemplate,this.editTemplate,!0,this.templateFunction,this.formatterFunction,(function(e){return t.field.getAccessor()(e)}),(function(e){return t.field.getSearchAccessor()(e)}),this.width,this.field.getId(),this.align,this.cellEditingEnabled,this.type,this.view)},e}(r.ReadModelEntity);var bg=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e}(r.ReadModelEntityId),Cg=function(){function t(t,e){this.viewTemplateRepository=t,this.editTemplateRepository=e}return t.prototype.create=function(t){return t instanceof ep?this.createFromColumnEntity(t):this.createFromActiveColumnEntity(t)},t.prototype.createFromColumnEntity=function(t){var e=new vg(t.getField(),new bg(t.getId().toString()),t.isEnabled(),t.getDataType(),t.getView(),t.getAlign(),t.getHeader(),t.isCellEditingEnabled(),t.getSortStatus(),t.getSortingEnabled());return e.cellTemplate=this.findViewTemplate(t.getCellView()),e.headerTemplate=this.findViewTemplate(B.TEXT),e.setTemplateFunction(t.getTemplateFunction()),e.setFormatterFunction(t.getFormatterFunction()),e.editTemplate=this.findEditTemplate(t.getDataType()),e.width=+t.getWidth(),e},t.prototype.createFromActiveColumnEntity=function(t){var e=new vg(t.getField(),new bg(t.getId().toString()),!0,t.getDataType(),t.getView(),t.getAlign(),t.getHeader(),t.isCellEditingEnabled(),t.getSortStatus(),t.getSortingEnabled());return e.cellTemplate=this.findViewTemplate(t.getCellView()),e.headerTemplate=this.findViewTemplate(B.TEXT),e.setTemplateFunction(t.getTemplateFunction()),e.setFormatterFunction(t.getFormatterFunction()),e.editTemplate=this.findEditTemplate(t.getDataType()),e.width=+t.getWidth(),e},t.prototype.createColumns=function(t){var e=this;return t.map((function(t){return e.create(t)}))},t.prototype.findViewTemplate=function(t){return t===B.FUNCTION?this.viewTemplateRepository.findTemplate(B.FUNCTION):this.viewTemplateRepository.findTemplate(t)},t.prototype.findEditTemplate=function(t){return this.editTemplateRepository.findTemplate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:hg},{type:fg}]},t}();var Eg=function(t){function e(e,n,r,i,o,a){var u=t.call(this,e)||this;return u.ready=n,u.allColumns=r,u.activeColumns=i,u.width=o,u.resizeWidth=a,u}return l(e,t),e.prototype.getActiveColumns=function(){return this.activeColumns},e.prototype.getAllColumns=function(){return this.allColumns},e.prototype.getActiveHeaderColumns=function(){return this.getActiveColumns().map((function(t,e){return t.getHeaderCellTemplateWithContext(e)}))},e.prototype.getHeaderColumns=function(){return this.getAllColumns().map((function(t,e){return t.getHeaderCellTemplateWithContext(e)}))},e.prototype.getTemplateColumns=function(){return this.getActiveColumns().map((function(t){return t.getContentCellTemplateWithAccessor()}))},e.prototype.getWidth=function(){return this.width},e.prototype.getContainerWidth=function(){return+this.width-2},e.prototype.isReady=function(){return this.ready},e.prototype.isResizeWidthEnabled=function(){return this.resizeWidth},e.prototype.equals=function(t){return this.width===t.width&&this.resizeWidth===t.resizeWidth&&this.equalsByColumns(t.allColumns)},e.prototype.equalsByColumns=function(t){return this.allColumns.length===t.length},e}(r.ReadModelRoot);var Ig=function(){function t(t){this.columnDefinitionFactory=t}return t.prototype.convert=function(t){var e=t.isReady(),n=t.getColumns(),r=t.getActiveColumns(),i=this.convertToColumnDef(n),o=this.convertActiveColumnsToColumnDef(r),a=t.getWidth(),u=t.isResizeEnabled(),s=t.getId();return new Eg(s.toReadModelRootId(),e,i,o,a,u)},t.prototype.convertToColumnDef=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.columnDefinitionFactory.create(t);n.push(r)})),n},t.prototype.convertActiveColumnsToColumnDef=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.columnDefinitionFactory.create(t);n.push(r)})),n},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Cg}]},t}();var wg=function(t){function n(e,n){var r=t.call(this,e)||this;return r.inMemoryCompositionStore=e,r.compositionConverter=n,r}return l(n,t),n.prototype.toReadModel=function(t){return this.compositionConverter.convert(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Mp},{type:Ig}]},n}(r.InMemoryReadModelStore);var Sg=function(t){function e(e){return t.call(this,e)||this}return l(e,t),e}(r.ReadModelRootRepository);var Tg=function(t){function n(e,n){var i=t.call(this,e)||this;return i.inMemoryCompositionReadStore=n,i.compositionIdToComposition=new Map,i.composition$=new r.HermesReplaySubject(1),i}return l(n,t),n.prototype.on=function(t){return this.composition$.toObservable().pipe(r.hermesFilter((function(e){var n=t.getId();return e.has(n)})),r.hermesMap((function(e){return e.get(t.getId())})))},n.prototype.forEvents=function(){return[lp,Ll,sp,Gl,Bl,Wl,ip,ap,Jl]},n.prototype.subscribe=function(t){var e=this,n=t.getAggregateId();this.inMemoryCompositionReadStore.getById(n).ifPresent((function(t){var n=t.getId().toString();e.compositionIdToComposition.set(n,t),e.composition$.next(e.compositionIdToComposition)}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus},{type:wg}]},n}(Sg);var Ag=[Dp,{provide:xp,useClass:Rp}],xg=[wg,{provide:Sg,useClass:Tg}],Mg=[Mp],Dg=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return ag},t.prototype.handle=function(t,e){var n=e.getConfigs();t.setGroups(n)},t.prototype.publish=function(t,e){this.publishEvents(t,e)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),r=this.compositionEventConverter.convert(n);this.domainEventPublisher.publish(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:xp},{type:r.DomainEventPublisher},{type:Up}]},t}();var Rg=function(t){function i(){return t.call(this)||this}return l(i,t),i.commandHandlers=function(){return f(r.HermesModule.registerCommandHandler(qp,Ol),r.HermesModule.registerCommandHandler(Xp,Ol),r.HermesModule.registerCommandHandler(Yp,Ol),r.HermesModule.registerCommandHandler(Zp,Ol),r.HermesModule.registerCommandHandler($p,Ol),r.HermesModule.registerCommandHandler(eg,Ol),r.HermesModule.registerCommandHandler(rg,Ol),r.HermesModule.registerCommandHandler(og,Ol),r.HermesModule.registerCommandHandler(Dg,Ol))},i.domainEventHandlers=function(){return f(r.HermesModule.registerMultiDomainEventHandler(cg))},i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],providers:f(Ag,[ug,Sp,wp,Up,Qo,Tp]),declarations:[],exports:[]}]}],i.ctorParameters=function(){return[]},i}(r.DomainModule),Pg=function(){function t(t,e){this.groups=t,this.showGroups=e}return t.prototype.getGroups=function(){return this.groups},t.prototype.isVisible=function(){return this.showGroups},t}();var Fg=function(t){function n(){return t.call(this,n.default)||this}return l(n,t),n.default=new Pg([],!1),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(r.AggregateArchive);var Ng=function(t){function n(e,n){var r=t.call(this)||this;return r.compositionDispatcher=e,r.compositionGroupRepository=n,r}return l(n,t),n.prototype.create=function(t){this.compositionDispatcher.createComposition(t)},n.prototype.setColumns=function(t,e){this.compositionDispatcher.setColumns(e,t)},n.prototype.setGroups=function(t,e){this.compositionDispatcher.setGroups(e,t)},n.prototype.setWidth=function(t,e){this.compositionDispatcher.setWidth(e,t)},n.prototype.setContainerWidth=function(t,e){this.compositionDispatcher.setContainerWidth(e,t)},n.prototype.setResizeWidth=function(t,e){this.compositionDispatcher.setResizeWidth(e,t)},n.prototype.enableColumn=function(t,e){this.compositionDispatcher.setColumnEnabled(e,this.toColumnId(t),!0)},n.prototype.disableColumn=function(t,e){this.compositionDispatcher.setColumnEnabled(e,this.toColumnId(t),!1)},n.prototype.moveLeft=function(t,e){this.compositionDispatcher.moveLeft(e,this.toColumnId(t))},n.prototype.moveRight=function(t,e){this.compositionDispatcher.moveRight(e,this.toColumnId(t))},n.prototype.toColumnId=function(t){return new fp(t.getId())},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:ug},{type:Fg}]},n}(vn);var Og=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.prototype.onColumnsChanged=function(t){return this.onEvent(t,sp)},n.prototype.onContainerWidthChanged=function(t){return this.onEvent(t,Gl).pipe(r.hermesMap((function(t){return t.getPayload()})),r.hermesFilter((function(t){return!!t})))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:r.DomainEventBus}]},n}(Ci),kg=function(t){function n(e,n){var r=t.call(this)||this;return r.compositionRepository=e,r.compositionGroupArchive=n,r}return l(n,t),n.prototype.onWidth=function(t){return this.compositionRepository.on(t).pipe(r.hermesMap((function(t){return t.getWidth()})))},n.prototype.onContainerWidth=function(t){return this.compositionRepository.on(t).pipe(r.hermesMap((function(t){return t.getContainerWidth()})))},n.prototype.onWidthForEachColumn=function(t){return this.compositionRepository.on(t).pipe(r.hermesMap((function(t){return t.getAllColumns().map((function(t){return t.width}))})))},n.prototype.onHeaderColumns=function(t){return this.compositionRepository.on(t).pipe(r.hermesMap((function(t){return t.getActiveHeaderColumns()})))},n.prototype.onAllColumns=function(t){return this.compositionRepository.on(t).pipe(r.hermesMap((function(t){return t.getHeaderColumns()})))},n.prototype.onSortOrder=function(t,e){return this.compositionRepository.on(e).pipe(r.hermesMap((function(t){return t.getActiveHeaderColumns()})),r.hermesMap((function(e){return e.filter((function(e){return e.getFieldId().equals(t)}))})),r.hermesFilter((function(t){return t.length>0})),r.hermesMap((function(t){return t[0].getSortStatus()})))},n.prototype.onTemplateColumns=function(t){return this.compositionRepository.on(t).pipe(r.hermesMap((function(t){return t.getTemplateColumns()})))},n.prototype.onResizeWidth=function(t){return this.compositionRepository.on(t).pipe(r.hermesMap((function(t){return t.isResizeWidthEnabled()})))},n.prototype.onGroups=function(t){return this.compositionGroupArchive.on(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Sg},{type:Fg}]},n}(yn);var Hg=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return l(i,t),i.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,r.HermesModule.defineAggregate(Ol,Ap,Rp,Np,[Rg.commandHandlers()],[Rg.domainEventHandlers()]),Rg],providers:f(xg,[Cg,hg,gg,mg,fg],Mg,[Ig,Fg,{provide:vn,useClass:Ng},{provide:yn,useClass:kg},{provide:Ci,useClass:Og}]),declarations:[],exports:[]}]}],i}(r.ApiModule),Bg=function(){function t(t){this.sanitizer=t}return t.prototype.transform=function(t,e){switch(e){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error("Invalid safe type specified: "+e)}},t.decorators=[{type:e.Pipe,args:[{name:"guiSafe"}]}],t.ctorParameters=function(){return[{type:a.DomSanitizer}]},t}();var Vg=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[Bg],exports:[Bg]}]}],t}(),jg=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.ENTER_KEY_CODE=13,r.ESC_KEY_CODE=27,r}return l(n,t),n.prototype.submit=function(){this.emitStatus(ls.SUBMIT)},n.prototype.cancel=function(){this.emitStatus(ls.CANCEL)},n.prototype.emitStatus=function(t){this.status&&this.status.emit(t)},n.propDecorators={value:[{type:e.Input}],valueChanges:[{type:e.Input}],status:[{type:e.Input}],focus:[{type:e.Input}],parent:[{type:e.Input}]},n}(Jt);var Gg=function(t){function n(e,n,r){var i,o=t.call(this,e,n)||this;return o.changeDetectorRef=e,o.formBuilder=r,o.filterFieldName="phrase",o.filterForm=o.formBuilder.group(((i={})[o.filterFieldName]=[""],i)),o}return l(n,t),n.prototype.ngOnChanges=function(t){void 0!==t.value&&this.filterForm.get(this.filterFieldName).setValue(this.value)},n.prototype.ngOnInit=function(){this.observeChanges()},n.prototype.ngAfterViewInit=function(){var t=this,e=this.inputRef.nativeElement;this.focusField(e),this.emitValueChange(e.value),r.hermesFromEvent(e,"blur").pipe(this.takeUntil()).subscribe((function(){t.unsubscribe(),t.submit()}));var n=r.hermesFromEvent(e,"keyup");n.pipe(r.hermesFilter((function(e){return e.keyCode===t.ENTER_KEY_CODE})),this.takeUntil()).subscribe((function(){t.unsubscribe(),t.submit()})),n.pipe(r.hermesFilter((function(e){return e.keyCode===t.ESC_KEY_CODE})),this.takeUntil()).subscribe((function(){t.unsubscribe(),t.cancel()}))},n.prototype.focusField=function(t){this.focus&&t.focus()},n.prototype.observeChanges=function(){var t=this;r.fromRxJsObservable(this.filterForm.controls[this.filterFieldName].valueChanges).pipe(this.takeUntil()).subscribe((function(e){t.emitValueChange(e)}))},n.prototype.emitValueChange=function(t){this.valueChanges&&this.valueChanges.emit(t)},n.propDecorators={inputRef:[{type:e.ViewChild,args:["input",{static:!0}]}]},n}(jg);var zg=function(t){function n(e,n,r){return t.call(this,e,n,r)||this}return l(n,t),n.prototype.focusField=function(t){this.focus&&(t.focus(),t.setSelectionRange(0,t.value.length))},n.prototype.getSelectorName=function(){return"gui-string-edit"},n.decorators=[{type:e.Component,args:[{selector:"gui-string-edit",template:'\n\n\t\t<form [formGroup]="filterForm">\n\t\t\t<input #input [formControlName]="filterFieldName" type="type" class="gui-input"/>\n\t\t</form>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:i.FormBuilder}]},g([Gs,h("design:type",Function),h("design:paramtypes",[Object]),h("design:returntype",void 0)],n.prototype,"focusField",null),n}(Gg),Lg=function(t){function n(e,n,r){return t.call(this,e,n,r)||this}return l(n,t),n.prototype.getSelectorName=function(){return"gui-number-edit"},n.decorators=[{type:e.Component,args:[{selector:"gui-number-edit",template:'\n\n\t\t<form [formGroup]="filterForm">\n\t\t\t<input #input [formControlName]="filterFieldName" type="number" class="gui-input"/>\n\t\t</form>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef},{type:i.FormBuilder}]},n}(Gg),Ug=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.changeDetectorRef=e,r.filterFieldName="booleanEdit",r}return l(n,t),n.prototype.toggle=function(t){this.valueChanges.emit(t),this.submit()},n.prototype.getSelectorName=function(){return"gui-boolean-edit"},n.decorators=[{type:e.Component,args:[{selector:"gui-boolean-edit",template:'\n\n\t\t<span class="gui-cell-boolean">\n\t\t\t<gui-checkbox #checkbox\n\t\t\t\t\t\t  [checked]="value"\n\t\t\t\t\t\t  [name]="filterFieldName"\n\t\t\t\t\t\t  (changed)="toggle($event)">\n\t\t\t</gui-checkbox>\n\t\t</span>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef}]},n.propDecorators={checkboxRef:[{type:e.ViewChild,args:["checkbox",{read:e.ElementRef,static:!0}]}]},n}(jg);var Wg=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.changeDetectorRef=e,r.filterFieldName="dateEdit",r.opened=!1,r.localStreamCloser=new Qt,r}return l(n,t),n.prototype.ngAfterViewInit=function(){var t=this,e=this.datePickerRef.nativeElement.querySelector(".gui-date-picker-input"),n=r.hermesFromEvent(e,"keyup");n.pipe(r.hermesFilter((function(e){return e.keyCode===t.ENTER_KEY_CODE})),this.localStreamCloser.takeUntil()).subscribe((function(){t.localStreamCloser.unsubscribe(),t.submit()})),n.pipe(r.hermesFilter((function(e){return e.keyCode===t.ESC_KEY_CODE})),this.localStreamCloser.takeUntil()).subscribe((function(){t.localStreamCloser.unsubscribe(),t.cancel()}))},n.prototype.ngOnDestroy=function(){this.localStreamCloser.unsubscribe(),t.prototype.ngOnDestroy.call(this)},n.prototype.toggle=function(t){this.valueChanges.emit(t)},n.prototype.dialogOpened=function(t){this.opened=t,t||(this.localStreamCloser.unsubscribe(),this.submit())},n.prototype.getSelectorName=function(){return"gui-date-edit"},n.decorators=[{type:e.Component,args:[{selector:"gui-date-edit",template:'\n\n\t\t<gui-date-picker #datepicker\n\t\t\t\t\t\t [selectDate]="value"\n\t\t\t\t\t\t [name]="filterFieldName"\n\t\t\t\t\t\t [openDialog]="true"\n\t\t\t\t\t\t [onlyDialog]="false"\n\t\t\t\t\t\t [parentElement]="parent"\n\t\t\t\t\t\t (dialogOpened)="dialogOpened($event)"\n\t\t\t\t\t\t (dateSelected)="toggle($event)">\n\t\t</gui-date-picker>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef}]},n.propDecorators={datePickerRef:[{type:e.ViewChild,args:["datepicker",{read:e.ElementRef,static:!0}]}]},n}(jg);var qg=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-column[header]",template:""}]}],t.propDecorators={cellTemplate:[{type:e.ContentChild,args:[e.TemplateRef,{static:!1}]}],header:[{type:e.Input}]},t}();var Kg=function(t){function n(e,n){var r=t.call(this,n)||this;return r.sanitizer=e,r.elRef=n,r.addClassToHost("gui-h-full"),r.addClassToHost("gui-w-full"),r}return l(n,t),n.prototype.ngOnChanges=function(){this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.element.value)},n.prototype.getSelectorName=function(){return"gui-function-view"},n.decorators=[{type:e.Component,args:[{selector:"gui-function-view",template:'\n\n\t\t<div class="gui-h-full gui-flex gui-items-center"\n\t\t\t [innerHTML]="safeHTML">\n\t\t</div>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:a.DomSanitizer},{type:e.ElementRef}]},n.propDecorators={element:[{type:e.Input}]},n}(se);var Xg=function(t){function n(e){var n=t.call(this,e)||this;return n.showPercentage=!1,n}return l(n,t),n.prototype.ngOnChanges=function(t){void 0!==t.value&&null!==t.value&&(this.width=this.value>100?100:this.value)},n.prototype.getSelectorName=function(){return"gui-bar-view"},n.decorators=[{type:e.Component,args:[{selector:"gui-bar-view[value]",template:'\n\t\t<div class="gui-percentage-bar">\n\t\t\t<div class="gui-percentage" [style.width.%]="width">\n\t\t\t</div>\n\t\t\t<gui-percentage-view *ngIf="showPercentage"\n\t\t\t\t\t\t\t\t [value]="value">\n\t\t\t</gui-percentage-view>\n\t\t</div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={value:[{type:e.Input}],showPercentage:[{type:e.Input}]},n}(se);var Qg=function(t){function n(e){return t.call(this,e)||this}return l(n,t),n.prototype.getSelectorName=function(){return"gui-percentage-view"},n.decorators=[{type:e.Component,args:[{selector:"gui-percentage-view[value]",template:"\n\t\t{{ value }} %\n\t",changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef}]},n.propDecorators={value:[{type:e.Input}]},n}(se);var Yg=function(t){function n(e,n,r,i){var o=t.call(this,r)||this;return o.elementRef=r,o.renderer=i,o.isHtml=!1,null!==e&&o.addClassToHost("gui-bold"),null!==n&&o.addClassToHost("gui-italic"),o}return l(n,t),n.prototype.ngOnChanges=function(){this.isHtml=this.value.type===us.HTML},n.prototype.getSelectorName=function(){return"gui-text-view"},n.decorators=[{type:e.Component,args:[{selector:"gui-view-text[value]",template:'\n\n\t\t<ng-container *ngIf="isHtml; else text">\n\t\t\t<span [innerHTML]="value.value | guiSafe: \'html\'"></span>\n\t\t</ng-container>\n\n\t\t<ng-template #text>\n\t\t\t<span>\n\t\t\t\t{{value.value}}\n\t\t\t</span>\n\t\t</ng-template>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Attribute,args:["bold"]}]},{type:void 0,decorators:[{type:e.Attribute,args:["italic"]}]},{type:e.ElementRef},{type:e.Renderer2}]},n.propDecorators={value:[{type:e.Input}]},n}(se);var Jg=[lg,dg,zg,Lg,Ug,Wg,qg,Kg,Xg,Qg,Yg],Zg=[lg,dg,qg,o.FabricChipModule,o.FabricCheckboxModule,o.FabricButtonModule,o.FabricInputModule,Kg,Xg,Qg],_g=function(t){function r(e){var n=t.call(this)||this;if(null===e)throw new Error("CompositionApiModule is required.");return n}return l(r,t),r.forComponent=function(){return[]},r.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Hg,i.ReactiveFormsModule,Vg,o.FabricChipModule,o.FabricCheckboxModule,o.FabricButtonModule,o.FabricInputModule,o.FabricDatePickerModule],declarations:f(Jg),exports:f(Zg),entryComponents:[lg,dg,o.FabricChipComponent,o.FabricCheckboxComponent,o.FabricButtonComponent,o.FabricInputComponent]}]}],r.ctorParameters=function(){return[{type:Hg,decorators:[{type:e.Optional}]}]},r}(r.FeatureModule),$g=function(t){function n(e,n,r,i,o,a,u){var s=t.call(this,e)||this;return s.elementRef=e,s.injector=n,s.changeDetectorRef=r,s.compositionId=i,s.structureId=o,s.formationCommandDispatcher=a,s.sortingCommandDispatcher=u,s.checkboxSelection=!1,s.globalSearching=!1,s}return l(n,t),n.prototype.toggleSort=function(t){t.isSortEnabled()&&this.sortingCommandDispatcher.toggleSort(t.getFieldId(),this.compositionId,this.structureId)},n.prototype.isSortAsc=function(t){return t.getSortStatus()===ku.ASC},n.prototype.isSortDesc=function(t){return t.getSortStatus()===ku.DESC},n.prototype.isGlobalSortEnabled=function(){return this.globalSearching},n.prototype.getSelectorName=function(){return"gui-structure-header-groups"},n.decorators=[{type:e.Component,args:[{selector:"div[gui-structure-header-groups][groups][checkboxSelection]",template:'<div *ngIf="checkboxSelection"\n\t class="gui-header-cell gui-row-checkbox gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis">\n\t<div gui-select-all></div>\n</div>\n\n<div *ngFor="let group of groups"\n\t [style.width.px]="group.width"\n\t class="gui-header-cell gui-flex gui-justify-between\n\t gui-overflow-hidden gui-relative gui-py-0 gui-px-6 gui-box-border\n\t gui-leading-4 gui-whitespace-nowrap gui-overflow-ellipsis">\n\n\t<div class="gui-header-title">\n\t\t{{group.header}}\n\t</div>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,providers:[Vu]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Injector},{type:e.ChangeDetectorRef},{type:on},{type:oe},{type:wt},{type:qt}]},n.propDecorators={groups:[{type:e.Input}],showGroups:[{type:e.Input}],checkboxSelection:[{type:e.Input}]},n}(se);var th=function(){function t(){this.streamCloser=new Qt,this.hermesUnsubscribe$=new r.HermesSubject}return t.prototype.ngOnDestroy=function(){this.streamCloser.unsubscribe(),this.hermesUnsubscribe()},t.prototype.isDefined=function(t,e){return void 0!==e[t]&&void 0!==e[t].currentValue},t.prototype.subscribeAndEmit=function(t,e){t.pipe(this.hermesTakeUntil()).subscribe((function(t){e.emit(t)}))},t.prototype.unsubscribe=function(){this.streamCloser.unsubscribe()},t.prototype.hermesUnsubscribe=function(){this.hermesUnsubscribe$.next(),this.hermesUnsubscribe$.complete()},t.prototype.hermesTakeUntil=function(){return r.hermesTakeUntil(this.hermesUnsubscribe$)},t.prototype.takeUntil=function(){return this.streamCloser.takeUntil()},t}();var eh=function(t){function n(n,r,i){var o=t.call(this)||this;return o.structureId=n,o.searchEventRepository=r,o.searchCommandInvoker=i,o.searchPhraseChanged=new e.EventEmitter,o}return l(n,t),n.prototype.ngOnChanges=function(t){if(this.isDefined("searching",t)){var e=void 0;e="boolean"==typeof this.searching?{enabled:this.searching}:this.searching,this.searchCommandInvoker.setSearchingConfig(e,this.structureId)}},n.prototype.ngOnInit=function(){this.subscribeAndEmit(this.searchEventRepository.onSearchPhrase(this.structureId.toReadModelRootId()),this.searchPhraseChanged)},n.propDecorators={searching:[{type:e.Input}],searchPhraseChanged:[{type:e.Output}]},n}(th);var nh=function(t){function n(e,n,r){return t.call(this,e,n,r)||this}return l(n,t),n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[searching]"}]}],n.ctorParameters=function(){return[{type:oe},{type:xi},{type:Dt}]},n}(eh),rh=function(t){function n(e,n){var r=t.call(this)||this;return r.structureHeaderTopEnabledArchive=e,r.structureHeaderBottomEnabledArchive=n,r}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("columnHeaderTop",t)&&this.structureHeaderTopEnabledArchive.next(this.columnHeaderTop),this.isDefined("columnHeaderBottom",t)&&this.structureHeaderBottomEnabledArchive.next(this.columnHeaderBottom)},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[columnHeaderTop][columnHeaderBottom], gui-structure[columnHeaderTop], gui-structure[columnHeaderBottom]"}]}],n.ctorParameters=function(){return[{type:Ri},{type:Di}]},n.propDecorators={columnHeaderTop:[{type:e.Input}],columnHeaderBottom:[{type:e.Input}]},n}(th);var ih=function(t){function n(n,r,i,o){var a=t.call(this)||this;return a.structureId=n,a.compositionId=r,a.pagingCommandInvoker=i,a.pagingEventRepository=o,a.pageChanged=new e.EventEmitter,a.pageSizeChanged=new e.EventEmitter,a}return l(n,t),n.prototype.ngOnChanges=function(t){if(this.isDefined("paging",t)){var e=void 0;e="boolean"==typeof this.paging?{enabled:this.paging}:this.paging,this.pagingCommandInvoker.setPaging(e,this.compositionId)}},n.prototype.ngOnInit=function(){this.subscribeAndEmit(this.pagingEventRepository.onPageChange(this.structureId.toReadModelRootId()),this.pageChanged),this.subscribeAndEmit(this.pagingEventRepository.onPageSizeChange(this.structureId.toReadModelRootId()),this.pageSizeChanged)},n.prototype.onPageChange=function(t){this.pageChanged.emit(t)},n.propDecorators={paging:[{type:e.Input}],pageChanged:[{type:e.Output}],pageSizeChanged:[{type:e.Output}]},n}(th);var oh=function(t){function n(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a.pagingDisplayModeArchive=o,a}return l(n,t),n.prototype.ngOnChanges=function(t){if(this.isDefined("paging",t)){var e=void 0;"boolean"==typeof this.paging?e={enabled:this.paging}:(e=this.paging,void 0!==this.paging.displayMode&&this.pagingDisplayModeArchive.next(this.paging.displayMode)),this.pagingCommandInvoker.setPaging(e,this.structureId)}},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[paging]"}]}],n.ctorParameters=function(){return[{type:oe},{type:on},{type:Gt},{type:ge},{type:_t}]},g([Gs,h("design:type",Function),h("design:paramtypes",[Object]),h("design:returntype",void 0)],n.prototype,"ngOnChanges",null),n}(ih);var ah=function(t){function n(n,r,i,o){var a=t.call(this)||this;return a.structureId=n,a.formationEventService=r,a.formationCommandDispatcher=i,a.rowSelectionTypeArchive=o,a.itemsSelected=new e.EventEmitter,a.selectedRows=new e.EventEmitter,a}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("rowSelection",t)&&(this.rowSelection.isEnabledDefined()&&this.formationCommandDispatcher.setSelection(this.rowSelection.isEnabled(),this.structureId),this.rowSelection.isTypeDefined()&&this.rowSelectionTypeArchive.next(this.rowSelection.getType()),this.rowSelection.isModeDefined()&&this.formationCommandDispatcher.changeMode(this.rowSelection.getMode(),this.structureId))},n.prototype.ngOnInit=function(){var t=this;this.formationEventService.onItemSelected(this.structureId).pipe(this.hermesTakeUntil()).subscribe((function(e){t.itemsSelected.emit(e.map((function(t){return t.getSource()}))),t.selectedRows.emit(e)}))},n.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this)},n.propDecorators={rowSelection:[{type:e.Input}],itemsSelected:[{type:e.Output}],selectedRows:[{type:e.Output}]},n}(th);var uh=function(t){function n(e,n,r,i){return t.call(this,e,n,r,i)||this}return l(n,t),n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[rowSelection], gui-structure[selectionGate]"}]}],n.ctorParameters=function(){return[{type:oe},{type:Ii},{type:wt},{type:Yo}]},n.propDecorators={selectionGate:[{type:e.Input}]},n}(ah);var sh=function(t){function n(e){var n=t.call(this)||this;return n.translationService=e,n}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("localization",t)&&(this.localization.translationResolver&&this.translationService.setResolver(this.localization.translationResolver),this.localization.translation&&this.translationService.changeTranslation(this.localization.translation))},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[localization]"}]}],n.ctorParameters=function(){return[{type:Xe}]},n.propDecorators={localization:[{type:e.Input}]},n}(th);var ch=function(t){function n(e,n){var r=t.call(this)||this;return r.structureTitlePanelConfigArchive=e,r.structureFooterPanelConfigArchive=n,r}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("titlePanel",t)&&this.structureTitlePanelConfigArchive.next(this.titlePanel),this.isDefined("footerPanel",t)&&this.structureFooterPanelConfigArchive.next(this.footerPanel)},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[titlePanel][footerPanel]"}]}],n.ctorParameters=function(){return[{type:Bi},{type:Vi}]},n.propDecorators={titlePanel:[{type:e.Input}],footerPanel:[{type:e.Input}]},n}(th);var lh=function(t){function n(e){var n=t.call(this)||this;return n.structureDetailViewConfigArchive=e,n}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("rowDetail",t)&&this.structureDetailViewConfigArchive.next(this.rowDetail)},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[rowDetail]"}]}],n.ctorParameters=function(){return[{type:Fi}]},n.propDecorators={rowDetail:[{type:e.Input}]},n}(th);var ph=function(t){function n(e){var n=t.call(this)||this;return n.structureColumnMenuConfigArchive=e,n}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("columnMenu",t)&&this.structureColumnMenuConfigArchive.nextConfig(this.columnMenu)},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[columnMenu]"}]}],n.ctorParameters=function(){return[{type:Ti}]},n.propDecorators={columnMenu:[{type:e.Input}]},n}(th);var gh=function(t){function n(e){var n=t.call(this)||this;return n.structureSummariesConfigService=e,n}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("summaries",t)&&this.structureSummariesConfigService.set(this.summaries)},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[summaries]"}]}],n.ctorParameters=function(){return[{type:ci}]},n.propDecorators={summaries:[{type:e.Input}]},n}(th);var hh=function(t){function n(e){var n=t.call(this)||this;return n.structureInfoPanelConfigService=e,n}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("infoPanel",t)&&("boolean"==typeof this.infoPanel&&(this.infoPanel={enabled:this.infoPanel}),this.structureInfoPanelConfigService.set(this.infoPanel))},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[infoPanel]"}]}],n.ctorParameters=function(){return[{type:ji}]},n.propDecorators={infoPanel:[{type:e.Input}]},n}(th);var dh=function(t){function n(e){var n=t.call(this)||this;return n.schemaRowClassArchive=e,n}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("rowClass",t)&&this.schemaRowClassArchive.next(this.rowClass)},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[rowClass]"}]}],n.ctorParameters=function(){return[{type:Ba}]},n.propDecorators={rowClass:[{type:e.Input}]},n}(th);var mh=function(t){function n(n,r,i){var o=t.call(this)||this;return o.schemaId=n,o.schemaCommandInvoker=r,o.schemaEventRepository=i,o.rowColoringChanged=new e.EventEmitter,o}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("rowColoring",t)&&this.schemaCommandInvoker.setRowColoring(this.rowColoring,this.schemaId)},n.prototype.ngOnInit=function(){this.subscribeAndEmit(this.schemaEventRepository.onRowColoring(this.schemaId),this.rowColoringChanged)},n.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this)},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[rowColoring]"}]}],n.ctorParameters=function(){return[{type:pn},{type:Pt},{type:Pi}]},n.propDecorators={rowColoring:[{type:e.Input}],rowColoringChanged:[{type:e.Output}]},n}(th);var fh=function(t){function n(e){var n=t.call(this)||this;return n.schemaRowStyleArchive=e,n}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("rowStyle",t)&&this.schemaRowStyleArchive.next(this.rowStyle)},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[rowStyle]"}]}],n.ctorParameters=function(){return[{type:Va}]},n.propDecorators={rowStyle:[{type:e.Input}]},n}(th);var yh=function(t){function n(n,r,i){var o=t.call(this)||this;return o.schemaId=n,o.schemaCommandInvoker=r,o.schemaEventRepository=i,o.horizontalGridChanged=new e.EventEmitter,o.verticalGridChanged=new e.EventEmitter,o}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("verticalGrid",t)&&this.schemaCommandInvoker.setVerticalGrid(this.verticalGrid,this.schemaId),this.isDefined("horizontalGrid",t)&&this.schemaCommandInvoker.setHorizontalGrid(this.horizontalGrid,this.schemaId)},n.prototype.ngOnInit=function(){this.subscribeAndEmit(this.schemaEventRepository.onHorizontalGridChanged(this.schemaId),this.horizontalGridChanged),this.subscribeAndEmit(this.schemaEventRepository.onVerticalGridChanged(this.schemaId),this.verticalGridChanged)},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[verticalGrid][horizontalGrid]"}]}],n.ctorParameters=function(){return[{type:pn},{type:Pt},{type:Pi}]},n.propDecorators={verticalGrid:[{type:e.Input}],horizontalGrid:[{type:e.Input}],horizontalGridChanged:[{type:e.Output}],verticalGridChanged:[{type:e.Output}]},n}(th);var vh=function(t){function n(e,n){var r=t.call(this)||this;return r.structureId=e,r.sourceCommandInvoker=n,r}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("loading",t)&&this.sourceCommandInvoker.setLoading(this.loading,this.structureId)},n.prototype.ngOnInit=function(){},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[loading]"}]}],n.ctorParameters=function(){return[{type:oe},{type:St}]},n.propDecorators={loading:[{type:e.Input}]},n}(th);var bh=function(t){function n(e,n){var r=t.call(this)||this;return r.structureId=e,r.structureCommandInvoker=n,r}return l(n,t),n.prototype.ngOnChanges=function(t){this.isDefined("virtualScroll",t)&&(this.virtualScroll?this.structureCommandInvoker.enableVirtualScroll(this.structureId):this.structureCommandInvoker.disableVirtualScroll(this.structureId))},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[virtualScroll]"}]}],n.ctorParameters=function(){return[{type:oe},{type:Ft}]},n.propDecorators={virtualScroll:[{type:e.Input}]},n}(th);var Ch=function(t){function n(e,n){var r=t.call(this)||this;return r.structureId=e,r.sortingCommandInvoker=n,r}return l(n,t),n.prototype.ngOnChanges=function(t){if(this.isDefined("sorting",t)){var e=void 0;e="boolean"==typeof this.sorting?{enabled:this.sorting}:this.sorting,this.sortingCommandInvoker.setSortingConfig(e,this.structureId)}},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[sorting]"}]}],n.ctorParameters=function(){return[{type:oe},{type:qt}]},n.propDecorators={sorting:[{type:e.Input}]},n}(th);var Eh=function(t){function n(e,n){var r=t.call(this)||this;return r.structureId=e,r.structureCommandInvoker=n,r}return l(n,t),n.prototype.ngOnChanges=function(t){if(this.isDefined("filtering",t)){var e=void 0;e="boolean"==typeof this.filtering?{enabled:this.filtering}:this.filtering,this.structureCommandInvoker.setFilterConfig(e,this.structureId)}},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[filtering]"}]}],n.ctorParameters=function(){return[{type:oe},{type:Ft}]},n.propDecorators={filtering:[{type:e.Input}]},n}(th);var Ih=function(t){function n(e,n){var r=t.call(this)||this;return r.structureId=e,r.structureCommandInvoker=n,r}return l(n,t),n.prototype.ngOnChanges=function(t){if(this.isDefined("quickFilters",t)){var e=void 0;e="boolean"==typeof this.quickFilters?{enabled:this.quickFilters}:this.quickFilters,this.structureCommandInvoker.setQuickFiltersConfig(e,this.structureId)}},n.decorators=[{type:e.Directive,args:[{selector:"gui-structure[quickFilters]"}]}],n.ctorParameters=function(){return[{type:oe},{type:Ft}]},n.propDecorators={quickFilters:[{type:e.Input}]},n}(th);var wh=[rh,oh,nh,uh,sh,ch,lh,ph,gh,hh,dh,fh,mh,yh,Ch,vh,Eh,Ih,bh],Sh=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[re]}]}],t}(),Th=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[Sh]}]}],t}(),Ah=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[gs]}]}],t}();function xh(){return(new st.DefaultBuilder).build()}var Mh=f([n.CommonModule,i.ReactiveFormsModule,Ze,r.HermesModule,r.HermesModule.defineAggregate(ke,sc,vs,jc,f(He.commandHandlers(),Ki.commandHandlers(),Uo.commandHandlers(),fo.commandHandlers(),Kr.commandHandlers(),Pa.commandHandlers(),gl.commandHandlers(),Rl.commandHandlers(),Ec),f(Ic,fo.domainEventHandlers(),Kr.domainEventHandlers(),Pa.domainEventHandlers(),gl.domainEventHandlers(),Uo.domainEventHandlers(),Rl.domainEventHandlers()))],Xt,[Ah,_e,Qi,Ko,wo,_r,Ha,El,Nl,Mu,Th,ti,Mc,Vc,Sn,Rn,Kc,_g,Tc,Vg]),Dh=f([Ou,Lu,ju,$g,Gu,Wu,Xc,os,as,ps,Gc,zc,hs,ds,fs,ki,Uc,Wc],wh),Rh=[Bu,ki],Ph=f([{provide:ms,useValue:"structure"},{provide:st,useFactory:xh},Ac,un,ei],wc),Fh=f([o.FabricModule,Ou,Lu,os,as,hs],Xt,[_e],wh),Nh=function(){function t(e){this.platformId=e,n.isPlatformBrowser(this.platformId)&&(window[t.HERMES_API].loggers=!1)}return t.withConfig=function(e){return void 0===e&&(e={cssClassName:"",hermesModuleConfig:{loggers:!1}}),{ngModule:t,providers:f([{provide:ms,useValue:e.cssClassName},{provide:r.COMMAND_LOGGER_ENABLED,useValue:e.hermesModuleConfig.loggers},{provide:r.EVENT_LOGGER_ENABLED,useValue:e.hermesModuleConfig.loggers}],Ph)}},t.HERMES_API="hermesApi",t.exportDeclarations=f(Fh),t.decorators=[{type:e.NgModule,args:[{imports:[Mh],declarations:Dh,exports:Fh,entryComponents:Rh}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},t}();var Oh=[Nh.withConfig({cssClassName:"grid",hermesModuleConfig:{loggers:!0}})],kh=[Kt],Hh=[gt,ht],Bh=[Kt],Vh=[],jh=[Kt],Gh=function(){function t(){}return t.entryComponents=f(Vh),t.exportDeclarations=f(Bh),t.elementComponents=f(jh),t.decorators=[{type:e.NgModule,args:[{imports:Oh,declarations:kh,providers:Hh,exports:Bh,entryComponents:Vh}]}],t}();t.GuiBooleanCellView=w,t.GuiCellView=C,t.GuiColumnAlign=D,t.GuiDataType=b,t.GuiDateCellView=S,t.GuiDefaultTranslation=F,t.GuiGridComponent=Kt,t.GuiGridModule=Gh,t.GuiNumberCellView=E,t.GuiPagingDisplay=M,t.GuiRowColoring=A,t.GuiRowSelectionMode=P,t.GuiRowSelectionType=R,t.GuiSortingOrder=x,t.GuiStringCellView=I,t.GuiTheme=T,t.a=xh,t.b=Nh,t.ba=Xu,t.bb=jc,t.bc=He,t.bd=Ae,t.be=De,t.bf=Pe,t.bg=Ne,t.bh=Oe,t.bi=Ki,t.bj=zi,t.bk=Ui,t.bl=qi,t.bm=Uo,t.bn=zo,t.bo=Lo,t.bp=kn,t.bq=To,t.br=fo,t.bs=lo,t.bt=so,t.bu=co,t.bv=Zi,t.bw=oo,t.bx=io,t.by=go,t.bz=po,t.c=Ze,t.ca=mo,t.cb=ho,t.cc=Kr,t.cd=dr,t.ce=yr,t.cf=cr,t.cg=lr,t.ch=pr,t.ci=gr,t.cj=qr,t.ck=Wr,t.cl=Ur,t.cm=Lr,t.cn=Pr,t.co=Vn,t.cp=Fr,t.cq=Bn,t.cr=Or,t.cs=Gn,t.ct=jn,t.cu=Sr,t.cv=Ir,t.cw=Hr,t.cx=zn,t.cy=jr,t.cz=Un,t.d=Ke,t.da=Ln,t.db=Vr,t.dc=ic,t.dd=zr,t.de=Pa,t.df=oa,t.dg=vt,t.dh=ta,t.di=na,t.dj=ia,t.dk=ma,t.dl=ba,t.dm=Ca,t.dn=Ea,t.do=Aa,t.dp=fa,t.dq=Ma,t.dr=xa,t.ds=va,t.dt=Tt,t.du=wa,t.dv=At,t.dw=Ra,t.dx=Da,t.dy=gl,t.dz=ll,t.e=Qe,t.ea=pl,t.eb=el,t.ec=rl,t.ed=ol,t.ee=ul,t.ef=cl,t.eg=Jc,t.eh=Zc,t.ei=cc,t.ej=Rl,t.ek=Il,t.el=wl,t.em=Sl,t.en=Tl,t.eo=Al,t.ep=Dl,t.eq=Ml,t.er=xl,t.es=Ec,t.et=Ic,t.eu=wc,t.ev=lc,t.ew=Xt,t.ex=Ah,t.ey=gs,t.ez=_e,t.f=Xe,t.fa=Ue,t.fb=Gt,t.fc=ze,t.fd=Zt,t.fe=Ge,t.ff=je,t.fg=Ve,t.fh=ge,t.fi=Le,t.fj=Be,t.fk=ae,t.fl=Jt,t.fm=Yt,t.fn=re,t.fo=oe,t.fp=xt,t.fq=_t,t.fr=We,t.fs=se,t.ft=ce,t.fu=qe,t.fv=le,t.fw=pe,t.fx=Qi,t.fy=Xi,t.fz=qt,t.g=Je,t.ga=Ko,t.gb=qo,t.gc=Wo,t.gd=Hn,t.ge=wo,t.gf=Co,t.gg=Dt,t.gh=bo,t.gi=Yr,t.gj=yo,t.gk=xi,t.gl=vo,t.gm=Eo,t.gn=En,t.go=en,t.gp=Io,t.gq=wi,t.gr=_r,t.gs=Xr,t.gt=$n,t.gu=Wn,t.gv=Zr,t.gw=Qr,t.gx=Jr,t.gy=On,t.gz=tr,t.h=ke,t.ha=on,t.hb=yn,t.hc=nr,t.hd=er,t.hf=rr,t.hg=ir,t.hh=or,t.hi=ar,t.hj=Ha,t.hk=ka,t.hl=Zo,t.hm=St,t.hn=Oa,t.ho=Fa,t.hp=bi,t.hq=Ii,t.hr=wt,t.hs=Mt,t.ht=Yo,t.hu=El,t.hv=vl,t.hw=zt,t.hx=fl,t.hy=hl,t.hz=yl,t.i=sc,t.ia=dl,t.ib=ml,t.ic=Cl,t.id=ui,t.ie=ci,t.if=si,t.ig=Nl,t.ih=Fl,t.ii=Yu,t.ij=is,t.ik=$u,t.il=_u,t.im=zu,t.in=Pl,t.io=Mu,t.ip=xu,t.iq=yu,t.ir=_a,t.is=nu,t.it=$a,t.iu=eu,t.iv=tu,t.iw=iu,t.ix=Iu,t.iy=uu,t.iz=cu,t.j=Ee,t.ja=pu,t.jb=hu,t.jc=bu,t.jd=Eu,t.je=Cu,t.jf=vu,t.jg=fu,t.jh=du,t.ji=wu,t.jj=Pt,t.jk=Su,t.jl=Ft,t.jm=sn,t.jn=Tu,t.jo=Pi,t.jp=Au,t.jq=Ba,t.jr=Va,t.js=Th,t.jt=Sh,t.ju=ti,t.jv=tn,t.jw=$e,t.jx=Sn,t.jy=bn,t.jz=vn,t.k=he,t.ka=an,t.kb=Cn,t.kc=In,t.kd=cn,t.ke=un,t.kf=Rn,t.kg=Mn,t.kh=pn,t.ki=dn,t.kj=Dn,t.kk=mn,t.kl=$r,t.km=Nn,t.kn=Fn,t.ko=Pn,t.kp=fn,t.kq=hn,t.kr=nn,t.ks=Tn,t.kt=An,t.ku=Mc,t.kv=xc,t.kw=Vc,t.kx=Hc,t.ky=kc,t.kz=Bu,t.l=da,t.la=Ti,t.lb=Hu,t.lc=yg,t.ld=us,t.le=ss,t.lf=Bo,t.lg=bg,t.lh=ku,t.li=z,t.lj=Dc,t.lk=Vu,t.ll=Rc,t.lm=Pc,t.ln=Fc,t.lo=Nc,t.lp=Oc,t.lq=Kc,t.lr=qc,t.ls=_g,t.lt=Hg,t.lu=Ol,t.lv=Ap,t.lw=Sp,t.lx=wp,t.ly=Tp,t.lz=Rp,t.m=ha,t.ma=xp,t.mb=Dp,t.mc=Mp,t.md=Np,t.me=Rg,t.mf=Ag,t.mg=xg,t.mh=Mg,t.mi=ug,t.mj=Up,t.mk=Qo,t.ml=qp,t.mm=Xp,t.mn=Yp,t.mo=Zp,t.mp=$p,t.mq=eg,t.mr=rg,t.ms=og,t.mt=Dg,t.mu=cg,t.mv=wg,t.mw=Ig,t.mx=Cg,t.my=hg,t.mz=gg,t.n=Os,t.na=pg,t.nb=fg,t.nc=mg,t.nd=Sg,t.ne=Tg,t.nf=Fg,t.ng=Pg,t.nh=gp,t.ni=hp,t.nj=Ng,t.nk=kg,t.nl=Ci,t.nm=Og,t.nn=Vg,t.no=Bg,t.np=lg,t.nq=dg,t.nr=zg,t.ns=Gg,t.nt=jg,t.nu=Gs,t.nv=Lg,t.nw=Ug,t.nx=Wg,t.ny=qg,t.nz=Kg,t.o=Hs,t.oa=Xg,t.ob=Qg,t.oc=Yg,t.od=Tc,t.oe=Sc,t.of=Ru,t.og=Pu,t.oh=Fu,t.oi=Nu,t.oj=Ou,t.ok=fi,t.ol=oi,t.om=ri,t.on=ji,t.oo=ii,t.op=Ai,t.oq=Ri,t.or=Di,t.os=Fi,t.ot=Bi,t.ou=Vi,t.ov=Du,t.ow=ei,t.ox=ni,t.oy=Mi,t.oz=Hi,t.p="GUI - Summaries Calculators",t.pa=li,t.pb=st,t.pc=ot,t.pd=Lu,t.pe=ju,t.pf=Gu,t.pg=$g,t.ph=Wu,t.pi=Xc,t.pj=os,t.pk=as,t.pl=ps,t.pm=Gc,t.pn=zc,t.po=hs,t.pp=pt,t.pq=ds,t.pr=fs,t.ps=ms,t.pt=ki,t.pu=Ni,t.pv=Oi,t.pw=dt,t.px=ca,t.py=Uc,t.pz=Lc,t.q=_c,t.qa=Wc,t.qb=wh,t.qc=rh,t.qd=th,t.qe=oh,t.qf=ih,t.qg=nh,t.qh=eh,t.qi=uh,t.qj=ah,t.qk=sh,t.ql=ch,t.qm=lh,t.qn=ph,t.qo=gh,t.qp=hh,t.qq=dh,t.qr=fh,t.qs=mh,t.qt=yh,t.qu=Ch,t.qv=vh,t.qw=Eh,t.qx=Ih,t.qy=bh,t.qz=Ac,t.r=Rr,t.ra=As,t.rb=xs,t.rc=Ms,t.rd=Ts,t.re=vc,t.rf=nt,t.rg=lt,t.rh=ct,t.ri=ht,t.rj=gt,t.s=uo,t.t=Go,t.u=jo,t.v=Vo,t.w=Ho,t.x=vs,t.y=xe,t.z=ys,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=generic-ui-ngx-grid.umd.min.js.map