(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common'), require('@angular/forms'), require('@generic-ui/fabric'), require('@generic-ui/hermes'), require('rxjs'), require('rxjs/operators'), require('@angular/platform-browser')) :
    typeof define === 'function' && define.amd ? define('@generic-ui/ngx-grid', ['exports', '@angular/core', '@angular/common', '@angular/forms', '@generic-ui/fabric', '@generic-ui/hermes', 'rxjs', 'rxjs/operators', '@angular/platform-browser'], factory) :
    (global = global || self, factory((global['generic-ui'] = global['generic-ui'] || {}, global['generic-ui']['ngx-grid'] = {}), global.ng.core, global.ng.common, global.ng.forms, global['@generic-ui/fabric'], global['@generic-ui/hermes'], global.rxjs, global.rxjs.operators, global.ng.platformBrowser));
}(this, (function (exports, core, common, forms, fabric, hermes, rxjs, operators, platformBrowser) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    /* global Reflect, Promise */

    var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };

    function __extends(d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }

    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };

    function __rest(s, e) {
        var t = {};
        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
            t[p] = s[p];
        if (s != null && typeof Object.getOwnPropertySymbols === "function")
            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)
                t[p[i]] = s[p[i]];
        return t;
    }

    function __decorate(decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }

    function __param(paramIndex, decorator) {
        return function (target, key) { decorator(target, key, paramIndex); }
    }

    function __metadata(metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
    }

    function __awaiter(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
            function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }

    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f) throw new TypeError("Generator is already executing.");
            while (_) try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
                if (y = 0, t) op = [op[0] & 2, t.value];
                switch (op[0]) {
                    case 0: case 1: t = op; break;
                    case 4: _.label++; return { value: op[1], done: false };
                    case 5: _.label++; y = op[1]; op = [0]; continue;
                    case 7: op = _.ops.pop(); _.trys.pop(); continue;
                    default:
                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                        if (t[2]) _.ops.pop();
                        _.trys.pop(); continue;
                }
                op = body.call(thisArg, _);
            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
        }
    }

    function __exportStar(m, exports) {
        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
    }

    function __values(o) {
        var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
        if (m) return m.call(o);
        return {
            next: function () {
                if (o && i >= o.length) o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
    }

    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m) return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
        }
        catch (error) { e = { error: error }; }
        finally {
            try {
                if (r && !r.done && (m = i["return"])) m.call(i);
            }
            finally { if (e) throw e.error; }
        }
        return ar;
    }

    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }

    function __await(v) {
        return this instanceof __await ? (this.v = v, this) : new __await(v);
    }

    function __asyncGenerator(thisArg, _arguments, generator) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var g = generator.apply(thisArg, _arguments || []), i, q = [];
        return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
        function fulfill(value) { resume("next", value); }
        function reject(value) { resume("throw", value); }
        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
    }

    function __asyncDelegator(o) {
        var i, p;
        return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
    }

    function __asyncValues(o) {
        if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
        var m = o[Symbol.asyncIterator], i;
        return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
    }

    function __makeTemplateObject(cooked, raw) {
        if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
        return cooked;
    };

    function __importStar(mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
        result.default = mod;
        return result;
    }

    function __importDefault(mod) {
        return (mod && mod.__esModule) ? mod : { default: mod };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @record
     */
    function GuiColumn() { }
    if (false) {
        /** @type {?|undefined} */
        GuiColumn.prototype.field;
        /** @type {?|undefined} */
        GuiColumn.prototype.type;
        /** @type {?|undefined} */
        GuiColumn.prototype.view;
        /** @type {?|undefined} */
        GuiColumn.prototype.header;
        /** @type {?|undefined} */
        GuiColumn.prototype.customTemplate;
        /** @type {?|undefined} */
        GuiColumn.prototype.width;
        /** @type {?|undefined} */
        GuiColumn.prototype.aggregation;
    }
    /** @enum {number} */
    var GuiDataType = {
        UNKNOWN: 0,
        NUMBER: 1,
        STRING: 2,
        BOOLEAN: 3,
        DATE: 4,
        CUSTOM: 5,
    };
    GuiDataType[GuiDataType.UNKNOWN] = 'UNKNOWN';
    GuiDataType[GuiDataType.NUMBER] = 'NUMBER';
    GuiDataType[GuiDataType.STRING] = 'STRING';
    GuiDataType[GuiDataType.BOOLEAN] = 'BOOLEAN';
    GuiDataType[GuiDataType.DATE] = 'DATE';
    GuiDataType[GuiDataType.CUSTOM] = 'CUSTOM';
    /** @enum {number} */
    var GuiCellView = {
        TEXT: 0,
        CHIP: 1,
        LINK: 2,
        IMAGE: 3,
        BOLD: 4,
        ITALIC: 5,
        CHECKBOX: 6,
        CUSTOM: 7,
    };
    GuiCellView[GuiCellView.TEXT] = 'TEXT';
    GuiCellView[GuiCellView.CHIP] = 'CHIP';
    GuiCellView[GuiCellView.LINK] = 'LINK';
    GuiCellView[GuiCellView.IMAGE] = 'IMAGE';
    GuiCellView[GuiCellView.BOLD] = 'BOLD';
    GuiCellView[GuiCellView.ITALIC] = 'ITALIC';
    GuiCellView[GuiCellView.CHECKBOX] = 'CHECKBOX';
    GuiCellView[GuiCellView.CUSTOM] = 'CUSTOM';
    /** @enum {number} */
    var GuiNumberCellView = {
        TEXT: 0,
        BOLD: 1,
        ITALIC: 2,
        CHIP: 3,
    };
    GuiNumberCellView[GuiNumberCellView.TEXT] = 'TEXT';
    GuiNumberCellView[GuiNumberCellView.BOLD] = 'BOLD';
    GuiNumberCellView[GuiNumberCellView.ITALIC] = 'ITALIC';
    GuiNumberCellView[GuiNumberCellView.CHIP] = 'CHIP';
    /** @enum {number} */
    var GuiStringCellView = {
        TEXT: 0,
        BOLD: 1,
        ITALIC: 2,
        CHIP: 3,
    };
    GuiStringCellView[GuiStringCellView.TEXT] = 'TEXT';
    GuiStringCellView[GuiStringCellView.BOLD] = 'BOLD';
    GuiStringCellView[GuiStringCellView.ITALIC] = 'ITALIC';
    GuiStringCellView[GuiStringCellView.CHIP] = 'CHIP';
    /** @enum {number} */
    var GuiBooleanCellView = {
        TEXT: 0,
        BOLD: 1,
        ITALIC: 2,
        CHIP: 3,
        CHECKBOX: 4,
    };
    GuiBooleanCellView[GuiBooleanCellView.TEXT] = 'TEXT';
    GuiBooleanCellView[GuiBooleanCellView.BOLD] = 'BOLD';
    GuiBooleanCellView[GuiBooleanCellView.ITALIC] = 'ITALIC';
    GuiBooleanCellView[GuiBooleanCellView.CHIP] = 'CHIP';
    GuiBooleanCellView[GuiBooleanCellView.CHECKBOX] = 'CHECKBOX';
    /** @enum {number} */
    var GuiDateCellView = {
        TEXT: 0,
        BOLD: 1,
        ITALIC: 2,
        CHIP: 3,
    };
    GuiDateCellView[GuiDateCellView.TEXT] = 'TEXT';
    GuiDateCellView[GuiDateCellView.BOLD] = 'BOLD';
    GuiDateCellView[GuiDateCellView.ITALIC] = 'ITALIC';
    GuiDateCellView[GuiDateCellView.CHIP] = 'CHIP';
    /**
     * @record
     */
    function GuiPagingConfig() { }
    if (false) {
        /** @type {?|undefined} */
        GuiPagingConfig.prototype.enabled;
        /** @type {?|undefined} */
        GuiPagingConfig.prototype.page;
        /** @type {?|undefined} */
        GuiPagingConfig.prototype.pageSize;
        /** @type {?|undefined} */
        GuiPagingConfig.prototype.pageSizes;
        /** @type {?|undefined} */
        GuiPagingConfig.prototype.pagerTop;
        /** @type {?|undefined} */
        GuiPagingConfig.prototype.pagerBottom;
        /** @type {?|undefined} */
        GuiPagingConfig.prototype.display;
    }
    /** @enum {number} */
    var GuiTheme = {
        FABRIC: 0,
        MATERIAL: 1,
        LIGHT: 2,
        DARK: 3,
    };
    GuiTheme[GuiTheme.FABRIC] = 'FABRIC';
    GuiTheme[GuiTheme.MATERIAL] = 'MATERIAL';
    GuiTheme[GuiTheme.LIGHT] = 'LIGHT';
    GuiTheme[GuiTheme.DARK] = 'DARK';
    /** @enum {number} */
    var GuiRowColoring = {
        NONE: 0,
        EVEN: 1,
        ODD: 2,
    };
    GuiRowColoring[GuiRowColoring.NONE] = 'NONE';
    GuiRowColoring[GuiRowColoring.EVEN] = 'EVEN';
    GuiRowColoring[GuiRowColoring.ODD] = 'ODD';
    /**
     * @record
     */
    function GuiSorting() { }
    if (false) {
        /** @type {?|undefined} */
        GuiSorting.prototype.enabled;
        /**
         * \@experimental
         * @type {?|undefined}
         */
        GuiSorting.prototype.multiSorting;
    }
    /**
     * @record
     */
    function GuiFiltering() { }
    if (false) {
        /** @type {?|undefined} */
        GuiFiltering.prototype.enabled;
    }
    /**
     * @record
     */
    function GuiQuickFilters() { }
    if (false) {
        /** @type {?|undefined} */
        GuiQuickFilters.prototype.enabled;
    }
    /**
     * @record
     */
    function GuiSearching() { }
    if (false) {
        /** @type {?|undefined} */
        GuiSearching.prototype.enabled;
    }
    /**
     * @record
     */
    function GuiAggregation() { }
    if (false) {
        /** @type {?|undefined} */
        GuiAggregation.prototype.enabled;
        /** @type {?|undefined} */
        GuiAggregation.prototype.top;
        /** @type {?|undefined} */
        GuiAggregation.prototype.bottom;
    }
    /**
     * @record
     */
    function GuiColumnAggregation() { }
    if (false) {
        /** @type {?|undefined} */
        GuiColumnAggregation.prototype.enabled;
        /** @type {?|undefined} */
        GuiColumnAggregation.prototype.aggregationTypes;
    }
    /**
     * @record
     */
    function GuiColumnMenu() { }
    if (false) {
        /** @type {?|undefined} */
        GuiColumnMenu.prototype.enabled;
        /** @type {?|undefined} */
        GuiColumnMenu.prototype.sort;
        /** @type {?|undefined} */
        GuiColumnMenu.prototype.filter;
        /** @type {?|undefined} */
        GuiColumnMenu.prototype.columnsManager;
    }
    /** @enum {number} */
    var GuiPagingDisplay = {
        BASIC: 0,
        ADVANCED: 1,
    };
    GuiPagingDisplay[GuiPagingDisplay.BASIC] = 'BASIC';
    GuiPagingDisplay[GuiPagingDisplay.ADVANCED] = 'ADVANCED';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var DataType = {
        UNKNOWN: 0,
        NUMBER: 1,
        STRING: 2,
        BOOLEAN: 3,
        DATE: 4,
        CUSTOM: 5,
    };
    DataType[DataType.UNKNOWN] = 'UNKNOWN';
    DataType[DataType.NUMBER] = 'NUMBER';
    DataType[DataType.STRING] = 'STRING';
    DataType[DataType.BOOLEAN] = 'BOOLEAN';
    DataType[DataType.DATE] = 'DATE';
    DataType[DataType.CUSTOM] = 'CUSTOM';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GridColumnTypeConverter = /** @class */ (function () {
        function GridColumnTypeConverter() {
        }
        /**
         * @param {?} type
         * @return {?}
         */
        GridColumnTypeConverter.prototype.convertType = /**
         * @param {?} type
         * @return {?}
         */
        function (type) {
            if (typeof type === 'string') {
                return this.convertTypeString(type);
            }
            else {
                return this.convertTypeEnum(type);
            }
        };
        /**
         * @private
         * @param {?} enumType
         * @return {?}
         */
        GridColumnTypeConverter.prototype.convertTypeEnum = /**
         * @private
         * @param {?} enumType
         * @return {?}
         */
        function (enumType) {
            switch (enumType) {
                case GuiDataType.STRING:
                    return DataType.STRING;
                case GuiDataType.NUMBER:
                    return DataType.NUMBER;
                case GuiDataType.BOOLEAN:
                    return DataType.BOOLEAN;
                case GuiDataType.DATE:
                    return DataType.DATE;
                case GuiDataType.UNKNOWN:
                    return DataType.UNKNOWN;
                case GuiDataType.CUSTOM:
                    return DataType.CUSTOM;
                default:
                    return DataType.STRING;
            }
        };
        /**
         * @private
         * @param {?} type
         * @return {?}
         */
        GridColumnTypeConverter.prototype.convertTypeString = /**
         * @private
         * @param {?} type
         * @return {?}
         */
        function (type) {
            /** @type {?} */
            var loweredType = type.toLocaleLowerCase();
            switch (loweredType) {
                case 'string':
                    return DataType.STRING;
                case 'number':
                    return DataType.NUMBER;
                case 'boolean':
                    return DataType.BOOLEAN;
                case 'date':
                    return DataType.DATE;
                case 'unknown':
                    return DataType.UNKNOWN;
                case 'custom':
                    return DataType.CUSTOM;
                default:
                    return DataType.STRING;
            }
        };
        return GridColumnTypeConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var AggregationType = {
        COUNT: 1024,
        DISTINCT: 1,
        SUM: 2,
        AVERAGE: 4,
        MIN: 8,
        MAX: 16,
        MEDIAN: 32,
        TRUTHY: 64,
        FALSY: 128,
        EARLIEST: 256,
        LATEST: 512,
    };
    AggregationType[AggregationType.COUNT] = 'COUNT';
    AggregationType[AggregationType.DISTINCT] = 'DISTINCT';
    AggregationType[AggregationType.SUM] = 'SUM';
    AggregationType[AggregationType.AVERAGE] = 'AVERAGE';
    AggregationType[AggregationType.MIN] = 'MIN';
    AggregationType[AggregationType.MAX] = 'MAX';
    AggregationType[AggregationType.MEDIAN] = 'MEDIAN';
    AggregationType[AggregationType.TRUTHY] = 'TRUTHY';
    AggregationType[AggregationType.FALSY] = 'FALSY';
    AggregationType[AggregationType.EARLIEST] = 'EARLIEST';
    AggregationType[AggregationType.LATEST] = 'LATEST';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GridColumnAggregationConverter = /** @class */ (function () {
        function GridColumnAggregationConverter() {
        }
        /**
         * @param {?} aggregationConfig
         * @return {?}
         */
        GridColumnAggregationConverter.prototype.convert = /**
         * @param {?} aggregationConfig
         * @return {?}
         */
        function (aggregationConfig) {
            /** @type {?} */
            var columnAggregationConfig = {};
            if (aggregationConfig.enabled !== undefined && aggregationConfig.enabled !== null) {
                columnAggregationConfig.enabled = aggregationConfig.enabled;
            }
            if (aggregationConfig.aggregationTypes !== undefined && aggregationConfig.aggregationTypes !== null) {
                columnAggregationConfig.aggregationTypes = this.convertAggregationTypes(aggregationConfig.aggregationTypes);
            }
            return columnAggregationConfig;
        };
        /**
         * @private
         * @param {?} configAggregationTypes
         * @return {?}
         */
        GridColumnAggregationConverter.prototype.convertAggregationTypes = /**
         * @private
         * @param {?} configAggregationTypes
         * @return {?}
         */
        function (configAggregationTypes) {
            var _this = this;
            /** @type {?} */
            var aggregationTypes = [];
            configAggregationTypes.forEach((/**
             * @param {?} type
             * @return {?}
             */
            function (type) {
                /** @type {?} */
                var aggregationType = _this.convertAggregationType(type);
                if (aggregationType !== undefined && aggregationType !== null) {
                    aggregationTypes.push(aggregationType);
                }
            }));
            return aggregationTypes;
        };
        /**
         * @private
         * @param {?} type
         * @return {?}
         */
        GridColumnAggregationConverter.prototype.convertAggregationType = /**
         * @private
         * @param {?} type
         * @return {?}
         */
        function (type) {
            /** @type {?} */
            var loweredAggregationType = type.toLocaleLowerCase();
            switch (loweredAggregationType) {
                case 'count':
                    return AggregationType.COUNT;
                case 'distinct':
                    return AggregationType.DISTINCT;
                case 'sum':
                    return AggregationType.SUM;
                case 'average':
                    return AggregationType.AVERAGE;
                case 'min':
                    return AggregationType.MIN;
                case 'max':
                    return AggregationType.MAX;
                case 'median':
                    return AggregationType.MEDIAN;
                case 'truthy':
                    return AggregationType.TRUTHY;
                case 'falsy':
                    return AggregationType.FALSY;
                case 'earliest':
                    return AggregationType.EARLIEST;
                case 'latest':
                    return AggregationType.LATEST;
                default:
                    return null;
            }
        };
        return GridColumnAggregationConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var CellView = {
        TEXT: 0,
        CHIP: 1,
        LINK: 2,
        IMAGE: 3,
        BOLD: 4,
        ITALIC: 5,
        CHECKBOX: 6,
        CUSTOM: 7,
        FUNCTION: 8,
    };
    CellView[CellView.TEXT] = 'TEXT';
    CellView[CellView.CHIP] = 'CHIP';
    CellView[CellView.LINK] = 'LINK';
    CellView[CellView.IMAGE] = 'IMAGE';
    CellView[CellView.BOLD] = 'BOLD';
    CellView[CellView.ITALIC] = 'ITALIC';
    CellView[CellView.CHECKBOX] = 'CHECKBOX';
    CellView[CellView.CUSTOM] = 'CUSTOM';
    CellView[CellView.FUNCTION] = 'FUNCTION';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GridColumnViewConverter = /** @class */ (function () {
        function GridColumnViewConverter() {
        }
        /**
         * @param {?} view
         * @return {?}
         */
        GridColumnViewConverter.prototype.convert = /**
         * @param {?} view
         * @return {?}
         */
        function (view) {
            if (typeof view === 'string') {
                return this.convertString(view);
            }
            else if (typeof view === 'function') {
                return view;
            }
            else {
                return this.convertEnum(view);
            }
        };
        /**
         * @private
         * @param {?} view
         * @return {?}
         */
        GridColumnViewConverter.prototype.convertString = /**
         * @private
         * @param {?} view
         * @return {?}
         */
        function (view) {
            /** @type {?} */
            var loweredView = view.toLocaleLowerCase();
            switch (loweredView) {
                case 'text':
                    return CellView.TEXT;
                case 'chip':
                    return CellView.CHIP;
                case 'link':
                    return CellView.LINK;
                case 'image':
                    return CellView.IMAGE;
                case 'bold':
                    return CellView.BOLD;
                case 'italic':
                    return CellView.ITALIC;
                case 'checkbox':
                    return CellView.CHECKBOX;
                case 'custom':
                    return CellView.CUSTOM;
                default:
                    return CellView.TEXT;
            }
        };
        /**
         * @private
         * @param {?} view
         * @return {?}
         */
        GridColumnViewConverter.prototype.convertEnum = /**
         * @private
         * @param {?} view
         * @return {?}
         */
        function (view) {
            switch (view) {
                case GuiCellView.TEXT:
                    return CellView.TEXT;
                case GuiCellView.CHIP:
                    return CellView.CHIP;
                case GuiCellView.LINK:
                    return CellView.LINK;
                case GuiCellView.IMAGE:
                    return CellView.IMAGE;
                case GuiCellView.BOLD:
                    return CellView.BOLD;
                case GuiCellView.ITALIC:
                    return CellView.ITALIC;
                case GuiCellView.CHECKBOX:
                    return CellView.CHECKBOX;
                case GuiCellView.CUSTOM:
                    return CellView.CUSTOM;
                default:
                    return CellView.TEXT;
            }
        };
        return GridColumnViewConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GridColumnConverter = /** @class */ (function () {
        function GridColumnConverter() {
            this.columnTypeConverter = new GridColumnTypeConverter();
            this.columnAggregationConverter = new GridColumnAggregationConverter();
            this.columnViewConverter = new GridColumnViewConverter();
        }
        /**
         * @param {?} config
         * @return {?}
         */
        GridColumnConverter.prototype.convert = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            var _this = this;
            return config.map((/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return _this.convertColumn(c); }));
        };
        /**
         * @private
         * @param {?} guiColumn
         * @return {?}
         */
        GridColumnConverter.prototype.convertColumn = /**
         * @private
         * @param {?} guiColumn
         * @return {?}
         */
        function (guiColumn) {
            /** @type {?} */
            var columnConfig = {};
            if (guiColumn.type !== undefined && guiColumn.type !== null) {
                columnConfig.type = this.columnTypeConverter.convertType(guiColumn.type);
            }
            if (guiColumn.header !== undefined && guiColumn.header !== null) {
                columnConfig.header = guiColumn.header;
            }
            if (guiColumn.field !== undefined && guiColumn.field !== null) {
                columnConfig.field = guiColumn.field;
            }
            if (guiColumn.width !== undefined && guiColumn.width !== null) {
                columnConfig.width = guiColumn.width;
            }
            if (guiColumn.view !== undefined && guiColumn.view !== null) {
                columnConfig.view = this.columnViewConverter.convert(guiColumn.view);
            }
            if (guiColumn.aggregation !== undefined && guiColumn.aggregation !== null) {
                columnConfig.aggregation = this.columnAggregationConverter.convert(guiColumn.aggregation);
            }
            return columnConfig;
        };
        return GridColumnConverter;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        GridColumnConverter.prototype.columnTypeConverter;
        /**
         * @type {?}
         * @private
         */
        GridColumnConverter.prototype.columnAggregationConverter;
        /**
         * @type {?}
         * @private
         */
        GridColumnConverter.prototype.columnViewConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var SchemaTheme = {
        FABRIC: 0,
        MATERIAL: 1,
        LIGHT: 2,
        DARK: 3,
    };
    SchemaTheme[SchemaTheme.FABRIC] = 'FABRIC';
    SchemaTheme[SchemaTheme.MATERIAL] = 'MATERIAL';
    SchemaTheme[SchemaTheme.LIGHT] = 'LIGHT';
    SchemaTheme[SchemaTheme.DARK] = 'DARK';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GridThemeConverter = /** @class */ (function () {
        function GridThemeConverter() {
        }
        /**
         * @param {?} theme
         * @return {?}
         */
        GridThemeConverter.prototype.convert = /**
         * @param {?} theme
         * @return {?}
         */
        function (theme) {
            if (typeof theme === 'string') {
                return this.convertString(theme);
            }
            else {
                return this.convertEnum(theme);
            }
        };
        /**
         * @private
         * @param {?} theme
         * @return {?}
         */
        GridThemeConverter.prototype.convertString = /**
         * @private
         * @param {?} theme
         * @return {?}
         */
        function (theme) {
            /** @type {?} */
            var loweredTheme = theme.toLocaleLowerCase();
            switch (loweredTheme) {
                case 'material':
                    return SchemaTheme.MATERIAL;
                case 'fabric':
                    return SchemaTheme.FABRIC;
                case 'light':
                    return SchemaTheme.LIGHT;
                case 'dark':
                    return SchemaTheme.DARK;
                default:
                    return SchemaTheme.FABRIC;
            }
        };
        /**
         * @private
         * @param {?} theme
         * @return {?}
         */
        GridThemeConverter.prototype.convertEnum = /**
         * @private
         * @param {?} theme
         * @return {?}
         */
        function (theme) {
            switch (theme) {
                case GuiTheme.MATERIAL:
                    return SchemaTheme.MATERIAL;
                case GuiTheme.FABRIC:
                    return SchemaTheme.FABRIC;
                case GuiTheme.LIGHT:
                    return SchemaTheme.LIGHT;
                case GuiTheme.DARK:
                    return SchemaTheme.DARK;
                default:
                    return SchemaTheme.FABRIC;
            }
        };
        return GridThemeConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var RowColoring = {
        NONE: 0,
        EVEN: 1,
        ODD: 2,
    };
    RowColoring[RowColoring.NONE] = 'NONE';
    RowColoring[RowColoring.EVEN] = 'EVEN';
    RowColoring[RowColoring.ODD] = 'ODD';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GridRowColoringConverter = /** @class */ (function () {
        function GridRowColoringConverter() {
        }
        /**
         * @param {?} rowColoring
         * @return {?}
         */
        GridRowColoringConverter.prototype.convert = /**
         * @param {?} rowColoring
         * @return {?}
         */
        function (rowColoring) {
            if (typeof rowColoring === 'string') {
                return this.convertString(rowColoring);
            }
            else {
                return this.convertEnum(rowColoring);
            }
        };
        /**
         * @private
         * @param {?} rowColoring
         * @return {?}
         */
        GridRowColoringConverter.prototype.convertString = /**
         * @private
         * @param {?} rowColoring
         * @return {?}
         */
        function (rowColoring) {
            /** @type {?} */
            var loweredRowColoring = rowColoring.toLocaleLowerCase();
            switch (loweredRowColoring) {
                case 'none':
                    return RowColoring.NONE;
                case 'even':
                    return RowColoring.EVEN;
                case 'odd':
                    return RowColoring.ODD;
                default:
                    return RowColoring.EVEN;
            }
        };
        /**
         * @private
         * @param {?} rowColoring
         * @return {?}
         */
        GridRowColoringConverter.prototype.convertEnum = /**
         * @private
         * @param {?} rowColoring
         * @return {?}
         */
        function (rowColoring) {
            switch (rowColoring) {
                case GuiRowColoring.NONE:
                    return RowColoring.NONE;
                case GuiRowColoring.EVEN:
                    return RowColoring.EVEN;
                case GuiRowColoring.ODD:
                    return RowColoring.ODD;
                default:
                    return RowColoring.EVEN;
            }
        };
        return GridRowColoringConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GridColumnMenuConverter = /** @class */ (function () {
        function GridColumnMenuConverter() {
        }
        /**
         * @param {?} config
         * @return {?}
         */
        GridColumnMenuConverter.prototype.convert = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            return (/** @type {?} */ (config));
        };
        GridColumnMenuConverter.decorators = [
            { type: core.Injectable }
        ];
        return GridColumnMenuConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var PagingDisplayMode = {
        BASIC: 0,
        ADVANCED: 1,
    };
    PagingDisplayMode[PagingDisplayMode.BASIC] = 'BASIC';
    PagingDisplayMode[PagingDisplayMode.ADVANCED] = 'ADVANCED';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GridPagingConverter = /** @class */ (function () {
        function GridPagingConverter() {
        }
        /**
         * @param {?} guiPaging
         * @return {?}
         */
        GridPagingConverter.prototype.convert = /**
         * @param {?} guiPaging
         * @return {?}
         */
        function (guiPaging) {
            /** @type {?} */
            var pagingConfig = {};
            if (guiPaging.enabled !== undefined && guiPaging.enabled !== null) {
                pagingConfig.enabled = guiPaging.enabled;
            }
            if (guiPaging.page !== undefined && guiPaging.page !== null) {
                pagingConfig.page = guiPaging.page;
            }
            if (guiPaging.pageSize !== undefined && guiPaging.pageSize !== null) {
                pagingConfig.pageSize = guiPaging.pageSize;
            }
            if (guiPaging.pageSizes !== undefined && guiPaging.pageSizes !== null) {
                pagingConfig.pageSizes = guiPaging.pageSizes;
            }
            if (guiPaging.pagerTop !== undefined && guiPaging.pagerTop !== null) {
                pagingConfig.pagerTop = guiPaging.pagerTop;
            }
            if (guiPaging.pagerBottom !== undefined && guiPaging.pagerBottom !== null) {
                pagingConfig.pagerBottom = guiPaging.pagerBottom;
            }
            if (guiPaging.display !== undefined && guiPaging.display !== null) {
                pagingConfig.displayMode = this.convertDisplay(guiPaging.display);
            }
            return pagingConfig;
        };
        /**
         * @private
         * @param {?} pagingDisplay
         * @return {?}
         */
        GridPagingConverter.prototype.convertDisplay = /**
         * @private
         * @param {?} pagingDisplay
         * @return {?}
         */
        function (pagingDisplay) {
            if (typeof pagingDisplay === 'string') {
                return this.convertString(pagingDisplay);
            }
            else {
                return this.convertEnum(pagingDisplay);
            }
        };
        /**
         * @private
         * @param {?} pagingDisplay
         * @return {?}
         */
        GridPagingConverter.prototype.convertString = /**
         * @private
         * @param {?} pagingDisplay
         * @return {?}
         */
        function (pagingDisplay) {
            /** @type {?} */
            var loweredPaging = pagingDisplay.toLocaleLowerCase();
            switch (loweredPaging) {
                case 'basic':
                    return PagingDisplayMode.BASIC;
                case 'advanced':
                    return PagingDisplayMode.ADVANCED;
                default:
                    return PagingDisplayMode.BASIC;
            }
        };
        /**
         * @private
         * @param {?} pagingDisplay
         * @return {?}
         */
        GridPagingConverter.prototype.convertEnum = /**
         * @private
         * @param {?} pagingDisplay
         * @return {?}
         */
        function (pagingDisplay) {
            switch (pagingDisplay) {
                case GuiPagingDisplay.BASIC:
                    return PagingDisplayMode.BASIC;
                case GuiPagingDisplay.ADVANCED:
                    return PagingDisplayMode.ADVANCED;
                default:
                    return PagingDisplayMode.BASIC;
            }
        };
        return GridPagingConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var GridGateway = /** @class */ (function () {
        function GridGateway() {
            this.source = [];
            this.columns = [];
            /**
             * OUTPUTS
             */
            this.pageChanged = new core.EventEmitter();
            this.pageSizeChanged = new core.EventEmitter();
            this.itemsSelected = new core.EventEmitter();
            this.columnsChanged = new core.EventEmitter();
            this.containerWidthChanged = new core.EventEmitter();
            this.sourceEdited = new core.EventEmitter();
            this.cellEditEntered = new core.EventEmitter();
            this.cellEditCanceled = new core.EventEmitter();
            this.cellEditSubmitted = new core.EventEmitter();
            this.gridColumnConverter = new GridColumnConverter();
            this.gridThemeConverter = new GridThemeConverter();
            this.gridRowColoringConverter = new GridRowColoringConverter();
            this.gridColumnMenuConverter = new GridColumnMenuConverter();
            this.gridPagingConverter = new GridPagingConverter();
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        GridGateway.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
        function (changes) {
            if (changes.columns !== undefined && changes.columns.currentValue !== undefined) {
                this.columnsConfig = this.gridColumnConverter.convert(this.columns);
            }
            if (changes.theme !== undefined && changes.theme.currentValue !== undefined) {
                this.themeConfig = this.gridThemeConverter.convert(this.theme);
            }
            if (changes.rowColoring !== undefined && changes.rowColoring.currentValue !== undefined) {
                this.rowColoringConfig = this.gridRowColoringConverter.convert(this.rowColoring);
            }
            if (changes.columnMenu !== undefined && changes.columnMenu.currentValue !== undefined) {
                this.columnMenuConfig = this.gridColumnMenuConverter.convert(this.columnMenu);
            }
            // TODO
            if (changes.paging !== undefined && changes.paging.currentValue !== undefined) {
                if (typeof this.paging !== 'boolean') {
                    this.paging = this.gridPagingConverter.convert(this.paging);
                }
            }
        };
        /**
         * @param {?} page
         * @return {?}
         */
        GridGateway.prototype.onPageChange = /**
         * @param {?} page
         * @return {?}
         */
        function (page) {
            this.pageChanged.emit(page);
        };
        /**
         * @param {?} pageSize
         * @return {?}
         */
        GridGateway.prototype.onPageSizeChange = /**
         * @param {?} pageSize
         * @return {?}
         */
        function (pageSize) {
            this.pageSizeChanged.emit(pageSize);
        };
        /**
         * @param {?} item
         * @return {?}
         */
        GridGateway.prototype.onItemSelect = /**
         * @param {?} item
         * @return {?}
         */
        function (item) {
            this.itemsSelected.emit(item);
        };
        /**
         * @return {?}
         */
        GridGateway.prototype.onColumnsChange = /**
         * @return {?}
         */
        function () {
            this.columnsChanged.emit();
        };
        /**
         * @param {?} containerWidth
         * @return {?}
         */
        GridGateway.prototype.onContainerWidthChange = /**
         * @param {?} containerWidth
         * @return {?}
         */
        function (containerWidth) {
            this.containerWidthChanged.emit(containerWidth);
        };
        /**
         * @param {?} value
         * @return {?}
         */
        GridGateway.prototype.onSourceEdit = /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.sourceEdited.emit(value);
        };
        /**
         * @return {?}
         */
        GridGateway.prototype.onCellEditEnter = /**
         * @return {?}
         */
        function () {
            this.cellEditEntered.emit();
        };
        /**
         * @return {?}
         */
        GridGateway.prototype.onCellEditSubmit = /**
         * @return {?}
         */
        function () {
            this.cellEditSubmitted.emit();
        };
        /**
         * @return {?}
         */
        GridGateway.prototype.onCellEditCancel = /**
         * @return {?}
         */
        function () {
            this.cellEditCanceled.emit();
        };
        GridGateway.propDecorators = {
            columnHeaderTop: [{ type: core.Input }],
            columnHeaderBottom: [{ type: core.Input }],
            maxHeight: [{ type: core.Input }],
            width: [{ type: core.Input }],
            rowHeight: [{ type: core.Input }],
            autoResizeWidth: [{ type: core.Input }],
            source: [{ type: core.Input }],
            columns: [{ type: core.Input }],
            paging: [{ type: core.Input }],
            verticalGrid: [{ type: core.Input }],
            horizontalGrid: [{ type: core.Input }],
            theme: [{ type: core.Input }],
            rowColoring: [{ type: core.Input }],
            rowSelecting: [{ type: core.Input }],
            loading: [{ type: core.Input }],
            virtualScroll: [{ type: core.Input }],
            sorting: [{ type: core.Input }],
            searching: [{ type: core.Input }],
            filtering: [{ type: core.Input }],
            quickFilters: [{ type: core.Input }],
            editMode: [{ type: core.Input }],
            cellEditing: [{ type: core.Input }],
            infoPanel: [{ type: core.Input }],
            aggregation: [{ type: core.Input }],
            columnMenu: [{ type: core.Input }],
            pageChanged: [{ type: core.Output }],
            pageSizeChanged: [{ type: core.Output }],
            itemsSelected: [{ type: core.Output }],
            columnsChanged: [{ type: core.Output }],
            containerWidthChanged: [{ type: core.Output }],
            sourceEdited: [{ type: core.Output }],
            cellEditEntered: [{ type: core.Output }],
            cellEditCanceled: [{ type: core.Output }],
            cellEditSubmitted: [{ type: core.Output }]
        };
        return GridGateway;
    }());
    if (false) {
        /**
         * INPUTS
         * @type {?}
         */
        GridGateway.prototype.columnHeaderTop;
        /** @type {?} */
        GridGateway.prototype.columnHeaderBottom;
        /** @type {?} */
        GridGateway.prototype.maxHeight;
        /** @type {?} */
        GridGateway.prototype.width;
        /** @type {?} */
        GridGateway.prototype.rowHeight;
        /** @type {?} */
        GridGateway.prototype.autoResizeWidth;
        /** @type {?} */
        GridGateway.prototype.source;
        /** @type {?} */
        GridGateway.prototype.columns;
        /** @type {?} */
        GridGateway.prototype.paging;
        /** @type {?} */
        GridGateway.prototype.verticalGrid;
        /** @type {?} */
        GridGateway.prototype.horizontalGrid;
        /** @type {?} */
        GridGateway.prototype.theme;
        /** @type {?} */
        GridGateway.prototype.rowColoring;
        /** @type {?} */
        GridGateway.prototype.rowSelecting;
        /** @type {?} */
        GridGateway.prototype.loading;
        /** @type {?} */
        GridGateway.prototype.virtualScroll;
        /** @type {?} */
        GridGateway.prototype.sorting;
        /** @type {?} */
        GridGateway.prototype.searching;
        /**
         * \@experimental
         * @type {?}
         */
        GridGateway.prototype.filtering;
        /**
         * \@experimental
         * @type {?}
         */
        GridGateway.prototype.quickFilters;
        /**
         * \@experimental
         * @type {?}
         */
        GridGateway.prototype.editMode;
        /**
         * \@experimental
         * @type {?}
         */
        GridGateway.prototype.cellEditing;
        /** @type {?} */
        GridGateway.prototype.infoPanel;
        /**
         * \@experimental
         * @type {?}
         */
        GridGateway.prototype.aggregation;
        /** @type {?} */
        GridGateway.prototype.columnMenu;
        /**
         * OUTPUTS
         * @type {?}
         */
        GridGateway.prototype.pageChanged;
        /** @type {?} */
        GridGateway.prototype.pageSizeChanged;
        /** @type {?} */
        GridGateway.prototype.itemsSelected;
        /** @type {?} */
        GridGateway.prototype.columnsChanged;
        /** @type {?} */
        GridGateway.prototype.containerWidthChanged;
        /** @type {?} */
        GridGateway.prototype.sourceEdited;
        /** @type {?} */
        GridGateway.prototype.cellEditEntered;
        /** @type {?} */
        GridGateway.prototype.cellEditCanceled;
        /** @type {?} */
        GridGateway.prototype.cellEditSubmitted;
        /**
         * \@internal
         * @type {?}
         */
        GridGateway.prototype.columnsConfig;
        /** @type {?} */
        GridGateway.prototype.themeConfig;
        /** @type {?} */
        GridGateway.prototype.rowColoringConfig;
        /** @type {?} */
        GridGateway.prototype.columnMenuConfig;
        /**
         * @type {?}
         * @private
         */
        GridGateway.prototype.gridColumnConverter;
        /**
         * @type {?}
         * @private
         */
        GridGateway.prototype.gridThemeConverter;
        /**
         * @type {?}
         * @private
         */
        GridGateway.prototype.gridRowColoringConverter;
        /**
         * @type {?}
         * @private
         */
        GridGateway.prototype.gridColumnMenuConverter;
        /**
         * @type {?}
         * @private
         */
        GridGateway.prototype.gridPagingConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     * @template T
     */
    var /**
     * @abstract
     * @template T
     */
    GenericBuilder = /** @class */ (function () {
        function GenericBuilder() {
        }
        /**
         * @return {?}
         */
        GenericBuilder.prototype.build = /**
         * @return {?}
         */
        function () {
            return this.buildObject();
        };
        return GenericBuilder;
    }());
    if (false) {
        /**
         * @abstract
         * @protected
         * @return {?}
         */
        GenericBuilder.prototype.buildObject = function () { };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructurePagingDefinitionBuilder = /** @class */ (function (_super) {
        __extends(StructurePagingDefinitionBuilder, _super);
        function StructurePagingDefinitionBuilder(enabled) {
            var _this = _super.call(this) || this;
            _this.enabled = enabled;
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        StructurePagingDefinitionBuilder.prototype.buildObject = /**
         * @protected
         * @return {?}
         */
        function () {
            return new StructurePagingDefinition(this.enabled);
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        StructurePagingDefinitionBuilder.prototype.withEnabled = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.enabled = enabled;
            return this;
        };
        return StructurePagingDefinitionBuilder;
    }(GenericBuilder));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructurePagingDefinitionBuilder.prototype.enabled;
    }
    var StructurePagingDefinitionDefaultBuilder = /** @class */ (function (_super) {
        __extends(StructurePagingDefinitionDefaultBuilder, _super);
        function StructurePagingDefinitionDefaultBuilder() {
            return _super.call(this, StructurePagingDefinitionDefaultBuilder.defaultEnabled) || this;
        }
        StructurePagingDefinitionDefaultBuilder.defaultEnabled = true;
        return StructurePagingDefinitionDefaultBuilder;
    }(StructurePagingDefinitionBuilder));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructurePagingDefinitionDefaultBuilder.defaultEnabled;
    }
    var StructurePagingDefinition = /** @class */ (function () {
        function StructurePagingDefinition(enabled) {
            this.enabled = enabled;
        }
        /**
         * @return {?}
         */
        StructurePagingDefinition.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled;
        };
        StructurePagingDefinition.Builder = StructurePagingDefinitionBuilder;
        StructurePagingDefinition.DefaultBuilder = StructurePagingDefinitionDefaultBuilder;
        return StructurePagingDefinition;
    }());
    if (false) {
        /** @type {?} */
        StructurePagingDefinition.Builder;
        /** @type {?} */
        StructurePagingDefinition.DefaultBuilder;
        /**
         * @type {?}
         * @private
         */
        StructurePagingDefinition.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureDefinitionBuilder = /** @class */ (function (_super) {
        __extends(StructureDefinitionBuilder, _super);
        function StructureDefinitionBuilder(headerEnabled, bottomPaging, topPaging) {
            var _this = _super.call(this) || this;
            _this.headerEnabled = headerEnabled;
            _this.bottomPaging = bottomPaging;
            _this.topPaging = topPaging;
            _this.border = true;
            return _this;
        }
        /**
         * @protected
         * @return {?}
         */
        StructureDefinitionBuilder.prototype.buildObject = /**
         * @protected
         * @return {?}
         */
        function () {
            return new StructureDefinition(this.headerEnabled, this.bottomPaging, this.topPaging, this.border);
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        StructureDefinitionBuilder.prototype.withHeader = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.headerEnabled = enabled;
            return this;
        };
        /**
         * @param {?} paging
         * @return {?}
         */
        StructureDefinitionBuilder.prototype.withBottomPaging = /**
         * @param {?} paging
         * @return {?}
         */
        function (paging) {
            this.bottomPaging = paging;
            return this;
        };
        /**
         * @param {?} paging
         * @return {?}
         */
        StructureDefinitionBuilder.prototype.withTopPaging = /**
         * @param {?} paging
         * @return {?}
         */
        function (paging) {
            this.topPaging = paging;
            return this;
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        StructureDefinitionBuilder.prototype.withBorder = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.border = enabled;
            return this;
        };
        return StructureDefinitionBuilder;
    }(GenericBuilder));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureDefinitionBuilder.prototype.border;
        /**
         * @type {?}
         * @private
         */
        StructureDefinitionBuilder.prototype.headerEnabled;
        /**
         * @type {?}
         * @private
         */
        StructureDefinitionBuilder.prototype.bottomPaging;
        /**
         * @type {?}
         * @private
         */
        StructureDefinitionBuilder.prototype.topPaging;
    }
    var StructureDefinitionDefaultBuilder = /** @class */ (function (_super) {
        __extends(StructureDefinitionDefaultBuilder, _super);
        function StructureDefinitionDefaultBuilder() {
            return _super.call(this, StructureDefinitionDefaultBuilder.defaultHeaderEnabled, StructureDefinitionDefaultBuilder.defaultBottomPaging, StructureDefinitionDefaultBuilder.defaultTopPaging) || this;
        }
        StructureDefinitionDefaultBuilder.defaultHeaderEnabled = true;
        StructureDefinitionDefaultBuilder.defaultBottomPaging = new StructurePagingDefinition.DefaultBuilder().build();
        StructureDefinitionDefaultBuilder.defaultTopPaging = new StructurePagingDefinition.DefaultBuilder().build();
        return StructureDefinitionDefaultBuilder;
    }(StructureDefinitionBuilder));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureDefinitionDefaultBuilder.defaultHeaderEnabled;
        /**
         * @type {?}
         * @private
         */
        StructureDefinitionDefaultBuilder.defaultBottomPaging;
        /**
         * @type {?}
         * @private
         */
        StructureDefinitionDefaultBuilder.defaultTopPaging;
    }
    var StructureDefinition = /** @class */ (function () {
        function StructureDefinition(headerEnabled, bottomPaging, topPaging, border) {
            this.headerEnabled = headerEnabled;
            this.bottomPaging = bottomPaging;
            this.topPaging = topPaging;
            this.border = border;
        }
        /**
         * @return {?}
         */
        StructureDefinition.prototype.isHeaderEnabled = /**
         * @return {?}
         */
        function () {
            return this.headerEnabled;
        };
        /**
         * @return {?}
         */
        StructureDefinition.prototype.isBorderEnabled = /**
         * @return {?}
         */
        function () {
            return this.border;
        };
        /**
         * @return {?}
         */
        StructureDefinition.prototype.getBottomPaging = /**
         * @return {?}
         */
        function () {
            return this.bottomPaging;
        };
        /**
         * @return {?}
         */
        StructureDefinition.prototype.getTopPaging = /**
         * @return {?}
         */
        function () {
            return this.topPaging;
        };
        StructureDefinition.Builder = StructureDefinitionBuilder;
        StructureDefinition.DefaultBuilder = StructureDefinitionDefaultBuilder;
        return StructureDefinition;
    }());
    if (false) {
        /** @type {?} */
        StructureDefinition.Builder;
        /** @type {?} */
        StructureDefinition.DefaultBuilder;
        /**
         * @type {?}
         * @private
         */
        StructureDefinition.prototype.headerEnabled;
        /**
         * @type {?}
         * @private
         */
        StructureDefinition.prototype.bottomPaging;
        /**
         * @type {?}
         * @private
         */
        StructureDefinition.prototype.topPaging;
        /**
         * @type {?}
         * @private
         */
        StructureDefinition.prototype.border;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * \@internal
     * @type {?}
     */
    var gridStructureDefinition = new StructureDefinition.DefaultBuilder().build();

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var gridProviders = (/** @type {?} */ ([{
            provide: StructureDefinition,
            useValue: gridStructureDefinition
        }]));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var structureParentComponent = new core.InjectionToken('StructureParentComponent');

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GridIdGenerator = /** @class */ (function () {
        function GridIdGenerator() {
        }
        /**
         * @return {?}
         */
        GridIdGenerator.prototype.generateId = /**
         * @return {?}
         */
        function () {
            GridIdGenerator.index++;
            return GridIdGenerator.PREFIX + GridIdGenerator.index;
        };
        GridIdGenerator.PREFIX = 'gui-grid-';
        GridIdGenerator.index = 0;
        GridIdGenerator.decorators = [
            { type: core.Injectable }
        ];
        return GridIdGenerator;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        GridIdGenerator.PREFIX;
        /**
         * @type {?}
         * @private
         */
        GridIdGenerator.index;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var GridRegister = /** @class */ (function () {
        function GridRegister() {
            this.gridMap = new Map();
        }
        // structureId: StructureId
        // structureId: StructureId
        /**
         * @param {?} gridId
         * @param {?} component
         * @param {?} structureId
         * @return {?}
         */
        GridRegister.prototype.register = 
        // structureId: StructureId
        /**
         * @param {?} gridId
         * @param {?} component
         * @param {?} structureId
         * @return {?}
         */
        function (gridId, component, structureId) {
            this.gridMap.set(gridId, { component: component, structureId: structureId });
        };
        /**
         * @param {?} gridId
         * @return {?}
         */
        GridRegister.prototype.unregister = /**
         * @param {?} gridId
         * @return {?}
         */
        function (gridId) {
            this.gridMap.delete(gridId);
        };
        /**
         * @param {?} gridId
         * @return {?}
         */
        GridRegister.prototype.getValues = /**
         * @param {?} gridId
         * @return {?}
         */
        function (gridId) {
            return this.gridMap.get(gridId);
        };
        GridRegister.decorators = [
            { type: core.Injectable }
        ];
        return GridRegister;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        GridRegister.prototype.gridMap;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @record
     */
    function GridConsoleApi() { }
    if (false) {
        /**
         * @param {?} enabled
         * @return {?}
         */
        GridConsoleApi.prototype.changeColumnHeaderTop = function (enabled) { };
    }
    var GridConsoleApiProvider = /** @class */ (function () {
        function GridConsoleApiProvider(gridComponent, structureId) {
            this.gridComponent = gridComponent;
            this.structureId = structureId;
        } // StructureId
        // StructureId
        /**
         * @return {?}
         */
        GridConsoleApiProvider.prototype.provide = 
        // StructureId
        /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var component = this.gridComponent;
            return {
                changeColumnHeaderTop: /**
                 * @param {?} enabled
                 * @return {?}
                 */
                function (enabled) {
                    component.columnHeaderTop = enabled;
                    component.detectChanges();
                }
            };
        };
        return GridConsoleApiProvider;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        GridConsoleApiProvider.prototype.gridComponent;
        /**
         * @type {?}
         * @private
         */
        GridConsoleApiProvider.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var gridSelector = 'gui-grid';
    var GridComponent = /** @class */ (function (_super) {
        __extends(GridComponent, _super);
        function GridComponent(platformId, elementRef, changeDetectorRef, gridRegister, gridIdGenerator) {
            var _this = _super.call(this) || this;
            _this.platformId = platformId;
            _this.elementRef = elementRef;
            _this.changeDetectorRef = changeDetectorRef;
            _this.gridRegister = gridRegister;
            _this.gridIdGenerator = gridIdGenerator;
            return _this;
        }
        /**
         * @return {?}
         */
        GridComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            /** @type {?} */
            var gridId = this.gridId;
            if (gridId === undefined) {
                gridId = this.gridIdGenerator.generateId();
            }
            this.localGridId = gridId;
            this.exposeGridId();
            // register
            this.gridRegister.register(gridId, this, this.structureRef.getStructureId());
            if (common.isPlatformBrowser(this.platformId)) {
                window['getGuiGrid'] = (/**
                 * @param {?} gridId
                 * @return {?}
                 */
                function (gridId) {
                    /** @type {?} */
                    var gridConsoleConfig = _this.gridRegister.getValues(gridId);
                    if (gridConsoleConfig) {
                        return new GridConsoleApiProvider(gridConsoleConfig.component, gridConsoleConfig.structureId).provide();
                    }
                    else {
                        return undefined;
                    }
                });
            }
        };
        /**
         * @return {?}
         */
        GridComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
        function () {
            this.gridRegister.unregister(this.localGridId);
        };
        /**
         * @return {?}
         */
        GridComponent.prototype.getElementRef = /**
         * @return {?}
         */
        function () {
            return this.elementRef;
        };
        /**
         * @return {?}
         */
        GridComponent.prototype.getGridId = /**
         * @return {?}
         */
        function () {
            return '';
        };
        /**
         * @return {?}
         */
        GridComponent.prototype.detectChanges = /**
         * @return {?}
         */
        function () {
            this.changeDetectorRef.detectChanges();
        };
        /**
         * @private
         * @return {?}
         */
        GridComponent.prototype.exposeGridId = /**
         * @private
         * @return {?}
         */
        function () {
            this.elementRef.nativeElement.setAttribute('gui-grid-id', this.localGridId);
        };
        GridComponent.decorators = [
            { type: core.Component, args: [{
                        selector: gridSelector,
                        template: "<gui-structure\n\t#structure\n\t(cellEditCanceled)=\"onCellEditCancel()\"\n\t(cellEditEntered)=\"onCellEditEnter()\"\n\t(cellEditSubmitted)=\"onCellEditSubmit()\"\n\t(columnsChanged)=\"onColumnsChange()\"\n\t(containerWidthChanged)=\"onContainerWidthChange($event)\"\n\t(itemsSelected)=\"onItemSelect($event)\"\n\t(pageChanged)=\"onPageChange($event)\"\n\t(pageSizeChanged)=\"onPageSizeChange($event)\"\n\t(sourceEdited)=\"onSourceEdit($event)\"\n\t[aggregation]=\"aggregation\"\n\t[autoResizeWidth]=\"autoResizeWidth\"\n\t[cellEditing]=\"cellEditing\"\n\t[columnHeaderBottom]=\"columnHeaderBottom\"\n\t[columnHeaderTop]=\"columnHeaderTop\"\n\t[columnMenu]=\"columnMenuConfig\"\n\t[columns]=\"columnsConfig\"\n\t[editMode]=\"editMode\"\n\t[filtering]=\"filtering\"\n\t[horizontalGrid]=\"horizontalGrid\"\n\t[infoPanel]=\"infoPanel\"\n\t[loading]=\"loading\"\n\t[maxHeight]=\"maxHeight\"\n\t[paging]=\"paging\"\n\t[quickFilters]=\"quickFilters\"\n\t[rowColoring]=\"rowColoringConfig\"\n\t[rowHeight]=\"rowHeight\"\n\t[rowSelecting]=\"rowSelecting\"\n\t[searching]=\"searching\"\n\t[sorting]=\"sorting\"\n\t[source]=\"source\"\n\t[theme]=\"themeConfig\"\n\t[verticalGrid]=\"verticalGrid\"\n\t[virtualScroll]=\"virtualScroll\"\n\t[width]=\"width\">\n</gui-structure>\n",
                        providers: __spread(gridProviders, [
                            {
                                provide: structureParentComponent,
                                useExisting: GridComponent
                            }
                        ]),
                        host: {
                            '[class]': "\"" + gridSelector + "\"",
                            '[style.height]': 'maxHeight'
                        },
                        encapsulation: core.ViewEncapsulation.None,
                        styles: [".gui-grid{display:block;width:100%}"]
                    }] }
        ];
        /** @nocollapse */
        GridComponent.ctorParameters = function () { return [
            { type: undefined, decorators: [{ type: core.Inject, args: [core.PLATFORM_ID,] }] },
            { type: core.ElementRef },
            { type: core.ChangeDetectorRef },
            { type: GridRegister },
            { type: GridIdGenerator }
        ]; };
        GridComponent.propDecorators = {
            structureRef: [{ type: core.ViewChild, args: ['structure', { static: true },] }],
            gridId: [{ type: core.Input }]
        };
        return GridComponent;
    }(GridGateway));
    if (false) {
        /** @type {?} */
        GridComponent.prototype.structureRef;
        /** @type {?} */
        GridComponent.prototype.gridId;
        /**
         * @type {?}
         * @private
         */
        GridComponent.prototype.localGridId;
        /**
         * @type {?}
         * @private
         */
        GridComponent.prototype.platformId;
        /**
         * @type {?}
         * @private
         */
        GridComponent.prototype.elementRef;
        /**
         * @type {?}
         * @private
         */
        GridComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        GridComponent.prototype.gridRegister;
        /**
         * @type {?}
         * @private
         */
        GridComponent.prototype.gridIdGenerator;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var fabricImports = [
        fabric.FabricBadgeModule,
        fabric.FabricButtonModule,
        fabric.FabricButtonGroupModule,
        fabric.FabricCheckboxModule,
        fabric.FabricChipModule,
        fabric.FabricDropdownModule,
        fabric.FabricRadioButtonModule,
        fabric.FabricRadioGroupModule,
        fabric.FabricProgressBarModule,
        fabric.FabricProgressSpinnerModule,
        fabric.FabricSelectModule,
        fabric.FabricSpinnerModule,
        fabric.FabricTabModule,
        fabric.FabricToggleButtonModule,
        fabric.FabricInputModule,
        fabric.FabricDialogModule,
        fabric.FabricInlineDialogModule,
        fabric.FabricTabModule
    ];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var   /**
     * @abstract
     */
    Reactive = /** @class */ (function () {
        function Reactive() {
            this.unsubscribe$ = new rxjs.Subject();
        }
        /**
         * @return {?}
         */
        Reactive.prototype.ngOnDestroy = /**
         * @return {?}
         */
        function () {
            this.unsubscribe();
        };
        /**
         * @protected
         * @return {?}
         */
        Reactive.prototype.unsubscribe = /**
         * @protected
         * @return {?}
         */
        function () {
            this.unsubscribe$.next();
            this.unsubscribe$.complete();
        };
        /**
         * @protected
         * @return {?}
         */
        Reactive.prototype.takeUntil = /**
         * @protected
         * @return {?}
         */
        function () {
            return operators.takeUntil(this.unsubscribe$);
        };
        return Reactive;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        Reactive.prototype.unsubscribe$;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var   /**
     * @abstract
     */
    SmartComponent = /** @class */ (function (_super) {
        __extends(SmartComponent, _super);
        function SmartComponent() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return SmartComponent;
    }(Reactive));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var   /**
     * @abstract
     */
    StructureRepository = /** @class */ (function () {
        function StructureRepository() {
        }
        return StructureRepository;
    }());
    if (false) {
        /**
         * @abstract
         * @param {?} aggregateId
         * @return {?}
         */
        StructureRepository.prototype.onStructure = function (aggregateId) { };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PagingRepository = /** @class */ (function () {
        function PagingRepository(structureRepository) {
            this.structureRepository = structureRepository;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        PagingRepository.prototype.on = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.structureRepository
                .onStructure(structureId)
                .pipe(operators.filter((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) { return structure.getId().toString() === structureId.toString(); })), operators.map((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) { return structure.getPaging(); })));
        };
        PagingRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        PagingRepository.ctorParameters = function () { return [
            { type: StructureRepository }
        ]; };
        return PagingRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        PagingRepository.prototype.structureRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureId = /** @class */ (function (_super) {
        __extends(StructureId, _super);
        function StructureId(id) {
            return _super.call(this, id) || this;
        }
        return StructureId;
    }(hermes.AggregateId));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var globalStructureId = new StructureId('-1');

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PagingReadModelService = /** @class */ (function () {
        function PagingReadModelService(pagingRepository) {
            this.pagingRepository = pagingRepository;
        }
        /**
         * @param {?=} structureId
         * @return {?}
         */
        PagingReadModelService.prototype.onPaging = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.pagingRepository.on(structureId);
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        PagingReadModelService.prototype.onSinglePaging = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.onPaging(structureId)
                .pipe(operators.take(1));
        };
        PagingReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        PagingReadModelService.ctorParameters = function () { return [
            { type: PagingRepository }
        ]; };
        return PagingReadModelService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        PagingReadModelService.prototype.pagingRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetPagingCommand = /** @class */ (function (_super) {
        __extends(SetPagingCommand, _super);
        function SetPagingCommand(structureId, payload) {
            var _this = _super.call(this, structureId, 'SetPagingCommand') || this;
            _this.structureId = structureId;
            _this.payload = payload;
            return _this;
        }
        return SetPagingCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetPagingCommand.prototype.structureId;
        /** @type {?} */
        SetPagingCommand.prototype.payload;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ChangePagesizeCommand = /** @class */ (function (_super) {
        __extends(ChangePagesizeCommand, _super);
        function ChangePagesizeCommand(structureId, pageSize) {
            var _this = _super.call(this, structureId, 'ChangePagesizeCommand') || this;
            _this.structureId = structureId;
            _this.pageSize = pageSize;
            return _this;
        }
        return ChangePagesizeCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        ChangePagesizeCommand.prototype.structureId;
        /** @type {?} */
        ChangePagesizeCommand.prototype.pageSize;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NextPageCommand = /** @class */ (function (_super) {
        __extends(NextPageCommand, _super);
        function NextPageCommand(structureId) {
            var _this = _super.call(this, structureId, 'NextPageCommand') || this;
            _this.structureId = structureId;
            return _this;
        }
        return NextPageCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        NextPageCommand.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PrevPageCommand = /** @class */ (function (_super) {
        __extends(PrevPageCommand, _super);
        function PrevPageCommand(structureId) {
            var _this = _super.call(this, structureId, 'PrevPageCommand') || this;
            _this.structureId = structureId;
            return _this;
        }
        return PrevPageCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        PrevPageCommand.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PagingDispatcher = /** @class */ (function () {
        function PagingDispatcher(commandDispatcher) {
            this.commandDispatcher = commandDispatcher;
        }
        /**
         * @param {?} structureId
         * @param {?} paging
         * @return {?}
         */
        PagingDispatcher.prototype.setPaging = /**
         * @param {?} structureId
         * @param {?} paging
         * @return {?}
         */
        function (structureId, paging) {
            this.commandDispatcher.dispatch(new SetPagingCommand(structureId, paging));
        };
        /**
         * @param {?} structureId
         * @param {?} pageSize
         * @return {?}
         */
        PagingDispatcher.prototype.changePageSize = /**
         * @param {?} structureId
         * @param {?} pageSize
         * @return {?}
         */
        function (structureId, pageSize) {
            this.commandDispatcher.dispatch(new ChangePagesizeCommand(structureId, pageSize));
        };
        /**
         * @param {?} structureId
         * @return {?}
         */
        PagingDispatcher.prototype.nextPage = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            this.commandDispatcher.dispatch(new NextPageCommand(structureId));
        };
        /**
         * @param {?} structureId
         * @return {?}
         */
        PagingDispatcher.prototype.prevPage = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            this.commandDispatcher.dispatch(new PrevPageCommand(structureId));
        };
        PagingDispatcher.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        PagingDispatcher.ctorParameters = function () { return [
            { type: hermes.CommandDispatcher }
        ]; };
        return PagingDispatcher;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        PagingDispatcher.prototype.commandDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PagingCommandService = /** @class */ (function () {
        function PagingCommandService(pagingDispatcher) {
            this.pagingDispatcher = pagingDispatcher;
        }
        /**
         * @param {?=} structureId
         * @return {?}
         */
        PagingCommandService.prototype.enable = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.pagingDispatcher.setPaging(structureId, { enabled: true });
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        PagingCommandService.prototype.disable = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.pagingDispatcher.setPaging(structureId, { enabled: false });
        };
        /**
         * @param {?} paging
         * @param {?=} structureId
         * @return {?}
         */
        PagingCommandService.prototype.setPaging = /**
         * @param {?} paging
         * @param {?=} structureId
         * @return {?}
         */
        function (paging, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.pagingDispatcher.setPaging(structureId, paging);
        };
        /**
         * @param {?} pageSize
         * @param {?=} structureId
         * @return {?}
         */
        PagingCommandService.prototype.changePageSize = /**
         * @param {?} pageSize
         * @param {?=} structureId
         * @return {?}
         */
        function (pageSize, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.pagingDispatcher.changePageSize(structureId, pageSize);
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        PagingCommandService.prototype.nextPage = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.pagingDispatcher.nextPage(structureId);
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        PagingCommandService.prototype.prevPage = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.pagingDispatcher.prevPage(structureId);
        };
        /**
         * @param {?} pageNumber
         * @param {?} currentPage
         * @return {?}
         */
        PagingCommandService.prototype.goToPage = /**
         * @param {?} pageNumber
         * @param {?} currentPage
         * @return {?}
         */
        function (pageNumber, currentPage) {
            if (currentPage < pageNumber) {
                while (currentPage !== pageNumber) {
                    this.nextPage();
                    currentPage += 1;
                }
            }
            else {
                while (currentPage !== pageNumber) {
                    this.prevPage();
                    currentPage -= 1;
                }
            }
        };
        /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        PagingCommandService.prototype.changePagerTop = /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.pagingDispatcher.setPaging(structureId, { pagerTop: enabled });
        };
        /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        PagingCommandService.prototype.changePagerBottom = /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.pagingDispatcher.setPaging(structureId, { pagerBottom: enabled });
        };
        PagingCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        PagingCommandService.ctorParameters = function () { return [
            { type: PagingDispatcher }
        ]; };
        return PagingCommandService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        PagingCommandService.prototype.pagingDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSourceOriginRepository = /** @class */ (function () {
        function StructureSourceOriginRepository() {
            this.origin = new Map();
            this.origin$ = new rxjs.ReplaySubject();
        }
        /**
         * @param {?} origin
         * @param {?} structureId
         * @return {?}
         */
        StructureSourceOriginRepository.prototype.setOrigin = /**
         * @param {?} origin
         * @param {?} structureId
         * @return {?}
         */
        function (origin, structureId) {
            this.origin.set(structureId.toString(), origin);
            this.origin$.next(this.origin);
        };
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructureSourceOriginRepository.prototype.onOrigin = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.origin$
                .asObservable()
                .pipe(operators.map((/**
             * @param {?} map
             * @return {?}
             */
            function (map) {
                return map.get(structureId.toString());
            })), operators.distinctUntilChanged());
        };
        StructureSourceOriginRepository.decorators = [
            { type: core.Injectable }
        ];
        return StructureSourceOriginRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSourceOriginRepository.prototype.origin;
        /**
         * @type {?}
         * @private
         */
        StructureSourceOriginRepository.prototype.origin$;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructurePreparedItemsRepository = /** @class */ (function () {
        function StructurePreparedItemsRepository() {
            this.origin = new Map();
            this.origin$ = new rxjs.ReplaySubject();
        }
        /**
         * @param {?} origin
         * @param {?} structureId
         * @return {?}
         */
        StructurePreparedItemsRepository.prototype.setItems = /**
         * @param {?} origin
         * @param {?} structureId
         * @return {?}
         */
        function (origin, structureId) {
            this.origin.set(structureId.toString(), origin);
            this.origin$.next(this.origin);
        };
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructurePreparedItemsRepository.prototype.onPreparedItems = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.origin$
                .asObservable()
                .pipe(operators.map((/**
             * @param {?} map
             * @return {?}
             */
            function (map) {
                return map.get(structureId.toString());
            })), operators.distinctUntilChanged());
        };
        StructurePreparedItemsRepository.decorators = [
            { type: core.Injectable }
        ];
        return StructurePreparedItemsRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructurePreparedItemsRepository.prototype.origin;
        /**
         * @type {?}
         * @private
         */
        StructurePreparedItemsRepository.prototype.origin$;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SourceReadModelService = /** @class */ (function () {
        function SourceReadModelService(structureRepository, structurePreparedItemsRepository, structureSourceOriginRepository) {
            this.structureRepository = structureRepository;
            this.structurePreparedItemsRepository = structurePreparedItemsRepository;
            this.structureSourceOriginRepository = structureSourceOriginRepository;
        }
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SourceReadModelService.prototype.onEntities = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.structureRepository
                .onStructure(structureId)
                .pipe(operators.map((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) { return structure.getEntities(); })), operators.distinctUntilChanged((/**
             * @param {?} ents1
             * @param {?} ents2
             * @return {?}
             */
            function (ents1, ents2) {
                if (ents1.length !== ents2.length) {
                    return false;
                }
                /** @type {?} */
                var flag = true;
                ents1.forEach((/**
                 * @param {?} ent
                 * @param {?} index
                 * @return {?}
                 */
                function (ent, index) {
                    if (!ent.equals(ents2[index])) {
                        flag = false;
                        return;
                    }
                }));
                return flag;
            })));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SourceReadModelService.prototype.onEntitiesSize = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.onEntities(structureId)
                .pipe(operators.map((/**
             * @param {?} entities
             * @return {?}
             */
            function (entities) {
                return entities.length;
            })));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SourceReadModelService.prototype.onSingleEntities = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.onEntities(structureId)
                .pipe(operators.take(1));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SourceReadModelService.prototype.onOriginSize = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.structureSourceOriginRepository
                .onOrigin(structureId)
                .pipe(operators.map((/**
             * @param {?} origin
             * @return {?}
             */
            function (origin) { return origin.length; })));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SourceReadModelService.prototype.onLoading = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.structureRepository
                .onStructure(structureId)
                .pipe(operators.map((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) { return structure.getSource().isLoading(); })));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SourceReadModelService.prototype.onPreparedEntities = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.structurePreparedItemsRepository.onPreparedItems(structureId);
        };
        SourceReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SourceReadModelService.ctorParameters = function () { return [
            { type: StructureRepository },
            { type: StructurePreparedItemsRepository },
            { type: StructureSourceOriginRepository }
        ]; };
        return SourceReadModelService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SourceReadModelService.prototype.structureRepository;
        /**
         * @type {?}
         * @private
         */
        SourceReadModelService.prototype.structurePreparedItemsRepository;
        /**
         * @type {?}
         * @private
         */
        SourceReadModelService.prototype.structureSourceOriginRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     * @template T
     */
    var   /**
     * @abstract
     * @template T
     */
    Archive = /** @class */ (function () {
        function Archive(value) {
            if (value) {
                this.archive$ = new rxjs.BehaviorSubject(value);
            }
            else {
                this.archive$ = new rxjs.ReplaySubject(1);
            }
        }
        /**
         * @return {?}
         */
        Archive.prototype.onValue = /**
         * @return {?}
         */
        function () {
            return this.archive$.asObservable();
        };
        /**
         * @param {?} value
         * @return {?}
         */
        Archive.prototype.next = /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.archive$.next(value);
        };
        return Archive;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        Archive.prototype.archive$;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructurePagingDisplayModeArchive = /** @class */ (function (_super) {
        __extends(StructurePagingDisplayModeArchive, _super);
        function StructurePagingDisplayModeArchive() {
            return _super.call(this, PagingDisplayMode.BASIC) || this;
        }
        /**
         * @return {?}
         */
        StructurePagingDisplayModeArchive.prototype.onValue = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onValue.call(this);
            // .pipe(
            // 	distinctUntilChanged()
            // );
        };
        StructurePagingDisplayModeArchive.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructurePagingDisplayModeArchive.ctorParameters = function () { return []; };
        return StructurePagingDisplayModeArchive;
    }(Archive));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructurePagingComponent = /** @class */ (function (_super) {
        __extends(StructurePagingComponent, _super);
        function StructurePagingComponent(changeDetectorRef, pagingQueryService, pagingCommandService, sourceQueryService, structurePagingDisplayModeArchive) {
            var _this = _super.call(this) || this;
            _this.changeDetectorRef = changeDetectorRef;
            _this.pagingQueryService = pagingQueryService;
            _this.pagingCommandService = pagingCommandService;
            _this.sourceQueryService = sourceQueryService;
            _this.structurePagingDisplayModeArchive = structurePagingDisplayModeArchive;
            _this.alternativeDisplay = false;
            return _this;
        }
        /**
         * @return {?}
         */
        StructurePagingComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.structurePagingDisplayModeArchive
                .onValue()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} mode
             * @return {?}
             */
            function (mode) {
                _this.alternativeDisplay = mode === PagingDisplayMode.ADVANCED;
                _this.changeDetectorRef.detectChanges();
            }));
            this.pagingQueryService
                .onPaging()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} paging
             * @return {?}
             */
            function (paging) {
                _this.paging = paging;
                _this.changeDetectorRef.detectChanges();
            }));
            this.sourceQueryService
                .onOriginSize()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} size
             * @return {?}
             */
            function (size) {
                _this.sourceSize = size;
                _this.changeDetectorRef.detectChanges();
            }));
        };
        /**
         * @param {?} pageSize
         * @return {?}
         */
        StructurePagingComponent.prototype.changePageSize = /**
         * @param {?} pageSize
         * @return {?}
         */
        function (pageSize) {
            this.pagingCommandService.changePageSize(pageSize);
        };
        /**
         * @return {?}
         */
        StructurePagingComponent.prototype.nextPage = /**
         * @return {?}
         */
        function () {
            if (!this.sourceSize) {
                return;
            }
            this.pagingCommandService.nextPage();
        };
        /**
         * @return {?}
         */
        StructurePagingComponent.prototype.prevPage = /**
         * @return {?}
         */
        function () {
            this.pagingCommandService.prevPage();
        };
        StructurePagingComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-paging',
                        template: "<ng-container *ngIf=\"paging && !alternativeDisplay\">\n\n\t<gui-structure-paging-select\n\t\t(pageSizeChanged)=\"changePageSize($event)\"\n\t\t[paging]=\"paging\">\n\t</gui-structure-paging-select>\n\n\t<gui-structure-paging-stats\n\t\t[paging]=\"paging\">\n\t</gui-structure-paging-stats>\n\n\t<gui-structure-paging-navigator\n\t\t(nextPageChanged)=\"nextPage()\"\n\t\t(prevPageChanged)=\"prevPage()\"\n\t\t[paging]=\"paging\"\n\t\t[sourceSize]=\"sourceSize\">\n\t</gui-structure-paging-navigator>\n\n</ng-container>\n\n<ng-container *ngIf=\"paging && alternativeDisplay\">\n\n\t<gui-structure-paging-select\n\t\t(pageSizeChanged)=\"changePageSize($event)\"\n\t\t[paging]=\"paging\">\n\t</gui-structure-paging-select>\n\n\t<gui-structure-alternative-paging-navigator\n\t\t(nextPageChanged)=\"nextPage()\"\n\t\t(prevPageChanged)=\"prevPage()\"\n\t\t[paging]=\"paging\"\n\t\t[sourceSize]=\"sourceSize\">\n\n\t\t<gui-structure-alternative-paging-pages\n\t\t\t[paging]=\"paging\"\n\t\t\t[sourceSize]=\"sourceSize\">\n\t\t</gui-structure-alternative-paging-pages>\n\n\t</gui-structure-alternative-paging-navigator>\n\n</ng-container>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush
                    }] }
        ];
        /** @nocollapse */
        StructurePagingComponent.ctorParameters = function () { return [
            { type: core.ChangeDetectorRef },
            { type: PagingReadModelService },
            { type: PagingCommandService },
            { type: SourceReadModelService },
            { type: StructurePagingDisplayModeArchive }
        ]; };
        return StructurePagingComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructurePagingComponent.prototype.sourceSize;
        /** @type {?} */
        StructurePagingComponent.prototype.paging;
        /** @type {?} */
        StructurePagingComponent.prototype.alternativeDisplay;
        /**
         * @type {?}
         * @private
         */
        StructurePagingComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructurePagingComponent.prototype.pagingQueryService;
        /**
         * @type {?}
         * @private
         */
        StructurePagingComponent.prototype.pagingCommandService;
        /**
         * @type {?}
         * @private
         */
        StructurePagingComponent.prototype.sourceQueryService;
        /**
         * @type {?}
         * @private
         */
        StructurePagingComponent.prototype.structurePagingDisplayModeArchive;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var Paging = /** @class */ (function () {
        function Paging(enabled, page, pageSize, pageSizes, pagerTop, pagerBottom, isNextDisabled, isPrevDisabled, start, end, sourceSize) {
            this.enabled = enabled;
            this.page = page;
            this.pageSize = pageSize;
            this.pageSizes = pageSizes;
            this.pagerTop = pagerTop;
            this.pagerBottom = pagerBottom;
            this.isNextDisabled = isNextDisabled;
            this.isPrevDisabled = isPrevDisabled;
            this.start = start;
            this.end = end;
            this.sourceSize = sourceSize;
        }
        /**
         * @return {?}
         */
        Paging.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled;
        };
        /**
         * @return {?}
         */
        Paging.prototype.getPage = /**
         * @return {?}
         */
        function () {
            return this.page;
        };
        /**
         * @return {?}
         */
        Paging.prototype.getPageSize = /**
         * @return {?}
         */
        function () {
            return this.pageSize;
        };
        /**
         * @return {?}
         */
        Paging.prototype.getPageSizes = /**
         * @return {?}
         */
        function () {
            return this.pageSizes;
        };
        /**
         * @return {?}
         */
        Paging.prototype.isPagerTop = /**
         * @return {?}
         */
        function () {
            return this.pagerTop;
        };
        /**
         * @return {?}
         */
        Paging.prototype.isPagerBottom = /**
         * @return {?}
         */
        function () {
            return this.pagerBottom;
        };
        /**
         * @return {?}
         */
        Paging.prototype.isNextPageDisabled = /**
         * @return {?}
         */
        function () {
            return this.isNextDisabled;
        };
        /**
         * @return {?}
         */
        Paging.prototype.isPrevPageDisabled = /**
         * @return {?}
         */
        function () {
            return this.isPrevDisabled;
        };
        /**
         * @return {?}
         */
        Paging.prototype.getStart = /**
         * @return {?}
         */
        function () {
            return this.start;
        };
        /**
         * @return {?}
         */
        Paging.prototype.getEnd = /**
         * @return {?}
         */
        function () {
            return this.end;
        };
        /**
         * @return {?}
         */
        Paging.prototype.getSourceSize = /**
         * @return {?}
         */
        function () {
            return this.sourceSize;
        };
        /**
         * @param {?} currentPage
         * @param {?} numberOfVisiblePages
         * @param {?} page
         * @return {?}
         */
        Paging.prototype.calculateVisiblePages = /**
         * @param {?} currentPage
         * @param {?} numberOfVisiblePages
         * @param {?} page
         * @return {?}
         */
        function (currentPage, numberOfVisiblePages, page) {
            return currentPage - numberOfVisiblePages < page && page < currentPage + numberOfVisiblePages;
        };
        /**
         * @param {?} source
         * @return {?}
         */
        Paging.prototype.sample = /**
         * @param {?} source
         * @return {?}
         */
        function (source) {
            /** @type {?} */
            var start = this.getStart();
            if (start !== 0) {
                start -= 1;
            }
            return source.slice(start, this.getEnd());
        };
        return Paging;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        Paging.prototype.enabled;
        /**
         * @type {?}
         * @private
         */
        Paging.prototype.page;
        /**
         * @type {?}
         * @private
         */
        Paging.prototype.pageSize;
        /**
         * @type {?}
         * @private
         */
        Paging.prototype.pageSizes;
        /**
         * @type {?}
         * @private
         */
        Paging.prototype.pagerTop;
        /**
         * @type {?}
         * @private
         */
        Paging.prototype.pagerBottom;
        /**
         * @type {?}
         * @private
         */
        Paging.prototype.isNextDisabled;
        /**
         * @type {?}
         * @private
         */
        Paging.prototype.isPrevDisabled;
        /**
         * @type {?}
         * @private
         */
        Paging.prototype.start;
        /**
         * @type {?}
         * @private
         */
        Paging.prototype.end;
        /**
         * @type {?}
         * @private
         */
        Paging.prototype.sourceSize;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructurePagingNavigatorComponent = /** @class */ (function () {
        function StructurePagingNavigatorComponent() {
            this.nextPageChanged = new core.EventEmitter();
            this.prevPageChanged = new core.EventEmitter();
            this.prevDisabled = false;
            this.nextDisabled = false;
        }
        /**
         * @return {?}
         */
        StructurePagingNavigatorComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
        function () {
            this.calculatePrev();
            this.calculateNext();
        };
        /**
         * @return {?}
         */
        StructurePagingNavigatorComponent.prototype.prevPage = /**
         * @return {?}
         */
        function () {
            this.prevPageChanged.emit();
        };
        /**
         * @return {?}
         */
        StructurePagingNavigatorComponent.prototype.nextPage = /**
         * @return {?}
         */
        function () {
            this.nextPageChanged.emit();
        };
        /**
         * @private
         * @return {?}
         */
        StructurePagingNavigatorComponent.prototype.calculatePrev = /**
         * @private
         * @return {?}
         */
        function () {
            if (!this.paging) {
                return;
            }
            this.prevDisabled = this.paging.isPrevPageDisabled();
        };
        /**
         * @private
         * @return {?}
         */
        StructurePagingNavigatorComponent.prototype.calculateNext = /**
         * @private
         * @return {?}
         */
        function () {
            if (!this.paging && !this.sourceSize) {
                return;
            }
            this.nextDisabled = this.paging.isNextPageDisabled();
        };
        StructurePagingNavigatorComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-paging-navigator',
                        template: "<gui-button-group>\n\t<button (click)=\"prevPage()\"\n\t\t\t[disabled]=\"prevDisabled\"\n\t\t\tclass=\"gui-structure-paging-navigator-prev\"\n\t\t\tgui-button>\n\t\tPrev\n\t</button>\n\n\t<button (click)=\"nextPage()\"\n\t\t\t[disabled]=\"nextDisabled\"\n\t\t\tclass=\"gui-structure-paging-navigator-next\"\n\t\t\tgui-button>\n\t\tNext\n\t</button>\n</gui-button-group>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush
                    }] }
        ];
        StructurePagingNavigatorComponent.propDecorators = {
            paging: [{ type: core.Input }],
            sourceSize: [{ type: core.Input }],
            nextPageChanged: [{ type: core.Output }],
            prevPageChanged: [{ type: core.Output }]
        };
        return StructurePagingNavigatorComponent;
    }());
    if (false) {
        /** @type {?} */
        StructurePagingNavigatorComponent.prototype.paging;
        /** @type {?} */
        StructurePagingNavigatorComponent.prototype.sourceSize;
        /** @type {?} */
        StructurePagingNavigatorComponent.prototype.nextPageChanged;
        /** @type {?} */
        StructurePagingNavigatorComponent.prototype.prevPageChanged;
        /** @type {?} */
        StructurePagingNavigatorComponent.prototype.prevDisabled;
        /** @type {?} */
        StructurePagingNavigatorComponent.prototype.nextDisabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructurePagingSelectComponent = /** @class */ (function () {
        function StructurePagingSelectComponent() {
            this.pageSizeChanged = new core.EventEmitter();
        }
        /**
         * @param {?} pageSize
         * @return {?}
         */
        StructurePagingSelectComponent.prototype.changePageSize = /**
         * @param {?} pageSize
         * @return {?}
         */
        function (pageSize) {
            this.pageSizeChanged.emit(pageSize);
        };
        StructurePagingSelectComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-paging-select',
                        template: "<span>Items per page:</span>\n<gui-select (optionChanged)=\"changePageSize($event)\"\n\t\t\t[options]=\"paging.getPageSizes()\"\n\t\t\t[selected]=\"paging.getPageSize()\"\n\t\t\t[width]=\"25\">\n</gui-select>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush
                    }] }
        ];
        StructurePagingSelectComponent.propDecorators = {
            paging: [{ type: core.Input }],
            pageSizeChanged: [{ type: core.Output }]
        };
        return StructurePagingSelectComponent;
    }());
    if (false) {
        /** @type {?} */
        StructurePagingSelectComponent.prototype.paging;
        /** @type {?} */
        StructurePagingSelectComponent.prototype.pageSizeChanged;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructurePagingStatsComponent = /** @class */ (function () {
        function StructurePagingStatsComponent() {
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        StructurePagingStatsComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
        function (changes) {
            this.calculate();
        };
        /**
         * @return {?}
         */
        StructurePagingStatsComponent.prototype.calculate = /**
         * @return {?}
         */
        function () {
            if (this.paging) {
                this.firstItemIndex = this.paging.getStart();
                this.lastItemIndex = this.paging.getEnd();
                this.sourceSize = this.paging.getSourceSize();
            }
        };
        /**
         * @return {?}
         */
        StructurePagingStatsComponent.prototype.isSourceNotEmpty = /**
         * @return {?}
         */
        function () {
            return this.sourceSize > 0;
        };
        StructurePagingStatsComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-paging-stats',
                        template: "<ng-container *ngIf=\"isSourceNotEmpty(); else noSource;\">\n\t<span class=\"gui-structure-paging-source-stats\">\n\t\t<span>{{firstItemIndex}}</span>\n\t\t-\n\t\t<span>{{lastItemIndex}}</span>\n\t</span>\n\t<span>\n\t\tof\n\t</span>\n\t<span class=\"gui-structure-paging-source-size\">\n\t\t{{sourceSize}}\n\t</span>\n</ng-container>\n\n<ng-template #noSource>\n\t<span class=\"gui-structure-paging-source-stats gui-structure-paging-no-items\">\n\t\tThere is no items.\n\t</span>\n</ng-template>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush
                    }] }
        ];
        StructurePagingStatsComponent.propDecorators = {
            paging: [{ type: core.Input }]
        };
        return StructurePagingStatsComponent;
    }());
    if (false) {
        /** @type {?} */
        StructurePagingStatsComponent.prototype.paging;
        /** @type {?} */
        StructurePagingStatsComponent.prototype.sourceSize;
        /** @type {?} */
        StructurePagingStatsComponent.prototype.firstItemIndex;
        /** @type {?} */
        StructurePagingStatsComponent.prototype.lastItemIndex;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAlternativePagingNavigatorComponent = /** @class */ (function () {
        function StructureAlternativePagingNavigatorComponent(pagingCommandService) {
            this.pagingCommandService = pagingCommandService;
            this.nextPageChanged = new core.EventEmitter();
            this.prevPageChanged = new core.EventEmitter();
            this.prevDisabled = false;
            this.nextDisabled = false;
        }
        /**
         * @return {?}
         */
        StructureAlternativePagingNavigatorComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
        function () {
            this.calculatePrev();
            this.calculateNext();
        };
        /**
         * @return {?}
         */
        StructureAlternativePagingNavigatorComponent.prototype.prevPage = /**
         * @return {?}
         */
        function () {
            this.prevPageChanged.emit();
        };
        /**
         * @return {?}
         */
        StructureAlternativePagingNavigatorComponent.prototype.nextPage = /**
         * @return {?}
         */
        function () {
            this.nextPageChanged.emit();
        };
        /**
         * @return {?}
         */
        StructureAlternativePagingNavigatorComponent.prototype.firstPage = /**
         * @return {?}
         */
        function () {
            this.pagingCommandService.goToPage(1, this.paging.getPage());
        };
        /**
         * @return {?}
         */
        StructureAlternativePagingNavigatorComponent.prototype.lastPage = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var numberOfPages = Math.ceil(this.sourceSize / this.paging.getPageSize());
            this.pagingCommandService.goToPage(numberOfPages, this.paging.getPage());
        };
        /**
         * @private
         * @return {?}
         */
        StructureAlternativePagingNavigatorComponent.prototype.calculatePrev = /**
         * @private
         * @return {?}
         */
        function () {
            if (!this.paging) {
                return;
            }
            this.prevDisabled = this.paging.isPrevPageDisabled();
        };
        /**
         * @private
         * @return {?}
         */
        StructureAlternativePagingNavigatorComponent.prototype.calculateNext = /**
         * @private
         * @return {?}
         */
        function () {
            if (!this.paging && !this.sourceSize) {
                return;
            }
            this.nextDisabled = this.paging.isNextPageDisabled();
        };
        StructureAlternativePagingNavigatorComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-alternative-paging-navigator',
                        template: "<button (click)=\"firstPage()\"\n\t\t[disabled]=\"prevDisabled\"\n\t\tgui-button>\n\t<<\n</button>\n\n<button (click)=\"prevPage()\"\n\t\t[disabled]=\"prevDisabled\"\n\t\tclass=\"gui-structure-paging-navigator-prev\"\n\t\tgui-button>\n\t< Prev\n</button>\n\n<ng-content></ng-content>\n\n<button (click)=\"nextPage()\"\n\t\t[disabled]=\"nextDisabled\"\n\t\tclass=\"gui-structure-paging-navigator-next\"\n\t\tgui-button>\n\tNext >\n</button>\n\n<button (click)=\"lastPage()\"\n\t\t[disabled]=\"nextDisabled\"\n\t\tgui-button>\n\t>>\n</button>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush
                    }] }
        ];
        /** @nocollapse */
        StructureAlternativePagingNavigatorComponent.ctorParameters = function () { return [
            { type: PagingCommandService }
        ]; };
        StructureAlternativePagingNavigatorComponent.propDecorators = {
            paging: [{ type: core.Input }],
            sourceSize: [{ type: core.Input }],
            nextPageChanged: [{ type: core.Output }],
            prevPageChanged: [{ type: core.Output }]
        };
        return StructureAlternativePagingNavigatorComponent;
    }());
    if (false) {
        /** @type {?} */
        StructureAlternativePagingNavigatorComponent.prototype.paging;
        /** @type {?} */
        StructureAlternativePagingNavigatorComponent.prototype.sourceSize;
        /** @type {?} */
        StructureAlternativePagingNavigatorComponent.prototype.nextPageChanged;
        /** @type {?} */
        StructureAlternativePagingNavigatorComponent.prototype.prevPageChanged;
        /** @type {?} */
        StructureAlternativePagingNavigatorComponent.prototype.prevDisabled;
        /** @type {?} */
        StructureAlternativePagingNavigatorComponent.prototype.nextDisabled;
        /**
         * @type {?}
         * @private
         */
        StructureAlternativePagingNavigatorComponent.prototype.pagingCommandService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAlternativePagingPagesComponent = /** @class */ (function () {
        function StructureAlternativePagingPagesComponent(pagingCommandService) {
            this.pagingCommandService = pagingCommandService;
            this.sourceSize = 0;
            this.numberOfVisiblePages = 3;
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        StructureAlternativePagingPagesComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
        function (changes) {
            this.calculate();
        };
        /**
         * @return {?}
         */
        StructureAlternativePagingPagesComponent.prototype.calculate = /**
         * @return {?}
         */
        function () {
            if (this.paging && this.sourceSize) {
                /** @type {?} */
                var numberOfPages = Math.ceil(this.sourceSize / this.paging.getPageSize());
                this.currentPage = this.paging.getPage();
                this.pages = [];
                if (this.pages.length <= numberOfPages) {
                    for (var i = 1; i <= numberOfPages; i++) {
                        this.pages.push(i);
                    }
                }
            }
        };
        /**
         * @return {?}
         */
        StructureAlternativePagingPagesComponent.prototype.isSourceNotEmpty = /**
         * @return {?}
         */
        function () {
            return this.sourceSize > 0;
        };
        /**
         * @param {?} pageNumber
         * @return {?}
         */
        StructureAlternativePagingPagesComponent.prototype.goToPage = /**
         * @param {?} pageNumber
         * @return {?}
         */
        function (pageNumber) {
            /** @type {?} */
            var currentPage = this.paging.getPage();
            this.pagingCommandService.goToPage(pageNumber, currentPage);
        };
        /**
         * @param {?} page
         * @return {?}
         */
        StructureAlternativePagingPagesComponent.prototype.calculateVisiblePages = /**
         * @param {?} page
         * @return {?}
         */
        function (page) {
            return this.paging.calculateVisiblePages(this.currentPage, this.numberOfVisiblePages, page);
        };
        /**
         * @param {?} page
         * @return {?}
         */
        StructureAlternativePagingPagesComponent.prototype.activePage = /**
         * @param {?} page
         * @return {?}
         */
        function (page) {
            return this.currentPage === page;
        };
        StructureAlternativePagingPagesComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-alternative-paging-pages',
                        template: "<ng-container *ngIf=\"isSourceNotEmpty(); else noSource;\">\n\n\t<div *ngFor=\"let page of pages\">\n\t\t<div [class.gui-paging-visible-page]=\"calculateVisiblePages(page)\">\n\t\t\t<div\n\t\t\t\t(click)=\"goToPage(page)\"\n\t\t\t\t[class.gui-paging-active-page]=\"activePage(page)\" class=\"gui-paging-page\">\n\t\t\t\t{{page}}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</ng-container>\n\n<ng-template #noSource>\n\t<span class=\"gui-structure-paging-source-stats gui-structure-paging-no-items\">\n\t\tThere is no items.\n\t</span>\n</ng-template>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush
                    }] }
        ];
        /** @nocollapse */
        StructureAlternativePagingPagesComponent.ctorParameters = function () { return [
            { type: PagingCommandService }
        ]; };
        StructureAlternativePagingPagesComponent.propDecorators = {
            paging: [{ type: core.Input }],
            sourceSize: [{ type: core.Input }]
        };
        return StructureAlternativePagingPagesComponent;
    }());
    if (false) {
        /** @type {?} */
        StructureAlternativePagingPagesComponent.prototype.paging;
        /** @type {?} */
        StructureAlternativePagingPagesComponent.prototype.sourceSize;
        /** @type {?} */
        StructureAlternativePagingPagesComponent.prototype.currentPage;
        /** @type {?} */
        StructureAlternativePagingPagesComponent.prototype.pages;
        /** @type {?} */
        StructureAlternativePagingPagesComponent.prototype.numberOfVisiblePages;
        /**
         * @type {?}
         * @private
         */
        StructureAlternativePagingPagesComponent.prototype.pagingCommandService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructurePagingModule = /** @class */ (function () {
        function StructurePagingModule() {
        }
        StructurePagingModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            fabric.FabricModule
                        ],
                        declarations: [
                            StructurePagingComponent,
                            StructurePagingNavigatorComponent,
                            StructurePagingSelectComponent,
                            StructurePagingStatsComponent,
                            StructureAlternativePagingNavigatorComponent,
                            StructureAlternativePagingPagesComponent
                        ],
                        exports: [
                            StructurePagingComponent,
                            StructurePagingNavigatorComponent,
                            StructurePagingSelectComponent,
                            StructurePagingStatsComponent,
                            StructureAlternativePagingNavigatorComponent,
                            StructureAlternativePagingPagesComponent
                        ]
                    },] }
        ];
        return StructurePagingModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NumberFormatterPipe = /** @class */ (function () {
        function NumberFormatterPipe() {
        }
        /**
         * @param {?} number
         * @return {?}
         */
        NumberFormatterPipe.prototype.transform = /**
         * @param {?} number
         * @return {?}
         */
        function (number) {
            return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
        };
        NumberFormatterPipe.decorators = [
            { type: core.Pipe, args: [{ name: 'numberFormatter' },] }
        ];
        return NumberFormatterPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NumberFormatterModule = /** @class */ (function () {
        function NumberFormatterModule() {
        }
        NumberFormatterModule.decorators = [
            { type: core.NgModule, args: [{
                        declarations: [
                            NumberFormatterPipe
                        ],
                        exports: [
                            NumberFormatterPipe
                        ]
                    },] }
        ];
        return NumberFormatterModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureInfoModalComponent = /** @class */ (function () {
        function StructureInfoModalComponent() {
        }
        StructureInfoModalComponent.decorators = [
            { type: core.Component, args: [{
                        template: "\n\t\t<div class=\"gui-structure-info-modal\">\n\n\t\t\t<p class=\"gui-info-title\">Generic UI Grid</p>\n\n\t\t\t<p class=\"gui-info-version\">version 0.7.0</p>\n\n\t\t\t<p>Links:</p>\n\t\t\t<ul>\n\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"http://generic-ui.com/\">Website</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"http://generic-ui.com/guide/\">Documentation</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://github.com/generic-ui/generic-ui/tree/master/ngx-grid\">Github</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\n\t\t\t<p>Feedback:</p>\n\t\t\t<ul>\n\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://github.com/generic-ui/generic-ui/issues\">Report a bug</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"https://github.com/generic-ui/generic-ui/issues\">Suggest an idea</a>\n\t\t\t\t</li>\n\n\t\t\t</ul>\n\t\t</div>\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush
                    }] }
        ];
        return StructureInfoModalComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureInitedEvent = /** @class */ (function (_super) {
        __extends(StructureInitedEvent, _super);
        function StructureInitedEvent(aggregateId) {
            return _super.call(this, aggregateId, 'StructureInitedEvent') || this;
        }
        return StructureInitedEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var VerticalScrollEnabledSetEvent = /** @class */ (function (_super) {
        __extends(VerticalScrollEnabledSetEvent, _super);
        function VerticalScrollEnabledSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'VerticalScrollEnabledSetEvent') || this;
        }
        return VerticalScrollEnabledSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InMemoryStructureStore = /** @class */ (function (_super) {
        __extends(InMemoryStructureStore, _super);
        function InMemoryStructureStore() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        InMemoryStructureStore.decorators = [
            { type: core.Injectable }
        ];
        return InMemoryStructureStore;
    }(hermes.InMemoryStore));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SelectedRowsList = /** @class */ (function () {
        function SelectedRowsList(rowIds) {
            this.rowIds = rowIds;
        }
        /**
         * @param {?} entity
         * @return {?}
         */
        SelectedRowsList.prototype.isRowSelected = /**
         * @param {?} entity
         * @return {?}
         */
        function (entity) {
            return !!(this.rowIds.find((/**
             * @param {?} id
             * @return {?}
             */
            function (id) { return entity.equalsById(id); })));
        };
        /**
         * @return {?}
         */
        SelectedRowsList.prototype.getIds = /**
         * @return {?}
         */
        function () {
            return this.rowIds;
        };
        return SelectedRowsList;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SelectedRowsList.prototype.rowIds;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var Formation = /** @class */ (function () {
        function Formation(selectedRows) {
            this.selectedRowsList = new SelectedRowsList(selectedRows);
        }
        /**
         * @return {?}
         */
        Formation.prototype.getSelectedRows = /**
         * @return {?}
         */
        function () {
            return this.selectedRowsList;
        };
        return Formation;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        Formation.prototype.selectedRowsList;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormationConverter = /** @class */ (function () {
        function FormationConverter() {
        }
        /**
         * @param {?} aggregate
         * @return {?}
         */
        FormationConverter.prototype.convert = /**
         * @param {?} aggregate
         * @return {?}
         */
        function (aggregate) {
            /** @type {?} */
            var rows = aggregate.getSelectedRows();
            return new Formation(rows);
        };
        FormationConverter.decorators = [
            { type: core.Injectable }
        ];
        return FormationConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaCssClass = /** @class */ (function () {
        function SchemaCssClass(verticalGrid, horizontalGrid, theme, rowColoring) {
            this.verticalGrid = verticalGrid;
            this.horizontalGrid = horizontalGrid;
            this.theme = theme;
            this.rowColoring = rowColoring;
        }
        /**
         * @return {?}
         */
        SchemaCssClass.prototype.getRowColoring = /**
         * @return {?}
         */
        function () {
            return this.rowColoring;
        };
        return SchemaCssClass;
    }());
    if (false) {
        /** @type {?} */
        SchemaCssClass.prototype.verticalGrid;
        /** @type {?} */
        SchemaCssClass.prototype.horizontalGrid;
        /** @type {?} */
        SchemaCssClass.prototype.theme;
        /** @type {?} */
        SchemaCssClass.prototype.rowColoring;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var Schema = /** @class */ (function () {
        function Schema(width, height, containerHeight, verticalGridEnabled, horizontalGridEnabled, theme, columnHeader, rowColoring) {
            this.width = width;
            this.height = height;
            this.containerHeight = containerHeight;
            this.verticalGridEnabled = verticalGridEnabled;
            this.horizontalGridEnabled = horizontalGridEnabled;
            this.theme = theme;
            this.columnHeader = columnHeader;
            this.rowColoring = rowColoring;
        }
        /**
         * @return {?}
         */
        Schema.prototype.getRowColoring = /**
         * @return {?}
         */
        function () {
            return this.rowColoring;
        };
        /**
         * @return {?}
         */
        Schema.prototype.getTheme = /**
         * @return {?}
         */
        function () {
            return this.theme;
        };
        /**
         * @return {?}
         */
        Schema.prototype.getHeight = /**
         * @return {?}
         */
        function () {
            return this.height;
        };
        /**
         * @return {?}
         */
        Schema.prototype.getContainerHeight = /**
         * @return {?}
         */
        function () {
            return this.containerHeight;
        };
        /**
         * @return {?}
         */
        Schema.prototype.getWidth = /**
         * @return {?}
         */
        function () {
            return this.width;
        };
        /**
         * @return {?}
         */
        Schema.prototype.isVerticalGridEnabled = /**
         * @return {?}
         */
        function () {
            return this.verticalGridEnabled;
        };
        /**
         * @return {?}
         */
        Schema.prototype.isHorizontalGridEnabled = /**
         * @return {?}
         */
        function () {
            return this.horizontalGridEnabled;
        };
        /**
         * @return {?}
         */
        Schema.prototype.getColumnHeader = /**
         * @return {?}
         */
        function () {
            return this.columnHeader;
        };
        /**
         * @return {?}
         */
        Schema.prototype.getCssClasses = /**
         * @return {?}
         */
        function () {
            return new SchemaCssClass(this.isVerticalGridEnabled(), this.isHorizontalGridEnabled(), this.getTheme(), this.getRowColoring());
        };
        return Schema;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        Schema.prototype.width;
        /**
         * @type {?}
         * @private
         */
        Schema.prototype.height;
        /**
         * @type {?}
         * @private
         */
        Schema.prototype.containerHeight;
        /**
         * @type {?}
         * @private
         */
        Schema.prototype.verticalGridEnabled;
        /**
         * @type {?}
         * @private
         */
        Schema.prototype.horizontalGridEnabled;
        /**
         * @type {?}
         * @private
         */
        Schema.prototype.theme;
        /**
         * @type {?}
         * @private
         */
        Schema.prototype.columnHeader;
        /**
         * @type {?}
         * @private
         */
        Schema.prototype.rowColoring;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaColumnHeader = /** @class */ (function () {
        function SchemaColumnHeader(top, bottom) {
            this.top = top;
            this.bottom = bottom;
        }
        /**
         * @return {?}
         */
        SchemaColumnHeader.prototype.isTopHeaderEnabled = /**
         * @return {?}
         */
        function () {
            return this.top;
        };
        /**
         * @return {?}
         */
        SchemaColumnHeader.prototype.isBottomHeaderEnabled = /**
         * @return {?}
         */
        function () {
            return this.bottom;
        };
        return SchemaColumnHeader;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SchemaColumnHeader.prototype.top;
        /**
         * @type {?}
         * @private
         */
        SchemaColumnHeader.prototype.bottom;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaConverter = /** @class */ (function () {
        function SchemaConverter() {
        }
        /**
         * @param {?} aggregate
         * @return {?}
         */
        SchemaConverter.prototype.convert = /**
         * @param {?} aggregate
         * @return {?}
         */
        function (aggregate) {
            /** @type {?} */
            var columnHeader = aggregate.getColumnHeader();
            return new Schema(aggregate.getWidth(), aggregate.getHeight(), aggregate.getContainerHeight(), aggregate.isVerticalGridEnabled(), aggregate.isHorizontalGridEnabled(), aggregate.getTheme(), this.convertColumnHeader(columnHeader), aggregate.getRowColoring());
        };
        /**
         * @private
         * @param {?} columnHeader
         * @return {?}
         */
        SchemaConverter.prototype.convertColumnHeader = /**
         * @private
         * @param {?} columnHeader
         * @return {?}
         */
        function (columnHeader) {
            return new SchemaColumnHeader(columnHeader.isHeaderOnTop(), columnHeader.isHeaderOnBottom());
        };
        SchemaConverter.decorators = [
            { type: core.Injectable }
        ];
        return SchemaConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PagingConverter = /** @class */ (function () {
        function PagingConverter() {
        }
        /**
         * @param {?} aggregate
         * @return {?}
         */
        PagingConverter.prototype.convert = /**
         * @param {?} aggregate
         * @return {?}
         */
        function (aggregate) {
            return new Paging(aggregate.isEnabled(), aggregate.getPage(), aggregate.getPageSize(), aggregate.getPageSizes(), aggregate.isPagerTop(), aggregate.isPagerBottom(), aggregate.isNextPageDisabled(), aggregate.isPrevPageDisabled(), aggregate.calculateStart(), aggregate.calculateEnd(), aggregate.getSourceSize());
        };
        PagingConverter.decorators = [
            { type: core.Injectable }
        ];
        return PagingConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var Source = /** @class */ (function () {
        function Source(loading) {
            this.loading = loading;
        }
        /**
         * @return {?}
         */
        Source.prototype.isLoading = /**
         * @return {?}
         */
        function () {
            return this.loading;
        };
        return Source;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        Source.prototype.loading;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SourceConverter = /** @class */ (function () {
        function SourceConverter() {
        }
        /**
         * @param {?} aggregate
         * @return {?}
         */
        SourceConverter.prototype.convert = /**
         * @param {?} aggregate
         * @return {?}
         */
        function (aggregate) {
            return new Source(aggregate.isLoading());
        };
        SourceConverter.decorators = [
            { type: core.Injectable }
        ];
        return SourceConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var VerticalFormationReadModel = /** @class */ (function () {
        function VerticalFormationReadModel(enabled, topMargin, containerHeight, viewportHeight, rowHeight) {
            this.enabled = enabled;
            this.topMargin = topMargin;
            this.containerHeight = containerHeight;
            this.viewportHeight = viewportHeight;
            this.rowHeight = rowHeight;
        }
        /**
         * @return {?}
         */
        VerticalFormationReadModel.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled;
        };
        /**
         * @return {?}
         */
        VerticalFormationReadModel.prototype.getTopMargin = /**
         * @return {?}
         */
        function () {
            return this.topMargin;
        };
        /**
         * @return {?}
         */
        VerticalFormationReadModel.prototype.getContainerHeight = /**
         * @return {?}
         */
        function () {
            return this.containerHeight;
        };
        /**
         * @return {?}
         */
        VerticalFormationReadModel.prototype.getViewPortHeight = /**
         * @return {?}
         */
        function () {
            return this.viewportHeight;
        };
        /**
         * @return {?}
         */
        VerticalFormationReadModel.prototype.getRowHeight = /**
         * @return {?}
         */
        function () {
            return this.rowHeight;
        };
        return VerticalFormationReadModel;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        VerticalFormationReadModel.prototype.enabled;
        /**
         * @type {?}
         * @private
         */
        VerticalFormationReadModel.prototype.topMargin;
        /**
         * @type {?}
         * @private
         */
        VerticalFormationReadModel.prototype.containerHeight;
        /**
         * @type {?}
         * @private
         */
        VerticalFormationReadModel.prototype.viewportHeight;
        /**
         * @type {?}
         * @private
         */
        VerticalFormationReadModel.prototype.rowHeight;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var VerticalFormationConverter = /** @class */ (function () {
        function VerticalFormationConverter() {
        }
        /**
         * @param {?} verticalFormation
         * @return {?}
         */
        VerticalFormationConverter.prototype.convert = /**
         * @param {?} verticalFormation
         * @return {?}
         */
        function (verticalFormation) {
            /** @type {?} */
            var enabled = verticalFormation.isEnabled();
            /** @type {?} */
            var topMargin = verticalFormation.getTopMargin();
            /** @type {?} */
            var containerHeight = verticalFormation.calcFullHeight();
            /** @type {?} */
            var viewportHeight = verticalFormation.getViewPortHeight();
            /** @type {?} */
            var rowHeight = verticalFormation.getRowHeight();
            return new VerticalFormationReadModel(enabled, topMargin, containerHeight, viewportHeight, rowHeight);
        };
        VerticalFormationConverter.decorators = [
            { type: core.Injectable }
        ];
        return VerticalFormationConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var Structure = /** @class */ (function (_super) {
        __extends(Structure, _super);
        function Structure(uid, formation, schema, paging, entities, source, verticalFormation) {
            var _this = _super.call(this, uid) || this;
            _this.formation = formation;
            _this.schema = schema;
            _this.paging = paging;
            _this.entities = entities;
            _this.source = source;
            _this.verticalFormation = verticalFormation;
            return _this;
        }
        /**
         * @return {?}
         */
        Structure.prototype.getFormation = /**
         * @return {?}
         */
        function () {
            return this.formation;
        };
        /**
         * @return {?}
         */
        Structure.prototype.getSchema = /**
         * @return {?}
         */
        function () {
            return this.schema;
        };
        /**
         * @return {?}
         */
        Structure.prototype.getPaging = /**
         * @return {?}
         */
        function () {
            return this.paging;
        };
        /**
         * @return {?}
         */
        Structure.prototype.getEntities = /**
         * @return {?}
         */
        function () {
            return this.entities;
        };
        /**
         * @return {?}
         */
        Structure.prototype.getSource = /**
         * @return {?}
         */
        function () {
            return this.source;
        };
        /**
         * @return {?}
         */
        Structure.prototype.getVerticalFormation = /**
         * @return {?}
         */
        function () {
            return this.verticalFormation;
        };
        /**
         * @return {?}
         */
        Structure.prototype.getSelectedEntities = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var selectedIds = this.formation.getSelectedRows().getIds();
            return this.entities.filter((/**
             * @param {?} entity
             * @return {?}
             */
            function (entity) {
                return selectedIds.some((/**
                 * @param {?} id
                 * @return {?}
                 */
                function (id) { return entity.equalsById(id); }));
            }));
        };
        /**
         * @return {?}
         */
        Structure.prototype.getTopMargin = /**
         * @return {?}
         */
        function () {
            return this.verticalFormation.getTopMargin();
        };
        /**
         * @return {?}
         */
        Structure.prototype.getContainerHeight = /**
         * @return {?}
         */
        function () {
            return this.verticalFormation.getContainerHeight();
        };
        /**
         * @return {?}
         */
        Structure.prototype.isLoaderVisible = /**
         * @return {?}
         */
        function () {
            if (this.getSchema().getHeight() > 150) {
                return this.getSource().isLoading();
            }
            else {
                return false;
            }
        };
        /**
         * @return {?}
         */
        Structure.prototype.isTopHeaderEnabled = /**
         * @return {?}
         */
        function () {
            return this.schema.getColumnHeader().isTopHeaderEnabled();
            // && this.presentation.getColumns().length > 0; // TODO Move schema.topHeader to presentation
        };
        /**
         * @return {?}
         */
        Structure.prototype.isBottomHeaderEnabled = /**
         * @return {?}
         */
        function () {
            return this.schema.getColumnHeader().isBottomHeaderEnabled();
            // && this.presentation.getColumns().length > 0; // TODO Move schema.bottomHeader to presentation
        };
        /**
         * @return {?}
         */
        Structure.prototype.isReadyToDisplay = /**
         * @return {?}
         */
        function () {
            return this.entities.length > 0;
            // this.presentation.getColumns().length > 0; // TODO presentation getColumns
        };
        /**
         * @return {?}
         */
        Structure.prototype.isVerticalScrollEnabled = /**
         * @return {?}
         */
        function () {
            return this.verticalFormation.isEnabled();
        };
        return Structure;
    }(hermes.ReadModel));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        Structure.prototype.formation;
        /**
         * @type {?}
         * @private
         */
        Structure.prototype.schema;
        /**
         * @type {?}
         * @private
         */
        Structure.prototype.paging;
        /**
         * @type {?}
         * @private
         */
        Structure.prototype.entities;
        /**
         * @type {?}
         * @private
         */
        Structure.prototype.source;
        /**
         * @type {?}
         * @private
         */
        Structure.prototype.verticalFormation;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ItemEntity = /** @class */ (function () {
        function ItemEntity(data, position, id, version) {
            if (version === void 0) { version = 0; }
            this.version = 0;
            this.data = data;
            this.position = position;
            this.version = version;
            if (!id) {
                this.id = hermes.RandomStringGenerator.generate();
            }
            else {
                this.id = id;
            }
        }
        /**
         * @return {?}
         */
        ItemEntity.prototype.getData = /**
         * @return {?}
         */
        function () {
            return this.data;
        };
        /**
         * @return {?}
         */
        ItemEntity.prototype.getUiId = /**
         * @return {?}
         */
        function () {
            return 'gui' + this.id.replace(/-/g, '');
        };
        /**
         * @return {?}
         */
        ItemEntity.prototype.getId = /**
         * @return {?}
         */
        function () {
            return this.id;
        };
        /**
         * @return {?}
         */
        ItemEntity.prototype.getVersion = /**
         * @return {?}
         */
        function () {
            return this.version;
        };
        /**
         * @return {?}
         */
        ItemEntity.prototype.getPosition = /**
         * @return {?}
         */
        function () {
            return this.position;
        };
        /**
         * @return {?}
         */
        ItemEntity.prototype.isEven = /**
         * @return {?}
         */
        function () {
            return this.position % 2 === 0;
        };
        /**
         * @return {?}
         */
        ItemEntity.prototype.isOdd = /**
         * @return {?}
         */
        function () {
            return this.position % 2 === 1;
        };
        /**
         * @param {?} entity
         * @return {?}
         */
        ItemEntity.prototype.equals = /**
         * @param {?} entity
         * @return {?}
         */
        function (entity) {
            return this.id === entity.id && this.getVersion() === entity.getVersion();
        };
        /**
         * @param {?} id
         * @return {?}
         */
        ItemEntity.prototype.equalsById = /**
         * @param {?} id
         * @return {?}
         */
        function (id) {
            return this.id === id;
        };
        ItemEntity.ctorParameters = function () { return [
            { type: undefined },
            { type: Number },
            { type: String },
            { type: Number }
        ]; };
        ItemEntity = __decorate([
            hermes.Entity,
            __metadata("design:paramtypes", [Object, Number, String, Number])
        ], ItemEntity);
        return ItemEntity;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ItemEntity.prototype.id;
        /**
         * @type {?}
         * @private
         */
        ItemEntity.prototype.data;
        /**
         * @type {?}
         * @private
         */
        ItemEntity.prototype.position;
        /**
         * @type {?}
         * @private
         */
        ItemEntity.prototype.version;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureConverter = /** @class */ (function () {
        function StructureConverter(formationConverter, schemaConverter, pagingConverter, sourceConverter, verticalFormationConverter) {
            this.formationConverter = formationConverter;
            this.schemaConverter = schemaConverter;
            this.pagingConverter = pagingConverter;
            this.sourceConverter = sourceConverter;
            this.verticalFormationConverter = verticalFormationConverter;
        }
        /**
         * @param {?} aggregate
         * @return {?}
         */
        StructureConverter.prototype.convert = /**
         * @param {?} aggregate
         * @return {?}
         */
        function (aggregate) {
            /** @type {?} */
            var formationAggregate = aggregate.getFormation();
            /** @type {?} */
            var schemaAggregate = aggregate.getSchema();
            /** @type {?} */
            var pagingAggregate = aggregate.getPaging();
            /** @type {?} */
            var sourceQuery = aggregate.getEntities();
            /** @type {?} */
            var sourceCoordinator = aggregate.getSource();
            /** @type {?} */
            var verticalFormation = aggregate.getVerticalFormation();
            return new Structure(aggregate.getId(), this.formationConverter.convert(formationAggregate), this.schemaConverter.convert(schemaAggregate), this.pagingConverter.convert(pagingAggregate), this.convertSource(sourceQuery), this.sourceConverter.convert(sourceCoordinator), this.verticalFormationConverter.convert(verticalFormation));
        };
        /**
         * @private
         * @param {?} source
         * @return {?}
         */
        StructureConverter.prototype.convertSource = /**
         * @private
         * @param {?} source
         * @return {?}
         */
        function (source) {
            return source.map((/**
             * @param {?} originItem
             * @return {?}
             */
            function (originItem) {
                return new ItemEntity(originItem.rawData, originItem.getPosition(), originItem.id, originItem.getVersion());
            }));
        };
        StructureConverter.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureConverter.ctorParameters = function () { return [
            { type: FormationConverter },
            { type: SchemaConverter },
            { type: PagingConverter },
            { type: SourceConverter },
            { type: VerticalFormationConverter }
        ]; };
        return StructureConverter;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureConverter.prototype.formationConverter;
        /**
         * @type {?}
         * @private
         */
        StructureConverter.prototype.schemaConverter;
        /**
         * @type {?}
         * @private
         */
        StructureConverter.prototype.pagingConverter;
        /**
         * @type {?}
         * @private
         */
        StructureConverter.prototype.sourceConverter;
        /**
         * @type {?}
         * @private
         */
        StructureConverter.prototype.verticalFormationConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InMemoryStructureReadStore = /** @class */ (function (_super) {
        __extends(InMemoryStructureReadStore, _super);
        function InMemoryStructureReadStore(inMemoryProjectStore, structureConverter) {
            var _this = _super.call(this, inMemoryProjectStore) || this;
            _this.inMemoryProjectStore = inMemoryProjectStore;
            _this.structureConverter = structureConverter;
            return _this;
        }
        /**
         * @param {?} aggregate
         * @return {?}
         */
        InMemoryStructureReadStore.prototype.toReadModel = /**
         * @param {?} aggregate
         * @return {?}
         */
        function (aggregate) {
            return this.structureConverter.convert(aggregate);
        };
        InMemoryStructureReadStore.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        InMemoryStructureReadStore.ctorParameters = function () { return [
            { type: InMemoryStructureStore },
            { type: StructureConverter }
        ]; };
        return InMemoryStructureReadStore;
    }(hermes.InMemoryReadModelStore));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        InMemoryStructureReadStore.prototype.inMemoryProjectStore;
        /**
         * @type {?}
         * @private
         */
        InMemoryStructureReadStore.prototype.structureConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var RowHeightSetEvent = /** @class */ (function (_super) {
        __extends(RowHeightSetEvent, _super);
        function RowHeightSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'RowHeightSetEvent') || this;
        }
        return RowHeightSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var VerticalFormationRepository = /** @class */ (function (_super) {
        __extends(VerticalFormationRepository, _super);
        function VerticalFormationRepository(domainEventBus, inMemoryStructureQueryStore) {
            var _this = _super.call(this) || this;
            _this.domainEventBus = domainEventBus;
            _this.inMemoryStructureQueryStore = inMemoryStructureQueryStore;
            _this.verticalFormation = new Map();
            _this.verticalFormation$ = new rxjs.ReplaySubject();
            _this.domainEventBus
                .ofEvent(StructureInitedEvent, VerticalScrollEnabledSetEvent, RowHeightSetEvent)
                .pipe(_this.takeUntil())
                .subscribe((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                /** @type {?} */
                var aggregateId = event.aggregateId;
                /** @type {?} */
                var structure = _this.inMemoryStructureQueryStore.getById(aggregateId);
                /** @type {?} */
                var verticalFormation = structure.getVerticalFormation();
                /** @type {?} */
                var structureId = structure.getId();
                _this.next(structureId, verticalFormation);
            }));
            return _this;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        VerticalFormationRepository.prototype.onVerticalScrollEnabled = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.onVerticalFormation(structureId)
                .pipe(operators.map((/**
             * @param {?} v
             * @return {?}
             */
            function (v) { return v.isEnabled(); })));
        };
        /**
         * @param {?} structureId
         * @return {?}
         */
        VerticalFormationRepository.prototype.onRowHeight = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.onVerticalFormation(structureId)
                .pipe(operators.map((/**
             * @param {?} v
             * @return {?}
             */
            function (v) { return v.getRowHeight(); })));
        };
        /**
         * @private
         * @param {?} structureId
         * @return {?}
         */
        VerticalFormationRepository.prototype.onVerticalFormation = /**
         * @private
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.verticalFormation$
                .asObservable()
                .pipe(operators.filter((/**
             * @param {?} idToVerticalFormation
             * @return {?}
             */
            function (idToVerticalFormation) {
                /** @type {?} */
                var key = structureId.getId();
                return idToVerticalFormation.has(key);
            })), operators.map((/**
             * @param {?} idToVerticalFormation
             * @return {?}
             */
            function (idToVerticalFormation) { return idToVerticalFormation.get(structureId.getId()); })));
        };
        /**
         * @private
         * @param {?} structureId
         * @param {?} verticalFormation
         * @return {?}
         */
        VerticalFormationRepository.prototype.next = /**
         * @private
         * @param {?} structureId
         * @param {?} verticalFormation
         * @return {?}
         */
        function (structureId, verticalFormation) {
            this.verticalFormation.set(structureId.toString(), verticalFormation);
            this.verticalFormation$.next(this.verticalFormation);
        };
        VerticalFormationRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        VerticalFormationRepository.ctorParameters = function () { return [
            { type: hermes.DomainEventBus },
            { type: InMemoryStructureReadStore }
        ]; };
        return VerticalFormationRepository;
    }(Reactive));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        VerticalFormationRepository.prototype.verticalFormation;
        /**
         * @type {?}
         * @private
         */
        VerticalFormationRepository.prototype.verticalFormation$;
        /**
         * @type {?}
         * @private
         */
        VerticalFormationRepository.prototype.domainEventBus;
        /**
         * @type {?}
         * @private
         */
        VerticalFormationRepository.prototype.inMemoryStructureQueryStore;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureReadModelService = /** @class */ (function () {
        function StructureReadModelService(structureRepository, verticalFormationRepository) {
            this.structureRepository = structureRepository;
            this.verticalFormationRepository = verticalFormationRepository;
        }
        /**
         * @param {?=} aggregateId
         * @return {?}
         */
        StructureReadModelService.prototype.onStructure = /**
         * @param {?=} aggregateId
         * @return {?}
         */
        function (aggregateId) {
            if (aggregateId === void 0) { aggregateId = globalStructureId; }
            return this.structureRepository.onStructure(aggregateId);
        };
        /**
         * @param {?=} aggregateId
         * @return {?}
         */
        StructureReadModelService.prototype.onVerticalScrollEnabled = /**
         * @param {?=} aggregateId
         * @return {?}
         */
        function (aggregateId) {
            if (aggregateId === void 0) { aggregateId = globalStructureId; }
            return this.structureRepository
                .onStructure(aggregateId)
                .pipe(operators.map((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) { return structure.isVerticalScrollEnabled(); })), operators.distinctUntilChanged());
        };
        /**
         * @param {?=} aggregateId
         * @return {?}
         */
        StructureReadModelService.prototype.onRowHeight = /**
         * @param {?=} aggregateId
         * @return {?}
         */
        function (aggregateId) {
            if (aggregateId === void 0) { aggregateId = globalStructureId; }
            return this.verticalFormationRepository.onRowHeight(aggregateId);
        };
        StructureReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureReadModelService.ctorParameters = function () { return [
            { type: StructureRepository },
            { type: VerticalFormationRepository }
        ]; };
        return StructureReadModelService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureReadModelService.prototype.structureRepository;
        /**
         * @type {?}
         * @private
         */
        StructureReadModelService.prototype.verticalFormationRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureInfoPanelComponent = /** @class */ (function (_super) {
        __extends(StructureInfoPanelComponent, _super);
        function StructureInfoPanelComponent(changeDetectorRef, renderer, elementRef, sourceQueryService, dialog, structureReadModelService) {
            var _this = _super.call(this) || this;
            _this.changeDetectorRef = changeDetectorRef;
            _this.renderer = renderer;
            _this.elementRef = elementRef;
            _this.sourceQueryService = sourceQueryService;
            _this.dialog = dialog;
            _this.structureReadModelService = structureReadModelService;
            _this.infoPanel = StructureInfoModalComponent;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureInfoPanelComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.sourceQueryService
                .onOriginSize()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} size
             * @return {?}
             */
            function (size) {
                _this.totalItemsSize = size;
                _this.changeDetectorRef.detectChanges();
            }));
            this.sourceQueryService
                .onPreparedEntities()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} preparedItems
             * @return {?}
             */
            function (preparedItems) {
                _this.preparedItemsSize = preparedItems.length;
                _this.changeDetectorRef.detectChanges();
            }));
            this.structureReadModelService
                .onRowHeight()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} rowHeight
             * @return {?}
             */
            function (rowHeight) {
                _this.rowHeight = rowHeight;
                _this.renderer.setStyle(_this.elementRef.nativeElement, 'line-height', '30px');
            }));
        };
        /**
         * @return {?}
         */
        StructureInfoPanelComponent.prototype.openInfo = /**
         * @return {?}
         */
        function () {
            this.dialog.open(this.infoPanel);
        };
        StructureInfoPanelComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-info-panel',
                        template: "\n\n\t\t<ng-container *ngIf=\"preparedItemsSize !== undefined && totalItemsSize !== undefined\">\n\n\t\t\t<p *ngIf=\"preparedItemsSize === totalItemsSize\">\n\t\t\t\tShowing <b>{{totalItemsSize | numberFormatter}}</b> items\n\t\t\t</p>\n\n\t\t\t<p *ngIf=\"preparedItemsSize !== totalItemsSize\">\n\t\t\t\tShowing <b>{{preparedItemsSize | numberFormatter}}</b> out of <b>{{totalItemsSize | numberFormatter}}</b> items\n\t\t\t</p>\n\n\t\t</ng-container>\n\t\t<div>\n\t\t\t<p (click)=\"openInfo()\">\n\t\t\t\t<button>i</button>\n\t\t\t\tInfo\n\t\t\t</p>\n\t\t</div>\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StructureInfoPanelComponent.ctorParameters = function () { return [
            { type: core.ChangeDetectorRef },
            { type: core.Renderer2 },
            { type: core.ElementRef },
            { type: SourceReadModelService },
            { type: fabric.FabricDialogService },
            { type: StructureReadModelService }
        ]; };
        return StructureInfoPanelComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureInfoPanelComponent.prototype.totalItemsSize;
        /** @type {?} */
        StructureInfoPanelComponent.prototype.preparedItemsSize;
        /** @type {?} */
        StructureInfoPanelComponent.prototype.rowHeight;
        /** @type {?} */
        StructureInfoPanelComponent.prototype.infoPanel;
        /**
         * @type {?}
         * @private
         */
        StructureInfoPanelComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureInfoPanelComponent.prototype.renderer;
        /**
         * @type {?}
         * @private
         */
        StructureInfoPanelComponent.prototype.elementRef;
        /**
         * @type {?}
         * @private
         */
        StructureInfoPanelComponent.prototype.sourceQueryService;
        /**
         * @type {?}
         * @private
         */
        StructureInfoPanelComponent.prototype.dialog;
        /**
         * @type {?}
         * @private
         */
        StructureInfoPanelComponent.prototype.structureReadModelService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureInfoPanelModule = /** @class */ (function () {
        function StructureInfoPanelModule() {
        }
        StructureInfoPanelModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            NumberFormatterModule
                        ],
                        declarations: [
                            StructureInfoPanelComponent,
                            StructureInfoModalComponent
                        ],
                        exports: [
                            StructureInfoModalComponent,
                            StructureInfoPanelComponent
                        ],
                        entryComponents: [
                            StructureInfoModalComponent
                        ]
                    },] }
        ];
        return StructureInfoPanelModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ViewTemplatesComponent = /** @class */ (function () {
        function ViewTemplatesComponent() {
        }
        /**
         * @param {?} view
         * @return {?}
         */
        ViewTemplatesComponent.prototype.getTemplate = /**
         * @param {?} view
         * @return {?}
         */
        function (view) {
            switch (view) {
                case CellView.TEXT:
                    return this.textTemplate;
                case CellView.CHIP:
                    return this.chipTemplate;
                case CellView.LINK:
                    return this.linkTemplate;
                case CellView.IMAGE:
                    return this.imageTemplate;
                case CellView.CHECKBOX:
                    return this.checkboxTemplate;
                case CellView.BOLD:
                    return this.boldTemplate;
                case CellView.ITALIC:
                    return this.italicTemplate;
                case CellView.CUSTOM:
                    return this.customTemplate;
                case CellView.FUNCTION:
                    return this.functionTemplate;
                default:
                    return this.textTemplate;
            }
        };
        ViewTemplatesComponent.decorators = [
            { type: core.Component, args: [{
                        template: "\n\n\t\t<ng-template #text let-element=\"element\">\n\t\t\t<span [innerHTML]=\"element | guiSafe: 'html'\"></span>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-element=\"element\">\n\t\t\t<span class=\"gui-cell-number\">\n\t\t\t\t{{ element }}\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #chip let-element=\"element\">\n\t\t\t<gui-chip>\n\t\t\t\t<span [innerHTML]=\"element | guiSafe: 'html'\"></span>\n\t\t\t</gui-chip>\n\t\t</ng-template>\n\n\t\t<ng-template #link let-element=\"element\">\n\t\t\t<a gui-button link=\"true\" href=\"{{ element }}\">\n\t\t\t\t<span [innerHTML]=\"element | guiSafe: 'html'\"></span>\n\t\t\t</a>\n\t\t</ng-template>\n\n\t\t<ng-template #image let-element=\"element\">\n\t\t\t<img src=\"{{ element }}\"/>\n\t\t</ng-template>\n\n\t\t<ng-template #checkbox let-element=\"element\">\n\t\t\t<span class=\"gui-cell-boolean\">\n\t\t\t\t<gui-checkbox [checked]=\"!!element\" [disabled]=\"true\"></gui-checkbox>\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bold let-element=\"element\">\n\t\t\t<span class=\"gui-bold\" [innerHTML]=\"element | guiSafe: 'html'\"></span>\n\t\t</ng-template>\n\n\t\t<ng-template #italic let-element=\"element\">\n\t\t\t<span class=\"gui-italic\" [innerHTML]=\"element | guiSafe: 'html'\"></span>\n\t\t</ng-template>\n\n\t\t<ng-template #custom let-element=\"element\">\n\t\t\t{{ element }}\n\t\t</ng-template>\n\n\t\t<ng-template #function let-element=\"element\">\n\t\t\t<gui-function-view [element]=\"element\"></gui-function-view>\n\t\t</ng-template>\n\n\t"
                    }] }
        ];
        ViewTemplatesComponent.propDecorators = {
            textTemplate: [{ type: core.ViewChild, args: ['text', { read: core.TemplateRef, static: true },] }],
            numberTemplate: [{ type: core.ViewChild, args: ['number', { read: core.TemplateRef, static: true },] }],
            chipTemplate: [{ type: core.ViewChild, args: ['chip', { read: core.TemplateRef, static: true },] }],
            linkTemplate: [{ type: core.ViewChild, args: ['link', { read: core.TemplateRef, static: true },] }],
            imageTemplate: [{ type: core.ViewChild, args: ['image', { read: core.TemplateRef, static: true },] }],
            checkboxTemplate: [{ type: core.ViewChild, args: ['checkbox', { read: core.TemplateRef, static: true },] }],
            boldTemplate: [{ type: core.ViewChild, args: ['bold', { read: core.TemplateRef, static: true },] }],
            italicTemplate: [{ type: core.ViewChild, args: ['italic', { read: core.TemplateRef, static: true },] }],
            customTemplate: [{ type: core.ViewChild, args: ['custom', { read: core.TemplateRef, static: true },] }],
            functionTemplate: [{ type: core.ViewChild, args: ['function', { read: core.TemplateRef, static: true },] }]
        };
        return ViewTemplatesComponent;
    }());
    if (false) {
        /** @type {?} */
        ViewTemplatesComponent.prototype.textTemplate;
        /** @type {?} */
        ViewTemplatesComponent.prototype.numberTemplate;
        /** @type {?} */
        ViewTemplatesComponent.prototype.chipTemplate;
        /** @type {?} */
        ViewTemplatesComponent.prototype.linkTemplate;
        /** @type {?} */
        ViewTemplatesComponent.prototype.imageTemplate;
        /** @type {?} */
        ViewTemplatesComponent.prototype.checkboxTemplate;
        /** @type {?} */
        ViewTemplatesComponent.prototype.boldTemplate;
        /** @type {?} */
        ViewTemplatesComponent.prototype.italicTemplate;
        /** @type {?} */
        ViewTemplatesComponent.prototype.customTemplate;
        /** @type {?} */
        ViewTemplatesComponent.prototype.functionTemplate;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @template T
     */
    var /**
     * @template T
     */
    ChangedValueEmitter = /** @class */ (function () {
        function ChangedValueEmitter() {
            this.subject$ = new rxjs.ReplaySubject(1);
        }
        /**
         * @param {?} value
         * @return {?}
         */
        ChangedValueEmitter.prototype.emit = /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.subject$.next(value);
        };
        /**
         * @return {?}
         */
        ChangedValueEmitter.prototype.on = /**
         * @return {?}
         */
        function () {
            return this.subject$.asObservable();
        };
        return ChangedValueEmitter;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ChangedValueEmitter.prototype.subject$;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var EditEventType = {
        SUBMIT: 0,
        BLUR: 1,
        CANCEL: 2,
    };
    EditEventType[EditEventType.SUBMIT] = 'SUBMIT';
    EditEventType[EditEventType.BLUR] = 'BLUR';
    EditEventType[EditEventType.CANCEL] = 'CANCEL';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     * @template T
     */
    var EditCommunicationComponent = /** @class */ (function (_super) {
        __extends(EditCommunicationComponent, _super);
        function EditCommunicationComponent() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.ENTER_KEY_CODE = 13;
            _this.ESC_KEY_CODE = 27;
            return _this;
        }
        /**
         * @return {?}
         */
        EditCommunicationComponent.prototype.submit = /**
         * @return {?}
         */
        function () {
            this.emitStatus(EditEventType.SUBMIT);
        };
        /**
         * @return {?}
         */
        EditCommunicationComponent.prototype.cancel = /**
         * @return {?}
         */
        function () {
            this.emitStatus(EditEventType.CANCEL);
        };
        /**
         * @private
         * @param {?} status
         * @return {?}
         */
        EditCommunicationComponent.prototype.emitStatus = /**
         * @private
         * @param {?} status
         * @return {?}
         */
        function (status) {
            if (this.status) {
                this.status.emit(status);
            }
        };
        EditCommunicationComponent.propDecorators = {
            value: [{ type: core.Input }],
            valueChanges: [{ type: core.Input }],
            status: [{ type: core.Input }],
            focus: [{ type: core.Input }]
        };
        return EditCommunicationComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        EditCommunicationComponent.prototype.value;
        /** @type {?} */
        EditCommunicationComponent.prototype.valueChanges;
        /** @type {?} */
        EditCommunicationComponent.prototype.status;
        /** @type {?} */
        EditCommunicationComponent.prototype.focus;
        /**
         * @type {?}
         * @protected
         */
        EditCommunicationComponent.prototype.ENTER_KEY_CODE;
        /**
         * @type {?}
         * @protected
         */
        EditCommunicationComponent.prototype.ESC_KEY_CODE;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     * @template T
     */
    var InputEditTemplateComponent = /** @class */ (function (_super) {
        __extends(InputEditTemplateComponent, _super);
        function InputEditTemplateComponent(formBuilder) {
            var _a;
            var _this = _super.call(this) || this;
            _this.formBuilder = formBuilder;
            _this.filterFieldName = 'phrase';
            _this.filterForm = _this.formBuilder.group((_a = {},
                _a[_this.filterFieldName] = [''],
                _a));
            return _this;
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        InputEditTemplateComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
        function (changes) {
            if (changes.value !== undefined) {
                this.filterForm.get(this.filterFieldName).setValue(this.value);
            }
        };
        /**
         * @return {?}
         */
        InputEditTemplateComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            this.observeChanges();
        };
        /**
         * @return {?}
         */
        InputEditTemplateComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            /** @type {?} */
            var inputElement = this.inputRef.nativeElement;
            this.focusField(inputElement);
            this.emitValueChange(inputElement.value);
            rxjs.fromEvent(inputElement, 'blur')
                .pipe(this.takeUntil())
                .subscribe((/**
             * @return {?}
             */
            function () {
                _this.unsubscribe();
                _this.submit();
            }));
            /** @type {?} */
            var keyup$ = rxjs.fromEvent(inputElement, 'keyup');
            keyup$
                .pipe(operators.filter((/**
             * @param {?} e
             * @return {?}
             */
            function (e) { return e.keyCode === _this.ENTER_KEY_CODE; })), this.takeUntil())
                .subscribe((/**
             * @return {?}
             */
            function () {
                _this.unsubscribe();
                _this.submit();
            }));
            keyup$
                .pipe(operators.filter((/**
             * @param {?} e
             * @return {?}
             */
            function (e) { return e.keyCode === _this.ESC_KEY_CODE; })), this.takeUntil())
                .subscribe((/**
             * @return {?}
             */
            function () {
                _this.unsubscribe();
                _this.cancel();
            }));
        };
        /**
         * @param {?} inputElement
         * @return {?}
         */
        InputEditTemplateComponent.prototype.focusField = /**
         * @param {?} inputElement
         * @return {?}
         */
        function (inputElement) {
            if (this.focus) {
                inputElement.focus();
            }
        };
        /**
         * @private
         * @return {?}
         */
        InputEditTemplateComponent.prototype.observeChanges = /**
         * @private
         * @return {?}
         */
        function () {
            var _this = this;
            this.filterForm
                .controls[this.filterFieldName]
                .valueChanges
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} value
             * @return {?}
             */
            function (value) {
                _this.emitValueChange(value);
            }));
        };
        /**
         * @private
         * @param {?} value
         * @return {?}
         */
        InputEditTemplateComponent.prototype.emitValueChange = /**
         * @private
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (this.valueChanges) {
                this.valueChanges.emit(value);
            }
        };
        InputEditTemplateComponent.propDecorators = {
            inputRef: [{ type: core.ViewChild, args: ['input', { static: true },] }]
        };
        return InputEditTemplateComponent;
    }(EditCommunicationComponent));
    if (false) {
        /** @type {?} */
        InputEditTemplateComponent.prototype.inputRef;
        /** @type {?} */
        InputEditTemplateComponent.prototype.filterForm;
        /** @type {?} */
        InputEditTemplateComponent.prototype.filterFieldName;
        /**
         * @type {?}
         * @private
         */
        InputEditTemplateComponent.prototype.formBuilder;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NumberEditTemplateComponent = /** @class */ (function (_super) {
        __extends(NumberEditTemplateComponent, _super);
        function NumberEditTemplateComponent(fb) {
            return _super.call(this, fb) || this;
        }
        NumberEditTemplateComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-number-edit',
                        template: "\n\n\t\t<form [formGroup]=\"filterForm\" >\n\t\t\t<input #input [formControlName]=\"filterFieldName\" type=\"number\" class=\"gui-input\" />\n\t\t</form>\n\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        NumberEditTemplateComponent.ctorParameters = function () { return [
            { type: forms.FormBuilder }
        ]; };
        return NumberEditTemplateComponent;
    }(InputEditTemplateComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * Override decorator
     *
     * class Car {
     *     drive() {}
     * }
     *
     * class FastCar {
     * \@Override
     *     drive() {}}
     * }
     * @param {?} container
     * @param {?} key
     * @return {?}
     */
    function Override(container, key) {
        /** @type {?} */
        var basePrototype = Object.getPrototypeOf(container);
        if (typeof basePrototype[key] !== 'function') {
            throw new Error('Method "' + key + '" of class "' + container.constructor.name + '" doesn\'t override any method of base class.');
        }
    }
    ;

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StringEditTemplateComponent = /** @class */ (function (_super) {
        __extends(StringEditTemplateComponent, _super);
        function StringEditTemplateComponent(fb) {
            return _super.call(this, fb) || this;
        }
        /**
         * @param {?} inputElement
         * @return {?}
         */
        StringEditTemplateComponent.prototype.focusField = /**
         * @param {?} inputElement
         * @return {?}
         */
        function (inputElement) {
            if (this.focus) {
                inputElement.focus();
                inputElement.setSelectionRange(0, inputElement.value.length);
            }
        };
        StringEditTemplateComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-string-edit',
                        template: "\n\n\t\t<form [formGroup]=\"filterForm\" >\n\t\t\t<input #input [formControlName]=\"filterFieldName\" type=\"type\" class=\"gui-input\" />\n\t\t</form>\n\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StringEditTemplateComponent.ctorParameters = function () { return [
            { type: forms.FormBuilder }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Object]),
            __metadata("design:returntype", void 0)
        ], StringEditTemplateComponent.prototype, "focusField", null);
        return StringEditTemplateComponent;
    }(InputEditTemplateComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var EditTemplatesComponent = /** @class */ (function () {
        function EditTemplatesComponent() {
        }
        /**
         * @param {?} dataType
         * @return {?}
         */
        EditTemplatesComponent.prototype.getTemplate = /**
         * @param {?} dataType
         * @return {?}
         */
        function (dataType) {
            switch (dataType) {
                case DataType.STRING:
                    return this.stringTemplate;
                case DataType.NUMBER:
                    return this.numberTemplate;
                case DataType.BOOLEAN:
                    return this.booleanTemplate;
                default:
                    return this.emptyTemplate;
            }
        };
        EditTemplatesComponent.decorators = [
            { type: core.Component, args: [{
                        template: "\n\n\t\t<ng-template #string let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\" >\n\t\t\t<gui-string-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-string-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\" >\n\t\t\t<gui-number-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-number-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #boolean let-valueChanges=\"valueChanges\" let-value=\"value\" let-status=\"status\" let-focus=\"focus\" >\n\t\t\t<gui-boolean-edit [valueChanges]=\"valueChanges\" [value]=\"value\" [status]=\"status\" [focus]=\"focus\">\n\t\t\t</gui-boolean-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #empty>\n\n\t\t</ng-template>\n\n\t"
                    }] }
        ];
        EditTemplatesComponent.propDecorators = {
            stringTemplate: [{ type: core.ViewChild, args: ['string', { read: core.TemplateRef, static: true },] }],
            numberTemplate: [{ type: core.ViewChild, args: ['number', { read: core.TemplateRef, static: true },] }],
            booleanTemplate: [{ type: core.ViewChild, args: ['boolean', { read: core.TemplateRef, static: true },] }],
            emptyTemplate: [{ type: core.ViewChild, args: ['empty', { read: core.TemplateRef, static: true },] }]
        };
        return EditTemplatesComponent;
    }());
    if (false) {
        /** @type {?} */
        EditTemplatesComponent.prototype.stringTemplate;
        /** @type {?} */
        EditTemplatesComponent.prototype.numberTemplate;
        /** @type {?} */
        EditTemplatesComponent.prototype.booleanTemplate;
        /** @type {?} */
        EditTemplatesComponent.prototype.emptyTemplate;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BooleanEditTemplateComponent = /** @class */ (function (_super) {
        __extends(BooleanEditTemplateComponent, _super);
        function BooleanEditTemplateComponent() {
            var _this = _super.call(this) || this;
            _this.filterFieldName = 'booleanEdit';
            return _this;
        }
        /**
         * @return {?}
         */
        BooleanEditTemplateComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            /** @type {?} */
            var inputElement = this.checkboxRef.nativeElement.querySelector('input[type="checkbox"]');
            inputElement.focus();
            rxjs.fromEvent(inputElement, 'blur')
                .pipe(operators.debounceTime(400), this.takeUntil())
                .subscribe((/**
             * @return {?}
             */
            function () {
                _this.unsubscribe();
                _this.submit();
            }));
        };
        /**
         * @param {?} changed
         * @return {?}
         */
        BooleanEditTemplateComponent.prototype.toggle = /**
         * @param {?} changed
         * @return {?}
         */
        function (changed) {
            this.valueChanges.emit(changed);
        };
        BooleanEditTemplateComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-boolean-edit',
                        template: "\n\n\t\t<gui-checkbox #checkbox\n\t\t\t\t\t  [checked]=\"value\"\n\t\t\t\t\t  [name]=\"filterFieldName\"\n\t\t\t\t\t  (changed)=\"toggle($event)\">\n\t\t</gui-checkbox>\n\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        BooleanEditTemplateComponent.ctorParameters = function () { return []; };
        BooleanEditTemplateComponent.propDecorators = {
            checkboxRef: [{ type: core.ViewChild, args: ['checkbox', { read: core.ElementRef, static: true },] }]
        };
        return BooleanEditTemplateComponent;
    }(EditCommunicationComponent));
    if (false) {
        /** @type {?} */
        BooleanEditTemplateComponent.prototype.checkboxRef;
        /** @type {?} */
        BooleanEditTemplateComponent.prototype.filterFieldName;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnQueryComponent = /** @class */ (function () {
        function ColumnQueryComponent() {
        }
        ColumnQueryComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-column',
                        template: ''
                    }] }
        ];
        ColumnQueryComponent.propDecorators = {
            cellTemplate: [{ type: core.ContentChild, args: [core.TemplateRef, { static: false },] }],
            header: [{ type: core.Input }]
        };
        return ColumnQueryComponent;
    }());
    if (false) {
        /** @type {?} */
        ColumnQueryComponent.prototype.cellTemplate;
        /** @type {?} */
        ColumnQueryComponent.prototype.headerTemplate;
        /** @type {?} */
        ColumnQueryComponent.prototype.header;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FunctionViewComponent = /** @class */ (function () {
        function FunctionViewComponent(sanitizer) {
            this.sanitizer = sanitizer;
        }
        /**
         * @return {?}
         */
        FunctionViewComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
        function () {
            this.safeHTML = this.sanitizer.bypassSecurityTrustHtml(this.element);
        };
        FunctionViewComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-function-view',
                        template: "\n\n\t\t<div [innerHTML]=\"safeHTML\"></div>\n\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush
                    }] }
        ];
        /** @nocollapse */
        FunctionViewComponent.ctorParameters = function () { return [
            { type: platformBrowser.DomSanitizer }
        ]; };
        FunctionViewComponent.propDecorators = {
            element: [{ type: core.Input }]
        };
        return FunctionViewComponent;
    }());
    if (false) {
        /** @type {?} */
        FunctionViewComponent.prototype.element;
        /** @type {?} */
        FunctionViewComponent.prototype.safeHTML;
        /**
         * @type {?}
         * @private
         */
        FunctionViewComponent.prototype.sanitizer;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InMemoryCompositionStore = /** @class */ (function (_super) {
        __extends(InMemoryCompositionStore, _super);
        function InMemoryCompositionStore() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        InMemoryCompositionStore.decorators = [
            { type: core.Injectable }
        ];
        return InMemoryCompositionStore;
    }(hermes.InMemoryStore));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InMemoryCompositionAggregateStore = /** @class */ (function (_super) {
        __extends(InMemoryCompositionAggregateStore, _super);
        function InMemoryCompositionAggregateStore(inMemoryCompositionStore, aggregateStoreRegister) {
            return _super.call(this, inMemoryCompositionStore, aggregateStoreRegister) || this;
        }
        InMemoryCompositionAggregateStore.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        InMemoryCompositionAggregateStore.ctorParameters = function () { return [
            { type: InMemoryCompositionStore },
            { type: hermes.AggregateStoreRegister }
        ]; };
        return InMemoryCompositionAggregateStore;
    }(hermes.InMemoryAggregateStore));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var   /**
     * @abstract
     */
    CompositionAggregateRepository = /** @class */ (function () {
        function CompositionAggregateRepository() {
        }
        return CompositionAggregateRepository;
    }());
    if (false) {
        /**
         * @abstract
         * @param {?} compositionId
         * @return {?}
         */
        CompositionAggregateRepository.prototype.getById = function (compositionId) { };
        /**
         * @abstract
         * @param {?} aggregate
         * @return {?}
         */
        CompositionAggregateRepository.prototype.save = function (aggregate) { };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InMemoryCompositionAggregateRepository = /** @class */ (function (_super) {
        __extends(InMemoryCompositionAggregateRepository, _super);
        function InMemoryCompositionAggregateRepository(inMemoryCompositionAggregateStore) {
            var _this = _super.call(this) || this;
            _this.inMemoryCompositionAggregateStore = inMemoryCompositionAggregateStore;
            return _this;
        }
        /**
         * @param {?} aggregateId
         * @return {?}
         */
        InMemoryCompositionAggregateRepository.prototype.getById = /**
         * @param {?} aggregateId
         * @return {?}
         */
        function (aggregateId) {
            return this.inMemoryCompositionAggregateStore.getById(aggregateId);
        };
        /**
         * @param {?} aggregate
         * @return {?}
         */
        InMemoryCompositionAggregateRepository.prototype.save = /**
         * @param {?} aggregate
         * @return {?}
         */
        function (aggregate) {
            this.inMemoryCompositionAggregateStore.save(aggregate);
        };
        InMemoryCompositionAggregateRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        InMemoryCompositionAggregateRepository.ctorParameters = function () { return [
            { type: InMemoryCompositionAggregateStore }
        ]; };
        return InMemoryCompositionAggregateRepository;
    }(CompositionAggregateRepository));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        InMemoryCompositionAggregateRepository.prototype.inMemoryCompositionAggregateStore;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     * @template T
     */
    var   /**
     * @abstract
     * @template T
     */
    TemplateFactory = /** @class */ (function () {
        function TemplateFactory(templatesComponentDefinition, componentFactoryResolver) {
            this.templatesComponentDefinition = templatesComponentDefinition;
            this.componentFactoryResolver = componentFactoryResolver;
            this.templates = new Map();
            this.templatesComponent = null;
            this.createTemplatesComponent();
        }
        /**
         * @return {?}
         */
        TemplateFactory.prototype.getTemplates = /**
         * @return {?}
         */
        function () {
            return this.templates;
        };
        /**
         * @return {?}
         */
        TemplateFactory.prototype.destroy = /**
         * @return {?}
         */
        function () {
            if (this.templatesComponent) {
                this.templatesComponent.destroy();
                this.templatesComponent = null;
            }
        };
        /**
         * @private
         * @return {?}
         */
        TemplateFactory.prototype.createTemplatesComponent = /**
         * @private
         * @return {?}
         */
        function () {
            /** @type {?} */
            var componentFactory = this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition);
            /** @type {?} */
            var injector = core.Injector.create({ providers: [] });
            this.templatesComponent = componentFactory.create(injector);
            this.generateMap();
        };
        /**
         * @private
         * @return {?}
         */
        TemplateFactory.prototype.generateMap = /**
         * @private
         * @return {?}
         */
        function () {
            var _this = this;
            this.generateMapKeys()
                .forEach((/**
             * @param {?} type
             * @return {?}
             */
            function (type) {
                _this.findAndSetTemplate(type);
            }));
        };
        ;
        /**
         * @private
         * @param {?} dt
         * @return {?}
         */
        TemplateFactory.prototype.findAndSetTemplate = /**
         * @private
         * @param {?} dt
         * @return {?}
         */
        function (dt) {
            /** @type {?} */
            var template = this.templatesComponent.instance.getTemplate(dt);
            this.templates.set(dt, template);
        };
        return TemplateFactory;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        TemplateFactory.prototype.templates;
        /**
         * @type {?}
         * @private
         */
        TemplateFactory.prototype.templatesComponent;
        /**
         * @type {?}
         * @private
         */
        TemplateFactory.prototype.templatesComponentDefinition;
        /**
         * @type {?}
         * @private
         */
        TemplateFactory.prototype.componentFactoryResolver;
        /* Skipping unhandled member: ;*/
        /**
         * @abstract
         * @return {?}
         */
        TemplateFactory.prototype.generateMapKeys = function () { };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ViewTemplateFactory = /** @class */ (function (_super) {
        __extends(ViewTemplateFactory, _super);
        function ViewTemplateFactory(componentFactoryResolver) {
            return _super.call(this, ViewTemplatesComponent, componentFactoryResolver) || this;
        }
        /**
         * @return {?}
         */
        ViewTemplateFactory.prototype.generateMapKeys = /**
         * @return {?}
         */
        function () {
            return Object.keys(CellView)
                .map((/**
             * @param {?} key
             * @return {?}
             */
            function (key) { return CellView[key]; }));
        };
        ViewTemplateFactory.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        ViewTemplateFactory.ctorParameters = function () { return [
            { type: core.ComponentFactoryResolver }
        ]; };
        return ViewTemplateFactory;
    }(TemplateFactory));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ViewTemplateRepository = /** @class */ (function () {
        function ViewTemplateRepository(columnTemplateFactory) {
            this.columnTemplateFactory = columnTemplateFactory;
        }
        /**
         * @param {?} view
         * @return {?}
         */
        ViewTemplateRepository.prototype.findTemplate = /**
         * @param {?} view
         * @return {?}
         */
        function (view) {
            /** @type {?} */
            var typeToTemplate = this.columnTemplateFactory.getTemplates();
            return typeToTemplate.get(view);
        };
        ViewTemplateRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        ViewTemplateRepository.ctorParameters = function () { return [
            { type: ViewTemplateFactory }
        ]; };
        return ViewTemplateRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ViewTemplateRepository.prototype.columnTemplateFactory;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var EditTemplateFactory = /** @class */ (function (_super) {
        __extends(EditTemplateFactory, _super);
        function EditTemplateFactory(componentFactoryResolver) {
            return _super.call(this, EditTemplatesComponent, componentFactoryResolver) || this;
        }
        /**
         * @return {?}
         */
        EditTemplateFactory.prototype.generateMapKeys = /**
         * @return {?}
         */
        function () {
            return Object.keys(DataType)
                .map((/**
             * @param {?} key
             * @return {?}
             */
            function (key) { return DataType[key]; }));
        };
        EditTemplateFactory.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        EditTemplateFactory.ctorParameters = function () { return [
            { type: core.ComponentFactoryResolver }
        ]; };
        return EditTemplateFactory;
    }(TemplateFactory));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var EditTemplateRepository = /** @class */ (function () {
        function EditTemplateRepository(editTemplateFactory) {
            this.editTemplateFactory = editTemplateFactory;
        }
        /**
         * @param {?} dataType
         * @return {?}
         */
        EditTemplateRepository.prototype.findTemplate = /**
         * @param {?} dataType
         * @return {?}
         */
        function (dataType) {
            /** @type {?} */
            var typeToTemplate = this.editTemplateFactory.getTemplates();
            return typeToTemplate.get(dataType);
        };
        EditTemplateRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        EditTemplateRepository.ctorParameters = function () { return [
            { type: EditTemplateFactory }
        ]; };
        return EditTemplateRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        EditTemplateRepository.prototype.editTemplateFactory;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var SortStatus = {
        ASC: 0,
        DESC: 1,
        NONE: 2,
    };
    SortStatus[SortStatus.ASC] = 'ASC';
    SortStatus[SortStatus.DESC] = 'DESC';
    SortStatus[SortStatus.NONE] = 'NONE';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ViewEntity = /** @class */ (function () {
        function ViewEntity(columnView) {
            this.templateFunction = (/**
             * @param {?} value
             * @return {?}
             */
            function (value) { return value; });
            if (typeof columnView === 'function') {
                this.view = CellView.FUNCTION;
                this.templateFunction = columnView;
            }
            else {
                this.view = columnView;
            }
        }
        /**
         * @return {?}
         */
        ViewEntity.prototype.getCellView = /**
         * @return {?}
         */
        function () {
            return this.view;
        };
        /**
         * @return {?}
         */
        ViewEntity.prototype.getTemplateFunction = /**
         * @return {?}
         */
        function () {
            return this.templateFunction;
        };
        return ViewEntity;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ViewEntity.prototype.view;
        /**
         * @type {?}
         * @private
         */
        ViewEntity.prototype.templateFunction;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnEntity = /** @class */ (function () {
        function ColumnEntity(columnId, columnField, columnConfig, header, view, width) {
            this.sortStatus = SortStatus.NONE;
            this.enabled = true;
            this.view = new ViewEntity(CellView.TEXT);
            this.columnId = columnId;
            this.columnField = columnField;
            this.columnConfig = columnConfig;
            if (header) {
                this.header = header;
            }
            if (view) {
                this.view = view;
            }
            if (width) {
                this.width = width;
            }
        }
        /**
         * @return {?}
         */
        ColumnEntity.prototype.getColumnConfig = /**
         * @return {?}
         */
        function () {
            return this.columnConfig;
        };
        /**
         * @return {?}
         */
        ColumnEntity.prototype.getColumnId = /**
         * @return {?}
         */
        function () {
            return this.columnId;
        };
        /**
         * @return {?}
         */
        ColumnEntity.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled;
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        ColumnEntity.prototype.setEnabled = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.enabled = enabled;
        };
        /**
         * @return {?}
         */
        ColumnEntity.prototype.getField = /**
         * @return {?}
         */
        function () {
            return this.columnField;
        };
        /**
         * @return {?}
         */
        ColumnEntity.prototype.getHeader = /**
         * @return {?}
         */
        function () {
            return this.header;
        };
        /**
         * @return {?}
         */
        ColumnEntity.prototype.getDataType = /**
         * @return {?}
         */
        function () {
            return this.columnField.getDataType();
        };
        /**
         * @return {?}
         */
        ColumnEntity.prototype.getCellView = /**
         * @return {?}
         */
        function () {
            return this.view.getCellView();
        };
        /**
         * @return {?}
         */
        ColumnEntity.prototype.getTemplateFunction = /**
         * @return {?}
         */
        function () {
            return this.view.getTemplateFunction();
        };
        /**
         * @param {?} status
         * @return {?}
         */
        ColumnEntity.prototype.setSortStatus = /**
         * @param {?} status
         * @return {?}
         */
        function (status) {
            this.sortStatus = status;
        };
        /**
         * @param {?} view
         * @return {?}
         */
        ColumnEntity.prototype.setView = /**
         * @param {?} view
         * @return {?}
         */
        function (view) {
            this.view = view;
        };
        /**
         * @return {?}
         */
        ColumnEntity.prototype.getView = /**
         * @return {?}
         */
        function () {
            return this.view;
        };
        return ColumnEntity;
    }());
    if (false) {
        /** @type {?} */
        ColumnEntity.prototype.columnId;
        /** @type {?} */
        ColumnEntity.prototype.columnField;
        /** @type {?} */
        ColumnEntity.prototype.header;
        /** @type {?} */
        ColumnEntity.prototype.sortStatus;
        /** @type {?} */
        ColumnEntity.prototype.width;
        /** @type {?} */
        ColumnEntity.prototype.sortable;
        /**
         * @type {?}
         * @private
         */
        ColumnEntity.prototype.enabled;
        /**
         * @type {?}
         * @private
         */
        ColumnEntity.prototype.columnConfig;
        /**
         * @type {?}
         * @private
         */
        ColumnEntity.prototype.view;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CellTemplateWithContext = /** @class */ (function () {
        function CellTemplateWithContext(viewTemplate, editTemplate, context, width, fieldId, columnId, sortStatus, enabled) {
            this.viewTemplate = viewTemplate;
            this.editTemplate = editTemplate;
            this.context = context;
            this.width = width;
            this.fieldId = fieldId;
            this.columnId = columnId;
            this.sortStatus = sortStatus;
            this.enabled = enabled;
        }
        /**
         * @return {?}
         */
        CellTemplateWithContext.prototype.getColumnId = /**
         * @return {?}
         */
        function () {
            return this.columnId;
        };
        /**
         * @return {?}
         */
        CellTemplateWithContext.prototype.getFieldId = /**
         * @return {?}
         */
        function () {
            return this.fieldId;
        };
        /**
         * @return {?}
         */
        CellTemplateWithContext.prototype.getSortStatus = /**
         * @return {?}
         */
        function () {
            return this.sortStatus;
        };
        /**
         * @return {?}
         */
        CellTemplateWithContext.prototype.isAscSort = /**
         * @return {?}
         */
        function () {
            return this.sortStatus === SortStatus.ASC;
        };
        /**
         * @return {?}
         */
        CellTemplateWithContext.prototype.isDescSort = /**
         * @return {?}
         */
        function () {
            return this.sortStatus === SortStatus.DESC;
        };
        /**
         * @return {?}
         */
        CellTemplateWithContext.prototype.isNoSort = /**
         * @return {?}
         */
        function () {
            return this.sortStatus === SortStatus.NONE;
        };
        /**
         * @return {?}
         */
        CellTemplateWithContext.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled;
        };
        return CellTemplateWithContext;
    }());
    if (false) {
        /** @type {?} */
        CellTemplateWithContext.prototype.viewTemplate;
        /** @type {?} */
        CellTemplateWithContext.prototype.editTemplate;
        /** @type {?} */
        CellTemplateWithContext.prototype.context;
        /** @type {?} */
        CellTemplateWithContext.prototype.width;
        /**
         * @type {?}
         * @private
         */
        CellTemplateWithContext.prototype.fieldId;
        /**
         * @type {?}
         * @private
         */
        CellTemplateWithContext.prototype.columnId;
        /**
         * @type {?}
         * @private
         */
        CellTemplateWithContext.prototype.sortStatus;
        /**
         * @type {?}
         * @private
         */
        CellTemplateWithContext.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CellContext = /** @class */ (function () {
        function CellContext(element) {
            this.element = element;
        }
        return CellContext;
    }());
    if (false) {
        /** @type {?} */
        CellContext.prototype.element;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FieldId = /** @class */ (function () {
        function FieldId(id) {
            this.id = id;
        }
        /**
         * @return {?}
         */
        FieldId.prototype.getId = /**
         * @return {?}
         */
        function () {
            return this.id;
        };
        /**
         * @return {?}
         */
        FieldId.prototype.toString = /**
         * @return {?}
         */
        function () {
            return this.id;
        };
        /**
         * @param {?} fieldId
         * @return {?}
         */
        FieldId.prototype.equals = /**
         * @param {?} fieldId
         * @return {?}
         */
        function (fieldId) {
            return fieldId.getId() === this.id;
        };
        return FieldId;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FieldId.prototype.id;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CellTemplateWithAccessor = /** @class */ (function () {
        function CellTemplateWithAccessor(template, editTemplate, editable, accessor, width, columnFieldId, type, // REFACTOR
        view) {
            this.template = template;
            this.editTemplate = editTemplate;
            this.editable = editable;
            this.accessor = accessor;
            this.width = width;
            this.columnFieldId = columnFieldId;
            this.type = type;
            this.view = view;
        }
        /**
         * @param {?} entity
         * @param {?=} searchPhrase
         * @return {?}
         */
        CellTemplateWithAccessor.prototype.getValue = /**
         * @param {?} entity
         * @param {?=} searchPhrase
         * @return {?}
         */
        function (entity, searchPhrase) {
            /** @type {?} */
            var value = this.accessor(entity);
            if (this.type !== DataType.STRING) {
                return value;
            }
            if (this.view && this.view.getCellView() === CellView.FUNCTION) {
                return value;
            }
            if (searchPhrase) {
                /** @type {?} */
                var txt = '' + this.accessor(entity);
                /** @type {?} */
                var lowerCasedText = txt.toLocaleLowerCase();
                /** @type {?} */
                var loweredSearchPhrase = searchPhrase.toLocaleLowerCase();
                /** @type {?} */
                var positions = [];
                /** @type {?} */
                var index = 0;
                while (index < loweredSearchPhrase.length) {
                    /** @type {?} */
                    var found = lowerCasedText.indexOf(loweredSearchPhrase, index);
                    if (found >= 0) {
                        positions.push(found);
                        index = found + searchPhrase.length;
                        continue;
                    }
                    else {
                        index = loweredSearchPhrase.length;
                    }
                }
                /** @type {?} */
                var arr_1 = txt.split('');
                positions.forEach((/**
                 * @param {?} pos
                 * @return {?}
                 */
                function (pos) {
                    for (var i = 0; i < searchPhrase.length; i += 1) {
                        /** @type {?} */
                        var ph = void 0;
                        if (i === 0) {
                            ph = "<span class=\"gui-text-highlight\">" + arr_1[pos + i];
                        }
                        else {
                            ph = arr_1[pos + i];
                        }
                        if (i === searchPhrase.length - 1) {
                            ph += "</span>";
                        }
                        arr_1[pos + i] = ph;
                    }
                }));
                txt = arr_1.join('');
                return txt;
            }
            else {
                return this.accessor(entity);
            }
        };
        return CellTemplateWithAccessor;
    }());
    if (false) {
        /** @type {?} */
        CellTemplateWithAccessor.prototype.template;
        /** @type {?} */
        CellTemplateWithAccessor.prototype.editTemplate;
        /** @type {?} */
        CellTemplateWithAccessor.prototype.editable;
        /** @type {?} */
        CellTemplateWithAccessor.prototype.accessor;
        /** @type {?} */
        CellTemplateWithAccessor.prototype.width;
        /** @type {?} */
        CellTemplateWithAccessor.prototype.columnFieldId;
        /**
         * @type {?}
         * @private
         */
        CellTemplateWithAccessor.prototype.type;
        /**
         * @type {?}
         * @private
         */
        CellTemplateWithAccessor.prototype.view;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnDefinition = /** @class */ (function () {
        function ColumnDefinition(field, columnId, enabled, type, // REFACTOR
        view, // REFACTOR
        header, sort) {
            if (sort === void 0) { sort = SortStatus.NONE; }
            this.type = type;
            this.view = view;
            this.field = field;
            this.columnId = columnId;
            this.enabled = enabled;
            this.header = header;
            this.sortStatus = sort;
        }
        /**
         * @return {?}
         */
        ColumnDefinition.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled;
        };
        /**
         * @param {?} header
         * @return {?}
         */
        ColumnDefinition.prototype.setHeader = /**
         * @param {?} header
         * @return {?}
         */
        function (header) {
            this.header = header;
        };
        /**
         * @param {?} field
         * @return {?}
         */
        ColumnDefinition.prototype.setField = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            this.field = field;
        };
        /**
         * @param {?} index
         * @return {?}
         */
        ColumnDefinition.prototype.getHeaderCellTemplateWithContext = /**
         * @param {?} index
         * @return {?}
         */
        function (index) {
            /** @type {?} */
            var header = this.header;
            /** @type {?} */
            var headerCellContext;
            if (typeof header === 'string') {
                headerCellContext = new CellContext(header);
            }
            else if (typeof header === 'function') {
                headerCellContext = new CellContext(header(index));
            }
            /** @type {?} */
            var fieldId = new FieldId(this.field.getId().getId());
            return new CellTemplateWithContext(this.headerTemplate, this.editTemplate, headerCellContext, this.width, fieldId, this.columnId, this.sortStatus, this.enabled);
        };
        /**
         * @return {?}
         */
        ColumnDefinition.prototype.getContentCellTemplateWithAccessor = /**
         * @return {?}
         */
        function () {
            var _this = this;
            /** @type {?} */
            var accessor = (/**
             * @param {?} entity
             * @return {?}
             */
            function (entity) {
                return _this.templateFunction(_this.field.getAccessor()(entity));
            });
            return new CellTemplateWithAccessor(this.cellTemplate, this.editTemplate, true, accessor, this.width, this.field.getId(), this.type, this.view);
        };
        /**
         * @return {?}
         */
        ColumnDefinition.prototype.getColumn = /**
         * @return {?}
         */
        function () {
        };
        return ColumnDefinition;
    }());
    if (false) {
        /** @type {?} */
        ColumnDefinition.prototype.cellTemplate;
        /** @type {?} */
        ColumnDefinition.prototype.headerTemplate;
        /** @type {?} */
        ColumnDefinition.prototype.editTemplate;
        /** @type {?} */
        ColumnDefinition.prototype.width;
        /** @type {?} */
        ColumnDefinition.prototype.templateFunction;
        /**
         * @type {?}
         * @private
         */
        ColumnDefinition.prototype.columnId;
        /**
         * @type {?}
         * @private
         */
        ColumnDefinition.prototype.field;
        /**
         * @type {?}
         * @private
         */
        ColumnDefinition.prototype.sortStatus;
        /**
         * @type {?}
         * @private
         */
        ColumnDefinition.prototype.header;
        /**
         * @type {?}
         * @private
         */
        ColumnDefinition.prototype.enabled;
        /**
         * @type {?}
         * @private
         */
        ColumnDefinition.prototype.type;
        /**
         * @type {?}
         * @private
         */
        ColumnDefinition.prototype.view;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnDefinitionFactory = /** @class */ (function () {
        function ColumnDefinitionFactory(viewTemplateRepository, editTemplateRepository) {
            this.viewTemplateRepository = viewTemplateRepository;
            this.editTemplateRepository = editTemplateRepository;
        }
        /**
         * @param {?} column
         * @return {?}
         */
        ColumnDefinitionFactory.prototype.create = /**
         * @param {?} column
         * @return {?}
         */
        function (column) {
            if (column instanceof ColumnEntity) {
                return this.createFromColumnEntity(column);
            }
            else {
                return this.createFromActiveColumnEntity(column);
            }
        };
        /**
         * @private
         * @param {?} column
         * @return {?}
         */
        ColumnDefinitionFactory.prototype.createFromColumnEntity = /**
         * @private
         * @param {?} column
         * @return {?}
         */
        function (column) {
            /** @type {?} */
            var columnDef = new ColumnDefinition(column.getField(), column.getColumnId(), column.isEnabled(), column.getDataType(), column.getView(), column.getHeader(), column.sortStatus);
            columnDef.cellTemplate = this.findViewTemplate(column.getCellView());
            columnDef.headerTemplate = this.findViewTemplate(CellView.TEXT);
            columnDef.templateFunction = column.getTemplateFunction();
            columnDef.editTemplate = this.findEditTemplate(column.getDataType());
            columnDef.width = +column.width;
            return columnDef;
        };
        /**
         * @private
         * @param {?} activeColumn
         * @return {?}
         */
        ColumnDefinitionFactory.prototype.createFromActiveColumnEntity = /**
         * @private
         * @param {?} activeColumn
         * @return {?}
         */
        function (activeColumn) {
            /** @type {?} */
            var columnDef = new ColumnDefinition(activeColumn.getField(), activeColumn.getColumnId(), true, // remove,
            activeColumn.getDataType(), activeColumn.getView(), activeColumn.getHeader(), activeColumn.getSortStatus());
            columnDef.cellTemplate = this.findViewTemplate(activeColumn.getCellView());
            columnDef.headerTemplate = this.findViewTemplate(CellView.TEXT);
            columnDef.templateFunction = activeColumn.getTemplateFunction();
            columnDef.editTemplate = this.findEditTemplate(activeColumn.getDataType());
            columnDef.width = +activeColumn.getWidth();
            return columnDef;
        };
        /**
         * @param {?} columns
         * @return {?}
         */
        ColumnDefinitionFactory.prototype.createColumns = /**
         * @param {?} columns
         * @return {?}
         */
        function (columns) {
            var _this = this;
            return columns.map((/**
             * @param {?} column
             * @return {?}
             */
            function (column) { return _this.create(column); }));
        };
        /**
         * @private
         * @param {?} view
         * @return {?}
         */
        ColumnDefinitionFactory.prototype.findViewTemplate = /**
         * @private
         * @param {?} view
         * @return {?}
         */
        function (view) {
            if (view === CellView.FUNCTION) {
                return this.viewTemplateRepository.findTemplate(CellView.FUNCTION);
            }
            else {
                return this.viewTemplateRepository.findTemplate(view);
            }
        };
        /**
         * @private
         * @param {?} dataType
         * @return {?}
         */
        ColumnDefinitionFactory.prototype.findEditTemplate = /**
         * @private
         * @param {?} dataType
         * @return {?}
         */
        function (dataType) {
            return this.editTemplateRepository.findTemplate(dataType);
        };
        ColumnDefinitionFactory.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        ColumnDefinitionFactory.ctorParameters = function () { return [
            { type: ViewTemplateRepository },
            { type: EditTemplateRepository }
        ]; };
        return ColumnDefinitionFactory;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ColumnDefinitionFactory.prototype.viewTemplateRepository;
        /**
         * @type {?}
         * @private
         */
        ColumnDefinitionFactory.prototype.editTemplateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var Composition = /** @class */ (function (_super) {
        __extends(Composition, _super);
        function Composition(uid, ready, allColumns, activeColumns, width, resizeWidth) {
            var _this = _super.call(this, uid) || this;
            _this.ready = ready;
            _this.allColumns = allColumns;
            _this.activeColumns = activeColumns;
            _this.width = width;
            _this.resizeWidth = resizeWidth;
            return _this;
        }
        /**
         * @return {?}
         */
        Composition.prototype.getActiveColumns = /**
         * @return {?}
         */
        function () {
            return this.activeColumns;
        };
        /**
         * @return {?}
         */
        Composition.prototype.getAllColumns = /**
         * @return {?}
         */
        function () {
            return this.allColumns;
        };
        /**
         * @return {?}
         */
        Composition.prototype.getActiveHeaderColumns = /**
         * @return {?}
         */
        function () {
            return this.getActiveColumns()
                .map((/**
             * @param {?} column
             * @param {?} index
             * @return {?}
             */
            function (column, index) { return column.getHeaderCellTemplateWithContext(index); }));
        };
        /**
         * @return {?}
         */
        Composition.prototype.getHeaderColumns = /**
         * @return {?}
         */
        function () {
            return this.getAllColumns()
                .map((/**
             * @param {?} column
             * @param {?} index
             * @return {?}
             */
            function (column, index) { return column.getHeaderCellTemplateWithContext(index); }));
        };
        /**
         * @return {?}
         */
        Composition.prototype.getTemplateColumns = /**
         * @return {?}
         */
        function () {
            return this.getActiveColumns()
                .map((/**
             * @param {?} column
             * @return {?}
             */
            function (column) { return column.getContentCellTemplateWithAccessor(); }));
        };
        /**
         * @return {?}
         */
        Composition.prototype.getWidth = /**
         * @return {?}
         */
        function () {
            return this.width;
        };
        /**
         * @return {?}
         */
        Composition.prototype.getContainerWidth = /**
         * @return {?}
         */
        function () {
            return +this.width - 2;
        };
        /**
         * @return {?}
         */
        Composition.prototype.isReady = /**
         * @return {?}
         */
        function () {
            return this.ready;
        };
        /**
         * @return {?}
         */
        Composition.prototype.isResizeWidthEnabled = /**
         * @return {?}
         */
        function () {
            return this.resizeWidth;
        };
        /**
         * @param {?} composition
         * @return {?}
         */
        Composition.prototype.equals = /**
         * @param {?} composition
         * @return {?}
         */
        function (composition) {
            return this.width === composition.width &&
                this.resizeWidth === composition.resizeWidth &&
                this.equalsByColumns(composition.allColumns);
        };
        /**
         * @param {?} columns
         * @return {?}
         */
        Composition.prototype.equalsByColumns = /**
         * @param {?} columns
         * @return {?}
         */
        function (columns) {
            return this.allColumns.length === columns.length;
        };
        return Composition;
    }(hermes.ReadModel));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        Composition.prototype.ready;
        /**
         * @type {?}
         * @private
         */
        Composition.prototype.allColumns;
        /**
         * @type {?}
         * @private
         */
        Composition.prototype.activeColumns;
        /**
         * @type {?}
         * @private
         */
        Composition.prototype.width;
        /**
         * @type {?}
         * @private
         */
        Composition.prototype.resizeWidth;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionConverter = /** @class */ (function () {
        function CompositionConverter(columnDefinitionFactory) {
            this.columnDefinitionFactory = columnDefinitionFactory;
        }
        /**
         * @param {?} aggregate
         * @return {?}
         */
        CompositionConverter.prototype.convert = /**
         * @param {?} aggregate
         * @return {?}
         */
        function (aggregate) {
            /** @type {?} */
            var ready = aggregate.isReady();
            /** @type {?} */
            var allColumns = aggregate.getColumns();
            /** @type {?} */
            var activeColumns = aggregate.getActiveColumns();
            /** @type {?} */
            var allColumnDefs = this.convertToColumnDef(allColumns);
            /** @type {?} */
            var activeColumnDefs = this.convertActiveColumnsToColumnDef(activeColumns);
            /** @type {?} */
            var width = aggregate.getWidth();
            /** @type {?} */
            var resizeWidth = aggregate.isResizeEnabled();
            /** @type {?} */
            var id = aggregate.getId();
            return new Composition(id, ready, allColumnDefs, activeColumnDefs, width, resizeWidth);
        };
        /**
         * @private
         * @param {?} columns
         * @return {?}
         */
        CompositionConverter.prototype.convertToColumnDef = /**
         * @private
         * @param {?} columns
         * @return {?}
         */
        function (columns) {
            var _this = this;
            /** @type {?} */
            var columnDefs = [];
            columns.forEach((/**
             * @param {?} column
             * @return {?}
             */
            function (column) {
                /** @type {?} */
                var columnDef = _this.columnDefinitionFactory.create(column);
                columnDefs.push(columnDef);
            }));
            return columnDefs;
        };
        /**
         * @private
         * @param {?} activeColumns
         * @return {?}
         */
        CompositionConverter.prototype.convertActiveColumnsToColumnDef = /**
         * @private
         * @param {?} activeColumns
         * @return {?}
         */
        function (activeColumns) {
            var _this = this;
            /** @type {?} */
            var columnDefs = [];
            activeColumns.forEach((/**
             * @param {?} column
             * @return {?}
             */
            function (column) {
                /** @type {?} */
                var columnDef = _this.columnDefinitionFactory.create(column);
                columnDefs.push(columnDef);
            }));
            return columnDefs;
        };
        CompositionConverter.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        CompositionConverter.ctorParameters = function () { return [
            { type: ColumnDefinitionFactory }
        ]; };
        return CompositionConverter;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionConverter.prototype.columnDefinitionFactory;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InMemoryCompositionReadStore = /** @class */ (function (_super) {
        __extends(InMemoryCompositionReadStore, _super);
        function InMemoryCompositionReadStore(inMemoryCompositionStore, compositionConverter) {
            var _this = _super.call(this, inMemoryCompositionStore) || this;
            _this.inMemoryCompositionStore = inMemoryCompositionStore;
            _this.compositionConverter = compositionConverter;
            return _this;
        }
        /**
         * @param {?} aggregate
         * @return {?}
         */
        InMemoryCompositionReadStore.prototype.toReadModel = /**
         * @param {?} aggregate
         * @return {?}
         */
        function (aggregate) {
            return this.compositionConverter.convert(aggregate);
        };
        InMemoryCompositionReadStore.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        InMemoryCompositionReadStore.ctorParameters = function () { return [
            { type: InMemoryCompositionStore },
            { type: CompositionConverter }
        ]; };
        return InMemoryCompositionReadStore;
    }(hermes.InMemoryReadModelStore));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        InMemoryCompositionReadStore.prototype.inMemoryCompositionStore;
        /**
         * @type {?}
         * @private
         */
        InMemoryCompositionReadStore.prototype.compositionConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var   /**
     * @abstract
     */
    CompositionRepository = /** @class */ (function () {
        function CompositionRepository() {
        }
        return CompositionRepository;
    }());
    if (false) {
        /**
         * @abstract
         * @param {?} compositionId
         * @return {?}
         */
        CompositionRepository.prototype.on = function (compositionId) { };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionInitedEvent = /** @class */ (function (_super) {
        __extends(CompositionInitedEvent, _super);
        function CompositionInitedEvent(aggregateId) {
            return _super.call(this, aggregateId, 'CompositionInitedEvent') || this;
        }
        return CompositionInitedEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionResizeWidthSetEvent = /** @class */ (function (_super) {
        __extends(CompositionResizeWidthSetEvent, _super);
        function CompositionResizeWidthSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'CompositionResizeWidthSetEvent') || this;
        }
        return CompositionResizeWidthSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionColumnsSetEvent = /** @class */ (function (_super) {
        __extends(CompositionColumnsSetEvent, _super);
        function CompositionColumnsSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'CompositionColumnsSetEvent') || this;
        }
        return CompositionColumnsSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionContainerWidthSetEvent = /** @class */ (function (_super) {
        __extends(CompositionContainerWidthSetEvent, _super);
        function CompositionContainerWidthSetEvent(aggregateId, payload) {
            return _super.call(this, aggregateId, 'CompositionContainerWidthSetEvent', payload) || this;
        }
        return CompositionContainerWidthSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionWidthSetEvent = /** @class */ (function (_super) {
        __extends(CompositionWidthSetEvent, _super);
        function CompositionWidthSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'CompositionWidthSetEvent') || this;
        }
        return CompositionWidthSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionChangeSortStatusEvent = /** @class */ (function (_super) {
        __extends(CompositionChangeSortStatusEvent, _super);
        function CompositionChangeSortStatusEvent(aggregateId, activeColumns) {
            var _this = _super.call(this, aggregateId, 'CompositionChangeSortStatusEvent') || this;
            _this.activeColumns = activeColumns;
            return _this;
        }
        /**
         * @return {?}
         */
        CompositionChangeSortStatusEvent.prototype.getCompositionId = /**
         * @return {?}
         */
        function () {
            return this.aggregateId;
        };
        /**
         * @return {?}
         */
        CompositionChangeSortStatusEvent.prototype.getActiveColumns = /**
         * @return {?}
         */
        function () {
            return this.activeColumns;
        };
        return CompositionChangeSortStatusEvent;
    }(hermes.DomainEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionChangeSortStatusEvent.prototype.activeColumns;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionColumnSetEnabledEvent = /** @class */ (function (_super) {
        __extends(CompositionColumnSetEnabledEvent, _super);
        function CompositionColumnSetEnabledEvent(aggregateId) {
            return _super.call(this, aggregateId, 'CompositionColumnSetEnabledEvent') || this;
        }
        return CompositionColumnSetEnabledEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionColumnMovedLeftEvent = /** @class */ (function (_super) {
        __extends(CompositionColumnMovedLeftEvent, _super);
        function CompositionColumnMovedLeftEvent(aggregateId) {
            return _super.call(this, aggregateId, 'CompositionColumnMovedLeftEvent') || this;
        }
        return CompositionColumnMovedLeftEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionColumnMovedRightEvent = /** @class */ (function (_super) {
        __extends(CompositionColumnMovedRightEvent, _super);
        function CompositionColumnMovedRightEvent(aggregateId) {
            return _super.call(this, aggregateId, 'CompositionColumnMovedRightEvent') || this;
        }
        return CompositionColumnMovedRightEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InMemoryCompositionRepository = /** @class */ (function (_super) {
        __extends(InMemoryCompositionRepository, _super);
        function InMemoryCompositionRepository(domainEventBus, inMemoryCompositionQueryStore) {
            var _this = _super.call(this) || this;
            _this.domainEventBus = domainEventBus;
            _this.inMemoryCompositionQueryStore = inMemoryCompositionQueryStore;
            _this.compositionIdToComposition = new Map();
            _this.composition$ = new rxjs.ReplaySubject(1);
            _this.unsubscribe$ = new rxjs.Subject();
            _this.domainEventBus
                .ofEvent(CompositionInitedEvent, CompositionResizeWidthSetEvent, CompositionColumnsSetEvent, CompositionContainerWidthSetEvent, CompositionWidthSetEvent, CompositionColumnSetEnabledEvent, CompositionColumnMovedLeftEvent, CompositionColumnMovedRightEvent, (/** @type {?} */ (CompositionChangeSortStatusEvent)))
                .pipe(operators.takeUntil(_this.unsubscribe$))
                .subscribe((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                /** @type {?} */
                var aggregateId = event.aggregateId;
                /** @type {?} */
                var composition = _this.inMemoryCompositionQueryStore.getById(aggregateId);
                /** @type {?} */
                var key = composition.getId().toString();
                _this.compositionIdToComposition.set(key, composition);
                _this.composition$.next(_this.compositionIdToComposition);
            }));
            return _this;
        }
        /**
         * @return {?}
         */
        InMemoryCompositionRepository.prototype.ngOnDestroy = /**
         * @return {?}
         */
        function () {
            this.unsubscribe$.next();
            this.unsubscribe$.complete();
        };
        /**
         * @param {?} aggregateId
         * @return {?}
         */
        InMemoryCompositionRepository.prototype.on = /**
         * @param {?} aggregateId
         * @return {?}
         */
        function (aggregateId) {
            return this.composition$
                .asObservable()
                .pipe(operators.filter((/**
             * @param {?} compositionIdToComposition
             * @return {?}
             */
            function (compositionIdToComposition) {
                /** @type {?} */
                var key = aggregateId.getId();
                return compositionIdToComposition.has(key);
            })), operators.map((/**
             * @param {?} compositionIdToComposition
             * @return {?}
             */
            function (compositionIdToComposition) { return compositionIdToComposition.get(aggregateId.getId()); })));
        };
        InMemoryCompositionRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        InMemoryCompositionRepository.ctorParameters = function () { return [
            { type: hermes.DomainEventBus },
            { type: InMemoryCompositionReadStore }
        ]; };
        return InMemoryCompositionRepository;
    }(CompositionRepository));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        InMemoryCompositionRepository.prototype.compositionIdToComposition;
        /**
         * @type {?}
         * @private
         */
        InMemoryCompositionRepository.prototype.composition$;
        /**
         * @type {?}
         * @private
         */
        InMemoryCompositionRepository.prototype.unsubscribe$;
        /**
         * @type {?}
         * @private
         */
        InMemoryCompositionRepository.prototype.domainEventBus;
        /**
         * @type {?}
         * @private
         */
        InMemoryCompositionRepository.prototype.inMemoryCompositionQueryStore;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var inMemoryCompositionCommandProviders = [
        InMemoryCompositionAggregateStore,
        {
            provide: CompositionAggregateRepository,
            useClass: InMemoryCompositionAggregateRepository
        }
    ];
    /** @type {?} */
    var inMemoryCompositionQueryProviders = [
        InMemoryCompositionReadStore,
        {
            provide: CompositionRepository,
            useClass: InMemoryCompositionRepository
        }
    ];
    /** @type {?} */
    var inMemoryCompositionProviders = [
        InMemoryCompositionStore
    ];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnId = /** @class */ (function () {
        function ColumnId(id) {
            this.id = id;
        }
        /**
         * @return {?}
         */
        ColumnId.prototype.getId = /**
         * @return {?}
         */
        function () {
            return this.id;
        };
        /**
         * @param {?} columnId
         * @return {?}
         */
        ColumnId.prototype.equals = /**
         * @param {?} columnId
         * @return {?}
         */
        function (columnId) {
            return this.id === columnId.getId();
        };
        return ColumnId;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ColumnId.prototype.id;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnEntityFactory = /** @class */ (function () {
        function ColumnEntityFactory() {
        }
        /**
         * @param {?} data
         * @return {?}
         */
        ColumnEntityFactory.prototype.create = /**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            if (Array.isArray(data)) {
                return this.createColumns(data);
            }
            else {
                return this.createColumn(data);
            }
        };
        /**
         * @private
         * @param {?} params
         * @return {?}
         */
        ColumnEntityFactory.prototype.createColumn = /**
         * @private
         * @param {?} params
         * @return {?}
         */
        function (params) {
            /** @type {?} */
            var columnConfig = params.getColumn();
            /** @type {?} */
            var field = params.getField();
            /** @type {?} */
            var columnEntity = new ColumnEntity(new ColumnId(hermes.RandomStringGenerator.generate()), field, columnConfig);
            if (columnConfig.header !== undefined) {
                columnEntity.header = columnConfig.header;
            }
            if (columnConfig.view !== undefined) {
                columnEntity.setView(new ViewEntity(columnConfig.view));
            }
            if (columnConfig.width !== undefined) {
                columnEntity.width = this.convertWidth(columnConfig.width);
            }
            return columnEntity;
        };
        /**
         * @private
         * @param {?} columns
         * @return {?}
         */
        ColumnEntityFactory.prototype.createColumns = /**
         * @private
         * @param {?} columns
         * @return {?}
         */
        function (columns) {
            var _this = this;
            /** @type {?} */
            var columnEntities = (/** @type {?} */ ([]));
            columns.forEach((/**
             * @param {?} column
             * @return {?}
             */
            function (column) {
                columnEntities.push(_this.createColumn(column));
            }));
            return columnEntities;
        };
        /**
         * @private
         * @param {?} width
         * @return {?}
         */
        ColumnEntityFactory.prototype.convertWidth = /**
         * @private
         * @param {?} width
         * @return {?}
         */
        function (width) {
            return +width;
        };
        ColumnEntityFactory.decorators = [
            { type: core.Injectable }
        ];
        return ColumnEntityFactory;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionContainerWidthCalculator = /** @class */ (function () {
        function CompositionContainerWidthCalculator(MIN_COLUMN_WIDTH) {
            this.MIN_COLUMN_WIDTH = MIN_COLUMN_WIDTH;
        }
        /**
         * @param {?} columnWidths
         * @return {?}
         */
        CompositionContainerWidthCalculator.prototype.calculateMinWidth = /**
         * @param {?} columnWidths
         * @return {?}
         */
        function (columnWidths) {
            var _a = this.segregateColumns(columnWidths), staticColumns = _a.staticColumns, fluidColumns = _a.fluidColumns;
            // TODO reduce
            /** @type {?} */
            var sum = 0;
            staticColumns.forEach((/**
             * @param {?} c
             * @return {?}
             */
            function (c) {
                sum += c.getWidth();
            }));
            sum += fluidColumns.length * this.MIN_COLUMN_WIDTH;
            return sum;
        };
        /**
         * @private
         * @param {?} columns
         * @return {?}
         */
        CompositionContainerWidthCalculator.prototype.segregateColumns = /**
         * @private
         * @param {?} columns
         * @return {?}
         */
        function (columns) {
            var _this = this;
            /** @type {?} */
            var staticColumns = columns.filter((/**
             * @param {?} columnWidth
             * @return {?}
             */
            function (columnWidth) { return columnWidth.isTypeNumber() && columnWidth.getWidth() > _this.MIN_COLUMN_WIDTH; }));
            /** @type {?} */
            var fluidColumns = columns.filter((/**
             * @param {?} columnWidth
             * @return {?}
             */
            function (columnWidth) { return columnWidth.isTypeAuto() || columnWidth.isTypePercentage() || (columnWidth.isTypeNumber() && columnWidth.getWidth() <= _this.MIN_COLUMN_WIDTH); }));
            return {
                staticColumns: staticColumns,
                fluidColumns: fluidColumns
            };
        };
        return CompositionContainerWidthCalculator;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionContainerWidthCalculator.prototype.MIN_COLUMN_WIDTH;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionWidthSetAggregateEvent = /** @class */ (function (_super) {
        __extends(CompositionWidthSetAggregateEvent, _super);
        function CompositionWidthSetAggregateEvent(aggregateId) {
            return _super.call(this, aggregateId, 'CompositionWidthSetAggregateEvent') || this;
        }
        return CompositionWidthSetAggregateEvent;
    }(hermes.AggregateEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionContainerWidthSetAggregateEvent = /** @class */ (function (_super) {
        __extends(CompositionContainerWidthSetAggregateEvent, _super);
        function CompositionContainerWidthSetAggregateEvent(compositionId, containerWidth) {
            var _this = _super.call(this, compositionId, 'CompositionContainerWidthSetAggregateEvent') || this;
            _this.containerWidth = containerWidth;
            return _this;
        }
        return CompositionContainerWidthSetAggregateEvent;
    }(hermes.AggregateEvent));
    if (false) {
        /** @type {?} */
        CompositionContainerWidthSetAggregateEvent.prototype.containerWidth;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionResizeWidthSetAggregateEvent = /** @class */ (function (_super) {
        __extends(CompositionResizeWidthSetAggregateEvent, _super);
        function CompositionResizeWidthSetAggregateEvent(compositionId) {
            return _super.call(this, compositionId, 'CompositionResizeWidthSetAggregateEvent') || this;
        }
        return CompositionResizeWidthSetAggregateEvent;
    }(hermes.AggregateEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionColumnSetEnabledAggregateEvent = /** @class */ (function (_super) {
        __extends(CompositionColumnSetEnabledAggregateEvent, _super);
        function CompositionColumnSetEnabledAggregateEvent(aggregateId, activeColumns) {
            var _this = _super.call(this, aggregateId, 'CompositionColumnSetEnabledAggregateEvent') || this;
            _this.activeColumns = activeColumns;
            return _this;
        }
        /**
         * @return {?}
         */
        CompositionColumnSetEnabledAggregateEvent.prototype.getActiveColumns = /**
         * @return {?}
         */
        function () {
            return this.activeColumns;
        };
        return CompositionColumnSetEnabledAggregateEvent;
    }(hermes.AggregateEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionColumnSetEnabledAggregateEvent.prototype.activeColumns;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var ColumnWidthType = {
        PERCENTAGE: 0,
        NUMBER: 1,
        AUTO: 2,
    };
    ColumnWidthType[ColumnWidthType.PERCENTAGE] = 'PERCENTAGE';
    ColumnWidthType[ColumnWidthType.NUMBER] = 'NUMBER';
    ColumnWidthType[ColumnWidthType.AUTO] = 'AUTO';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnWidth = /** @class */ (function () {
        function ColumnWidth(width) {
            this.baseWidth = width;
            this.setWidthAndType(width);
        }
        /**
         * @return {?}
         */
        ColumnWidth.prototype.getWidth = /**
         * @return {?}
         */
        function () {
            return this.width;
        };
        /**
         * @return {?}
         */
        ColumnWidth.prototype.getColumnType = /**
         * @return {?}
         */
        function () {
            return this.template;
        };
        /**
         * @return {?}
         */
        ColumnWidth.prototype.isTypePercentage = /**
         * @return {?}
         */
        function () {
            return this.template === ColumnWidthType.PERCENTAGE;
        };
        /**
         * @return {?}
         */
        ColumnWidth.prototype.isTypeAuto = /**
         * @return {?}
         */
        function () {
            return this.template === ColumnWidthType.AUTO;
        };
        /**
         * @return {?}
         */
        ColumnWidth.prototype.isTypeNumber = /**
         * @return {?}
         */
        function () {
            return this.template === ColumnWidthType.NUMBER;
        };
        /**
         * @param {?} width
         * @return {?}
         */
        ColumnWidth.prototype.setWidth = /**
         * @param {?} width
         * @return {?}
         */
        function (width) {
            this.width = width;
        };
        /**
         * @param {?} width
         * @return {?}
         */
        ColumnWidth.prototype.setWidthAndType = /**
         * @param {?} width
         * @return {?}
         */
        function (width) {
            if (width === undefined || width === null || width === 'auto') {
                this.template = ColumnWidthType.AUTO;
                this.setWidth(null);
            }
            else if (this.isPercentage(width)) {
                this.template = ColumnWidthType.PERCENTAGE;
                this.setWidth(this.percentageToNumber('' + width));
            }
            else if (this.isStringNumber(width)) {
                this.template = ColumnWidthType.NUMBER;
                this.setWidth(+width);
            }
            else {
                this.template = ColumnWidthType.NUMBER;
                this.setWidth(+width);
            }
        };
        /**
         * @return {?}
         */
        ColumnWidth.prototype.clone = /**
         * @return {?}
         */
        function () {
            return new ColumnWidth(this.baseWidth);
        };
        /**
         * @private
         * @param {?} width
         * @return {?}
         */
        ColumnWidth.prototype.isPercentage = /**
         * @private
         * @param {?} width
         * @return {?}
         */
        function (width) {
            return typeof width === 'string' && width[width.length - 1] === '%';
        };
        /**
         * Width needs to be in format '89%'
         * @param width
         */
        /**
         * Width needs to be in format '89%'
         * @private
         * @param {?} width
         * @return {?}
         */
        ColumnWidth.prototype.percentageToNumber = /**
         * Width needs to be in format '89%'
         * @private
         * @param {?} width
         * @return {?}
         */
        function (width) {
            return +(width.slice(0, -1));
        };
        /**
         * @private
         * @param {?} width
         * @return {?}
         */
        ColumnWidth.prototype.isStringNumber = /**
         * @private
         * @param {?} width
         * @return {?}
         */
        function (width) {
            /** @type {?} */
            var widthAsNumber = +width;
            return Number.isNaN(widthAsNumber);
        };
        return ColumnWidth;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ColumnWidth.prototype.template;
        /**
         * @type {?}
         * @private
         */
        ColumnWidth.prototype.baseWidth;
        /**
         * @type {?}
         * @private
         */
        ColumnWidth.prototype.width;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionWidthCalculator = /** @class */ (function () {
        function CompositionWidthCalculator(source, width, MIN_COLUMN_WIDTH) {
            this.source = source;
            this.width = width;
            this.MIN_COLUMN_WIDTH = MIN_COLUMN_WIDTH;
            this.columns = this.source.map((/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return c.clone(); }));
        }
        /**
         * @return {?}
         */
        CompositionWidthCalculator.prototype.calculate = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var width = this.width;
            /** @type {?} */
            var columns = __spread(this.columns);
            // adjust min value
            this.adjustMinimalWidth(columns);
            // remove number columns
            /** @type {?} */
            var newColumns = [];
            columns.forEach((/**
             * @param {?} column
             * @param {?} index
             * @return {?}
             */
            function (column, index) {
                if (column.isTypeNumber()) {
                    width -= column.getWidth();
                }
                else {
                    newColumns.push(column);
                }
            }));
            columns = newColumns;
            // split even auto columns
            if (columns.length !== 0) {
                /** @type {?} */
                var evenWidth_1 = width / columns.length;
                columns.forEach((/**
                 * @param {?} column
                 * @param {?} index
                 * @return {?}
                 */
                function (column, index) {
                    column.setWidth(evenWidth_1);
                }));
            }
            // adjust number columns
            // let numberColumns = this.columns.filter((columnWidth: ColumnWidth) => columnWidth.isTypeNumber());
            //
            // // sort by min values
            // numberColumns.sort((columnOne: ColumnWidth, columnTwo: ColumnWidth) => {
            // 	return columnOne.getWidth() - columnTwo.getWidth();
            // });
            //
            // numberColumns.forEach(() => {
            // });
            // this.adjustMinimalWidth(ColumnWidthType.NUMBER);
            //
            // this.adjustPercentageWidth();
            //
            // this.adjustAutoWidth();
            return this.columns;
        };
        /**
         * @private
         * @param {?} columns
         * @return {?}
         */
        CompositionWidthCalculator.prototype.adjustMinimalWidth = /**
         * @private
         * @param {?} columns
         * @return {?}
         */
        function (columns) {
            var _this = this;
            columns.forEach((/**
             * @param {?} column
             * @return {?}
             */
            function (column) {
                if (column.isTypeNumber()) {
                    if (column.getWidth() < _this.MIN_COLUMN_WIDTH) {
                        column.setWidthAndType(_this.MIN_COLUMN_WIDTH);
                    }
                }
            }));
        };
        /**
         * @private
         * @return {?}
         */
        CompositionWidthCalculator.prototype.adjustPercentageWidth = /**
         * @private
         * @return {?}
         */
        function () {
            var e_1, _a;
            /** @type {?} */
            var percentageColumns = this.columns.filter((/**
             * @param {?} columnWidth
             * @return {?}
             */
            function (columnWidth) { return columnWidth.isTypePercentage(); }));
            try {
                for (var _b = __values(this.columns), _c = _b.next(); !_c.done; _c = _b.next()) {
                    var column = _c.value;
                    if (column.getColumnType() === ColumnWidthType.PERCENTAGE) {
                        column.setWidth(this.width * column.getWidth() * 0.01);
                    }
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                }
                finally { if (e_1) throw e_1.error; }
            }
        };
        /**
         * @private
         * @return {?}
         */
        CompositionWidthCalculator.prototype.adjustAutoWidth = /**
         * @private
         * @return {?}
         */
        function () {
            var e_2, _a;
            /** @type {?} */
            var leftWidth = this.width;
            /** @type {?} */
            var autoColumns = [];
            for (var i = 0; i < this.columns.length; i += 1) {
                /** @type {?} */
                var column = this.columns[i];
                if (column.getColumnType() !== ColumnWidthType.AUTO) {
                    leftWidth -= column.getWidth();
                }
                else {
                    autoColumns.push(column);
                }
            }
            if (autoColumns.length > 0) {
                /** @type {?} */
                var splitWidth = leftWidth / autoColumns.length;
                try {
                    for (var autoColumns_1 = __values(autoColumns), autoColumns_1_1 = autoColumns_1.next(); !autoColumns_1_1.done; autoColumns_1_1 = autoColumns_1.next()) {
                        var column = autoColumns_1_1.value;
                        column.setWidth(splitWidth);
                    }
                }
                catch (e_2_1) { e_2 = { error: e_2_1 }; }
                finally {
                    try {
                        if (autoColumns_1_1 && !autoColumns_1_1.done && (_a = autoColumns_1.return)) _a.call(autoColumns_1);
                    }
                    finally { if (e_2) throw e_2.error; }
                }
            }
        };
        return CompositionWidthCalculator;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionWidthCalculator.prototype.columns;
        /**
         * @type {?}
         * @private
         */
        CompositionWidthCalculator.prototype.source;
        /**
         * @type {?}
         * @private
         */
        CompositionWidthCalculator.prototype.width;
        /**
         * @type {?}
         * @private
         */
        CompositionWidthCalculator.prototype.MIN_COLUMN_WIDTH;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnWidthCollection = /** @class */ (function () {
        function ColumnWidthCollection(MIN_COLUMN_WIDTH, columns, width) {
            if (columns === void 0) { columns = []; }
            if (width === void 0) { width = 100; }
            this.MIN_COLUMN_WIDTH = MIN_COLUMN_WIDTH;
            this.baseColumnWidths = columns.map((/**
             * @param {?} column
             * @return {?}
             */
            function (column) { return new ColumnWidth(column.width); }));
            this.columnWidths = columns.map((/**
             * @param {?} column
             * @return {?}
             */
            function (column) { return new ColumnWidth(column.width); }));
            this.setContainerWidth(width);
            this.calculate();
        }
        /**
         * @return {?}
         */
        ColumnWidthCollection.prototype.getColumnWidths = /**
         * @return {?}
         */
        function () {
            return this.baseColumnWidths;
        };
        /**
         * @return {?}
         */
        ColumnWidthCollection.prototype.getColumnsWidth = /**
         * @return {?}
         */
        function () {
            return this.width;
        };
        /**
         * @return {?}
         */
        ColumnWidthCollection.prototype.getWidths = /**
         * @return {?}
         */
        function () {
            return this.columnWidths.map((/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return c.getWidth(); }));
        };
        /**
         * @return {?}
         */
        ColumnWidthCollection.prototype.getMinWidth = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var calculator = new CompositionContainerWidthCalculator(this.MIN_COLUMN_WIDTH);
            return calculator.calculateMinWidth(this.columnWidths);
        };
        /**
         * @param {?} width
         * @return {?}
         */
        ColumnWidthCollection.prototype.setWidth = /**
         * @param {?} width
         * @return {?}
         */
        function (width) {
            this.setContainerWidth(width);
            this.calculate();
        };
        /**
         * @param {?} columnConfigs
         * @return {?}
         */
        ColumnWidthCollection.prototype.setColumns = /**
         * @param {?} columnConfigs
         * @return {?}
         */
        function (columnConfigs) {
            this.baseColumnWidths = columnConfigs.map((/**
             * @param {?} column
             * @return {?}
             */
            function (column) { return new ColumnWidth(column.width); }));
            this.columnWidths = columnConfigs.map((/**
             * @param {?} column
             * @return {?}
             */
            function (column) { return new ColumnWidth(column.width); }));
            this.calculate();
        };
        /**
         * @return {?}
         */
        ColumnWidthCollection.prototype.getMinColumnWidth = /**
         * @return {?}
         */
        function () {
            return this.MIN_COLUMN_WIDTH;
        };
        /**
         * @private
         * @return {?}
         */
        ColumnWidthCollection.prototype.calculate = /**
         * @private
         * @return {?}
         */
        function () {
            if (this.baseColumnWidths && this.width) {
                /** @type {?} */
                var calculator = new CompositionWidthCalculator(this.baseColumnWidths, this.width, this.MIN_COLUMN_WIDTH);
                this.columnWidths = calculator.calculate();
            }
        };
        /**
         * @private
         * @param {?} width
         * @return {?}
         */
        ColumnWidthCollection.prototype.setContainerWidth = /**
         * @private
         * @param {?} width
         * @return {?}
         */
        function (width) {
            if (this.getMinWidth() > width) {
                this.width = this.getMinWidth();
            }
            else {
                this.width = width;
            }
            this.calculate();
        };
        return ColumnWidthCollection;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ColumnWidthCollection.prototype.baseColumnWidths;
        /**
         * @type {?}
         * @private
         */
        ColumnWidthCollection.prototype.columnWidths;
        /**
         * @type {?}
         * @private
         */
        ColumnWidthCollection.prototype.width;
        /**
         * @type {?}
         * @private
         */
        ColumnWidthCollection.prototype.MIN_COLUMN_WIDTH;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionChangeSortStatusAggregateEvent = /** @class */ (function (_super) {
        __extends(CompositionChangeSortStatusAggregateEvent, _super);
        function CompositionChangeSortStatusAggregateEvent(aggregateId) {
            return _super.call(this, aggregateId, 'CompositionChangeSortStatusAggregateEvent') || this;
        }
        return CompositionChangeSortStatusAggregateEvent;
    }(hermes.AggregateEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ActiveColumnContainer = /** @class */ (function () {
        function ActiveColumnContainer(compositionId, columns, gridWidth, columnConfigs) {
            if (columns === void 0) { columns = []; }
            this.compositionId = compositionId;
            this.MIN_COLUMN_WIDTH = 50;
            /**
             * Columns taken from user config.
             * This should not be modified and it should be used as a reference point.
             */
            this.columnWidthCollection = new ColumnWidthCollection(this.MIN_COLUMN_WIDTH);
            this.columns = columns;
            if (gridWidth && columnConfigs) {
                this.columnWidthCollection = new ColumnWidthCollection(this.MIN_COLUMN_WIDTH, columnConfigs, gridWidth);
            }
        }
        /**
         * @return {?}
         */
        ActiveColumnContainer.prototype.getColumnWidths = /**
         * @return {?}
         */
        function () {
            return this.columnWidthCollection.getColumnWidths();
        };
        // REMOVE
        // REMOVE
        /**
         * @return {?}
         */
        ActiveColumnContainer.prototype.getColumns = 
        // REMOVE
        /**
         * @return {?}
         */
        function () {
            return this.columns;
        };
        /**
         * @param {?} width
         * @return {?}
         */
        ActiveColumnContainer.prototype.setWidth = /**
         * @param {?} width
         * @return {?}
         */
        function (width) {
            this.columnWidthCollection.setWidth(width);
        };
        /**
         * @param {?} column
         * @param {?} index
         * @return {?}
         */
        ActiveColumnContainer.prototype.addColumn = /**
         * @param {?} column
         * @param {?} index
         * @return {?}
         */
        function (column, index) {
            this.columns.splice(index, 0, column);
        };
        /**
         * @param {?} index
         * @return {?}
         */
        ActiveColumnContainer.prototype.removeColumn = /**
         * @param {?} index
         * @return {?}
         */
        function (index) {
            this.columns.splice(index, 1);
        };
        /**
         * @param {?} columns
         * @param {?} columnConfigs
         * @return {?}
         */
        ActiveColumnContainer.prototype.setColumns = /**
         * @param {?} columns
         * @param {?} columnConfigs
         * @return {?}
         */
        function (columns, columnConfigs) {
            this.columns = columns;
            this.columnWidthCollection.setColumns(columnConfigs);
            /** @type {?} */
            var updatedWidths = this.columnWidthCollection.getWidths();
            this.columns.forEach((/**
             * @param {?} column
             * @param {?} index
             * @return {?}
             */
            function (column, index) {
                column.setWidth(updatedWidths[index]);
            }));
            // TODO
            //this.addEvent(new ColumnsSetAggregateEvent(this.getId(), columns));
        };
        /**
         * @param {?} sortParams
         * @return {?}
         */
        ActiveColumnContainer.prototype.changeSort = /**
         * @param {?} sortParams
         * @return {?}
         */
        function (sortParams) {
            var e_1, _a;
            this.columns.forEach((/**
             * @param {?} column
             * @return {?}
             */
            function (column) {
                column.setSortStatus(SortStatus.NONE);
            }));
            var _loop_1 = function (param) {
                /** @type {?} */
                var fieldId = param.fieldId;
                /** @type {?} */
                var direction = param.direction;
                /** @type {?} */
                var sortStatus = direction ? SortStatus.ASC : SortStatus.DESC;
                /** @type {?} */
                var columns = this_1.columns.filter((/**
                 * @param {?} column
                 * @return {?}
                 */
                function (column) {
                    return column.getField().getId().getId() === fieldId.getId();
                }));
                if (columns.length > 0) {
                    columns.forEach((/**
                     * @param {?} column
                     * @return {?}
                     */
                    function (column) {
                        column.setSortStatus(sortStatus);
                    }));
                }
            };
            var this_1 = this;
            try {
                for (var sortParams_1 = __values(sortParams), sortParams_1_1 = sortParams_1.next(); !sortParams_1_1.done; sortParams_1_1 = sortParams_1.next()) {
                    var param = sortParams_1_1.value;
                    _loop_1(param);
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (sortParams_1_1 && !sortParams_1_1.done && (_a = sortParams_1.return)) _a.call(sortParams_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
            return new CompositionChangeSortStatusAggregateEvent(this.getCompositionId());
        };
        /**
         * @param {?} columnId
         * @return {?}
         */
        ActiveColumnContainer.prototype.moveLeft = /**
         * @param {?} columnId
         * @return {?}
         */
        function (columnId) {
            /** @type {?} */
            var index = this.findColumnIndex(columnId);
            this.move(index, index - 1);
        };
        /**
         * @param {?} columnId
         * @return {?}
         */
        ActiveColumnContainer.prototype.moveRight = /**
         * @param {?} columnId
         * @return {?}
         */
        function (columnId) {
            /** @type {?} */
            var index = this.findColumnIndex(columnId);
            this.move(index, index + 1);
        };
        /**
         * @return {?}
         */
        ActiveColumnContainer.prototype.getMinColumnWidth = /**
         * @return {?}
         */
        function () {
            return this.MIN_COLUMN_WIDTH;
        };
        /**
         * @private
         * @param {?} fromIndex
         * @param {?} toIndex
         * @return {?}
         */
        ActiveColumnContainer.prototype.move = /**
         * @private
         * @param {?} fromIndex
         * @param {?} toIndex
         * @return {?}
         */
        function (fromIndex, toIndex) {
            if (!this.validateMoveIndex(fromIndex) || !this.validateMoveIndex(toIndex)) {
                return;
            }
            /** @type {?} */
            var column = this.columns[fromIndex];
            this.columns[fromIndex] = this.columns[toIndex];
            this.columns[toIndex] = column;
        };
        /**
         * @private
         * @param {?} index
         * @return {?}
         */
        ActiveColumnContainer.prototype.validateMoveIndex = /**
         * @private
         * @param {?} index
         * @return {?}
         */
        function (index) {
            return index >= 0;
        };
        /**
         * @private
         * @return {?}
         */
        ActiveColumnContainer.prototype.getCompositionId = /**
         * @private
         * @return {?}
         */
        function () {
            return this.compositionId;
        };
        /**
         * @private
         * @param {?} columnId
         * @return {?}
         */
        ActiveColumnContainer.prototype.findColumnIndex = /**
         * @private
         * @param {?} columnId
         * @return {?}
         */
        function (columnId) {
            return this.columns.findIndex((/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return c.getColumnId().equals(columnId); }));
        };
        return ActiveColumnContainer;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ActiveColumnContainer.prototype.MIN_COLUMN_WIDTH;
        /**
         * @type {?}
         * @private
         */
        ActiveColumnContainer.prototype.columns;
        /**
         * Columns taken from user config.
         * This should not be modified and it should be used as a reference point.
         * @type {?}
         * @private
         */
        ActiveColumnContainer.prototype.columnWidthCollection;
        /**
         * @type {?}
         * @private
         */
        ActiveColumnContainer.prototype.compositionId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ActiveColumnEntity = /** @class */ (function () {
        function ActiveColumnEntity(columnId, columnField, header, view, config) {
            this.sortStatus = SortStatus.NONE;
            this.view = new ViewEntity(CellView.TEXT);
            this.columnId = columnId;
            this.columnField = columnField;
            this.header = header;
            this.view = view;
            this.config = config;
        }
        /**
         * @return {?}
         */
        ActiveColumnEntity.prototype.getConfig = /**
         * @return {?}
         */
        function () {
            return this.config;
        };
        /**
         * @return {?}
         */
        ActiveColumnEntity.prototype.getSortStatus = /**
         * @return {?}
         */
        function () {
            return this.sortStatus;
        };
        /**
         * @return {?}
         */
        ActiveColumnEntity.prototype.getField = /**
         * @return {?}
         */
        function () {
            return this.columnField;
        };
        /**
         * @return {?}
         */
        ActiveColumnEntity.prototype.getWidth = /**
         * @return {?}
         */
        function () {
            return this.width;
        };
        /**
         * @return {?}
         */
        ActiveColumnEntity.prototype.getColumnId = /**
         * @return {?}
         */
        function () {
            return this.columnId;
        };
        /**
         * @return {?}
         */
        ActiveColumnEntity.prototype.getHeader = /**
         * @return {?}
         */
        function () {
            return this.header;
        };
        /**
         * @return {?}
         */
        ActiveColumnEntity.prototype.getDataType = /**
         * @return {?}
         */
        function () {
            return this.columnField.getDataType();
        };
        /**
         * @return {?}
         */
        ActiveColumnEntity.prototype.getView = /**
         * @return {?}
         */
        function () {
            return this.view;
        };
        /**
         * @return {?}
         */
        ActiveColumnEntity.prototype.getCellView = /**
         * @return {?}
         */
        function () {
            return this.view.getCellView();
        };
        /**
         * @return {?}
         */
        ActiveColumnEntity.prototype.getTemplateFunction = /**
         * @return {?}
         */
        function () {
            return this.view.getTemplateFunction();
        };
        /**
         * @param {?} status
         * @return {?}
         */
        ActiveColumnEntity.prototype.setSortStatus = /**
         * @param {?} status
         * @return {?}
         */
        function (status) {
            this.sortStatus = status;
        };
        /**
         * @param {?} width
         * @return {?}
         */
        ActiveColumnEntity.prototype.setWidth = /**
         * @param {?} width
         * @return {?}
         */
        function (width) {
            this.width = width;
        };
        return ActiveColumnEntity;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ActiveColumnEntity.prototype.columnId;
        /**
         * @type {?}
         * @private
         */
        ActiveColumnEntity.prototype.columnField;
        /**
         * @type {?}
         * @private
         */
        ActiveColumnEntity.prototype.sortStatus;
        /**
         * @type {?}
         * @private
         */
        ActiveColumnEntity.prototype.width;
        /**
         * @type {?}
         * @private
         */
        ActiveColumnEntity.prototype.header;
        /**
         * @type {?}
         * @private
         */
        ActiveColumnEntity.prototype.view;
        /**
         * @type {?}
         * @private
         */
        ActiveColumnEntity.prototype.config;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ActiveColumnEntityConverter = /** @class */ (function () {
        function ActiveColumnEntityConverter() {
        }
        /**
         * @param {?} entities
         * @return {?}
         */
        ActiveColumnEntityConverter.prototype.convertMany = /**
         * @param {?} entities
         * @return {?}
         */
        function (entities) {
            var _this = this;
            return entities.map((/**
             * @param {?} e
             * @return {?}
             */
            function (e) { return _this.convert(e); }));
        };
        /**
         * @param {?} entity
         * @return {?}
         */
        ActiveColumnEntityConverter.prototype.convert = /**
         * @param {?} entity
         * @return {?}
         */
        function (entity) {
            return new ActiveColumnEntity(entity.getColumnId(), entity.getField(), entity.getHeader(), entity.getView(), entity.getColumnConfig());
        };
        return ActiveColumnEntityConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionColumnMovedLeftAggregateEvent = /** @class */ (function (_super) {
        __extends(CompositionColumnMovedLeftAggregateEvent, _super);
        function CompositionColumnMovedLeftAggregateEvent(aggregateId, activeColumns) {
            var _this = _super.call(this, aggregateId, 'CompositionColumnMovedLeftAggregateEvent') || this;
            _this.activeColumns = activeColumns;
            return _this;
        }
        return CompositionColumnMovedLeftAggregateEvent;
    }(hermes.AggregateEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionColumnMovedLeftAggregateEvent.prototype.activeColumns;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionColumnMovedRightAggregateEvent = /** @class */ (function (_super) {
        __extends(CompositionColumnMovedRightAggregateEvent, _super);
        function CompositionColumnMovedRightAggregateEvent(aggregateId, activeColumns) {
            var _this = _super.call(this, aggregateId, 'CompositionColumnMovedRightAggregateEvent') || this;
            _this.activeColumns = activeColumns;
            return _this;
        }
        return CompositionColumnMovedRightAggregateEvent;
    }(hermes.AggregateEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionColumnMovedRightAggregateEvent.prototype.activeColumns;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnsSetAggregateEvent = /** @class */ (function (_super) {
        __extends(ColumnsSetAggregateEvent, _super);
        function ColumnsSetAggregateEvent(aggregateId) {
            return _super.call(this, aggregateId, 'ColumnsSetAggregateEvent') || this;
        }
        return ColumnsSetAggregateEvent;
    }(hermes.AggregateEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionAggregate = /** @class */ (function (_super) {
        __extends(CompositionAggregate, _super);
        function CompositionAggregate(id, columnsParams, width, resizeWidth) {
            if (columnsParams === void 0) { columnsParams = []; }
            var _this = _super.call(this, id) || this;
            _this.allColumns = [];
            _this.resizeWidthEnabled = true;
            /**
             * Autowired
             */
            _this.columnFactory = new ColumnEntityFactory();
            _this.activeColumnEntityConverter = new ActiveColumnEntityConverter();
            /** @type {?} */
            var columnConfigs = columnsParams.map((/**
             * @param {?} param
             * @return {?}
             */
            function (param) { return param.getColumn(); }));
            _this.baseParams = columnsParams;
            _this.baseColumns = columnConfigs;
            _this.width = width;
            _this.allColumns = _this.columnFactory.create(columnsParams);
            /** @type {?} */
            var activeColumns = _this.activeColumnEntityConverter.convertMany(_this.getEnabledColumns());
            _this.activeColumnContainer = new ActiveColumnContainer(_this.getId(), activeColumns, width, columnConfigs);
            if (resizeWidth !== undefined && resizeWidth !== null) {
                _this.resizeWidthEnabled = resizeWidth;
            }
            return _this;
        }
        // REMOVE
        // REMOVE
        /**
         * @return {?}
         */
        CompositionAggregate.prototype.getColumns = 
        // REMOVE
        /**
         * @return {?}
         */
        function () {
            return this.allColumns;
        };
        // REMOVE
        // REMOVE
        /**
         * @return {?}
         */
        CompositionAggregate.prototype.getActiveColumns = 
        // REMOVE
        /**
         * @return {?}
         */
        function () {
            return this.activeColumnContainer.getColumns();
        };
        // make private
        // make private
        /**
         * @return {?}
         */
        CompositionAggregate.prototype.getWidth = 
        // make private
        /**
         * @return {?}
         */
        function () {
            if (this.resizeWidthEnabled) {
                return this.containerInDOMWidth;
            }
            else {
                return this.width;
            }
        };
        // REMOVE
        // REMOVE
        /**
         * @return {?}
         */
        CompositionAggregate.prototype.isResizeEnabled = 
        // REMOVE
        /**
         * @return {?}
         */
        function () {
            return this.resizeWidthEnabled;
        };
        // REMOVE
        // REMOVE
        /**
         * @return {?}
         */
        CompositionAggregate.prototype.isReady = 
        // REMOVE
        /**
         * @return {?}
         */
        function () {
            return !!this.getWidth() && this.getActiveColumns().length > 0;
        };
        /**
         * @param {?} params
         * @return {?}
         */
        CompositionAggregate.prototype.setColumns = /**
         * @param {?} params
         * @return {?}
         */
        function (params) {
            this.allColumns = this.columnFactory.create(params);
            /** @type {?} */
            var columnConfigs = params.map((/**
             * @param {?} param
             * @return {?}
             */
            function (param) { return param.getColumn(); }));
            /** @type {?} */
            var activeColumns = this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());
            this.activeColumnContainer.setColumns(activeColumns, columnConfigs);
            this.addEvent(new ColumnsSetAggregateEvent(this.getId()));
        };
        /**
         * @param {?} containerWidth
         * @return {?}
         */
        CompositionAggregate.prototype.setContainerWidth = /**
         * @param {?} containerWidth
         * @return {?}
         */
        function (containerWidth) {
            this.setContainerWidthWithEvent(containerWidth);
            this.recalculateColumns();
        };
        /**
         * @param {?} width
         * @return {?}
         */
        CompositionAggregate.prototype.setWidth = /**
         * @param {?} width
         * @return {?}
         */
        function (width) {
            this.setWidthWithEvent(width);
            this.setResizeWidthWithEvent(false);
            this.recalculateColumns();
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        CompositionAggregate.prototype.setResizeWidth = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.setResizeWidthWithEvent(enabled);
        };
        /**
         * @param {?} sortParams
         * @return {?}
         */
        CompositionAggregate.prototype.changeSort = /**
         * @param {?} sortParams
         * @return {?}
         */
        function (sortParams) {
            this.addEvent(this.activeColumnContainer.changeSort(sortParams));
        };
        // DELEGATE
        // DELEGATE
        /**
         * @param {?} columnId
         * @param {?} enabled
         * @return {?}
         */
        CompositionAggregate.prototype.enableColumn = 
        // DELEGATE
        /**
         * @param {?} columnId
         * @param {?} enabled
         * @return {?}
         */
        function (columnId, enabled) {
            /** @type {?} */
            var enabledIndex = -1;
            this.allColumns.forEach((/**
             * @param {?} column
             * @param {?} index
             * @return {?}
             */
            function (column, index) {
                if (column.getColumnId().getId() === columnId.getId()) {
                    /** @type {?} */
                    var prevState = column.isEnabled();
                    column.setEnabled(enabled);
                    if (prevState !== enabled) {
                        enabledIndex = index;
                    }
                }
            }));
            if (enabledIndex > 0) {
                if (enabled) {
                    // convert
                    /** @type {?} */
                    var columnToAdd = this.activeColumnEntityConverter.convert(this.allColumns[enabledIndex]);
                    this.activeColumnContainer.addColumn(columnToAdd, enabledIndex);
                }
                else {
                    this.activeColumnContainer.removeColumn(enabledIndex);
                }
            }
            this.recalculateColumns();
            this.addEvent(new CompositionColumnSetEnabledAggregateEvent(this.getId(), this.getActiveColumns()));
        };
        /**
         * @param {?} columnId
         * @return {?}
         */
        CompositionAggregate.prototype.moveLeft = /**
         * @param {?} columnId
         * @return {?}
         */
        function (columnId) {
            /** @type {?} */
            var columnIndex = this.findColumnIndex(columnId);
            /** @type {?} */
            var nextLeft;
            /** @type {?} */
            var nextLeftIndex = -1;
            for (var i = columnIndex - 1; i >= 0; i -= 1) {
                /** @type {?} */
                var leftColumn = this.allColumns[i];
                if (leftColumn.isEnabled()) {
                    nextLeft = leftColumn;
                    nextLeftIndex = i;
                    break;
                }
            }
            if (nextLeft && nextLeftIndex >= 0 && columnIndex >= 0) {
                /** @type {?} */
                var column = this.allColumns[columnIndex];
                this.allColumns[columnIndex] = nextLeft;
                this.allColumns[nextLeftIndex] = column;
            }
            this.activeColumnContainer.moveLeft(columnId);
            this.addEvent(new CompositionColumnMovedLeftAggregateEvent(this.getId(), this.getActiveColumns()));
        };
        /**
         * @param {?} columnId
         * @return {?}
         */
        CompositionAggregate.prototype.moveRight = /**
         * @param {?} columnId
         * @return {?}
         */
        function (columnId) {
            /** @type {?} */
            var columnIndex = this.findColumnIndex(columnId);
            /** @type {?} */
            var nextRight;
            /** @type {?} */
            var nextRightIndex = -1;
            for (var i = columnIndex + 1; i < this.allColumns.length; i += 1) {
                /** @type {?} */
                var rightColumn = this.allColumns[i];
                if (rightColumn.isEnabled()) {
                    nextRight = rightColumn;
                    nextRightIndex = i;
                    break;
                }
            }
            if (nextRight && nextRightIndex >= 0 && columnIndex >= 0) {
                /** @type {?} */
                var column = this.allColumns[columnIndex];
                this.allColumns[columnIndex] = nextRight;
                this.allColumns[nextRightIndex] = column;
            }
            this.activeColumnContainer.moveRight(columnId);
            this.addEvent(new CompositionColumnMovedRightAggregateEvent(this.getId(), this.getActiveColumns()));
        };
        /**
         * @private
         * @return {?}
         */
        CompositionAggregate.prototype.recalculateColumns = /**
         * @private
         * @return {?}
         */
        function () {
            /** @type {?} */
            var activeColumns = this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());
            this.activeColumnContainer.setColumns(activeColumns, activeColumns.map((/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return c.getConfig(); })));
        };
        // TODO Refactor
        // TODO Refactor
        /**
         * @private
         * @param {?} width
         * @return {?}
         */
        CompositionAggregate.prototype.setWidthWithEvent = 
        // TODO Refactor
        /**
         * @private
         * @param {?} width
         * @return {?}
         */
        function (width) {
            /** @type {?} */
            var calculator = new CompositionContainerWidthCalculator(this.getMinColumnWidth());
            /** @type {?} */
            var minWidth = calculator.calculateMinWidth(this.activeColumnContainer.getColumnWidths());
            if (minWidth > width) {
                this.width = minWidth;
            }
            else {
                this.width = width;
            }
            this.activeColumnContainer.setWidth(this.getWidth());
            this.addEvent(new CompositionWidthSetAggregateEvent(this.getId()));
        };
        // TODO Refactor
        // TODO Refactor
        /**
         * @private
         * @param {?} containerWidth
         * @return {?}
         */
        CompositionAggregate.prototype.setContainerWidthWithEvent = 
        // TODO Refactor
        /**
         * @private
         * @param {?} containerWidth
         * @return {?}
         */
        function (containerWidth) {
            /** @type {?} */
            var calculator = new CompositionContainerWidthCalculator(this.getMinColumnWidth());
            /** @type {?} */
            var minWidth = calculator.calculateMinWidth(this.activeColumnContainer.getColumnWidths());
            if (minWidth > containerWidth) {
                this.containerInDOMWidth = minWidth;
            }
            else {
                this.containerInDOMWidth = containerWidth;
            }
            this.activeColumnContainer.setWidth(this.getWidth());
            this.addEvent(new CompositionContainerWidthSetAggregateEvent(this.getId(), containerWidth));
        };
        /**
         * @private
         * @param {?} enabled
         * @return {?}
         */
        CompositionAggregate.prototype.setResizeWidthWithEvent = /**
         * @private
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.resizeWidthEnabled = enabled;
            this.activeColumnContainer.setWidth(this.getWidth());
            this.addEvent(new CompositionResizeWidthSetAggregateEvent(this.getId()));
        };
        // REMOVE -> move to allColumnsContainer
        // REMOVE -> move to allColumnsContainer
        /**
         * @private
         * @return {?}
         */
        CompositionAggregate.prototype.getEnabledColumns = 
        // REMOVE -> move to allColumnsContainer
        /**
         * @private
         * @return {?}
         */
        function () {
            return this.allColumns.filter((/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return c.isEnabled(); }));
        };
        /**
         * @private
         * @param {?} columnId
         * @return {?}
         */
        CompositionAggregate.prototype.findColumnIndex = /**
         * @private
         * @param {?} columnId
         * @return {?}
         */
        function (columnId) {
            return this.allColumns.findIndex((/**
             * @param {?} column
             * @return {?}
             */
            function (column) { return column.getColumnId().equals(columnId); }));
        };
        /**
         * @private
         * @return {?}
         */
        CompositionAggregate.prototype.getMinColumnWidth = /**
         * @private
         * @return {?}
         */
        function () {
            return this.activeColumnContainer.getMinColumnWidth();
        };
        CompositionAggregate.ctorParameters = function () { return [
            { type: hermes.AggregateId },
            { type: Array },
            { type: Number },
            { type: Boolean }
        ]; };
        CompositionAggregate = __decorate([
            hermes.RootAggregate,
            __metadata("design:paramtypes", [hermes.AggregateId,
                Array, Number, Boolean])
        ], CompositionAggregate);
        return CompositionAggregate;
    }(hermes.Aggregate));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionAggregate.prototype.allColumns;
        /**
         * @type {?}
         * @private
         */
        CompositionAggregate.prototype.baseColumns;
        /**
         * @type {?}
         * @private
         */
        CompositionAggregate.prototype.baseParams;
        /**
         * Value taken from user config [width]/tree-content.assert.ts
         * @type {?}
         * @private
         */
        CompositionAggregate.prototype.width;
        /**
         * @type {?}
         * @private
         */
        CompositionAggregate.prototype.containerInDOMWidth;
        /**
         * @type {?}
         * @private
         */
        CompositionAggregate.prototype.resizeWidthEnabled;
        /**
         * Autowired
         * @type {?}
         * @private
         */
        CompositionAggregate.prototype.columnFactory;
        /**
         * @type {?}
         * @private
         */
        CompositionAggregate.prototype.activeColumnContainer;
        /**
         * @type {?}
         * @private
         */
        CompositionAggregate.prototype.activeColumnEntityConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionAggregateFactory = /** @class */ (function () {
        function CompositionAggregateFactory() {
        }
        /**
         * @param {?} id
         * @return {?}
         */
        CompositionAggregateFactory.prototype.create = /**
         * @param {?} id
         * @return {?}
         */
        function (id) {
            return new CompositionAggregate(id);
        };
        CompositionAggregateFactory.decorators = [
            { type: core.Injectable }
        ];
        return CompositionAggregateFactory;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InitCompositionCommand = /** @class */ (function (_super) {
        __extends(InitCompositionCommand, _super);
        function InitCompositionCommand(compositionId) {
            var _this = _super.call(this, compositionId, 'InitCompositionCommand') || this;
            _this.compositionId = compositionId;
            return _this;
        }
        return InitCompositionCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        InitCompositionCommand.prototype.compositionId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetColumnsCommand = /** @class */ (function (_super) {
        __extends(SetColumnsCommand, _super);
        function SetColumnsCommand(compositionId, columns) {
            var _this = _super.call(this, compositionId, 'SetColumnsCommand') || this;
            _this.compositionId = compositionId;
            _this.columns = columns;
            return _this;
        }
        /**
         * @return {?}
         */
        SetColumnsCommand.prototype.getParams = /**
         * @return {?}
         */
        function () {
            return this.columns;
        };
        return SetColumnsCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetColumnsCommand.prototype.compositionId;
        /**
         * @type {?}
         * @private
         */
        SetColumnsCommand.prototype.columns;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetCompositionWidthCommand = /** @class */ (function (_super) {
        __extends(SetCompositionWidthCommand, _super);
        function SetCompositionWidthCommand(structureId, width) {
            var _this = _super.call(this, structureId, 'SetCompositionWidthCommand') || this;
            _this.structureId = structureId;
            _this.width = width;
            return _this;
        }
        return SetCompositionWidthCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetCompositionWidthCommand.prototype.structureId;
        /** @type {?} */
        SetCompositionWidthCommand.prototype.width;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetCompositionContainerWidthCommand = /** @class */ (function (_super) {
        __extends(SetCompositionContainerWidthCommand, _super);
        function SetCompositionContainerWidthCommand(structureId, width) {
            var _this = _super.call(this, structureId, 'SetCompositionContainerWidthCommand') || this;
            _this.structureId = structureId;
            _this.width = width;
            return _this;
        }
        return SetCompositionContainerWidthCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetCompositionContainerWidthCommand.prototype.structureId;
        /** @type {?} */
        SetCompositionContainerWidthCommand.prototype.width;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetCompositionResizeWidthCommand = /** @class */ (function (_super) {
        __extends(SetCompositionResizeWidthCommand, _super);
        function SetCompositionResizeWidthCommand(structureId, enabled) {
            var _this = _super.call(this, structureId, 'SetCompositionResizeWidthCommand') || this;
            _this.structureId = structureId;
            _this.enabled = enabled;
            return _this;
        }
        return SetCompositionResizeWidthCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetCompositionResizeWidthCommand.prototype.structureId;
        /** @type {?} */
        SetCompositionResizeWidthCommand.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionChangeSortStatusCommand = /** @class */ (function (_super) {
        __extends(CompositionChangeSortStatusCommand, _super);
        function CompositionChangeSortStatusCommand(compositionId, sortParams) {
            var _this = _super.call(this, compositionId, 'CompositionChangeSortStatusCommand') || this;
            _this.compositionId = compositionId;
            _this.sortParams = sortParams;
            return _this;
        }
        /**
         * @return {?}
         */
        CompositionChangeSortStatusCommand.prototype.getCompositionId = /**
         * @return {?}
         */
        function () {
            return this.compositionId;
        };
        /**
         * @return {?}
         */
        CompositionChangeSortStatusCommand.prototype.getSortParams = /**
         * @return {?}
         */
        function () {
            return this.sortParams;
        };
        return CompositionChangeSortStatusCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        CompositionChangeSortStatusCommand.prototype.compositionId;
        /**
         * @type {?}
         * @private
         */
        CompositionChangeSortStatusCommand.prototype.sortParams;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionSetColumnEnabledCommand = /** @class */ (function (_super) {
        __extends(CompositionSetColumnEnabledCommand, _super);
        function CompositionSetColumnEnabledCommand(compositionId, columnId, enabled) {
            var _this = _super.call(this, compositionId, 'CompositionSetColumnEnabledCommand') || this;
            _this.compositionId = compositionId;
            _this.columnId = columnId;
            _this.enabled = enabled;
            return _this;
        }
        /**
         * @return {?}
         */
        CompositionSetColumnEnabledCommand.prototype.getColumnId = /**
         * @return {?}
         */
        function () {
            return this.columnId;
        };
        /**
         * @return {?}
         */
        CompositionSetColumnEnabledCommand.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled;
        };
        return CompositionSetColumnEnabledCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        CompositionSetColumnEnabledCommand.prototype.compositionId;
        /**
         * @type {?}
         * @private
         */
        CompositionSetColumnEnabledCommand.prototype.columnId;
        /**
         * @type {?}
         * @private
         */
        CompositionSetColumnEnabledCommand.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionMoveLeftColumnCommand = /** @class */ (function (_super) {
        __extends(CompositionMoveLeftColumnCommand, _super);
        function CompositionMoveLeftColumnCommand(compositionId, columnId) {
            var _this = _super.call(this, compositionId, 'CompositionMoveLeftColumnCommand') || this;
            _this.compositionId = compositionId;
            _this.columnId = columnId;
            return _this;
        }
        /**
         * @return {?}
         */
        CompositionMoveLeftColumnCommand.prototype.getColumnId = /**
         * @return {?}
         */
        function () {
            return this.columnId;
        };
        return CompositionMoveLeftColumnCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        CompositionMoveLeftColumnCommand.prototype.compositionId;
        /**
         * @type {?}
         * @private
         */
        CompositionMoveLeftColumnCommand.prototype.columnId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionMoveRightColumnCommand = /** @class */ (function (_super) {
        __extends(CompositionMoveRightColumnCommand, _super);
        function CompositionMoveRightColumnCommand(compositionId, columnId) {
            var _this = _super.call(this, compositionId, 'CompositionMoveRightColumnCommand') || this;
            _this.compositionId = compositionId;
            _this.columnId = columnId;
            return _this;
        }
        /**
         * @return {?}
         */
        CompositionMoveRightColumnCommand.prototype.getColumnId = /**
         * @return {?}
         */
        function () {
            return this.columnId;
        };
        return CompositionMoveRightColumnCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        CompositionMoveRightColumnCommand.prototype.compositionId;
        /**
         * @type {?}
         * @private
         */
        CompositionMoveRightColumnCommand.prototype.columnId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionDispatcher = /** @class */ (function () {
        function CompositionDispatcher(commandDispatcher) {
            this.commandDispatcher = commandDispatcher;
        }
        /**
         * @param {?} compositionId
         * @return {?}
         */
        CompositionDispatcher.prototype.init = /**
         * @param {?} compositionId
         * @return {?}
         */
        function (compositionId) {
            this.commandDispatcher.dispatch(new InitCompositionCommand(compositionId));
        };
        /**
         * @param {?} compositionId
         * @param {?} params
         * @return {?}
         */
        CompositionDispatcher.prototype.setColumns = /**
         * @param {?} compositionId
         * @param {?} params
         * @return {?}
         */
        function (compositionId, params) {
            this.commandDispatcher.dispatch(new SetColumnsCommand(compositionId, params));
        };
        /**
         * @param {?} compositionId
         * @param {?} width
         * @return {?}
         */
        CompositionDispatcher.prototype.setWidth = /**
         * @param {?} compositionId
         * @param {?} width
         * @return {?}
         */
        function (compositionId, width) {
            this.commandDispatcher.dispatch(new SetCompositionWidthCommand(compositionId, width));
        };
        /**
         * @param {?} compositionId
         * @param {?} width
         * @return {?}
         */
        CompositionDispatcher.prototype.setContainerWidth = /**
         * @param {?} compositionId
         * @param {?} width
         * @return {?}
         */
        function (compositionId, width) {
            this.commandDispatcher.dispatch(new SetCompositionContainerWidthCommand(compositionId, width));
        };
        /**
         * @param {?} compositionId
         * @param {?} enabled
         * @return {?}
         */
        CompositionDispatcher.prototype.setResizeWidth = /**
         * @param {?} compositionId
         * @param {?} enabled
         * @return {?}
         */
        function (compositionId, enabled) {
            this.commandDispatcher.dispatch(new SetCompositionResizeWidthCommand(compositionId, enabled));
        };
        /**
         * @param {?} compositionId
         * @param {?} params
         * @return {?}
         */
        CompositionDispatcher.prototype.changeSort = /**
         * @param {?} compositionId
         * @param {?} params
         * @return {?}
         */
        function (compositionId, params) {
            this.commandDispatcher.dispatch(new CompositionChangeSortStatusCommand(compositionId, params));
        };
        /**
         * @param {?} compositionId
         * @param {?} columnId
         * @param {?} enabled
         * @return {?}
         */
        CompositionDispatcher.prototype.setColumnEnabled = /**
         * @param {?} compositionId
         * @param {?} columnId
         * @param {?} enabled
         * @return {?}
         */
        function (compositionId, columnId, enabled) {
            this.commandDispatcher.dispatch(new CompositionSetColumnEnabledCommand(compositionId, columnId, enabled));
        };
        /**
         * @param {?} compositionId
         * @param {?} columnId
         * @return {?}
         */
        CompositionDispatcher.prototype.moveLeft = /**
         * @param {?} compositionId
         * @param {?} columnId
         * @return {?}
         */
        function (compositionId, columnId) {
            this.commandDispatcher.dispatch(new CompositionMoveLeftColumnCommand(compositionId, columnId));
        };
        /**
         * @param {?} compositionId
         * @param {?} columnId
         * @return {?}
         */
        CompositionDispatcher.prototype.moveRight = /**
         * @param {?} compositionId
         * @param {?} columnId
         * @return {?}
         */
        function (compositionId, columnId) {
            this.commandDispatcher.dispatch(new CompositionMoveRightColumnCommand(compositionId, columnId));
        };
        CompositionDispatcher.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        CompositionDispatcher.ctorParameters = function () { return [
            { type: hermes.CommandDispatcher }
        ]; };
        return CompositionDispatcher;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionDispatcher.prototype.commandDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InitCompositionCommandHandler = /** @class */ (function (_super) {
        __extends(InitCompositionCommandHandler, _super);
        function InitCompositionCommandHandler(compositionAggregateRepository, compositionAggregateFactory, domainEventPublisher) {
            var _this = _super.call(this, InitCompositionCommand, CompositionInitedEvent, domainEventPublisher) || this;
            _this.compositionAggregateRepository = compositionAggregateRepository;
            _this.compositionAggregateFactory = compositionAggregateFactory;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        InitCompositionCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var aggregateId = command.compositionId;
            /** @type {?} */
            var compositionAggregate = this.compositionAggregateFactory.create(aggregateId);
            this.compositionAggregateRepository.save(compositionAggregate);
        };
        InitCompositionCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        InitCompositionCommandHandler.ctorParameters = function () { return [
            { type: CompositionAggregateRepository },
            { type: CompositionAggregateFactory },
            { type: hermes.DomainEventPublisher }
        ]; };
        return InitCompositionCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        InitCompositionCommandHandler.prototype.compositionAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        InitCompositionCommandHandler.prototype.compositionAggregateFactory;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var CompositionAggregateEvents = {
        CompositionResizeWidthSetAggregateEvent: 'CompositionResizeWidthSetAggregateEvent',
        ColumnsSetAggregateEvent: 'ColumnsSetAggregateEvent',
        CompositionContainerWidthSetAggregateEvent: 'CompositionContainerWidthSetAggregateEvent',
        CompositionWidthSetAggregateEvent: 'CompositionWidthSetAggregateEvent',
        CompositionColumnSetEnabledAggregateEvent: 'CompositionColumnSetEnabledAggregateEvent',
        CompositionColumnMovedLeftAggregateEvent: 'CompositionColumnMovedLeftAggregateEvent',
        CompositionColumnMovedRightAggregateEvent: 'CompositionColumnMovedRightAggregateEvent'
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionEventConverter = /** @class */ (function () {
        function CompositionEventConverter() {
        }
        /**
         * @param {?} arg
         * @return {?}
         */
        CompositionEventConverter.prototype.convert = /**
         * @param {?} arg
         * @return {?}
         */
        function (arg) {
            if (Array.isArray(arg)) {
                return this.convertEvents(arg);
            }
            else {
                return this.convertEvent(arg);
            }
        };
        /**
         * @private
         * @param {?} aggregateEvents
         * @return {?}
         */
        CompositionEventConverter.prototype.convertEvents = /**
         * @private
         * @param {?} aggregateEvents
         * @return {?}
         */
        function (aggregateEvents) {
            var _this = this;
            return aggregateEvents.map((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                return _this.convertEvent(event);
            }));
        };
        /**
         * @private
         * @param {?} aggregateEvent
         * @return {?}
         */
        CompositionEventConverter.prototype.convertEvent = /**
         * @private
         * @param {?} aggregateEvent
         * @return {?}
         */
        function (aggregateEvent) {
            switch (aggregateEvent.getType()) {
                case CompositionAggregateEvents.CompositionResizeWidthSetAggregateEvent:
                    return new CompositionResizeWidthSetEvent(aggregateEvent.getAggregateId());
                case CompositionAggregateEvents.ColumnsSetAggregateEvent:
                    return new CompositionColumnsSetEvent(aggregateEvent.getAggregateId());
                case CompositionAggregateEvents.CompositionContainerWidthSetAggregateEvent:
                    /** @type {?} */
                    var payload = ((/** @type {?} */ (aggregateEvent))).containerWidth;
                    return new CompositionContainerWidthSetEvent(aggregateEvent.getAggregateId(), payload);
                case CompositionAggregateEvents.CompositionWidthSetAggregateEvent:
                    return new CompositionWidthSetEvent(aggregateEvent.getAggregateId());
                case CompositionAggregateEvents.CompositionColumnSetEnabledAggregateEvent:
                    return new CompositionColumnSetEnabledEvent(aggregateEvent.getAggregateId());
                case CompositionAggregateEvents.CompositionColumnMovedLeftAggregateEvent:
                    return new CompositionColumnMovedLeftEvent(aggregateEvent.getAggregateId());
                case CompositionAggregateEvents.CompositionColumnMovedRightAggregateEvent:
                    return new CompositionColumnMovedRightEvent(aggregateEvent.getAggregateId());
                default:
                    break;
            }
        };
        CompositionEventConverter.decorators = [
            { type: core.Injectable }
        ];
        return CompositionEventConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetColumnsCommandHandler = /** @class */ (function (_super) {
        __extends(SetColumnsCommandHandler, _super);
        function SetColumnsCommandHandler(compositionAggregateRepository, domainEventPublisher, compositionEventConverter) {
            var _this = _super.call(this, SetColumnsCommand) || this;
            _this.compositionAggregateRepository = compositionAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            _this.compositionEventConverter = compositionEventConverter;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetColumnsCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var aggregateId = command.getAggregateId();
            /** @type {?} */
            var setColumnsParams = command.getParams();
            /** @type {?} */
            var composition = this.compositionAggregateRepository.getById(aggregateId);
            composition.setColumns(setColumnsParams);
            this.compositionAggregateRepository.save(composition);
            this.publishEvents(composition, command);
        };
        /**
         * @private
         * @param {?} composition
         * @param {?} command
         * @return {?}
         */
        SetColumnsCommandHandler.prototype.publishEvents = /**
         * @private
         * @param {?} composition
         * @param {?} command
         * @return {?}
         */
        function (composition, command) {
            /** @type {?} */
            var events = (/** @type {?} */ (composition.getEvents()));
            /** @type {?} */
            var domainEvents = this.compositionEventConverter.convert(events);
            this.domainEventPublisher.publish(domainEvents);
        };
        SetColumnsCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetColumnsCommandHandler.ctorParameters = function () { return [
            { type: CompositionAggregateRepository },
            { type: hermes.DomainEventPublisher },
            { type: CompositionEventConverter }
        ]; };
        return SetColumnsCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetColumnsCommandHandler.prototype.compositionAggregateRepository;
        /**
         * @type {?}
         * @protected
         */
        SetColumnsCommandHandler.prototype.domainEventPublisher;
        /**
         * @type {?}
         * @private
         */
        SetColumnsCommandHandler.prototype.compositionEventConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetCompositionWidthCommandHandler = /** @class */ (function (_super) {
        __extends(SetCompositionWidthCommandHandler, _super);
        function SetCompositionWidthCommandHandler(compositionAggregateRepository, columnConverter, domainEventPublisher) {
            var _this = _super.call(this, SetCompositionWidthCommand, CompositionWidthSetEvent, domainEventPublisher) || this;
            _this.compositionAggregateRepository = compositionAggregateRepository;
            _this.columnConverter = columnConverter;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetCompositionWidthCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var aggregateId = command.structureId;
            /** @type {?} */
            var width = command.width;
            /** @type {?} */
            var composition = this.compositionAggregateRepository.getById(aggregateId);
            composition.setWidth(width);
            this.compositionAggregateRepository.save(composition);
        };
        SetCompositionWidthCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetCompositionWidthCommandHandler.ctorParameters = function () { return [
            { type: CompositionAggregateRepository },
            { type: ColumnEntityFactory },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetCompositionWidthCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetCompositionWidthCommandHandler.prototype.compositionAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        SetCompositionWidthCommandHandler.prototype.columnConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetCompositionResizeWidthCommandHandler = /** @class */ (function (_super) {
        __extends(SetCompositionResizeWidthCommandHandler, _super);
        function SetCompositionResizeWidthCommandHandler(compositionAggregateRepository, columnConverter, domainEventPublisher) {
            var _this = _super.call(this, SetCompositionResizeWidthCommand, CompositionResizeWidthSetEvent, domainEventPublisher) || this;
            _this.compositionAggregateRepository = compositionAggregateRepository;
            _this.columnConverter = columnConverter;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetCompositionResizeWidthCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var aggregateId = command.structureId;
            /** @type {?} */
            var enabled = command.enabled;
            /** @type {?} */
            var composition = this.compositionAggregateRepository.getById(aggregateId);
            composition.setResizeWidth(enabled);
            this.compositionAggregateRepository.save(composition);
        };
        SetCompositionResizeWidthCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetCompositionResizeWidthCommandHandler.ctorParameters = function () { return [
            { type: CompositionAggregateRepository },
            { type: ColumnEntityFactory },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetCompositionResizeWidthCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetCompositionResizeWidthCommandHandler.prototype.compositionAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        SetCompositionResizeWidthCommandHandler.prototype.columnConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetCompositionContainerWidthCommandHandler = /** @class */ (function (_super) {
        __extends(SetCompositionContainerWidthCommandHandler, _super);
        function SetCompositionContainerWidthCommandHandler(compositionAggregateRepository, domainEventPublisher, compositionEventConverter) {
            var _this = _super.call(this, SetCompositionContainerWidthCommand) || this;
            _this.compositionAggregateRepository = compositionAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            _this.compositionEventConverter = compositionEventConverter;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetCompositionContainerWidthCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var aggregateId = command.structureId;
            /** @type {?} */
            var width = command.width;
            /** @type {?} */
            var composition = this.compositionAggregateRepository.getById(aggregateId);
            composition.setContainerWidth(width);
            this.compositionAggregateRepository.save(composition);
            this.publishAggregateEvents((/** @type {?} */ (composition.getEvents())));
        };
        /**
         * @private
         * @param {?} aggregateEvents
         * @return {?}
         */
        SetCompositionContainerWidthCommandHandler.prototype.publishAggregateEvents = /**
         * @private
         * @param {?} aggregateEvents
         * @return {?}
         */
        function (aggregateEvents) {
            /** @type {?} */
            var domainEvents = this.compositionEventConverter.convert(aggregateEvents);
            this.domainEventPublisher.publish(domainEvents);
        };
        SetCompositionContainerWidthCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetCompositionContainerWidthCommandHandler.ctorParameters = function () { return [
            { type: CompositionAggregateRepository },
            { type: hermes.DomainEventPublisher },
            { type: CompositionEventConverter }
        ]; };
        return SetCompositionContainerWidthCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetCompositionContainerWidthCommandHandler.prototype.compositionAggregateRepository;
        /**
         * @type {?}
         * @protected
         */
        SetCompositionContainerWidthCommandHandler.prototype.domainEventPublisher;
        /**
         * @type {?}
         * @private
         */
        SetCompositionContainerWidthCommandHandler.prototype.compositionEventConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionChangeSortStatusCommandHandler = /** @class */ (function (_super) {
        __extends(CompositionChangeSortStatusCommandHandler, _super);
        function CompositionChangeSortStatusCommandHandler(compositionAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, CompositionChangeSortStatusCommand) || this;
            _this.compositionAggregateRepository = compositionAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        CompositionChangeSortStatusCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var compositionId = command.getCompositionId();
            /** @type {?} */
            var sortParams = command.getSortParams();
            /** @type {?} */
            var composition = this.compositionAggregateRepository.getById(compositionId);
            /** @type {?} */
            var aggregateEvent = composition.changeSort(sortParams);
            this.compositionAggregateRepository.save(composition);
            /** @type {?} */
            var columns = composition.getActiveColumns();
            this.domainEventPublisher.publish(new CompositionChangeSortStatusEvent(compositionId, columns));
        };
        CompositionChangeSortStatusCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        CompositionChangeSortStatusCommandHandler.ctorParameters = function () { return [
            { type: CompositionAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return CompositionChangeSortStatusCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionChangeSortStatusCommandHandler.prototype.compositionAggregateRepository;
        /**
         * @type {?}
         * @protected
         */
        CompositionChangeSortStatusCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnField = /** @class */ (function () {
        function ColumnField(fieldId, accessor, dataType) {
            this.fieldId = fieldId;
            this.accessor = accessor;
            this.dataType = dataType;
        }
        /**
         * @return {?}
         */
        ColumnField.prototype.getId = /**
         * @return {?}
         */
        function () {
            return this.fieldId;
        };
        /**
         * @param {?} entity
         * @return {?}
         */
        ColumnField.prototype.getValue = /**
         * @param {?} entity
         * @return {?}
         */
        function (entity) {
            return this.accessor(entity);
        };
        /**
         * @return {?}
         */
        ColumnField.prototype.getAccessor = /**
         * @return {?}
         */
        function () {
            return this.accessor;
        };
        /**
         * @return {?}
         */
        ColumnField.prototype.getDataType = /**
         * @return {?}
         */
        function () {
            return this.dataType;
        };
        return ColumnField;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ColumnField.prototype.fieldId;
        /**
         * @type {?}
         * @private
         */
        ColumnField.prototype.accessor;
        /**
         * @type {?}
         * @private
         */
        ColumnField.prototype.dataType;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnFieldFactory = /** @class */ (function () {
        function ColumnFieldFactory() {
        }
        /**
         * @param {?} columnFieldId
         * @param {?} accessor
         * @param {?} dataType
         * @return {?}
         */
        ColumnFieldFactory.prototype.create = /**
         * @param {?} columnFieldId
         * @param {?} accessor
         * @param {?} dataType
         * @return {?}
         */
        function (columnFieldId, accessor, dataType) {
            return new ColumnField(columnFieldId, accessor, dataType);
        };
        ColumnFieldFactory.decorators = [
            { type: core.Injectable }
        ];
        return ColumnFieldFactory;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionEventService = /** @class */ (function () {
        function CompositionEventService(domainEventBus) {
            this.domainEventBus = domainEventBus;
        }
        /**
         * @param {?} compositionId
         * @return {?}
         */
        CompositionEventService.prototype.onColumnsChanged = /**
         * @param {?} compositionId
         * @return {?}
         */
        function (compositionId) {
            return this.domainEventBus
                .ofEvent(CompositionColumnsSetEvent)
                .pipe(operators.filter((/**
             * @param {?} event
             * @return {?}
             */
            function (event) { return event.aggregateId.toString() === compositionId.toString(); })));
        };
        /**
         * @param {?} compositionId
         * @return {?}
         */
        CompositionEventService.prototype.onWidthChanged = /**
         * @param {?} compositionId
         * @return {?}
         */
        function (compositionId) {
            return this.domainEventBus
                .ofEvent(CompositionColumnsSetEvent)
                .pipe(operators.filter((/**
             * @param {?} event
             * @return {?}
             */
            function (event) { return event.aggregateId.toString() === compositionId.toString(); })));
        };
        /**
         * @param {?} compositionId
         * @return {?}
         */
        CompositionEventService.prototype.onContainerWidthChanged = /**
         * @param {?} compositionId
         * @return {?}
         */
        function (compositionId) {
            return this.domainEventBus
                .ofEvent(CompositionContainerWidthSetEvent)
                .pipe(operators.filter((/**
             * @param {?} event
             * @return {?}
             */
            function (event) { return event.getAggregateId().equals(compositionId); })), operators.map((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                return event.getPayload();
            })), operators.filter((/**
             * @param {?} width
             * @return {?}
             */
            function (width) { return !!width; })));
        };
        CompositionEventService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        CompositionEventService.ctorParameters = function () { return [
            { type: hermes.DomainEventBus }
        ]; };
        return CompositionEventService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionEventService.prototype.domainEventBus;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionId = /** @class */ (function (_super) {
        __extends(CompositionId, _super);
        function CompositionId(id) {
            return _super.call(this, id) || this;
        }
        return CompositionId;
    }(hermes.AggregateId));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var globalCompositionId = new CompositionId('-1');

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionReadModelService = /** @class */ (function () {
        function CompositionReadModelService(compositionRepository) {
            this.compositionRepository = compositionRepository;
        }
        /**
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionReadModelService.prototype.onWidth = /**
         * @param {?=} compositionId
         * @return {?}
         */
        function (compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            return this.compositionRepository
                .on(compositionId)
                .pipe(operators.map((/**
             * @param {?} composition
             * @return {?}
             */
            function (composition) { return composition.getWidth(); })));
        };
        /**
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionReadModelService.prototype.onContainerWidth = /**
         * @param {?=} compositionId
         * @return {?}
         */
        function (compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            return this.compositionRepository
                .on(compositionId)
                .pipe(operators.map((/**
             * @param {?} composition
             * @return {?}
             */
            function (composition) { return composition.getContainerWidth(); })));
        };
        /**
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionReadModelService.prototype.onWidthForEachColumn = /**
         * @param {?=} compositionId
         * @return {?}
         */
        function (compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            return this.compositionRepository
                .on(compositionId)
                .pipe(operators.map((/**
             * @param {?} composition
             * @return {?}
             */
            function (composition) { return composition.getAllColumns().map((/**
             * @param {?} c
             * @return {?}
             */
            function (c) { return c.width; })); })));
        };
        /**
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionReadModelService.prototype.onHeaderColumns = /**
         * @param {?=} compositionId
         * @return {?}
         */
        function (compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            return this.compositionRepository
                .on(compositionId)
                .pipe(operators.map((/**
             * @param {?} composition
             * @return {?}
             */
            function (composition) { return composition.getActiveHeaderColumns(); })));
        };
        /**
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionReadModelService.prototype.onAllColumns = /**
         * @param {?=} compositionId
         * @return {?}
         */
        function (compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            return this.compositionRepository
                .on(compositionId)
                .pipe(operators.map((/**
             * @param {?} composition
             * @return {?}
             */
            function (composition) { return composition.getHeaderColumns(); })));
        };
        /**
         * @param {?} fieldId
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionReadModelService.prototype.onSortOrder = /**
         * @param {?} fieldId
         * @param {?=} compositionId
         * @return {?}
         */
        function (fieldId, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            return this.compositionRepository
                .on(compositionId)
                .pipe(operators.map((/**
             * @param {?} composition
             * @return {?}
             */
            function (composition) { return composition.getActiveHeaderColumns(); })), operators.map((/**
             * @param {?} columns
             * @return {?}
             */
            function (columns) {
                return columns.filter((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return c.getFieldId().equals(fieldId); }));
            })), operators.filter((/**
             * @param {?} columns
             * @return {?}
             */
            function (columns) {
                return columns.length > 0;
            })), operators.map((/**
             * @param {?} columns
             * @return {?}
             */
            function (columns) { return columns[0].getSortStatus(); })));
        };
        /**
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionReadModelService.prototype.onTemplateColumns = /**
         * @param {?=} compositionId
         * @return {?}
         */
        function (compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            return this.compositionRepository
                .on(compositionId)
                .pipe(operators.map((/**
             * @param {?} composition
             * @return {?}
             */
            function (composition) { return composition.getTemplateColumns(); })));
        };
        /**
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionReadModelService.prototype.onResizeWidth = /**
         * @param {?=} compositionId
         * @return {?}
         */
        function (compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            return this.compositionRepository
                .on(compositionId)
                .pipe(operators.map((/**
             * @param {?} composition
             * @return {?}
             */
            function (composition) { return composition.isResizeWidthEnabled(); })));
        };
        CompositionReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        CompositionReadModelService.ctorParameters = function () { return [
            { type: CompositionRepository }
        ]; };
        return CompositionReadModelService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionReadModelService.prototype.compositionRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionCommandService = /** @class */ (function () {
        function CompositionCommandService(compositionDispatcher) {
            this.compositionDispatcher = compositionDispatcher;
        }
        /**
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionCommandService.prototype.init = /**
         * @param {?=} compositionId
         * @return {?}
         */
        function (compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            this.compositionDispatcher.init(compositionId);
        };
        /**
         * @param {?} params
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionCommandService.prototype.setColumns = /**
         * @param {?} params
         * @param {?=} compositionId
         * @return {?}
         */
        function (params, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            this.compositionDispatcher.setColumns(compositionId, params);
        };
        /**
         * @param {?} width
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionCommandService.prototype.setWidth = /**
         * @param {?} width
         * @param {?=} compositionId
         * @return {?}
         */
        function (width, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            this.compositionDispatcher.setWidth(compositionId, width);
        };
        /**
         * @param {?} width
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionCommandService.prototype.setContainerWidth = /**
         * @param {?} width
         * @param {?=} compositionId
         * @return {?}
         */
        function (width, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            this.compositionDispatcher.setContainerWidth(compositionId, width);
        };
        /**
         * @param {?} enabled
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionCommandService.prototype.setResizeWidth = /**
         * @param {?} enabled
         * @param {?=} compositionId
         * @return {?}
         */
        function (enabled, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            this.compositionDispatcher.setResizeWidth(compositionId, enabled);
        };
        /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionCommandService.prototype.enableColumn = /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        function (columnId, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            this.compositionDispatcher.setColumnEnabled(compositionId, columnId, true);
        };
        /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionCommandService.prototype.disableColumn = /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        function (columnId, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            this.compositionDispatcher.setColumnEnabled(compositionId, columnId, false);
        };
        /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionCommandService.prototype.moveLeft = /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        function (columnId, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            this.compositionDispatcher.moveLeft(compositionId, columnId);
        };
        /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        CompositionCommandService.prototype.moveRight = /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        function (columnId, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            this.compositionDispatcher.moveRight(compositionId, columnId);
        };
        CompositionCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        CompositionCommandService.ctorParameters = function () { return [
            { type: CompositionDispatcher }
        ]; };
        return CompositionCommandService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionCommandService.prototype.compositionDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SortToggledEvent = /** @class */ (function (_super) {
        __extends(SortToggledEvent, _super);
        function SortToggledEvent(aggregateId, compositionId, directions) {
            var _this = _super.call(this, aggregateId, 'ToggleSortEvent') || this;
            _this.compositionId = compositionId;
            _this.directions = directions;
            return _this;
        }
        /**
         * @return {?}
         */
        SortToggledEvent.prototype.getCompositionId = /**
         * @return {?}
         */
        function () {
            return this.compositionId;
        };
        /**
         * @return {?}
         */
        SortToggledEvent.prototype.getDirections = /**
         * @return {?}
         */
        function () {
            return this.directions;
        };
        return SortToggledEvent;
    }(hermes.DomainEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SortToggledEvent.prototype.compositionId;
        /**
         * @type {?}
         * @private
         */
        SortToggledEvent.prototype.directions;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnFieldId = /** @class */ (function () {
        function ColumnFieldId(id) {
            this.id = id;
        }
        /**
         * @return {?}
         */
        ColumnFieldId.prototype.getId = /**
         * @return {?}
         */
        function () {
            return this.id;
        };
        return ColumnFieldId;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ColumnFieldId.prototype.id;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ChangeSortParams = /** @class */ (function () {
        function ChangeSortParams(fieldId, direction) {
            this.fieldId = fieldId;
            this.direction = direction;
        }
        return ChangeSortParams;
    }());
    if (false) {
        /** @type {?} */
        ChangeSortParams.prototype.fieldId;
        /** @type {?} */
        ChangeSortParams.prototype.direction;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SortOrderSetEvent = /** @class */ (function (_super) {
        __extends(SortOrderSetEvent, _super);
        function SortOrderSetEvent(aggregateId, compositionId, directions) {
            var _this = _super.call(this, aggregateId, 'SortOrderSetEvent') || this;
            _this.compositionId = compositionId;
            _this.directions = directions;
            return _this;
        }
        /**
         * @return {?}
         */
        SortOrderSetEvent.prototype.getCompositionId = /**
         * @return {?}
         */
        function () {
            return this.compositionId;
        };
        /**
         * @return {?}
         */
        SortOrderSetEvent.prototype.getDirections = /**
         * @return {?}
         */
        function () {
            return this.directions;
        };
        return SortOrderSetEvent;
    }(hermes.DomainEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SortOrderSetEvent.prototype.compositionId;
        /**
         * @type {?}
         * @private
         */
        SortOrderSetEvent.prototype.directions;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionChangeSortStatusEventHandler = /** @class */ (function (_super) {
        __extends(CompositionChangeSortStatusEventHandler, _super);
        function CompositionChangeSortStatusEventHandler(compositionDispatcher) {
            var _this = _super.call(this) || this;
            _this.compositionDispatcher = compositionDispatcher;
            return _this;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        CompositionChangeSortStatusEventHandler.prototype.handle = /**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            if (event instanceof SortToggledEvent) {
                /** @type {?} */
                var compositionId = event.getCompositionId();
                /** @type {?} */
                var dirs = event.getDirections();
                /** @type {?} */
                var params = dirs.map((/**
                 * @param {?} dir
                 * @return {?}
                 */
                function (dir) {
                    /** @type {?} */
                    var columnFieldId = new ColumnFieldId(dir.fieldId.getId());
                    return new ChangeSortParams(columnFieldId, dir.direction);
                }));
                this.compositionDispatcher.changeSort(compositionId, params);
            }
            if (event instanceof SortOrderSetEvent) {
                /** @type {?} */
                var compositionId = event.getCompositionId();
                /** @type {?} */
                var dirs = event.getDirections();
                /** @type {?} */
                var params = dirs.map((/**
                 * @param {?} dir
                 * @return {?}
                 */
                function (dir) {
                    /** @type {?} */
                    var columnFieldId = new ColumnFieldId(dir.fieldId.getId());
                    return new ChangeSortParams(columnFieldId, dir.direction);
                }));
                this.compositionDispatcher.changeSort(compositionId, params);
            }
        };
        CompositionChangeSortStatusEventHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        CompositionChangeSortStatusEventHandler.ctorParameters = function () { return [
            { type: CompositionDispatcher }
        ]; };
        return CompositionChangeSortStatusEventHandler;
    }(hermes.DomainEventHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionChangeSortStatusEventHandler.prototype.compositionDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FieldsInitedEvent = /** @class */ (function (_super) {
        __extends(FieldsInitedEvent, _super);
        function FieldsInitedEvent(aggregateId, compositionId, columns, // TODO merge
        fields) {
            var _this = _super.call(this, aggregateId, 'FieldsInitedEvent') || this;
            _this.compositionId = compositionId;
            _this.columns = columns;
            _this.fields = fields;
            return _this;
        }
        /**
         * @return {?}
         */
        FieldsInitedEvent.prototype.getFields = /**
         * @return {?}
         */
        function () {
            return this.fields;
        };
        return FieldsInitedEvent;
    }(hermes.DomainEvent));
    if (false) {
        /** @type {?} */
        FieldsInitedEvent.prototype.compositionId;
        /** @type {?} */
        FieldsInitedEvent.prototype.columns;
        /**
         * @type {?}
         * @private
         */
        FieldsInitedEvent.prototype.fields;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnParams = /** @class */ (function () {
        function ColumnParams(column, field) {
            this.column = column;
            this.field = field;
        }
        /**
         * @return {?}
         */
        ColumnParams.prototype.getColumn = /**
         * @return {?}
         */
        function () {
            return this.column;
        };
        /**
         * @return {?}
         */
        ColumnParams.prototype.getField = /**
         * @return {?}
         */
        function () {
            return this.field;
        };
        return ColumnParams;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ColumnParams.prototype.column;
        /**
         * @type {?}
         * @private
         */
        ColumnParams.prototype.field;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionFieldsInitedEventHandler = /** @class */ (function (_super) {
        __extends(CompositionFieldsInitedEventHandler, _super);
        function CompositionFieldsInitedEventHandler(compositionDispatcher, columnFieldFactory) {
            var _this = _super.call(this) || this;
            _this.compositionDispatcher = compositionDispatcher;
            _this.columnFieldFactory = columnFieldFactory;
            return _this;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        CompositionFieldsInitedEventHandler.prototype.handle = /**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            if (event instanceof FieldsInitedEvent) {
                // TODO Move to different layer
                /** @type {?} */
                var fields = event.getFields();
                /** @type {?} */
                var columnFieldIds = this.convertColumnFieldIds(fields);
                /** @type {?} */
                var columns = event.columns;
                /** @type {?} */
                var params = this.convertColumns(columns, fields, columnFieldIds);
                this.compositionDispatcher.setColumns(event.compositionId, params);
            }
        };
        /**
         * @private
         * @param {?} fields
         * @return {?}
         */
        CompositionFieldsInitedEventHandler.prototype.convertColumnFieldIds = /**
         * @private
         * @param {?} fields
         * @return {?}
         */
        function (fields) {
            if (!fields) {
                return [];
            }
            return fields.map((/**
             * @param {?} field
             * @return {?}
             */
            function (field) { return new ColumnFieldId(field.getId().getId()); }));
        };
        /**
         * @private
         * @param {?} columns
         * @param {?} fields
         * @param {?} columnFieldIds
         * @return {?}
         */
        CompositionFieldsInitedEventHandler.prototype.convertColumns = /**
         * @private
         * @param {?} columns
         * @param {?} fields
         * @param {?} columnFieldIds
         * @return {?}
         */
        function (columns, fields, columnFieldIds) {
            var _this = this;
            if (!columns) {
                return [];
            }
            return columns.map((/**
             * @param {?} column
             * @param {?} index
             * @return {?}
             */
            function (column, index) {
                /** @type {?} */
                var columnFieldId = columnFieldIds[index];
                /** @type {?} */
                var field = fields[index];
                /** @type {?} */
                var columnField = _this.columnFieldFactory.create(columnFieldId, field.getAccessorMethod(), field.getDataType());
                return new ColumnParams(column, columnField);
            }));
        };
        CompositionFieldsInitedEventHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        CompositionFieldsInitedEventHandler.ctorParameters = function () { return [
            { type: CompositionDispatcher },
            { type: ColumnFieldFactory }
        ]; };
        return CompositionFieldsInitedEventHandler;
    }(hermes.DomainEventHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionFieldsInitedEventHandler.prototype.compositionDispatcher;
        /**
         * @type {?}
         * @private
         */
        CompositionFieldsInitedEventHandler.prototype.columnFieldFactory;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionSetColumnEnabledCommandHandler = /** @class */ (function (_super) {
        __extends(CompositionSetColumnEnabledCommandHandler, _super);
        function CompositionSetColumnEnabledCommandHandler(compositionAggregateRepository, domainEventPublisher, compositionEventConverter) {
            var _this = _super.call(this, CompositionSetColumnEnabledCommand) || this;
            _this.compositionAggregateRepository = compositionAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            _this.compositionEventConverter = compositionEventConverter;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        CompositionSetColumnEnabledCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var aggregateId = command.getAggregateId();
            /** @type {?} */
            var columnId = command.getColumnId();
            /** @type {?} */
            var enabled = command.isEnabled();
            /** @type {?} */
            var composition = this.compositionAggregateRepository.getById(aggregateId);
            composition.enableColumn(columnId, enabled);
            this.compositionAggregateRepository.save(composition);
            this.publishEvents(composition, command);
        };
        /**
         * @private
         * @param {?} composition
         * @param {?} command
         * @return {?}
         */
        CompositionSetColumnEnabledCommandHandler.prototype.publishEvents = /**
         * @private
         * @param {?} composition
         * @param {?} command
         * @return {?}
         */
        function (composition, command) {
            /** @type {?} */
            var events = (/** @type {?} */ (composition.getEvents()));
            /** @type {?} */
            var domainEvents = this.compositionEventConverter.convert(events);
            if (domainEvents && domainEvents.length > 0) {
                this.domainEventPublisher.publish(domainEvents);
            }
        };
        CompositionSetColumnEnabledCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        CompositionSetColumnEnabledCommandHandler.ctorParameters = function () { return [
            { type: CompositionAggregateRepository },
            { type: hermes.DomainEventPublisher },
            { type: CompositionEventConverter }
        ]; };
        return CompositionSetColumnEnabledCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionSetColumnEnabledCommandHandler.prototype.compositionAggregateRepository;
        /**
         * @type {?}
         * @protected
         */
        CompositionSetColumnEnabledCommandHandler.prototype.domainEventPublisher;
        /**
         * @type {?}
         * @private
         */
        CompositionSetColumnEnabledCommandHandler.prototype.compositionEventConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionMoveLeftColumnCommandHandler = /** @class */ (function (_super) {
        __extends(CompositionMoveLeftColumnCommandHandler, _super);
        function CompositionMoveLeftColumnCommandHandler(compositionAggregateRepository, domainEventPublisher, compositionEventConverter) {
            var _this = _super.call(this, CompositionMoveLeftColumnCommand) || this;
            _this.compositionAggregateRepository = compositionAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            _this.compositionEventConverter = compositionEventConverter;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        CompositionMoveLeftColumnCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var aggregateId = command.getAggregateId();
            /** @type {?} */
            var columnId = command.getColumnId();
            /** @type {?} */
            var composition = this.compositionAggregateRepository.getById(aggregateId);
            composition.moveLeft(columnId);
            this.compositionAggregateRepository.save(composition);
            this.publishEvents(composition, command);
        };
        /**
         * @private
         * @param {?} composition
         * @param {?} command
         * @return {?}
         */
        CompositionMoveLeftColumnCommandHandler.prototype.publishEvents = /**
         * @private
         * @param {?} composition
         * @param {?} command
         * @return {?}
         */
        function (composition, command) {
            /** @type {?} */
            var events = (/** @type {?} */ (composition.getEvents()));
            /** @type {?} */
            var domainEvents = this.compositionEventConverter.convert(events);
            if (domainEvents && domainEvents.length > 0) {
                this.domainEventPublisher.publish(domainEvents);
            }
        };
        CompositionMoveLeftColumnCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        CompositionMoveLeftColumnCommandHandler.ctorParameters = function () { return [
            { type: CompositionAggregateRepository },
            { type: hermes.DomainEventPublisher },
            { type: CompositionEventConverter }
        ]; };
        return CompositionMoveLeftColumnCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionMoveLeftColumnCommandHandler.prototype.compositionAggregateRepository;
        /**
         * @type {?}
         * @protected
         */
        CompositionMoveLeftColumnCommandHandler.prototype.domainEventPublisher;
        /**
         * @type {?}
         * @private
         */
        CompositionMoveLeftColumnCommandHandler.prototype.compositionEventConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var CompositionMoveRightColumnCommandHandler = /** @class */ (function (_super) {
        __extends(CompositionMoveRightColumnCommandHandler, _super);
        function CompositionMoveRightColumnCommandHandler(compositionAggregateRepository, domainEventPublisher, compositionEventConverter) {
            var _this = _super.call(this, CompositionMoveRightColumnCommand) || this;
            _this.compositionAggregateRepository = compositionAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            _this.compositionEventConverter = compositionEventConverter;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        CompositionMoveRightColumnCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var aggregateId = command.getAggregateId();
            /** @type {?} */
            var columnId = command.getColumnId();
            /** @type {?} */
            var composition = this.compositionAggregateRepository.getById(aggregateId);
            composition.moveRight(columnId);
            this.compositionAggregateRepository.save(composition);
            this.publishEvents(composition, command);
        };
        /**
         * @private
         * @param {?} composition
         * @param {?} command
         * @return {?}
         */
        CompositionMoveRightColumnCommandHandler.prototype.publishEvents = /**
         * @private
         * @param {?} composition
         * @param {?} command
         * @return {?}
         */
        function (composition, command) {
            /** @type {?} */
            var events = (/** @type {?} */ (composition.getEvents()));
            /** @type {?} */
            var domainEvents = this.compositionEventConverter.convert(events);
            if (domainEvents && domainEvents.length > 0) {
                this.domainEventPublisher.publish(domainEvents);
            }
        };
        CompositionMoveRightColumnCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        CompositionMoveRightColumnCommandHandler.ctorParameters = function () { return [
            { type: CompositionAggregateRepository },
            { type: hermes.DomainEventPublisher },
            { type: CompositionEventConverter }
        ]; };
        return CompositionMoveRightColumnCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        CompositionMoveRightColumnCommandHandler.prototype.compositionAggregateRepository;
        /**
         * @type {?}
         * @protected
         */
        CompositionMoveRightColumnCommandHandler.prototype.domainEventPublisher;
        /**
         * @type {?}
         * @private
         */
        CompositionMoveRightColumnCommandHandler.prototype.compositionEventConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var commandProviders = __spread(inMemoryCompositionCommandProviders, [
        CompositionDispatcher,
        CompositionAggregateFactory,
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: InitCompositionCommandHandler,
            multi: true
        },
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetColumnsCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetCompositionWidthCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetCompositionResizeWidthCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetCompositionContainerWidthCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: CompositionSetColumnEnabledCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: CompositionChangeSortStatusCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: CompositionMoveLeftColumnCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: CompositionMoveRightColumnCommandHandler,
            multi: true
        },
        ColumnEntityFactory,
        CompositionEventConverter,
        ColumnFieldFactory
    ]);
    /** @type {?} */
    var readProviders = __spread(inMemoryCompositionQueryProviders, [
        {
            provide: hermes.DOMAIN_EVENT_HANDLERS,
            useClass: CompositionFieldsInitedEventHandler,
            multi: true
        }, {
            provide: hermes.DOMAIN_EVENT_HANDLERS,
            useClass: CompositionChangeSortStatusEventHandler,
            multi: true
        },
        ColumnDefinitionFactory,
        ViewTemplateRepository,
        ViewTemplateFactory,
        EditTemplateFactory,
        EditTemplateRepository
    ]);
    /** @type {?} */
    var compositionProviders = __spread(inMemoryCompositionProviders, commandProviders, readProviders, [
        CompositionConverter,
        CompositionCommandService,
        CompositionReadModelService,
        CompositionEventService
    ]);

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SafePipe = /** @class */ (function () {
        function SafePipe(sanitizer) {
            this.sanitizer = sanitizer;
        }
        /**
         * @param {?} value
         * @param {?} type
         * @return {?}
         */
        SafePipe.prototype.transform = /**
         * @param {?} value
         * @param {?} type
         * @return {?}
         */
        function (value, type) {
            switch (type) {
                case 'html': return this.sanitizer.bypassSecurityTrustHtml(value);
                case 'style': return this.sanitizer.bypassSecurityTrustStyle(value);
                case 'script': return this.sanitizer.bypassSecurityTrustScript(value);
                case 'url': return this.sanitizer.bypassSecurityTrustUrl(value);
                case 'resourceUrl': return this.sanitizer.bypassSecurityTrustResourceUrl(value);
                default: throw new Error("Invalid safe type specified: " + type);
            }
        };
        SafePipe.decorators = [
            { type: core.Pipe, args: [{
                        name: 'guiSafe'
                    },] }
        ];
        /** @nocollapse */
        SafePipe.ctorParameters = function () { return [
            { type: platformBrowser.DomSanitizer }
        ]; };
        return SafePipe;
    }());
    if (false) {
        /**
         * @type {?}
         * @protected
         */
        SafePipe.prototype.sanitizer;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SanitizeModule = /** @class */ (function () {
        function SanitizeModule() {
        }
        SanitizeModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule
                        ],
                        declarations: [
                            SafePipe
                        ],
                        exports: [
                            SafePipe
                        ]
                    },] }
        ];
        return SanitizeModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var components = [
        ViewTemplatesComponent,
        EditTemplatesComponent,
        StringEditTemplateComponent,
        NumberEditTemplateComponent,
        BooleanEditTemplateComponent,
        ColumnQueryComponent,
        FunctionViewComponent
    ];
    /** @type {?} */
    var exportDeclarations = [
        ViewTemplatesComponent,
        EditTemplatesComponent,
        ColumnQueryComponent,
        fabric.FabricChipModule,
        fabric.FabricCheckboxModule,
        fabric.FabricButtonModule,
        fabric.FabricInputModule,
        FunctionViewComponent
    ];
    var CompositionModule = /** @class */ (function () {
        function CompositionModule() {
        }
        CompositionModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            forms.ReactiveFormsModule,
                            SanitizeModule,
                            fabric.FabricChipModule,
                            fabric.FabricCheckboxModule,
                            fabric.FabricButtonModule,
                            fabric.FabricInputModule
                        ],
                        providers: __spread(compositionProviders),
                        declarations: [
                            components
                        ],
                        exports: exportDeclarations,
                        entryComponents: [
                            ViewTemplatesComponent,
                            EditTemplatesComponent,
                            fabric.FabricChipComponent,
                            fabric.FabricCheckboxComponent,
                            fabric.FabricButtonComponent,
                            fabric.FabricInputComponent
                        ]
                    },] }
        ];
        return CompositionModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureIdGenerator = /** @class */ (function () {
        function StructureIdGenerator() {
            this.increment = 0;
        }
        /**
         * @return {?}
         */
        StructureIdGenerator.prototype.generateId = /**
         * @return {?}
         */
        function () {
            this.increment++;
            return this.increment;
        };
        return StructureIdGenerator;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureIdGenerator.prototype.increment;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var   /**
     * @abstract
     */
    Logger = /** @class */ (function () {
        function Logger() {
        }
        return Logger;
    }());
    if (false) {
        /**
         * @abstract
         * @param {?} text
         * @return {?}
         */
        Logger.prototype.warn = function (text) { };
        /**
         * @abstract
         * @param {?} text
         * @return {?}
         */
        Logger.prototype.error = function (text) { };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PageChangedAggregateEvent = /** @class */ (function (_super) {
        __extends(PageChangedAggregateEvent, _super);
        function PageChangedAggregateEvent(structureId) {
            return _super.call(this, structureId, 'PageChangedAggregateEvent') || this;
        }
        return PageChangedAggregateEvent;
    }(hermes.AggregateEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PagesizeChangedAggregateEvent = /** @class */ (function (_super) {
        __extends(PagesizeChangedAggregateEvent, _super);
        function PagesizeChangedAggregateEvent(structureId) {
            return _super.call(this, structureId, 'PagesizeChangedAggregateEvent') || this;
        }
        return PagesizeChangedAggregateEvent;
    }(hermes.AggregateEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    // Aggregate
    var 
    // Aggregate
    PagingAggregate = /** @class */ (function () {
        function PagingAggregate(enabled, page, pageSize, pageSizes, pagerTop, pagerBottom, sourceSize, logger) {
            this.enabled = enabled;
            this.page = page;
            this.pageSize = pageSize;
            this.pageSizes = pageSizes;
            this.pagerTop = pagerTop;
            this.pagerBottom = pagerBottom;
            this.sourceSize = sourceSize;
            this.events = [];
            this.logger = logger;
        }
        // TODO Remove
        // TODO Remove
        /**
         * @param {?} logger
         * @return {?}
         */
        PagingAggregate.default = 
        // TODO Remove
        /**
         * @param {?} logger
         * @return {?}
         */
        function (logger) {
            return new PagingAggregate(false, 1, 25, [10, 25, 50, 100], false, true, 0, logger);
        };
        // TODO Remove
        // TODO Remove
        /**
         * @param {?} paging
         * @param {?} logger
         * @return {?}
         */
        PagingAggregate.fromConfig = 
        // TODO Remove
        /**
         * @param {?} paging
         * @param {?} logger
         * @return {?}
         */
        function (paging, logger) {
            /** @type {?} */
            var defaultPagingDefinition = PagingAggregate.default(logger);
            /** @type {?} */
            var enabled = paging.enabled || defaultPagingDefinition.isEnabled();
            /** @type {?} */
            var page = paging.page || defaultPagingDefinition.getPage();
            /** @type {?} */
            var pageSize = paging.pageSize || defaultPagingDefinition.getPageSize();
            /** @type {?} */
            var pageSizes = paging.pageSizes || defaultPagingDefinition.getPageSizes();
            /** @type {?} */
            var pagerTop = paging.pagerTop || defaultPagingDefinition.isPagerTop();
            /** @type {?} */
            var pagerBottom = paging.pagerBottom || defaultPagingDefinition.isPagerBottom();
            return new PagingAggregate(enabled, page, pageSize, pageSizes, pagerTop, pagerBottom, 0, logger);
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.isDisabled = /**
         * @return {?}
         */
        function () {
            return !this.enabled;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.getPage = /**
         * @return {?}
         */
        function () {
            return this.page;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.getPageSize = /**
         * @return {?}
         */
        function () {
            return this.pageSize;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.getPageSizes = /**
         * @return {?}
         */
        function () {
            return this.pageSizes;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.isPagerTop = /**
         * @return {?}
         */
        function () {
            if (this.isDisabled()) {
                return false;
            }
            return this.pagerTop;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.isPagerBottom = /**
         * @return {?}
         */
        function () {
            if (this.isDisabled()) {
                return false;
            }
            return this.pagerBottom;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.getSourceSize = /**
         * @return {?}
         */
        function () {
            return this.sourceSize;
        };
        /**
         * @param {?} pagingConfig
         * @return {?}
         */
        PagingAggregate.prototype.change = /**
         * @param {?} pagingConfig
         * @return {?}
         */
        function (pagingConfig) {
            if (pagingConfig.enabled !== undefined) {
                this.enabled = pagingConfig.enabled;
            }
            if (pagingConfig.page !== undefined) {
                this.page = pagingConfig.page;
                if (pagingConfig.enabled === undefined) {
                    this.enabled = true;
                }
            }
            if (pagingConfig.pageSize !== undefined) {
                this.pageSize = pagingConfig.pageSize;
                if (pagingConfig.enabled === undefined) {
                    this.enabled = true;
                }
            }
            if (pagingConfig.pageSizes !== undefined) {
                this.pageSizes = pagingConfig.pageSizes;
                if (pagingConfig.enabled === undefined) {
                    this.enabled = true;
                }
            }
            if (pagingConfig.pagerTop !== undefined) {
                this.pagerTop = pagingConfig.pagerTop;
                if (pagingConfig.enabled === undefined) {
                    this.enabled = true;
                }
            }
            if (pagingConfig.pagerBottom !== undefined) {
                this.pagerBottom = pagingConfig.pagerBottom;
                if (pagingConfig.enabled === undefined) {
                    this.enabled = true;
                }
            }
            if (this.enabled === true &&
                pagingConfig.pagerTop === false &&
                pagingConfig.pagerBottom === false) {
                this.pagerBottom = true;
                this.logger.warn('Pagers cannot be turn off when paging is enabled.');
            }
        };
        /**
         * @param {?} size
         * @return {?}
         */
        PagingAggregate.prototype.setSourceSize = /**
         * @param {?} size
         * @return {?}
         */
        function (size) {
            this.sourceSize = size;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.nextPage = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var nextPage = this.page;
            if (!this.isNextPageDisabled()) {
                nextPage += 1;
            }
            this.page = nextPage;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.prevPage = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var prevPage = this.page;
            if (!this.isPrevPageDisabled()) {
                prevPage -= 1;
            }
            this.page = prevPage;
        };
        /**
         * @param {?} pageSize
         * @return {?}
         */
        PagingAggregate.prototype.changePageSize = /**
         * @param {?} pageSize
         * @return {?}
         */
        function (pageSize) {
            if (this.pageSizes.find((/**
             * @param {?} ps
             * @return {?}
             */
            function (ps) { return ps === pageSize; }))) {
                this.setPage(1);
                this.setPageSize(pageSize);
            }
            return this.events;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.isNextPageDisabled = /**
         * @return {?}
         */
        function () {
            if (this.sourceSize === 0) {
                return true;
            }
            return this.page === Math.ceil(this.sourceSize / this.pageSize);
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.isPrevPageDisabled = /**
         * @return {?}
         */
        function () {
            return this.page === 1;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.calculateStart = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var firstItem = 1 + ((this.page - 1) * this.pageSize);
            if (this.sourceSize < firstItem) {
                return 0;
            }
            return firstItem;
        };
        /**
         * @return {?}
         */
        PagingAggregate.prototype.calculateEnd = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var lastItem = this.page * this.pageSize;
            if (this.sourceSize < lastItem) {
                return this.sourceSize;
            }
            return lastItem;
        };
        /**
         * @param {?} source
         * @return {?}
         */
        PagingAggregate.prototype.sample = /**
         * @param {?} source
         * @return {?}
         */
        function (source) {
            if (this.isDisabled()) {
                return source;
            }
            /** @type {?} */
            var start = this.calculateStart();
            if (start !== 0) {
                start -= 1;
            }
            return source.slice(start, this.calculateEnd());
        };
        /**
         * @private
         * @param {?} page
         * @return {?}
         */
        PagingAggregate.prototype.setPage = /**
         * @private
         * @param {?} page
         * @return {?}
         */
        function (page) {
            this.page = page;
            this.events.push(new PageChangedAggregateEvent(new StructureId('TODO need to be changed')));
        };
        /**
         * @private
         * @param {?} pageSize
         * @return {?}
         */
        PagingAggregate.prototype.setPageSize = /**
         * @private
         * @param {?} pageSize
         * @return {?}
         */
        function (pageSize) {
            this.pageSize = pageSize;
            this.events.push(new PagesizeChangedAggregateEvent(new StructureId('TODO need to be changed')));
        };
        return PagingAggregate;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        PagingAggregate.prototype.events;
        /**
         * @type {?}
         * @private
         */
        PagingAggregate.prototype.logger;
        /**
         * @type {?}
         * @private
         */
        PagingAggregate.prototype.enabled;
        /**
         * @type {?}
         * @private
         */
        PagingAggregate.prototype.page;
        /**
         * @type {?}
         * @private
         */
        PagingAggregate.prototype.pageSize;
        /**
         * @type {?}
         * @private
         */
        PagingAggregate.prototype.pageSizes;
        /**
         * @type {?}
         * @private
         */
        PagingAggregate.prototype.pagerTop;
        /**
         * @type {?}
         * @private
         */
        PagingAggregate.prototype.pagerBottom;
        /**
         * @type {?}
         * @private
         */
        PagingAggregate.prototype.sourceSize;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PagingAggregateFactory = /** @class */ (function () {
        function PagingAggregateFactory(logger) {
            this.logger = logger;
        }
        /**
         * @return {?}
         */
        PagingAggregateFactory.prototype.createDefault = /**
         * @return {?}
         */
        function () {
            return PagingAggregate.default(this.logger);
        };
        /**
         * @param {?} config
         * @return {?}
         */
        PagingAggregateFactory.prototype.createFromConfig = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            return PagingAggregate.fromConfig(config, this.logger);
        };
        PagingAggregateFactory.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        PagingAggregateFactory.ctorParameters = function () { return [
            { type: Logger }
        ]; };
        return PagingAggregateFactory;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        PagingAggregateFactory.prototype.logger;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalPagingCommandService = /** @class */ (function (_super) {
        __extends(LocalPagingCommandService, _super);
        function LocalPagingCommandService(structureId, aggregateFactory, pagingDispatcher) {
            var _this = _super.call(this, pagingDispatcher) || this;
            _this.structureId = structureId;
            _this.aggregateFactory = aggregateFactory;
            return _this;
        }
        /**
         * @return {?}
         */
        LocalPagingCommandService.prototype.setDefaultPaging = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var defaultPaggingAggregate = this.aggregateFactory.createDefault();
            _super.prototype.setPaging.call(this, {
                page: defaultPaggingAggregate.getPage(),
                pageSize: defaultPaggingAggregate.getPageSize(),
                pageSizes: defaultPaggingAggregate.getPageSizes()
            }, this.structureId);
        };
        /**
         * @param {?} paging
         * @return {?}
         */
        LocalPagingCommandService.prototype.setPaging = /**
         * @param {?} paging
         * @return {?}
         */
        function (paging) {
            _super.prototype.setPaging.call(this, paging, this.structureId);
        };
        /**
         * @param {?} pageSize
         * @return {?}
         */
        LocalPagingCommandService.prototype.changePageSize = /**
         * @param {?} pageSize
         * @return {?}
         */
        function (pageSize) {
            _super.prototype.changePageSize.call(this, pageSize, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalPagingCommandService.prototype.nextPage = /**
         * @return {?}
         */
        function () {
            _super.prototype.nextPage.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalPagingCommandService.prototype.prevPage = /**
         * @return {?}
         */
        function () {
            _super.prototype.prevPage.call(this, this.structureId);
        };
        LocalPagingCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalPagingCommandService.ctorParameters = function () { return [
            { type: StructureId },
            { type: PagingAggregateFactory },
            { type: PagingDispatcher }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Object]),
            __metadata("design:returntype", void 0)
        ], LocalPagingCommandService.prototype, "setPaging", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Number]),
            __metadata("design:returntype", void 0)
        ], LocalPagingCommandService.prototype, "changePageSize", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", void 0)
        ], LocalPagingCommandService.prototype, "nextPage", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", void 0)
        ], LocalPagingCommandService.prototype, "prevPage", null);
        return LocalPagingCommandService;
    }(PagingCommandService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalPagingCommandService.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        LocalPagingCommandService.prototype.aggregateFactory;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalPagingReadModelService = /** @class */ (function (_super) {
        __extends(LocalPagingReadModelService, _super);
        function LocalPagingReadModelService(structureId, pagingRepository) {
            var _this = _super.call(this, pagingRepository) || this;
            _this.structureId = structureId;
            return _this;
        }
        /**
         * @return {?}
         */
        LocalPagingReadModelService.prototype.onPaging = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onPaging.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalPagingReadModelService.prototype.onSinglePaging = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onPaging.call(this, this.structureId)
                .pipe(operators.take(1));
        };
        LocalPagingReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalPagingReadModelService.ctorParameters = function () { return [
            { type: StructureId },
            { type: PagingRepository }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalPagingReadModelService.prototype, "onPaging", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalPagingReadModelService.prototype, "onSinglePaging", null);
        return LocalPagingReadModelService;
    }(PagingReadModelService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalPagingReadModelService.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSchemaCommand = /** @class */ (function (_super) {
        __extends(SetSchemaCommand, _super);
        function SetSchemaCommand(structureId, height) {
            var _this = _super.call(this, structureId, 'SetSchemaCommand') || this;
            _this.structureId = structureId;
            _this.height = height;
            return _this;
        }
        return SetSchemaCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetSchemaCommand.prototype.structureId;
        /** @type {?} */
        SetSchemaCommand.prototype.height;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSchemaVerticalGridCommand = /** @class */ (function (_super) {
        __extends(SetSchemaVerticalGridCommand, _super);
        function SetSchemaVerticalGridCommand(structureId, enabled) {
            var _this = _super.call(this, structureId, 'SetSchemaVerticalGridCommand') || this;
            _this.structureId = structureId;
            _this.enabled = enabled;
            return _this;
        }
        return SetSchemaVerticalGridCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetSchemaVerticalGridCommand.prototype.structureId;
        /** @type {?} */
        SetSchemaVerticalGridCommand.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSchemaHorizontalGridCommand = /** @class */ (function (_super) {
        __extends(SetSchemaHorizontalGridCommand, _super);
        function SetSchemaHorizontalGridCommand(structureId, enabled) {
            var _this = _super.call(this, structureId, 'SetSchemaHorizontalGridCommand') || this;
            _this.structureId = structureId;
            _this.enabled = enabled;
            return _this;
        }
        return SetSchemaHorizontalGridCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetSchemaHorizontalGridCommand.prototype.structureId;
        /** @type {?} */
        SetSchemaHorizontalGridCommand.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSchemaThemeCommand = /** @class */ (function (_super) {
        __extends(SetSchemaThemeCommand, _super);
        function SetSchemaThemeCommand(structureId, theme) {
            var _this = _super.call(this, structureId, 'SetSchemaThemeCommand') || this;
            _this.structureId = structureId;
            _this.theme = theme;
            return _this;
        }
        return SetSchemaThemeCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetSchemaThemeCommand.prototype.structureId;
        /** @type {?} */
        SetSchemaThemeCommand.prototype.theme;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetRowColoringCommand = /** @class */ (function (_super) {
        __extends(SetRowColoringCommand, _super);
        function SetRowColoringCommand(structureId, coloring) {
            var _this = _super.call(this, structureId, 'SetRowColoringCommand') || this;
            _this.structureId = structureId;
            _this.coloring = coloring;
            return _this;
        }
        return SetRowColoringCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetRowColoringCommand.prototype.structureId;
        /** @type {?} */
        SetRowColoringCommand.prototype.coloring;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ChangeSchemaTopHeaderCommand = /** @class */ (function (_super) {
        __extends(ChangeSchemaTopHeaderCommand, _super);
        function ChangeSchemaTopHeaderCommand(structureId, enabled) {
            var _this = _super.call(this, structureId, 'ChangeSchemaTopHeaderCommand') || this;
            _this.structureId = structureId;
            _this.enabled = enabled;
            return _this;
        }
        return ChangeSchemaTopHeaderCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        ChangeSchemaTopHeaderCommand.prototype.structureId;
        /** @type {?} */
        ChangeSchemaTopHeaderCommand.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ChangeSchemaBottomHeaderCommand = /** @class */ (function (_super) {
        __extends(ChangeSchemaBottomHeaderCommand, _super);
        function ChangeSchemaBottomHeaderCommand(structureId, enabled) {
            var _this = _super.call(this, structureId, 'ChangeSchemaBottomHeaderCommand') || this;
            _this.structureId = structureId;
            _this.enabled = enabled;
            return _this;
        }
        return ChangeSchemaBottomHeaderCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        ChangeSchemaBottomHeaderCommand.prototype.structureId;
        /** @type {?} */
        ChangeSchemaBottomHeaderCommand.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaDispatcher = /** @class */ (function () {
        function SchemaDispatcher(commandDispatcher) {
            this.commandDispatcher = commandDispatcher;
        }
        /**
         * @param {?} structureId
         * @param {?} height
         * @return {?}
         */
        SchemaDispatcher.prototype.setSchema = /**
         * @param {?} structureId
         * @param {?} height
         * @return {?}
         */
        function (structureId, height) {
            this.commandDispatcher.dispatch(new SetSchemaCommand(structureId, height));
        };
        /**
         * @param {?} structureId
         * @param {?} enabled
         * @return {?}
         */
        SchemaDispatcher.prototype.changeVerticalGrid = /**
         * @param {?} structureId
         * @param {?} enabled
         * @return {?}
         */
        function (structureId, enabled) {
            this.commandDispatcher.dispatch(new SetSchemaVerticalGridCommand(structureId, enabled));
        };
        /**
         * @param {?} structureId
         * @param {?} enabled
         * @return {?}
         */
        SchemaDispatcher.prototype.changeHorizontalGrid = /**
         * @param {?} structureId
         * @param {?} enabled
         * @return {?}
         */
        function (structureId, enabled) {
            this.commandDispatcher.dispatch(new SetSchemaHorizontalGridCommand(structureId, enabled));
        };
        /**
         * @param {?} structureId
         * @param {?} theme
         * @return {?}
         */
        SchemaDispatcher.prototype.setTheme = /**
         * @param {?} structureId
         * @param {?} theme
         * @return {?}
         */
        function (structureId, theme) {
            this.commandDispatcher.dispatch(new SetSchemaThemeCommand(structureId, theme));
        };
        /**
         * @param {?=} structureId
         * @param {?=} coloring
         * @return {?}
         */
        SchemaDispatcher.prototype.setRowColoring = /**
         * @param {?=} structureId
         * @param {?=} coloring
         * @return {?}
         */
        function (structureId, coloring) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new SetRowColoringCommand(structureId, coloring));
        };
        /**
         * @param {?} structureId
         * @param {?} enabled
         * @return {?}
         */
        SchemaDispatcher.prototype.changeTopHeader = /**
         * @param {?} structureId
         * @param {?} enabled
         * @return {?}
         */
        function (structureId, enabled) {
            this.commandDispatcher.dispatch(new ChangeSchemaTopHeaderCommand(structureId, enabled));
        };
        /**
         * @param {?} structureId
         * @param {?} enabled
         * @return {?}
         */
        SchemaDispatcher.prototype.changeBottomHeader = /**
         * @param {?} structureId
         * @param {?} enabled
         * @return {?}
         */
        function (structureId, enabled) {
            this.commandDispatcher.dispatch(new ChangeSchemaBottomHeaderCommand(structureId, enabled));
        };
        SchemaDispatcher.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SchemaDispatcher.ctorParameters = function () { return [
            { type: hermes.CommandDispatcher }
        ]; };
        return SchemaDispatcher;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SchemaDispatcher.prototype.commandDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaRepository = /** @class */ (function () {
        function SchemaRepository(structureRepository) {
            this.structureRepository = structureRepository;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        SchemaRepository.prototype.on = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.structureRepository
                .onStructure(structureId)
                .pipe(operators.filter((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) { return structure.getId().toString() === structureId.toString(); })), operators.map((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) { return structure.getSchema(); })));
        };
        SchemaRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SchemaRepository.ctorParameters = function () { return [
            { type: StructureRepository }
        ]; };
        return SchemaRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SchemaRepository.prototype.structureRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaReadModelService = /** @class */ (function () {
        function SchemaReadModelService(schemaRepository) {
            this.schemaRepository = schemaRepository;
        }
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SchemaReadModelService.prototype.onSchema = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.schemaRepository.on(structureId);
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SchemaReadModelService.prototype.onSingleSchema = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.onSchema(structureId)
                .pipe(operators.take(1));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SchemaReadModelService.prototype.onHeight = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.schemaRepository
                .on(structureId)
                .pipe(operators.map((/**
             * @param {?} schema
             * @return {?}
             */
            function (schema) {
                return schema.getHeight();
            })), operators.filter((/**
             * @param {?} height
             * @return {?}
             */
            function (height) { return height !== undefined; })));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SchemaReadModelService.prototype.onContainerHeight = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.schemaRepository
                .on(structureId)
                .pipe(operators.map((/**
             * @param {?} schema
             * @return {?}
             */
            function (schema) {
                return schema.getContainerHeight();
            })), operators.filter((/**
             * @param {?} height
             * @return {?}
             */
            function (height) { return height !== undefined; })));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SchemaReadModelService.prototype.onCssClasses = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.schemaRepository
                .on(structureId)
                .pipe(operators.map((/**
             * @param {?} schema
             * @return {?}
             */
            function (schema) {
                return schema.getCssClasses();
            })));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SchemaReadModelService.prototype.onColumnHeader = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.schemaRepository
                .on(structureId)
                .pipe(operators.map((/**
             * @param {?} schema
             * @return {?}
             */
            function (schema) {
                return schema.getColumnHeader();
            })));
        };
        SchemaReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SchemaReadModelService.ctorParameters = function () { return [
            { type: SchemaRepository }
        ]; };
        return SchemaReadModelService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SchemaReadModelService.prototype.schemaRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaCommandService = /** @class */ (function () {
        function SchemaCommandService(schemaDispatcher, schemaQueryService) {
            this.schemaDispatcher = schemaDispatcher;
            this.schemaQueryService = schemaQueryService;
            this.unsubscribe$ = new rxjs.Subject();
        }
        /**
         * @return {?}
         */
        SchemaCommandService.prototype.ngOnDestroy = /**
         * @return {?}
         */
        function () {
            this.unsubscribe$.next();
            this.unsubscribe$.complete();
        };
        /**
         * @param {?} height
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.setSchema = /**
         * @param {?} height
         * @param {?=} structureId
         * @return {?}
         */
        function (height, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaDispatcher.setSchema(structureId, height);
        };
        /**
         * @param {?} height
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.setHeight = /**
         * @param {?} height
         * @param {?=} structureId
         * @return {?}
         */
        function (height, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaDispatcher.setSchema(structureId, height);
        };
        /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.changeVerticalGrid = /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaDispatcher.changeVerticalGrid(structureId, enabled);
        };
        /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.changeHorizontalGrid = /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaDispatcher.changeHorizontalGrid(structureId, enabled);
        };
        /**
         * @param {?} theme
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.setTheme = /**
         * @param {?} theme
         * @param {?=} structureId
         * @return {?}
         */
        function (theme, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaDispatcher.setTheme(structureId, theme);
        };
        /**
         * @param {?} coloring
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.setRowColoring = /**
         * @param {?} coloring
         * @param {?=} structureId
         * @return {?}
         */
        function (coloring, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaDispatcher.setRowColoring(structureId, coloring);
        };
        /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.changeTopHeader = /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaDispatcher.changeTopHeader(structureId, enabled);
        };
        /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.changeBottomHeader = /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaDispatcher.changeBottomHeader(structureId, enabled);
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.toggleVerticalGrid = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            var _this = this;
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaQueryService
                .onCssClasses(structureId)
                .pipe(operators.map((/**
             * @param {?} css
             * @return {?}
             */
            function (css) { return css.verticalGrid; })), operators.filter((/**
             * @param {?} grid
             * @return {?}
             */
            function (grid) { return grid !== undefined; })), operators.take(1), operators.takeUntil(this.unsubscribe$))
                .subscribe((/**
             * @param {?} grid
             * @return {?}
             */
            function (grid) {
                _this.changeVerticalGrid(!grid, structureId);
            }));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.toggleHorizontalGrid = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            var _this = this;
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaQueryService
                .onCssClasses(structureId)
                .pipe(operators.map((/**
             * @param {?} css
             * @return {?}
             */
            function (css) { return css.horizontalGrid; })), operators.filter((/**
             * @param {?} grid
             * @return {?}
             */
            function (grid) { return grid !== undefined; })), operators.take(1), operators.takeUntil(this.unsubscribe$))
                .subscribe((/**
             * @param {?} grid
             * @return {?}
             */
            function (grid) {
                _this.changeHorizontalGrid(!grid, structureId);
            }));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.toggleTopHeader = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            var _this = this;
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaQueryService
                .onColumnHeader(structureId)
                .pipe(operators.map((/**
             * @param {?} columnHeader
             * @return {?}
             */
            function (columnHeader) { return columnHeader.isTopHeaderEnabled(); })), operators.take(1), operators.takeUntil(this.unsubscribe$))
                .subscribe((/**
             * @param {?} enabled
             * @return {?}
             */
            function (enabled) {
                _this.changeTopHeader(!enabled, structureId);
            }));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        SchemaCommandService.prototype.toggleBottomHeader = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            var _this = this;
            if (structureId === void 0) { structureId = globalStructureId; }
            this.schemaQueryService
                .onColumnHeader(structureId)
                .pipe(operators.map((/**
             * @param {?} columnHeader
             * @return {?}
             */
            function (columnHeader) { return columnHeader.isBottomHeaderEnabled(); })), operators.take(1), operators.takeUntil(this.unsubscribe$))
                .subscribe((/**
             * @param {?} enabled
             * @return {?}
             */
            function (enabled) {
                _this.changeBottomHeader(!enabled, structureId);
            }));
        };
        SchemaCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SchemaCommandService.ctorParameters = function () { return [
            { type: SchemaDispatcher },
            { type: SchemaReadModelService }
        ]; };
        return SchemaCommandService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SchemaCommandService.prototype.unsubscribe$;
        /**
         * @type {?}
         * @private
         */
        SchemaCommandService.prototype.schemaDispatcher;
        /**
         * @type {?}
         * @private
         */
        SchemaCommandService.prototype.schemaQueryService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var SchemaRowColoring = {
        NONE: 0,
        EVEN: 1,
        ODD: 2,
    };
    SchemaRowColoring[SchemaRowColoring.NONE] = 'NONE';
    SchemaRowColoring[SchemaRowColoring.EVEN] = 'EVEN';
    SchemaRowColoring[SchemaRowColoring.ODD] = 'ODD';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalSchemaCommandService = /** @class */ (function (_super) {
        __extends(LocalSchemaCommandService, _super);
        function LocalSchemaCommandService(structureId, schemaQueryService, schemaDispatcher) {
            var _this = _super.call(this, schemaDispatcher, schemaQueryService) || this;
            _this.structureId = structureId;
            return _this;
        }
        /**
         * @return {?}
         */
        LocalSchemaCommandService.prototype.setDefaultSchema = /**
         * @return {?}
         */
        function () {
            _super.prototype.setSchema.call(this, Number.MAX_SAFE_INTEGER, this.structureId);
        };
        /**
         * @param {?} height
         * @param {?=} structureId
         * @return {?}
         */
        LocalSchemaCommandService.prototype.setSchema = /**
         * @param {?} height
         * @param {?=} structureId
         * @return {?}
         */
        function (height, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            _super.prototype.setSchema.call(this, height, this.structureId);
        };
        /**
         * @param {?} height
         * @return {?}
         */
        LocalSchemaCommandService.prototype.setHeight = /**
         * @param {?} height
         * @return {?}
         */
        function (height) {
            _super.prototype.setHeight.call(this, height, this.structureId);
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        LocalSchemaCommandService.prototype.changeVerticalGrid = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            _super.prototype.changeVerticalGrid.call(this, enabled, this.structureId);
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        LocalSchemaCommandService.prototype.changeHorizontalGrid = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            _super.prototype.changeHorizontalGrid.call(this, enabled, this.structureId);
        };
        /**
         * @param {?} theme
         * @return {?}
         */
        LocalSchemaCommandService.prototype.setTheme = /**
         * @param {?} theme
         * @return {?}
         */
        function (theme) {
            _super.prototype.setTheme.call(this, theme, this.structureId);
        };
        /**
         * @param {?} coloring
         * @param {?=} structureId
         * @return {?}
         */
        LocalSchemaCommandService.prototype.setRowColoring = /**
         * @param {?} coloring
         * @param {?=} structureId
         * @return {?}
         */
        function (coloring, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            _super.prototype.setRowColoring.call(this, coloring, this.structureId);
        };
        /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        LocalSchemaCommandService.prototype.changeTopHeader = /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            _super.prototype.changeTopHeader.call(this, enabled, this.structureId);
        };
        /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        LocalSchemaCommandService.prototype.changeBottomHeader = /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            _super.prototype.changeBottomHeader.call(this, enabled, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSchemaCommandService.prototype.toggleVerticalGrid = /**
         * @return {?}
         */
        function () {
            _super.prototype.toggleVerticalGrid.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSchemaCommandService.prototype.toggleHorizontalGrid = /**
         * @return {?}
         */
        function () {
            _super.prototype.toggleHorizontalGrid.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSchemaCommandService.prototype.toggleTopHeader = /**
         * @return {?}
         */
        function () {
            _super.prototype.toggleTopHeader.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSchemaCommandService.prototype.toggleBottomHeader = /**
         * @return {?}
         */
        function () {
            _super.prototype.toggleBottomHeader.call(this, this.structureId);
        };
        LocalSchemaCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalSchemaCommandService.ctorParameters = function () { return [
            { type: StructureId },
            { type: SchemaReadModelService },
            { type: SchemaDispatcher }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Number, StructureId]),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "setSchema", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Number]),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "setHeight", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Boolean]),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "changeVerticalGrid", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Boolean]),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "changeHorizontalGrid", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Number]),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "setTheme", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Number, StructureId]),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "setRowColoring", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Boolean, StructureId]),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "changeTopHeader", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Boolean, StructureId]),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "changeBottomHeader", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "toggleVerticalGrid", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "toggleHorizontalGrid", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "toggleTopHeader", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", void 0)
        ], LocalSchemaCommandService.prototype, "toggleBottomHeader", null);
        return LocalSchemaCommandService;
    }(SchemaCommandService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalSchemaCommandService.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalSchemaReadModelService = /** @class */ (function (_super) {
        __extends(LocalSchemaReadModelService, _super);
        function LocalSchemaReadModelService(structureId, schemaRepository) {
            var _this = _super.call(this, schemaRepository) || this;
            _this.structureId = structureId;
            return _this;
        }
        /**
         * @return {?}
         */
        LocalSchemaReadModelService.prototype.onSchema = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onSchema.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSchemaReadModelService.prototype.onSingleSchema = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onSingleSchema.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSchemaReadModelService.prototype.onHeight = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onHeight.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSchemaReadModelService.prototype.onContainerHeight = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onContainerHeight.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSchemaReadModelService.prototype.onCssClasses = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onCssClasses.call(this, this.structureId);
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        LocalSchemaReadModelService.prototype.onColumnHeader = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return _super.prototype.onColumnHeader.call(this, this.structureId);
        };
        LocalSchemaReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalSchemaReadModelService.ctorParameters = function () { return [
            { type: StructureId },
            { type: SchemaRepository }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSchemaReadModelService.prototype, "onSchema", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSchemaReadModelService.prototype, "onSingleSchema", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSchemaReadModelService.prototype, "onHeight", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSchemaReadModelService.prototype, "onContainerHeight", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSchemaReadModelService.prototype, "onCssClasses", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [StructureId]),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSchemaReadModelService.prototype, "onColumnHeader", null);
        return LocalSchemaReadModelService;
    }(SchemaReadModelService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalSchemaReadModelService.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetFormationCommand = /** @class */ (function (_super) {
        __extends(SetFormationCommand, _super);
        function SetFormationCommand(structureId, payload) {
            var _this = _super.call(this, structureId, 'SetFormationCommand') || this;
            _this.structureId = structureId;
            _this.payload = payload;
            return _this;
        }
        return SetFormationCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetFormationCommand.prototype.structureId;
        /** @type {?} */
        SetFormationCommand.prototype.payload;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ToggleSelectedRowCommand = /** @class */ (function (_super) {
        __extends(ToggleSelectedRowCommand, _super);
        function ToggleSelectedRowCommand(structureId, selectedRow) {
            var _this = _super.call(this, structureId, 'ToggleSelectedRowCommand') || this;
            _this.structureId = structureId;
            _this.selectedRow = selectedRow;
            return _this;
        }
        return ToggleSelectedRowCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        ToggleSelectedRowCommand.prototype.structureId;
        /** @type {?} */
        ToggleSelectedRowCommand.prototype.selectedRow;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormationDispatcher = /** @class */ (function () {
        function FormationDispatcher(commandDispatcher) {
            this.commandDispatcher = commandDispatcher;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        FormationDispatcher.prototype.setDefault = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            this.commandDispatcher.dispatch(new SetFormationCommand(structureId));
        };
        /**
         * @param {?} structureId
         * @param {?} selectedRow
         * @return {?}
         */
        FormationDispatcher.prototype.toggleSelectedRow = /**
         * @param {?} structureId
         * @param {?} selectedRow
         * @return {?}
         */
        function (structureId, selectedRow) {
            this.commandDispatcher.dispatch(new ToggleSelectedRowCommand(structureId, selectedRow));
        };
        FormationDispatcher.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        FormationDispatcher.ctorParameters = function () { return [
            { type: hermes.CommandDispatcher }
        ]; };
        return FormationDispatcher;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FormationDispatcher.prototype.commandDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormationCommandService = /** @class */ (function () {
        function FormationCommandService(formationDispatcher) {
            this.formationDispatcher = formationDispatcher;
        }
        /**
         * @param {?=} structureId
         * @return {?}
         */
        FormationCommandService.prototype.setDefaultFormation = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.formationDispatcher.setDefault(structureId);
        };
        /**
         * @param {?} selectedRow
         * @param {?=} structureId
         * @return {?}
         */
        FormationCommandService.prototype.toggleSelectedRow = /**
         * @param {?} selectedRow
         * @param {?=} structureId
         * @return {?}
         */
        function (selectedRow, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.formationDispatcher.toggleSelectedRow(structureId, selectedRow);
        };
        FormationCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        FormationCommandService.ctorParameters = function () { return [
            { type: FormationDispatcher }
        ]; };
        return FormationCommandService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FormationCommandService.prototype.formationDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalFormationCommandService = /** @class */ (function (_super) {
        __extends(LocalFormationCommandService, _super);
        function LocalFormationCommandService(structureId, formationDispatcher) {
            var _this = _super.call(this, formationDispatcher) || this;
            _this.structureId = structureId;
            return _this;
        }
        /**
         * @return {?}
         */
        LocalFormationCommandService.prototype.setDefault = /**
         * @return {?}
         */
        function () {
            _super.prototype.setDefaultFormation.call(this, this.structureId);
        };
        /**
         * @param {?} selectedRow
         * @return {?}
         */
        LocalFormationCommandService.prototype.toggleSelectedRow = /**
         * @param {?} selectedRow
         * @return {?}
         */
        function (selectedRow) {
            _super.prototype.toggleSelectedRow.call(this, selectedRow, this.structureId);
        };
        LocalFormationCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalFormationCommandService.ctorParameters = function () { return [
            { type: StructureId },
            { type: FormationDispatcher }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [String]),
            __metadata("design:returntype", void 0)
        ], LocalFormationCommandService.prototype, "toggleSelectedRow", null);
        return LocalFormationCommandService;
    }(FormationCommandService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalFormationCommandService.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormationRepository = /** @class */ (function () {
        function FormationRepository(structureRepository) {
            this.structureRepository = structureRepository;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        FormationRepository.prototype.onFormation = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.structureRepository
                .onStructure(structureId)
                .pipe(operators.filter((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) { return structure.getId().toString() === structureId.toString(); })), operators.map((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) { return structure.getFormation(); })));
        };
        FormationRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        FormationRepository.ctorParameters = function () { return [
            { type: StructureRepository }
        ]; };
        return FormationRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FormationRepository.prototype.structureRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormationReadModelService = /** @class */ (function () {
        function FormationReadModelService(formationRepository) {
            this.formationRepository = formationRepository;
        }
        /**
         * @param {?=} structureId
         * @return {?}
         */
        FormationReadModelService.prototype.onSelectedRows = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            return this.formationRepository
                .onFormation(structureId)
                .pipe(operators.map((/**
             * @param {?} formation
             * @return {?}
             */
            function (formation) { return formation.getSelectedRows(); })));
        };
        FormationReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        FormationReadModelService.ctorParameters = function () { return [
            { type: FormationRepository }
        ]; };
        return FormationReadModelService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FormationReadModelService.prototype.formationRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalFormationReadModelService = /** @class */ (function (_super) {
        __extends(LocalFormationReadModelService, _super);
        function LocalFormationReadModelService(structureId, formationRepository) {
            var _this = _super.call(this, formationRepository) || this;
            _this.structureId = structureId;
            return _this;
        }
        /**
         * @return {?}
         */
        LocalFormationReadModelService.prototype.onSelectedRows = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onSelectedRows.call(this, this.structureId);
        };
        LocalFormationReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalFormationReadModelService.ctorParameters = function () { return [
            { type: StructureId },
            { type: FormationRepository }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalFormationReadModelService.prototype, "onSelectedRows", null);
        return LocalFormationReadModelService;
    }(FormationReadModelService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalFormationReadModelService.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSetConfigFilterCommand = /** @class */ (function (_super) {
        __extends(StructureSetConfigFilterCommand, _super);
        function StructureSetConfigFilterCommand(structureId, filterConfig) {
            var _this = _super.call(this, structureId, 'StructureSetConfigFilterCommand') || this;
            _this.structureId = structureId;
            _this.filterConfig = filterConfig;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureSetConfigFilterCommand.prototype.getConfig = /**
         * @return {?}
         */
        function () {
            return this.filterConfig;
        };
        return StructureSetConfigFilterCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        StructureSetConfigFilterCommand.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        StructureSetConfigFilterCommand.prototype.filterConfig;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureToggleFilterCommand = /** @class */ (function (_super) {
        __extends(StructureToggleFilterCommand, _super);
        function StructureToggleFilterCommand(structureId, fieldId, externalFilterId, filterValue) {
            var _this = _super.call(this, structureId, 'StructureToggleFilterCommand') || this;
            _this.structureId = structureId;
            _this.fieldId = fieldId;
            _this.externalFilterId = externalFilterId;
            _this.filterValue = filterValue;
            return _this;
        }
        return StructureToggleFilterCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        StructureToggleFilterCommand.prototype.structureId;
        /** @type {?} */
        StructureToggleFilterCommand.prototype.fieldId;
        /** @type {?} */
        StructureToggleFilterCommand.prototype.externalFilterId;
        /** @type {?} */
        StructureToggleFilterCommand.prototype.filterValue;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureFilterCommandService = /** @class */ (function () {
        function StructureFilterCommandService(commandDispatcher) {
            this.commandDispatcher = commandDispatcher;
        }
        /**
         * @param {?} config
         * @param {?} structureId
         * @return {?}
         */
        StructureFilterCommandService.prototype.setFilteringEnabled = /**
         * @param {?} config
         * @param {?} structureId
         * @return {?}
         */
        function (config, structureId) {
            this.commandDispatcher.dispatch(new StructureSetConfigFilterCommand(structureId, config));
        };
        /**
         * @param {?} fieldId
         * @param {?} externalFieldId
         * @param {?} filterValue
         * @param {?} structureId
         * @return {?}
         */
        StructureFilterCommandService.prototype.addFilter = /**
         * @param {?} fieldId
         * @param {?} externalFieldId
         * @param {?} filterValue
         * @param {?} structureId
         * @return {?}
         */
        function (fieldId, externalFieldId, filterValue, structureId) {
            this.commandDispatcher.dispatch(new StructureToggleFilterCommand(structureId, fieldId, externalFieldId, filterValue));
        };
        StructureFilterCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureFilterCommandService.ctorParameters = function () { return [
            { type: hermes.CommandDispatcher }
        ]; };
        return StructureFilterCommandService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureFilterCommandService.prototype.commandDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SourceSetLoadingCommand = /** @class */ (function (_super) {
        __extends(SourceSetLoadingCommand, _super);
        function SourceSetLoadingCommand(structureId, enabled) {
            var _this = _super.call(this, structureId, 'SourceSetLoadingCommand') || this;
            _this.structureId = structureId;
            _this.enabled = enabled;
            return _this;
        }
        return SourceSetLoadingCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SourceSetLoadingCommand.prototype.structureId;
        /** @type {?} */
        SourceSetLoadingCommand.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetOriginCommand = /** @class */ (function (_super) {
        __extends(SetOriginCommand, _super);
        function SetOriginCommand(structureId, items) {
            if (items === void 0) { items = []; }
            var _this = _super.call(this, structureId, 'SetOriginCommand') || this;
            _this.structureId = structureId;
            _this.items = items;
            return _this;
        }
        return SetOriginCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetOriginCommand.prototype.structureId;
        /** @type {?} */
        SetOriginCommand.prototype.items;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureEditSourceItemCommand = /** @class */ (function (_super) {
        __extends(StructureEditSourceItemCommand, _super);
        function StructureEditSourceItemCommand(structureId, params) {
            var _this = _super.call(this, structureId, 'StructureEditSourceItemCommand') || this;
            _this.structureId = structureId;
            _this.params = params;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureEditSourceItemCommand.prototype.getParams = /**
         * @return {?}
         */
        function () {
            return this.params;
        };
        return StructureEditSourceItemCommand;
    }(hermes.Command));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureEditSourceItemCommand.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        StructureEditSourceItemCommand.prototype.params;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SourceDispatcher = /** @class */ (function () {
        function SourceDispatcher(commandDispatcher) {
            this.commandDispatcher = commandDispatcher;
        }
        /**
         * @param {?} structureId
         * @param {?} enabled
         * @return {?}
         */
        SourceDispatcher.prototype.setLoading = /**
         * @param {?} structureId
         * @param {?} enabled
         * @return {?}
         */
        function (structureId, enabled) {
            this.commandDispatcher.dispatch(new SourceSetLoadingCommand(structureId, enabled));
        };
        /**
         * @param {?} structureId
         * @param {?} items
         * @return {?}
         */
        SourceDispatcher.prototype.setOrigin = /**
         * @param {?} structureId
         * @param {?} items
         * @return {?}
         */
        function (structureId, items) {
            this.commandDispatcher.dispatch(new SetOriginCommand(structureId, items));
        };
        /**
         * @param {?} structureId
         * @param {?} params
         * @return {?}
         */
        SourceDispatcher.prototype.editItem = /**
         * @param {?} structureId
         * @param {?} params
         * @return {?}
         */
        function (structureId, params) {
            this.commandDispatcher.dispatch(new StructureEditSourceItemCommand(structureId, params));
        };
        SourceDispatcher.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SourceDispatcher.ctorParameters = function () { return [
            { type: hermes.CommandDispatcher }
        ]; };
        return SourceDispatcher;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SourceDispatcher.prototype.commandDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InitStructureCommand = /** @class */ (function (_super) {
        __extends(InitStructureCommand, _super);
        function InitStructureCommand(structureId) {
            var _this = _super.call(this, structureId, 'InitStructureCommand') || this;
            _this.structureId = structureId;
            return _this;
        }
        return InitStructureCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        InitStructureCommand.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetVerticalScrollEnabledCommand = /** @class */ (function (_super) {
        __extends(SetVerticalScrollEnabledCommand, _super);
        function SetVerticalScrollEnabledCommand(structureId, enabled) {
            var _this = _super.call(this, structureId, 'SetVerticalScrollEnabledCommand') || this;
            _this.structureId = structureId;
            _this.enabled = enabled;
            return _this;
        }
        return SetVerticalScrollEnabledCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetVerticalScrollEnabledCommand.prototype.structureId;
        /** @type {?} */
        SetVerticalScrollEnabledCommand.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetScrollPositionCommand = /** @class */ (function (_super) {
        __extends(SetScrollPositionCommand, _super);
        function SetScrollPositionCommand(structureId, position) {
            var _this = _super.call(this, structureId, 'SetScrollPositionCommand') || this;
            _this.structureId = structureId;
            _this.position = position;
            return _this;
        }
        return SetScrollPositionCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetScrollPositionCommand.prototype.structureId;
        /** @type {?} */
        SetScrollPositionCommand.prototype.position;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSortingCommand = /** @class */ (function (_super) {
        __extends(SetSortingCommand, _super);
        function SetSortingCommand(structureId, sortingConfig) {
            var _this = _super.call(this, structureId, 'SetSortingCommand') || this;
            _this.structureId = structureId;
            _this.sortingConfig = sortingConfig;
            return _this;
        }
        /**
         * @return {?}
         */
        SetSortingCommand.prototype.getSortingConfig = /**
         * @return {?}
         */
        function () {
            return this.sortingConfig;
        };
        return SetSortingCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetSortingCommand.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        SetSortingCommand.prototype.sortingConfig;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ToggleSortCommand = /** @class */ (function (_super) {
        __extends(ToggleSortCommand, _super);
        function ToggleSortCommand(structureId, compositionId, fieldId) {
            var _this = _super.call(this, structureId, 'ToggleSortCommand') || this;
            _this.structureId = structureId;
            _this.compositionId = compositionId;
            _this.fieldId = fieldId;
            return _this;
        }
        /**
         * @return {?}
         */
        ToggleSortCommand.prototype.getCompositionId = /**
         * @return {?}
         */
        function () {
            return this.compositionId;
        };
        /**
         * @return {?}
         */
        ToggleSortCommand.prototype.getFieldId = /**
         * @return {?}
         */
        function () {
            return this.fieldId;
        };
        return ToggleSortCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        ToggleSortCommand.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        ToggleSortCommand.prototype.compositionId;
        /**
         * @type {?}
         * @private
         */
        ToggleSortCommand.prototype.fieldId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSetConfigQuickFilterCommand = /** @class */ (function (_super) {
        __extends(StructureSetConfigQuickFilterCommand, _super);
        function StructureSetConfigQuickFilterCommand(structureId, quickFiltersConfig) {
            var _this = _super.call(this, structureId, 'StructureSetConfigQuickFilterCommand') || this;
            _this.structureId = structureId;
            _this.quickFiltersConfig = quickFiltersConfig;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureSetConfigQuickFilterCommand.prototype.getConfig = /**
         * @return {?}
         */
        function () {
            return this.quickFiltersConfig;
        };
        return StructureSetConfigQuickFilterCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        StructureSetConfigQuickFilterCommand.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        StructureSetConfigQuickFilterCommand.prototype.quickFiltersConfig;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSetConfigSearchingCommand = /** @class */ (function (_super) {
        __extends(StructureSetConfigSearchingCommand, _super);
        function StructureSetConfigSearchingCommand(structureId, searchConfig) {
            var _this = _super.call(this, structureId, 'StructureSetConfigSearchingCommand') || this;
            _this.structureId = structureId;
            _this.searchConfig = searchConfig;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureSetConfigSearchingCommand.prototype.getConfig = /**
         * @return {?}
         */
        function () {
            return this.searchConfig;
        };
        return StructureSetConfigSearchingCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        StructureSetConfigSearchingCommand.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        StructureSetConfigSearchingCommand.prototype.searchConfig;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InitFieldsCommand = /** @class */ (function (_super) {
        __extends(InitFieldsCommand, _super);
        function InitFieldsCommand(structureId, compositionId, columns) {
            var _this = _super.call(this, structureId, 'InitFieldsCommand') || this;
            _this.structureId = structureId;
            _this.compositionId = compositionId;
            _this.columns = columns;
            return _this;
        }
        return InitFieldsCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        InitFieldsCommand.prototype.structureId;
        /** @type {?} */
        InitFieldsCommand.prototype.compositionId;
        /** @type {?} */
        InitFieldsCommand.prototype.columns;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSetSearchPhraseCommand = /** @class */ (function (_super) {
        __extends(StructureSetSearchPhraseCommand, _super);
        function StructureSetSearchPhraseCommand(structureId, phrase) {
            var _this = _super.call(this, structureId, 'StructureSetSearchPhraseCommand') || this;
            _this.structureId = structureId;
            _this.phrase = phrase;
            return _this;
        }
        return StructureSetSearchPhraseCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        StructureSetSearchPhraseCommand.prototype.structureId;
        /** @type {?} */
        StructureSetSearchPhraseCommand.prototype.phrase;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSortOrderCommand = /** @class */ (function (_super) {
        __extends(SetSortOrderCommand, _super);
        function SetSortOrderCommand(structureId, compositionId, fieldId, sortOrder) {
            var _this = _super.call(this, structureId, 'SetSortOrderCommand') || this;
            _this.compositionId = compositionId;
            _this.fieldId = fieldId;
            _this.sortOrder = sortOrder;
            return _this;
        }
        /**
         * @return {?}
         */
        SetSortOrderCommand.prototype.getCompositionId = /**
         * @return {?}
         */
        function () {
            return this.compositionId;
        };
        /**
         * @return {?}
         */
        SetSortOrderCommand.prototype.getFieldId = /**
         * @return {?}
         */
        function () {
            return this.fieldId;
        };
        /**
         * @return {?}
         */
        SetSortOrderCommand.prototype.getSortOrder = /**
         * @return {?}
         */
        function () {
            return this.sortOrder;
        };
        return SetSortOrderCommand;
    }(hermes.Command));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetSortOrderCommand.prototype.compositionId;
        /**
         * @type {?}
         * @private
         */
        SetSortOrderCommand.prototype.fieldId;
        /**
         * @type {?}
         * @private
         */
        SetSortOrderCommand.prototype.sortOrder;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetRowHeightCommand = /** @class */ (function (_super) {
        __extends(SetRowHeightCommand, _super);
        function SetRowHeightCommand(structureId, rowHeight) {
            var _this = _super.call(this, structureId, 'SetRowHeightCommand') || this;
            _this.structureId = structureId;
            _this.rowHeight = rowHeight;
            return _this;
        }
        return SetRowHeightCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        SetRowHeightCommand.prototype.structureId;
        /** @type {?} */
        SetRowHeightCommand.prototype.rowHeight;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureCommandService = /** @class */ (function () {
        function StructureCommandService(commandDispatcher, structureFilterCommandService, sourceDispatcher) {
            this.commandDispatcher = commandDispatcher;
            this.structureFilterCommandService = structureFilterCommandService;
            this.sourceDispatcher = sourceDispatcher;
        }
        /**
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.init = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new InitStructureCommand(structureId));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.enableVerticalScroll = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new SetVerticalScrollEnabledCommand(structureId, true));
        };
        /**
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.disableVerticalScroll = /**
         * @param {?=} structureId
         * @return {?}
         */
        function (structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new SetVerticalScrollEnabledCommand(structureId, false));
        };
        /**
         * @param {?} position
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.setScrollPosition = /**
         * @param {?} position
         * @param {?=} structureId
         * @return {?}
         */
        function (position, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new SetScrollPositionCommand(structureId, position));
        };
        /**
         * @param {?} items
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.setOrigin = /**
         * @param {?} items
         * @param {?=} structureId
         * @return {?}
         */
        function (items, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.sourceDispatcher.setOrigin(structureId, items);
        };
        /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.setSortingConfig = /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        function (config, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new SetSortingCommand(structureId, config));
        };
        /**
         * @param {?} fieldId
         * @param {?=} compositionId
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.toggleSort = /**
         * @param {?} fieldId
         * @param {?=} compositionId
         * @param {?=} structureId
         * @return {?}
         */
        function (fieldId, compositionId, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new ToggleSortCommand(structureId, compositionId, fieldId));
        };
        /**
         * @param {?} fieldId
         * @param {?} sortOrder
         * @param {?=} compositionId
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.setSortOrder = /**
         * @param {?} fieldId
         * @param {?} sortOrder
         * @param {?=} compositionId
         * @param {?=} structureId
         * @return {?}
         */
        function (fieldId, sortOrder, compositionId, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new SetSortOrderCommand(structureId, compositionId, fieldId, sortOrder));
        };
        /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.setFilterConfig = /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        function (config, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.structureFilterCommandService.setFilteringEnabled(config, structureId);
        };
        /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.setQuickFiltersConfig = /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        function (config, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new StructureSetConfigQuickFilterCommand(structureId, config));
        };
        /**
         * @param {?} columns
         * @param {?} compositionId
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.initFields = /**
         * @param {?} columns
         * @param {?} compositionId
         * @param {?=} structureId
         * @return {?}
         */
        function (columns, compositionId, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new InitFieldsCommand(structureId, compositionId, columns));
        };
        /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.setSearchingConfig = /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        function (config, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new StructureSetConfigSearchingCommand(structureId, config));
        };
        /**
         * @param {?} phrase
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.search = /**
         * @param {?} phrase
         * @param {?=} structureId
         * @return {?}
         */
        function (phrase, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new StructureSetSearchPhraseCommand(structureId, phrase));
        };
        /**
         * @param {?} rowHeight
         * @param {?=} structureId
         * @return {?}
         */
        StructureCommandService.prototype.setRowHeight = /**
         * @param {?} rowHeight
         * @param {?=} structureId
         * @return {?}
         */
        function (rowHeight, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.commandDispatcher.dispatch(new SetRowHeightCommand(structureId, rowHeight));
        };
        StructureCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureCommandService.ctorParameters = function () { return [
            { type: hermes.CommandDispatcher },
            { type: StructureFilterCommandService },
            { type: SourceDispatcher }
        ]; };
        return StructureCommandService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureCommandService.prototype.commandDispatcher;
        /**
         * @type {?}
         * @private
         */
        StructureCommandService.prototype.structureFilterCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureCommandService.prototype.sourceDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalStructureCommandService = /** @class */ (function (_super) {
        __extends(LocalStructureCommandService, _super);
        function LocalStructureCommandService(structureId, compositionId, commandDispatcher, structureFilterCommandService, sourceDispatcher) {
            var _this = _super.call(this, commandDispatcher, structureFilterCommandService, sourceDispatcher) || this;
            _this.structureId = structureId;
            _this.compositionId = compositionId;
            return _this;
        }
        /**
         * @return {?}
         */
        LocalStructureCommandService.prototype.init = /**
         * @return {?}
         */
        function () {
            _super.prototype.init.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalStructureCommandService.prototype.enableVerticalScroll = /**
         * @return {?}
         */
        function () {
            _super.prototype.enableVerticalScroll.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalStructureCommandService.prototype.disableVerticalScroll = /**
         * @return {?}
         */
        function () {
            _super.prototype.disableVerticalScroll.call(this, this.structureId);
        };
        /**
         * @param {?} position
         * @return {?}
         */
        LocalStructureCommandService.prototype.setScrollPosition = /**
         * @param {?} position
         * @return {?}
         */
        function (position) {
            _super.prototype.setScrollPosition.call(this, position, this.structureId);
        };
        /**
         * @param {?} items
         * @return {?}
         */
        LocalStructureCommandService.prototype.setOrigin = /**
         * @param {?} items
         * @return {?}
         */
        function (items) {
            _super.prototype.setOrigin.call(this, items, this.structureId);
        };
        /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        LocalStructureCommandService.prototype.setSortingConfig = /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        function (config, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            _super.prototype.setSortingConfig.call(this, config, this.structureId);
        };
        /**
         * @param {?} fieldId
         * @return {?}
         */
        LocalStructureCommandService.prototype.toggleSort = /**
         * @param {?} fieldId
         * @return {?}
         */
        function (fieldId) {
            _super.prototype.toggleSort.call(this, fieldId, this.compositionId, this.structureId);
        };
        /**
         * @param {?} fieldId
         * @param {?} sortOrder
         * @return {?}
         */
        LocalStructureCommandService.prototype.setSortOrder = /**
         * @param {?} fieldId
         * @param {?} sortOrder
         * @return {?}
         */
        function (fieldId, sortOrder) {
            _super.prototype.setSortOrder.call(this, fieldId, sortOrder, this.compositionId, this.structureId);
        };
        /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        LocalStructureCommandService.prototype.setFilterConfig = /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        function (config, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            _super.prototype.setFilterConfig.call(this, config, this.structureId);
        };
        /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        LocalStructureCommandService.prototype.setQuickFiltersConfig = /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        function (config, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            _super.prototype.setQuickFiltersConfig.call(this, config, this.structureId);
        };
        /**
         * @param {?} columns
         * @return {?}
         */
        LocalStructureCommandService.prototype.initFields = /**
         * @param {?} columns
         * @return {?}
         */
        function (columns) {
            _super.prototype.initFields.call(this, columns, this.compositionId, this.structureId);
        };
        /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        LocalStructureCommandService.prototype.setSearchingConfig = /**
         * @param {?} config
         * @param {?=} structureId
         * @return {?}
         */
        function (config, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            _super.prototype.setSearchingConfig.call(this, config, this.structureId);
        };
        /**
         * @param {?} phrase
         * @return {?}
         */
        LocalStructureCommandService.prototype.search = /**
         * @param {?} phrase
         * @return {?}
         */
        function (phrase) {
            _super.prototype.search.call(this, phrase, this.structureId);
        };
        /**
         * @param {?} rowHeight
         * @return {?}
         */
        LocalStructureCommandService.prototype.setRowHeight = /**
         * @param {?} rowHeight
         * @return {?}
         */
        function (rowHeight) {
            _super.prototype.setRowHeight.call(this, rowHeight, this.structureId);
        };
        LocalStructureCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalStructureCommandService.ctorParameters = function () { return [
            { type: StructureId },
            { type: CompositionId },
            { type: hermes.CommandDispatcher },
            { type: StructureFilterCommandService },
            { type: SourceDispatcher }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "init", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "enableVerticalScroll", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "disableVerticalScroll", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Number]),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "setScrollPosition", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Array]),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "setOrigin", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Object, StructureId]),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "setSortingConfig", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [FieldId]),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "toggleSort", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [FieldId, Number]),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "setSortOrder", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Object, StructureId]),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "setFilterConfig", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Object, StructureId]),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "setQuickFiltersConfig", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Array]),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "initFields", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Object, StructureId]),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "setSearchingConfig", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [String]),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "search", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Number]),
            __metadata("design:returntype", void 0)
        ], LocalStructureCommandService.prototype, "setRowHeight", null);
        return LocalStructureCommandService;
    }(StructureCommandService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalStructureCommandService.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        LocalStructureCommandService.prototype.compositionId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalStructureReadModelService = /** @class */ (function (_super) {
        __extends(LocalStructureReadModelService, _super);
        function LocalStructureReadModelService(structureId, structureRepository, verticalFormationRepository) {
            var _this = _super.call(this, structureRepository, verticalFormationRepository) || this;
            _this.structureId = structureId;
            return _this;
        }
        /**
         * @return {?}
         */
        LocalStructureReadModelService.prototype.onStructure = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onStructure.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalStructureReadModelService.prototype.onVerticalScrollEnabled = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onVerticalScrollEnabled.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalStructureReadModelService.prototype.onRowHeight = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onRowHeight.call(this, this.structureId);
        };
        LocalStructureReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalStructureReadModelService.ctorParameters = function () { return [
            { type: StructureId },
            { type: StructureRepository },
            { type: VerticalFormationRepository }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalStructureReadModelService.prototype, "onStructure", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalStructureReadModelService.prototype, "onVerticalScrollEnabled", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalStructureReadModelService.prototype, "onRowHeight", null);
        return LocalStructureReadModelService;
    }(StructureReadModelService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalStructureReadModelService.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureFieldUiArchive = /** @class */ (function (_super) {
        __extends(StructureFieldUiArchive, _super);
        function StructureFieldUiArchive() {
            return _super.call(this) || this;
        }
        StructureFieldUiArchive.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureFieldUiArchive.ctorParameters = function () { return []; };
        return StructureFieldUiArchive;
    }(hermes.AggregateArchive));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureFieldUiRepository = /** @class */ (function () {
        function StructureFieldUiRepository(structureFieldUiArchive) {
            this.structureFieldUiArchive = structureFieldUiArchive;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructureFieldUiRepository.prototype.onFields = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.structureFieldUiArchive.when(structureId);
        };
        StructureFieldUiRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureFieldUiRepository.ctorParameters = function () { return [
            { type: StructureFieldUiArchive }
        ]; };
        return StructureFieldUiRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureFieldUiRepository.prototype.structureFieldUiArchive;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureEditSourceItemParams = /** @class */ (function () {
        function StructureEditSourceItemParams(itemId, columnFieldId, // TODO Rethink
        value) {
            this.itemId = itemId;
            this.columnFieldId = columnFieldId;
            this.value = value;
        }
        /**
         * @return {?}
         */
        StructureEditSourceItemParams.prototype.getItemId = /**
         * @return {?}
         */
        function () {
            return this.itemId;
        };
        /**
         * @return {?}
         */
        StructureEditSourceItemParams.prototype.getColumnFieldId = /**
         * @return {?}
         */
        function () {
            return this.columnFieldId;
        };
        /**
         * @return {?}
         */
        StructureEditSourceItemParams.prototype.getValue = /**
         * @return {?}
         */
        function () {
            return this.value;
        };
        return StructureEditSourceItemParams;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureEditSourceItemParams.prototype.itemId;
        /**
         * @type {?}
         * @private
         */
        StructureEditSourceItemParams.prototype.columnFieldId;
        /**
         * @type {?}
         * @private
         */
        StructureEditSourceItemParams.prototype.value;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SourceCommandService = /** @class */ (function (_super) {
        __extends(SourceCommandService, _super);
        function SourceCommandService(sourceDispatcher, structureFieldUiRepository, sourceQueryService) {
            var _this = _super.call(this) || this;
            _this.sourceDispatcher = sourceDispatcher;
            _this.structureFieldUiRepository = structureFieldUiRepository;
            _this.sourceQueryService = sourceQueryService;
            return _this;
        }
        /**
         * @param {?} items
         * @param {?=} structureId
         * @return {?}
         */
        SourceCommandService.prototype.setOrigin = /**
         * @param {?} items
         * @param {?=} structureId
         * @return {?}
         */
        function (items, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.sourceDispatcher.setOrigin(structureId, items);
        };
        /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        SourceCommandService.prototype.setLoading = /**
         * @param {?} enabled
         * @param {?=} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.sourceDispatcher.setLoading(structureId, enabled);
        };
        /**
         * @param {?} params
         * @param {?=} structureId
         * @return {?}
         */
        SourceCommandService.prototype.editItem = /**
         * @param {?} params
         * @param {?=} structureId
         * @return {?}
         */
        function (params, structureId) {
            if (structureId === void 0) { structureId = globalStructureId; }
            this.sourceDispatcher.editItem(structureId, params);
        };
        /**
         * @param {?} itemIndex
         * @param {?} fieldIndex
         * @param {?} value
         * @param {?=} structureId
         * @return {?}
         */
        SourceCommandService.prototype.editItemByIndex = /**
         * @param {?} itemIndex
         * @param {?} fieldIndex
         * @param {?} value
         * @param {?=} structureId
         * @return {?}
         */
        function (itemIndex, fieldIndex, value, structureId) {
            var _this = this;
            if (structureId === void 0) { structureId = globalStructureId; }
            /** @type {?} */
            var itemId$ = this.sourceQueryService
                .onSingleEntities()
                .pipe(operators.map((/**
             * @param {?} entities
             * @return {?}
             */
            function (entities) {
                return entities[itemIndex].getId();
            })));
            /** @type {?} */
            var fieldId$ = this.structureFieldUiRepository
                .onFields(structureId);
            rxjs.zip(itemId$, fieldId$)
                .pipe(operators.take(1), this.takeUntil())
                .subscribe((/**
             * @param {?} array
             * @return {?}
             */
            function (array) {
                /** @type {?} */
                var itemId = array[0];
                /** @type {?} */
                var fields = array[1];
                _this.editItem(new StructureEditSourceItemParams(itemId, fields[fieldIndex], value), structureId);
            }));
        };
        SourceCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SourceCommandService.ctorParameters = function () { return [
            { type: SourceDispatcher },
            { type: StructureFieldUiRepository },
            { type: SourceReadModelService }
        ]; };
        return SourceCommandService;
    }(Reactive));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SourceCommandService.prototype.sourceDispatcher;
        /**
         * @type {?}
         * @private
         */
        SourceCommandService.prototype.structureFieldUiRepository;
        /**
         * @type {?}
         * @private
         */
        SourceCommandService.prototype.sourceQueryService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalSourceCommandService = /** @class */ (function (_super) {
        __extends(LocalSourceCommandService, _super);
        function LocalSourceCommandService(structureId, sourceDispatcher, structureFieldUiRepository, sourceQueryService) {
            var _this = _super.call(this, sourceDispatcher, structureFieldUiRepository, sourceQueryService) || this;
            _this.structureId = structureId;
            return _this;
        }
        /**
         * @param {?} items
         * @return {?}
         */
        LocalSourceCommandService.prototype.setOrigin = /**
         * @param {?} items
         * @return {?}
         */
        function (items) {
            _super.prototype.setOrigin.call(this, items, this.structureId);
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        LocalSourceCommandService.prototype.setLoading = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            _super.prototype.setLoading.call(this, enabled, this.structureId);
        };
        /**
         * @param {?} params
         * @return {?}
         */
        LocalSourceCommandService.prototype.editItem = /**
         * @param {?} params
         * @return {?}
         */
        function (params) {
            _super.prototype.editItem.call(this, params, this.structureId);
        };
        /**
         * @param {?} itemIndex
         * @param {?} fieldIndex
         * @param {?} value
         * @return {?}
         */
        LocalSourceCommandService.prototype.editItemByIndex = /**
         * @param {?} itemIndex
         * @param {?} fieldIndex
         * @param {?} value
         * @return {?}
         */
        function (itemIndex, fieldIndex, value) {
            _super.prototype.editItemByIndex.call(this, itemIndex, fieldIndex, value, this.structureId);
        };
        LocalSourceCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalSourceCommandService.ctorParameters = function () { return [
            { type: StructureId },
            { type: SourceDispatcher },
            { type: StructureFieldUiRepository },
            { type: SourceReadModelService }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Array]),
            __metadata("design:returntype", void 0)
        ], LocalSourceCommandService.prototype, "setOrigin", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Boolean]),
            __metadata("design:returntype", void 0)
        ], LocalSourceCommandService.prototype, "setLoading", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [StructureEditSourceItemParams]),
            __metadata("design:returntype", void 0)
        ], LocalSourceCommandService.prototype, "editItem", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Number, Number, Object]),
            __metadata("design:returntype", void 0)
        ], LocalSourceCommandService.prototype, "editItemByIndex", null);
        return LocalSourceCommandService;
    }(SourceCommandService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalSourceCommandService.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalSourceReadModelService = /** @class */ (function (_super) {
        __extends(LocalSourceReadModelService, _super);
        function LocalSourceReadModelService(structureId, structureRepository, structurePreparedItemsRepository, structureSourceOriginRepository) {
            var _this = _super.call(this, structureRepository, structurePreparedItemsRepository, structureSourceOriginRepository) || this;
            _this.structureId = structureId;
            return _this;
        }
        /**
         * @return {?}
         */
        LocalSourceReadModelService.prototype.onEntities = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onEntities.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSourceReadModelService.prototype.onEntitiesSize = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onEntitiesSize.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSourceReadModelService.prototype.onSingleEntities = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onSingleEntities.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSourceReadModelService.prototype.onOriginSize = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onOriginSize.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSourceReadModelService.prototype.onLoading = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onLoading.call(this, this.structureId);
        };
        /**
         * @return {?}
         */
        LocalSourceReadModelService.prototype.onPreparedEntities = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onPreparedEntities.call(this, this.structureId);
        };
        LocalSourceReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalSourceReadModelService.ctorParameters = function () { return [
            { type: StructureId },
            { type: StructureRepository },
            { type: StructurePreparedItemsRepository },
            { type: StructureSourceOriginRepository }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSourceReadModelService.prototype, "onEntities", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSourceReadModelService.prototype, "onEntitiesSize", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSourceReadModelService.prototype, "onSingleEntities", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSourceReadModelService.prototype, "onOriginSize", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSourceReadModelService.prototype, "onLoading", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalSourceReadModelService.prototype, "onPreparedEntities", null);
        return LocalSourceReadModelService;
    }(SourceReadModelService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalSourceReadModelService.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalCompositionCommandService = /** @class */ (function (_super) {
        __extends(LocalCompositionCommandService, _super);
        function LocalCompositionCommandService(compositionId, compositionDispatcher) {
            var _this = _super.call(this, compositionDispatcher) || this;
            _this.compositionId = compositionId;
            return _this;
        }
        /**
         * @param {?=} compositionId
         * @return {?}
         */
        LocalCompositionCommandService.prototype.init = /**
         * @param {?=} compositionId
         * @return {?}
         */
        function (compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            _super.prototype.init.call(this, this.compositionId);
        };
        /**
         * @param {?} params
         * @return {?}
         */
        LocalCompositionCommandService.prototype.setColumns = /**
         * @param {?} params
         * @return {?}
         */
        function (params) {
            _super.prototype.setColumns.call(this, params, this.compositionId);
        };
        /**
         * @param {?} width
         * @param {?=} compositionId
         * @return {?}
         */
        LocalCompositionCommandService.prototype.setWidth = /**
         * @param {?} width
         * @param {?=} compositionId
         * @return {?}
         */
        function (width, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            _super.prototype.setWidth.call(this, width, this.compositionId);
        };
        /**
         * @param {?} width
         * @param {?=} compositionId
         * @return {?}
         */
        LocalCompositionCommandService.prototype.setContainerWidth = /**
         * @param {?} width
         * @param {?=} compositionId
         * @return {?}
         */
        function (width, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            _super.prototype.setContainerWidth.call(this, width, this.compositionId);
        };
        /**
         * @param {?} enabled
         * @param {?=} compositionId
         * @return {?}
         */
        LocalCompositionCommandService.prototype.setResizeWidth = /**
         * @param {?} enabled
         * @param {?=} compositionId
         * @return {?}
         */
        function (enabled, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            _super.prototype.setResizeWidth.call(this, enabled, this.compositionId);
        };
        /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        LocalCompositionCommandService.prototype.enableColumn = /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        function (columnId, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            _super.prototype.enableColumn.call(this, columnId, this.compositionId);
        };
        /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        LocalCompositionCommandService.prototype.disableColumn = /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        function (columnId, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            _super.prototype.disableColumn.call(this, columnId, this.compositionId);
        };
        /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        LocalCompositionCommandService.prototype.moveLeft = /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        function (columnId, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            _super.prototype.moveLeft.call(this, columnId, this.compositionId);
        };
        /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        LocalCompositionCommandService.prototype.moveRight = /**
         * @param {?} columnId
         * @param {?=} compositionId
         * @return {?}
         */
        function (columnId, compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            _super.prototype.moveRight.call(this, columnId, this.compositionId);
        };
        LocalCompositionCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalCompositionCommandService.ctorParameters = function () { return [
            { type: CompositionId },
            { type: CompositionDispatcher }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [CompositionId]),
            __metadata("design:returntype", void 0)
        ], LocalCompositionCommandService.prototype, "init", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Array]),
            __metadata("design:returntype", void 0)
        ], LocalCompositionCommandService.prototype, "setColumns", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Number, CompositionId]),
            __metadata("design:returntype", void 0)
        ], LocalCompositionCommandService.prototype, "setWidth", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Number, CompositionId]),
            __metadata("design:returntype", void 0)
        ], LocalCompositionCommandService.prototype, "setContainerWidth", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [Boolean, CompositionId]),
            __metadata("design:returntype", void 0)
        ], LocalCompositionCommandService.prototype, "setResizeWidth", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [ColumnId, CompositionId]),
            __metadata("design:returntype", void 0)
        ], LocalCompositionCommandService.prototype, "enableColumn", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [ColumnId, CompositionId]),
            __metadata("design:returntype", void 0)
        ], LocalCompositionCommandService.prototype, "disableColumn", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [ColumnId, CompositionId]),
            __metadata("design:returntype", void 0)
        ], LocalCompositionCommandService.prototype, "moveLeft", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [ColumnId, CompositionId]),
            __metadata("design:returntype", void 0)
        ], LocalCompositionCommandService.prototype, "moveRight", null);
        return LocalCompositionCommandService;
    }(CompositionCommandService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalCompositionCommandService.prototype.compositionId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LocalCompositionReadModelService = /** @class */ (function (_super) {
        __extends(LocalCompositionReadModelService, _super);
        function LocalCompositionReadModelService(compositionId, compositionRepository) {
            var _this = _super.call(this, compositionRepository) || this;
            _this.compositionId = compositionId;
            return _this;
        }
        /**
         * @return {?}
         */
        LocalCompositionReadModelService.prototype.onWidth = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onWidth.call(this, this.compositionId);
        };
        /**
         * @param {?=} compositionId
         * @return {?}
         */
        LocalCompositionReadModelService.prototype.onContainerWidth = /**
         * @param {?=} compositionId
         * @return {?}
         */
        function (compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            return _super.prototype.onContainerWidth.call(this, this.compositionId);
        };
        /**
         * @return {?}
         */
        LocalCompositionReadModelService.prototype.onWidthForEachColumn = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onWidthForEachColumn.call(this, this.compositionId);
        };
        /**
         * @return {?}
         */
        LocalCompositionReadModelService.prototype.onHeaderColumns = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onHeaderColumns.call(this, this.compositionId);
        };
        /**
         * @param {?=} compositionId
         * @return {?}
         */
        LocalCompositionReadModelService.prototype.onAllColumns = /**
         * @param {?=} compositionId
         * @return {?}
         */
        function (compositionId) {
            if (compositionId === void 0) { compositionId = globalCompositionId; }
            return _super.prototype.onAllColumns.call(this, this.compositionId);
        };
        /**
         * @param {?} fieldId
         * @return {?}
         */
        LocalCompositionReadModelService.prototype.onSortOrder = /**
         * @param {?} fieldId
         * @return {?}
         */
        function (fieldId) {
            return _super.prototype.onSortOrder.call(this, fieldId, this.compositionId);
        };
        /**
         * @return {?}
         */
        LocalCompositionReadModelService.prototype.onTemplateColumns = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onTemplateColumns.call(this, this.compositionId);
        };
        /**
         * @return {?}
         */
        LocalCompositionReadModelService.prototype.onResizeWidth = /**
         * @return {?}
         */
        function () {
            return _super.prototype.onResizeWidth.call(this, this.compositionId);
        };
        LocalCompositionReadModelService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        LocalCompositionReadModelService.ctorParameters = function () { return [
            { type: CompositionId },
            { type: CompositionRepository }
        ]; };
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalCompositionReadModelService.prototype, "onWidth", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [CompositionId]),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalCompositionReadModelService.prototype, "onContainerWidth", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalCompositionReadModelService.prototype, "onWidthForEachColumn", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalCompositionReadModelService.prototype, "onHeaderColumns", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [CompositionId]),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalCompositionReadModelService.prototype, "onAllColumns", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", [FieldId]),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalCompositionReadModelService.prototype, "onSortOrder", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalCompositionReadModelService.prototype, "onTemplateColumns", null);
        __decorate([
            Override,
            __metadata("design:type", Function),
            __metadata("design:paramtypes", []),
            __metadata("design:returntype", rxjs.Observable)
        ], LocalCompositionReadModelService.prototype, "onResizeWidth", null);
        return LocalCompositionReadModelService;
    }(CompositionReadModelService));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        LocalCompositionReadModelService.prototype.compositionId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var localProviders = [
        { provide: PagingCommandService, useClass: LocalPagingCommandService },
        { provide: PagingReadModelService, useClass: LocalPagingReadModelService },
        { provide: SchemaCommandService, useClass: LocalSchemaCommandService },
        { provide: SchemaReadModelService, useClass: LocalSchemaReadModelService },
        { provide: FormationCommandService, useClass: LocalFormationCommandService },
        { provide: FormationReadModelService, useClass: LocalFormationReadModelService },
        { provide: StructureCommandService, useClass: LocalStructureCommandService },
        { provide: StructureReadModelService, useClass: LocalStructureReadModelService },
        { provide: SourceCommandService, useClass: LocalSourceCommandService },
        { provide: SourceReadModelService, useClass: LocalSourceReadModelService },
        { provide: CompositionCommandService, useClass: LocalCompositionCommandService },
        { provide: CompositionReadModelService, useClass: LocalCompositionReadModelService }
    ];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaCssClassManager = /** @class */ (function () {
        function SchemaCssClassManager(rendererFactory2, schemaQueryService) {
            this.rendererFactory2 = rendererFactory2;
            this.schemaQueryService = schemaQueryService;
            this.VERTICAL_GRID_CLASS_NAME = 'gui-vertical-grid';
            this.HORIZONTAL_GRID_CLASS_NAME = 'gui-horizontal-grid';
            this.THEME_FABRIC_CLASS_NAME = 'gui-fabric';
            this.THEME_MATERIAL_CLASS_NAME = 'gui-material';
            this.THEME_LIGHT_CLASS_NAME = 'gui-light';
            this.THEME_DARK_CLASS_NAME = 'gui-dark';
            this.ROW_COLORING_ODD = 'gui-rows-odd';
            this.ROW_COLORING_EVEN = 'gui-rows-even';
            this.cssClass = null;
            this.unsubscribe$ = new rxjs.Subject();
            this.renderer = this.rendererFactory2.createRenderer(null, null);
        }
        /**
         * @return {?}
         */
        SchemaCssClassManager.prototype.ngOnDestroy = /**
         * @return {?}
         */
        function () {
            this.unsubscribe$.next();
            this.unsubscribe$.complete();
        };
        /**
         * @param {?} elementRef
         * @param {?} structureId
         * @return {?}
         */
        SchemaCssClassManager.prototype.init = /**
         * @param {?} elementRef
         * @param {?} structureId
         * @return {?}
         */
        function (elementRef, structureId) {
            var _this = this;
            this.cssHostRef = elementRef;
            this.schemaQueryService
                .onCssClasses(structureId)
                .pipe(operators.takeUntil(this.unsubscribe$))
                .subscribe((/**
             * @param {?} classes
             * @return {?}
             */
            function (classes) {
                /** @type {?} */
                var diff = _this.updateState(classes);
                _this.renderCssClasses(diff);
            }));
        };
        /**
         * @private
         * @param {?} css
         * @return {?}
         */
        SchemaCssClassManager.prototype.updateState = /**
         * @private
         * @param {?} css
         * @return {?}
         */
        function (css) {
            var _this = this;
            if (!this.cssClass) {
                this.cssClass = css;
                return this.cssClass;
            }
            else {
                /** @type {?} */
                var diff_1 = {};
                Object.keys(this.cssClass)
                    .forEach((/**
                 * @param {?} key
                 * @return {?}
                 */
                function (key) {
                    if (css[key] !== _this.cssClass[key]) {
                        diff_1[key] = css[key];
                    }
                }));
                this.cssClass = css;
                return diff_1;
            }
        };
        /**
         * @private
         * @param {?} diff
         * @return {?}
         */
        SchemaCssClassManager.prototype.renderCssClasses = /**
         * @private
         * @param {?} diff
         * @return {?}
         */
        function (diff) {
            if (diff.hasOwnProperty('verticalGrid')) {
                this.toggleCssClass(diff.verticalGrid, this.VERTICAL_GRID_CLASS_NAME);
            }
            if (diff.hasOwnProperty('horizontalGrid')) {
                this.toggleCssClass(diff.horizontalGrid, this.HORIZONTAL_GRID_CLASS_NAME);
            }
            if (diff.hasOwnProperty('theme')) {
                this.removeThemeCssClasses();
                this.addClass(this.resolveThemeClassName(diff.theme));
            }
            if (diff.hasOwnProperty('rowColoring')) {
                this.removeRowColoringClasses();
                this.addClass(this.resolveRowColoringClassName(diff.rowColoring));
            }
        };
        /**
         * @private
         * @param {?} toggle
         * @param {?} cssClassName
         * @return {?}
         */
        SchemaCssClassManager.prototype.toggleCssClass = /**
         * @private
         * @param {?} toggle
         * @param {?} cssClassName
         * @return {?}
         */
        function (toggle, cssClassName) {
            if (toggle) {
                this.addClass(cssClassName);
            }
            else {
                this.removeClass(cssClassName);
            }
        };
        /**
         * @private
         * @return {?}
         */
        SchemaCssClassManager.prototype.removeThemeCssClasses = /**
         * @private
         * @return {?}
         */
        function () {
            var _this = this;
            Object.keys(SchemaTheme)
                .map((/**
             * @param {?} key
             * @return {?}
             */
            function (key) { return SchemaTheme[key]; }))
                .map((/**
             * @param {?} theme
             * @return {?}
             */
            function (theme) { return _this.resolveThemeClassName(theme); }))
                .filter((/**
             * @param {?} className
             * @return {?}
             */
            function (className) { return !!className; }))
                .forEach((/**
             * @param {?} className
             * @return {?}
             */
            function (className) {
                _this.removeClass(className);
            }));
        };
        /**
         * @private
         * @param {?} theme
         * @return {?}
         */
        SchemaCssClassManager.prototype.resolveThemeClassName = /**
         * @private
         * @param {?} theme
         * @return {?}
         */
        function (theme) {
            switch (theme) {
                case SchemaTheme.FABRIC:
                case SchemaTheme[SchemaTheme.FABRIC]:
                    return this.THEME_FABRIC_CLASS_NAME;
                case SchemaTheme.MATERIAL:
                case SchemaTheme[SchemaTheme.MATERIAL]:
                    return this.THEME_MATERIAL_CLASS_NAME;
                case SchemaTheme.LIGHT:
                case SchemaTheme[SchemaTheme.LIGHT]:
                    return this.THEME_LIGHT_CLASS_NAME;
                case SchemaTheme.DARK:
                case SchemaTheme[SchemaTheme.DARK]:
                    return this.THEME_DARK_CLASS_NAME;
                default:
                    return this.THEME_FABRIC_CLASS_NAME;
            }
        };
        /**
         * @private
         * @param {?} coloring
         * @return {?}
         */
        SchemaCssClassManager.prototype.resolveRowColoringClassName = /**
         * @private
         * @param {?} coloring
         * @return {?}
         */
        function (coloring) {
            switch (coloring) {
                case SchemaRowColoring.ODD:
                case SchemaRowColoring[SchemaRowColoring.ODD]:
                    return this.ROW_COLORING_ODD;
                case SchemaRowColoring.EVEN:
                case SchemaRowColoring[SchemaRowColoring.EVEN]:
                    return this.ROW_COLORING_EVEN;
                default:
                    return null;
            }
        };
        /**
         * @private
         * @return {?}
         */
        SchemaCssClassManager.prototype.removeRowColoringClasses = /**
         * @private
         * @return {?}
         */
        function () {
            var _this = this;
            Object.keys(SchemaRowColoring)
                .map((/**
             * @param {?} key
             * @return {?}
             */
            function (key) { return SchemaRowColoring[key]; }))
                .map((/**
             * @param {?} coloring
             * @return {?}
             */
            function (coloring) { return _this.resolveRowColoringClassName(coloring); }))
                .filter((/**
             * @param {?} className
             * @return {?}
             */
            function (className) { return !!className; }))
                .forEach((/**
             * @param {?} className
             * @return {?}
             */
            function (className) {
                _this.removeClass(className);
            }));
        };
        /**
         * @private
         * @param {?} cssClassName
         * @return {?}
         */
        SchemaCssClassManager.prototype.addClass = /**
         * @private
         * @param {?} cssClassName
         * @return {?}
         */
        function (cssClassName) {
            if (cssClassName) {
                this.renderer.addClass(this.cssHostRef.nativeElement, cssClassName);
            }
        };
        /**
         * @private
         * @param {?} cssClassName
         * @return {?}
         */
        SchemaCssClassManager.prototype.removeClass = /**
         * @private
         * @param {?} cssClassName
         * @return {?}
         */
        function (cssClassName) {
            if (cssClassName) {
                this.renderer.removeClass(this.cssHostRef.nativeElement, cssClassName);
            }
        };
        SchemaCssClassManager.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SchemaCssClassManager.ctorParameters = function () { return [
            { type: core.RendererFactory2 },
            { type: SchemaReadModelService }
        ]; };
        return SchemaCssClassManager;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.VERTICAL_GRID_CLASS_NAME;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.HORIZONTAL_GRID_CLASS_NAME;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.THEME_FABRIC_CLASS_NAME;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.THEME_MATERIAL_CLASS_NAME;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.THEME_LIGHT_CLASS_NAME;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.THEME_DARK_CLASS_NAME;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.ROW_COLORING_ODD;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.ROW_COLORING_EVEN;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.renderer;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.cssClass;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.cssHostRef;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.unsubscribe$;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.rendererFactory2;
        /**
         * @type {?}
         * @private
         */
        SchemaCssClassManager.prototype.schemaQueryService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureCellEditArchive = /** @class */ (function (_super) {
        __extends(StructureCellEditArchive, _super);
        function StructureCellEditArchive() {
            return _super.call(this) || this;
        }
        StructureCellEditArchive.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureCellEditArchive.ctorParameters = function () { return []; };
        return StructureCellEditArchive;
    }(Archive));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureCellEditStore = /** @class */ (function (_super) {
        __extends(StructureCellEditStore, _super);
        function StructureCellEditStore() {
            return _super.call(this) || this;
        }
        StructureCellEditStore.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureCellEditStore.ctorParameters = function () { return []; };
        return StructureCellEditStore;
    }(Archive));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureEditModeArchive = /** @class */ (function (_super) {
        __extends(StructureEditModeArchive, _super);
        function StructureEditModeArchive() {
            return _super.call(this) || this;
        }
        StructureEditModeArchive.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureEditModeArchive.ctorParameters = function () { return []; };
        return StructureEditModeArchive;
    }(Archive));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureInfoPanelEnabledArchive = /** @class */ (function (_super) {
        __extends(StructureInfoPanelEnabledArchive, _super);
        function StructureInfoPanelEnabledArchive() {
            return _super.call(this, false) || this;
        }
        StructureInfoPanelEnabledArchive.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureInfoPanelEnabledArchive.ctorParameters = function () { return []; };
        return StructureInfoPanelEnabledArchive;
    }(Archive));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregationPanelConfig = /** @class */ (function () {
        function StructureAggregationPanelConfig(top, bottom) {
            this.top = false;
            this.bottom = true;
            if (top !== undefined && top !== null) {
                this.top = top;
            }
            if (bottom !== undefined && bottom !== null) {
                this.bottom = bottom;
            }
        }
        /**
         * @return {?}
         */
        StructureAggregationPanelConfig.prototype.itTopEnabled = /**
         * @return {?}
         */
        function () {
            return this.top;
        };
        /**
         * @return {?}
         */
        StructureAggregationPanelConfig.prototype.itBottomEnabled = /**
         * @return {?}
         */
        function () {
            return this.bottom;
        };
        return StructureAggregationPanelConfig;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureAggregationPanelConfig.prototype.top;
        /**
         * @type {?}
         * @private
         */
        StructureAggregationPanelConfig.prototype.bottom;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregationArchive = /** @class */ (function (_super) {
        __extends(StructureAggregationArchive, _super);
        function StructureAggregationArchive() {
            return _super.call(this, new StructureAggregationPanelConfig()) || this;
        }
        StructureAggregationArchive.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureAggregationArchive.ctorParameters = function () { return []; };
        return StructureAggregationArchive;
    }(Archive));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregationPanelConfigConverter = /** @class */ (function () {
        function StructureAggregationPanelConfigConverter() {
        }
        /**
         * @param {?} config
         * @return {?}
         */
        StructureAggregationPanelConfigConverter.prototype.convert = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            if (config.enabled) {
                return new StructureAggregationPanelConfig(config.top, config.bottom);
            }
            else {
                return new StructureAggregationPanelConfig(false, false);
            }
        };
        StructureAggregationPanelConfigConverter.decorators = [
            { type: core.Injectable }
        ];
        return StructureAggregationPanelConfigConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSetAggregationEnabledCommand = /** @class */ (function (_super) {
        __extends(StructureSetAggregationEnabledCommand, _super);
        function StructureSetAggregationEnabledCommand(structureId, enabled) {
            var _this = _super.call(this, structureId, 'StructureSetAggregationEnabledCommand') || this;
            _this.structureId = structureId;
            _this.enabled = enabled;
            return _this;
        }
        return StructureSetAggregationEnabledCommand;
    }(hermes.Command));
    if (false) {
        /** @type {?} */
        StructureSetAggregationEnabledCommand.prototype.structureId;
        /** @type {?} */
        StructureSetAggregationEnabledCommand.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregationCommandService = /** @class */ (function () {
        function StructureAggregationCommandService(commandDispatcher) {
            this.commandDispatcher = commandDispatcher;
        }
        /**
         * @param {?} enabled
         * @param {?} structureId
         * @return {?}
         */
        StructureAggregationCommandService.prototype.setAggregationEnabled = /**
         * @param {?} enabled
         * @param {?} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            this.commandDispatcher.dispatch(new StructureSetAggregationEnabledCommand(structureId, enabled));
        };
        StructureAggregationCommandService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureAggregationCommandService.ctorParameters = function () { return [
            { type: hermes.CommandDispatcher }
        ]; };
        return StructureAggregationCommandService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureAggregationCommandService.prototype.commandDispatcher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregationConfigService = /** @class */ (function () {
        function StructureAggregationConfigService(structureAggregationPanelConfigConverter, structureAggregationArchive, structureAggregationCommandService, structureId) {
            this.structureAggregationPanelConfigConverter = structureAggregationPanelConfigConverter;
            this.structureAggregationArchive = structureAggregationArchive;
            this.structureAggregationCommandService = structureAggregationCommandService;
            this.structureId = structureId;
        }
        /**
         * @param {?} config
         * @return {?}
         */
        StructureAggregationConfigService.prototype.set = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            /** @type {?} */
            var aggregationPanelConfig = this.structureAggregationPanelConfigConverter.convert(config);
            this.structureAggregationArchive.next(aggregationPanelConfig);
            this.structureAggregationCommandService.setAggregationEnabled(config.enabled, this.structureId);
        };
        StructureAggregationConfigService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureAggregationConfigService.ctorParameters = function () { return [
            { type: StructureAggregationPanelConfigConverter },
            { type: StructureAggregationArchive },
            { type: StructureAggregationCommandService },
            { type: StructureId }
        ]; };
        return StructureAggregationConfigService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureAggregationConfigService.prototype.structureAggregationPanelConfigConverter;
        /**
         * @type {?}
         * @private
         */
        StructureAggregationConfigService.prototype.structureAggregationArchive;
        /**
         * @type {?}
         * @private
         */
        StructureAggregationConfigService.prototype.structureAggregationCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureAggregationConfigService.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var structureComponentToken = new core.InjectionToken('StructureComponentToken');

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var StructureCellEditState = {
        ENTER: 0,
        SUBMIT: 1,
        CANCEL: 2,
    };
    StructureCellEditState[StructureCellEditState.ENTER] = 'ENTER';
    StructureCellEditState[StructureCellEditState.SUBMIT] = 'SUBMIT';
    StructureCellEditState[StructureCellEditState.CANCEL] = 'CANCEL';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnMenuConfig = /** @class */ (function () {
        function ColumnMenuConfig() {
        }
        return ColumnMenuConfig;
    }());
    if (false) {
        /** @type {?} */
        ColumnMenuConfig.prototype.enabled;
        /** @type {?} */
        ColumnMenuConfig.prototype.sort;
        /** @type {?} */
        ColumnMenuConfig.prototype.filter;
        /** @type {?} */
        ColumnMenuConfig.prototype.columnsManager;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * \@internal
     * @abstract
     */
    var StructureGateway = /** @class */ (function (_super) {
        __extends(StructureGateway, _super);
        function StructureGateway(structureId, compositionId, structureCommandService, pagingCommandService, pagingEventService, sourceCommandService, sourceEventService, schemaCommandService, compositionCommandService, compositionEventService, formationEventService, structureEditModeArchive, structureCellEditArchive, structureInfoPanelEnabledArchive, structureAggregationConfigService, structureCellEditStore, structureColumnMenuConfigArchive, structurePagingDisplayModeArchive, structureRowSelectEnabledArchive) {
            var _this = _super.call(this) || this;
            _this.structureId = structureId;
            _this.compositionId = compositionId;
            _this.structureCommandService = structureCommandService;
            _this.pagingCommandService = pagingCommandService;
            _this.pagingEventService = pagingEventService;
            _this.sourceCommandService = sourceCommandService;
            _this.sourceEventService = sourceEventService;
            _this.schemaCommandService = schemaCommandService;
            _this.compositionCommandService = compositionCommandService;
            _this.compositionEventService = compositionEventService;
            _this.formationEventService = formationEventService;
            _this.structureEditModeArchive = structureEditModeArchive;
            _this.structureCellEditArchive = structureCellEditArchive;
            _this.structureInfoPanelEnabledArchive = structureInfoPanelEnabledArchive;
            _this.structureAggregationConfigService = structureAggregationConfigService;
            _this.structureCellEditStore = structureCellEditStore;
            _this.structureColumnMenuConfigArchive = structureColumnMenuConfigArchive;
            _this.structurePagingDisplayModeArchive = structurePagingDisplayModeArchive;
            _this.structureRowSelectEnabledArchive = structureRowSelectEnabledArchive;
            _this.source = [];
            _this.columns = [];
            /**
             * ********************
             * OUTPUTS
             * *********************
             */
            _this.pageChanged = new core.EventEmitter();
            _this.pageSizeChanged = new core.EventEmitter();
            _this.itemsSelected = new core.EventEmitter();
            _this.columnsChanged = new core.EventEmitter();
            _this.containerWidthChanged = new core.EventEmitter();
            _this.sourceEdited = new core.EventEmitter();
            _this.cellEditEntered = new core.EventEmitter();
            _this.cellEditCanceled = new core.EventEmitter();
            _this.cellEditSubmitted = new core.EventEmitter();
            return _this;
        }
        /**
         * @param {?} simpleChanges
         * @return {?}
         */
        StructureGateway.prototype.ngOnChanges = /**
         * @param {?} simpleChanges
         * @return {?}
         */
        function (simpleChanges) {
            if (simpleChanges.columnMenu !== undefined && simpleChanges.columnMenu.currentValue !== undefined) {
                this.structureColumnMenuConfigArchive.nextConfig(this.columnMenu);
            }
            if (simpleChanges.rowSelecting !== undefined && simpleChanges.rowSelecting.currentValue !== undefined) {
                this.structureRowSelectEnabledArchive.next(this.rowSelecting);
            }
            if (simpleChanges.infoPanel !== undefined && simpleChanges.infoPanel.currentValue !== undefined) {
                this.structureInfoPanelEnabledArchive.next(this.infoPanel);
            }
            if (simpleChanges.aggregation !== undefined && simpleChanges.aggregation.currentValue !== undefined) {
                this.structureAggregationConfigService.set(this.aggregation);
            }
            if (simpleChanges.editMode !== undefined && simpleChanges.editMode.currentValue !== undefined) {
                this.structureEditModeArchive.next(this.editMode);
            }
            if (simpleChanges.cellEditing !== undefined && simpleChanges.cellEditing.currentValue !== undefined) {
                this.structureCellEditArchive.next(this.cellEditing);
            }
            if (simpleChanges.width !== undefined && simpleChanges.width.currentValue !== undefined) {
                this.compositionCommandService.setWidth(this.width);
            }
            if (simpleChanges.rowHeight !== undefined && simpleChanges.rowHeight.currentValue !== undefined) {
                this.structureCommandService.setRowHeight(this.rowHeight);
            }
            if (simpleChanges.autoResizeWidth !== undefined && simpleChanges.autoResizeWidth.currentValue !== undefined) {
                this.compositionCommandService.setResizeWidth(this.autoResizeWidth);
            }
            if (simpleChanges.columnHeaderTop !== undefined && simpleChanges.columnHeaderTop.currentValue !== undefined) {
                this.schemaCommandService.changeTopHeader(this.columnHeaderTop);
            }
            if (simpleChanges.columnHeaderBottom !== undefined && simpleChanges.columnHeaderBottom.currentValue !== undefined) {
                this.schemaCommandService.changeBottomHeader(this.columnHeaderBottom);
            }
            if (simpleChanges.loading !== undefined && simpleChanges.loading.currentValue !== undefined) {
                this.sourceCommandService.setLoading(this.loading);
            }
            if (simpleChanges.paging !== undefined && simpleChanges.paging.currentValue !== undefined) {
                /** @type {?} */
                var pagingConfig = void 0;
                if (typeof this.paging === 'boolean') {
                    pagingConfig = {
                        enabled: this.paging
                    };
                }
                else {
                    pagingConfig = this.paging;
                    if (this.paging.displayMode !== undefined) {
                        this.structurePagingDisplayModeArchive.next(this.paging.displayMode);
                    }
                }
                this.pagingCommandService.setPaging(pagingConfig);
            }
            if (simpleChanges.columns) {
                this.structureCommandService.initFields(this.columns, this.compositionId, this.structureId);
                // this.compositionCommandService.setColumns(this.columns);
            }
            if (simpleChanges.verticalGrid !== undefined && simpleChanges.verticalGrid.currentValue !== undefined) {
                this.schemaCommandService.changeVerticalGrid(this.verticalGrid);
            }
            if (simpleChanges.horizontalGrid !== undefined && simpleChanges.horizontalGrid.currentValue !== undefined) {
                this.schemaCommandService.changeHorizontalGrid(this.horizontalGrid);
            }
            if (simpleChanges.theme !== undefined && simpleChanges.theme.currentValue !== undefined) {
                this.schemaCommandService.setTheme(this.theme);
            }
            if (simpleChanges.rowColoring !== undefined && simpleChanges.rowColoring.currentValue !== undefined) {
                this.schemaCommandService.setRowColoring(this.rowColoring);
            }
            if (simpleChanges.maxHeight && this.maxHeight) {
                this.schemaCommandService.setHeight(this.maxHeight);
            }
            if (simpleChanges.virtualScroll !== undefined && simpleChanges.virtualScroll.currentValue !== undefined) {
                if (this.virtualScroll) {
                    this.structureCommandService.enableVerticalScroll();
                }
                else {
                    this.structureCommandService.disableVerticalScroll();
                }
            }
            if (simpleChanges.sorting !== undefined && simpleChanges.sorting.currentValue !== undefined) {
                /** @type {?} */
                var sorting = void 0;
                if (typeof this.sorting === 'boolean') {
                    sorting = {
                        enabled: this.sorting
                    };
                }
                else {
                    sorting = this.sorting;
                }
                this.structureCommandService.setSortingConfig(sorting);
            }
            if (simpleChanges.filtering !== undefined && simpleChanges.filtering.currentValue !== undefined) {
                /** @type {?} */
                var filtering = void 0;
                if (typeof this.filtering === 'boolean') {
                    filtering = {
                        enabled: this.filtering
                    };
                }
                else {
                    filtering = this.filtering;
                }
                this.structureCommandService.setFilterConfig(filtering);
            }
            if (simpleChanges.quickFilters !== undefined && simpleChanges.quickFilters.currentValue !== undefined) {
                /** @type {?} */
                var quickFilters = void 0;
                if (typeof this.quickFilters === 'boolean') {
                    quickFilters = {
                        enabled: this.quickFilters
                    };
                }
                else {
                    quickFilters = this.quickFilters;
                }
                this.structureCommandService.setQuickFiltersConfig(quickFilters);
            }
            if (simpleChanges.searching !== undefined && simpleChanges.searching.currentValue !== undefined) {
                /** @type {?} */
                var searching = void 0;
                if (typeof this.searching === 'boolean') {
                    searching = {
                        enabled: this.searching
                    };
                }
                else {
                    searching = this.searching;
                }
                this.structureCommandService.setSearchingConfig(searching);
            }
            /**
             * Setting source should be last step
             */
            if (simpleChanges.source) {
                this.sourceCommandService.setOrigin(this.source);
            }
        };
        /**
         * @return {?}
         */
        StructureGateway.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.pagingEventService
                .onPageChange(this.structureId)
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} pageNumber
             * @return {?}
             */
            function (pageNumber) {
                _this.pageChanged.emit(pageNumber);
            }));
            this.pagingEventService
                .onPageSizeChange(this.structureId)
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} pageSize
             * @return {?}
             */
            function (pageSize) {
                _this.pageSizeChanged.emit(pageSize);
            }));
            this.formationEventService
                .onItemSelected(this.structureId)
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} items
             * @return {?}
             */
            function (items) {
                _this.itemsSelected.emit(items);
            }));
            this.compositionEventService
                .onColumnsChanged(this.compositionId)
                .pipe(operators.skip(1), // TODO system should emit response that it is ready
            this.takeUntil())
                .subscribe((/**
             * @return {?}
             */
            function () {
                _this.columnsChanged.emit();
            }));
            this.compositionEventService
                .onContainerWidthChanged(this.compositionId)
                .pipe(
            // skip(1), // TODO system should emit response that it is ready
            this.takeUntil())
                .subscribe((/**
             * @param {?} containerWidth
             * @return {?}
             */
            function (containerWidth) {
                _this.containerWidthChanged.emit(containerWidth);
            }));
            this.sourceEventService
                .onSourceEdited(this.structureId)
                .pipe(
            // this.takeUntil()
            )
                .subscribe((/**
             * @param {?} values
             * @return {?}
             */
            function (values) {
                _this.sourceEdited.emit(values);
            }));
            this.structureCellEditStore
                .onValue()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} state
             * @return {?}
             */
            function (state) {
                switch (state) {
                    case StructureCellEditState.ENTER:
                        _this.cellEditEntered.emit();
                        break;
                    case StructureCellEditState.SUBMIT:
                        _this.cellEditSubmitted.emit();
                        break;
                    case StructureCellEditState.CANCEL:
                        _this.cellEditCanceled.emit();
                        break;
                }
            }));
        };
        /**
         * @param {?} page
         * @return {?}
         */
        StructureGateway.prototype.onPageChange = /**
         * @param {?} page
         * @return {?}
         */
        function (page) {
            this.pageChanged.emit(page);
        };
        StructureGateway.propDecorators = {
            columnHeaderTop: [{ type: core.Input }],
            columnHeaderBottom: [{ type: core.Input }],
            maxHeight: [{ type: core.Input }],
            width: [{ type: core.Input }],
            rowHeight: [{ type: core.Input }],
            autoResizeWidth: [{ type: core.Input }],
            source: [{ type: core.Input }],
            columns: [{ type: core.Input }],
            paging: [{ type: core.Input }],
            verticalGrid: [{ type: core.Input }],
            horizontalGrid: [{ type: core.Input }],
            theme: [{ type: core.Input }],
            rowColoring: [{ type: core.Input }],
            rowSelecting: [{ type: core.Input }],
            loading: [{ type: core.Input }],
            virtualScroll: [{ type: core.Input }],
            sorting: [{ type: core.Input }],
            filtering: [{ type: core.Input }],
            quickFilters: [{ type: core.Input }],
            searching: [{ type: core.Input }],
            editMode: [{ type: core.Input }],
            cellEditing: [{ type: core.Input }],
            infoPanel: [{ type: core.Input }],
            aggregation: [{ type: core.Input }],
            columnMenu: [{ type: core.Input }],
            pageChanged: [{ type: core.Output }],
            pageSizeChanged: [{ type: core.Output }],
            itemsSelected: [{ type: core.Output }],
            columnsChanged: [{ type: core.Output }],
            containerWidthChanged: [{ type: core.Output }],
            sourceEdited: [{ type: core.Output }],
            cellEditEntered: [{ type: core.Output }],
            cellEditCanceled: [{ type: core.Output }],
            cellEditSubmitted: [{ type: core.Output }]
        };
        return StructureGateway;
    }(SmartComponent));
    if (false) {
        /**
         * ********************
         * INPUTS
         * *********************
         * @type {?}
         */
        StructureGateway.prototype.columnHeaderTop;
        /** @type {?} */
        StructureGateway.prototype.columnHeaderBottom;
        /** @type {?} */
        StructureGateway.prototype.maxHeight;
        /** @type {?} */
        StructureGateway.prototype.width;
        /** @type {?} */
        StructureGateway.prototype.rowHeight;
        /** @type {?} */
        StructureGateway.prototype.autoResizeWidth;
        /** @type {?} */
        StructureGateway.prototype.source;
        /** @type {?} */
        StructureGateway.prototype.columns;
        /** @type {?} */
        StructureGateway.prototype.paging;
        /** @type {?} */
        StructureGateway.prototype.verticalGrid;
        /** @type {?} */
        StructureGateway.prototype.horizontalGrid;
        /** @type {?} */
        StructureGateway.prototype.theme;
        /** @type {?} */
        StructureGateway.prototype.rowColoring;
        /** @type {?} */
        StructureGateway.prototype.rowSelecting;
        /** @type {?} */
        StructureGateway.prototype.loading;
        /** @type {?} */
        StructureGateway.prototype.virtualScroll;
        /** @type {?} */
        StructureGateway.prototype.sorting;
        /** @type {?} */
        StructureGateway.prototype.filtering;
        /** @type {?} */
        StructureGateway.prototype.quickFilters;
        /** @type {?} */
        StructureGateway.prototype.searching;
        /** @type {?} */
        StructureGateway.prototype.editMode;
        /** @type {?} */
        StructureGateway.prototype.cellEditing;
        /** @type {?} */
        StructureGateway.prototype.infoPanel;
        /** @type {?} */
        StructureGateway.prototype.aggregation;
        /** @type {?} */
        StructureGateway.prototype.columnMenu;
        /**
         * ********************
         * OUTPUTS
         * *********************
         * @type {?}
         */
        StructureGateway.prototype.pageChanged;
        /** @type {?} */
        StructureGateway.prototype.pageSizeChanged;
        /** @type {?} */
        StructureGateway.prototype.itemsSelected;
        /** @type {?} */
        StructureGateway.prototype.columnsChanged;
        /** @type {?} */
        StructureGateway.prototype.containerWidthChanged;
        /** @type {?} */
        StructureGateway.prototype.sourceEdited;
        /** @type {?} */
        StructureGateway.prototype.cellEditEntered;
        /** @type {?} */
        StructureGateway.prototype.cellEditCanceled;
        /** @type {?} */
        StructureGateway.prototype.cellEditSubmitted;
        /** @type {?} */
        StructureGateway.prototype.structureId;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.compositionId;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.structureCommandService;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.pagingCommandService;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.pagingEventService;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.sourceCommandService;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.sourceEventService;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.schemaCommandService;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.compositionCommandService;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.compositionEventService;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.formationEventService;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.structureEditModeArchive;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.structureCellEditArchive;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.structureInfoPanelEnabledArchive;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.structureAggregationConfigService;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.structureCellEditStore;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.structureColumnMenuConfigArchive;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.structurePagingDisplayModeArchive;
        /**
         * @type {?}
         * @protected
         */
        StructureGateway.prototype.structureRowSelectEnabledArchive;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NextPageEvent = /** @class */ (function (_super) {
        __extends(NextPageEvent, _super);
        function NextPageEvent(aggregateId) {
            return _super.call(this, aggregateId, 'NextPageEvent') || this;
        }
        return NextPageEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PrevPageEvent = /** @class */ (function (_super) {
        __extends(PrevPageEvent, _super);
        function PrevPageEvent(aggregateId) {
            return _super.call(this, aggregateId, 'PrevPageEvent') || this;
        }
        return PrevPageEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PageChangedEvent = /** @class */ (function (_super) {
        __extends(PageChangedEvent, _super);
        function PageChangedEvent(aggregateId) {
            return _super.call(this, aggregateId, 'PageChangedEvent') || this;
        }
        return PageChangedEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PagesizeChangedEvent = /** @class */ (function (_super) {
        __extends(PagesizeChangedEvent, _super);
        function PagesizeChangedEvent(aggregateId) {
            return _super.call(this, aggregateId, 'PagesizeChangedEvent') || this;
        }
        return PagesizeChangedEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PagingEventService = /** @class */ (function () {
        function PagingEventService(domainEventBus, pagingQueryService) {
            this.domainEventBus = domainEventBus;
            this.pagingQueryService = pagingQueryService;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        PagingEventService.prototype.onPageChange = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            var _this = this;
            return this.domainEventBus
                .ofEvent(NextPageEvent, PrevPageEvent, PageChangedEvent)
                .pipe(operators.filter((/**
             * @param {?} event
             * @return {?}
             */
            function (event) { return event.aggregateId.toString() === structureId.toString(); })), operators.switchMap((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                return _this.pagingQueryService
                    .onPaging(structureId)
                    .pipe(operators.map((/**
                 * @param {?} paging
                 * @return {?}
                 */
                function (paging) { return paging.getPage(); })), operators.take(1));
            })));
        };
        /**
         * @param {?} structureId
         * @return {?}
         */
        PagingEventService.prototype.onPageSizeChange = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            var _this = this;
            return this.domainEventBus
                .ofEvent(PagesizeChangedEvent)
                .pipe(operators.filter((/**
             * @param {?} event
             * @return {?}
             */
            function (event) { return event.aggregateId.toString() === structureId.toString(); })), operators.switchMap((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                return _this.pagingQueryService
                    .onPaging(structureId)
                    .pipe(operators.map((/**
                 * @param {?} paging
                 * @return {?}
                 */
                function (paging) { return paging.getPageSize(); })), operators.take(1));
            })));
        };
        PagingEventService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        PagingEventService.ctorParameters = function () { return [
            { type: hermes.DomainEventBus },
            { type: PagingReadModelService }
        ]; };
        return PagingEventService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        PagingEventService.prototype.domainEventBus;
        /**
         * @type {?}
         * @private
         */
        PagingEventService.prototype.pagingQueryService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var EditemItemValues = /** @class */ (function () {
        function EditemItemValues(after, before) {
            this.after = after;
            this.before = before;
        }
        return EditemItemValues;
    }());
    if (false) {
        /** @type {?} */
        EditemItemValues.prototype.after;
        /** @type {?} */
        EditemItemValues.prototype.before;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSourceItemEditedEvent = /** @class */ (function (_super) {
        __extends(StructureSourceItemEditedEvent, _super);
        function StructureSourceItemEditedEvent(aggregateId, beforeItem, afterItem) {
            var _this = _super.call(this, aggregateId, 'StructureSourceItemEditedEvent') || this;
            _this.beforeItem = beforeItem;
            _this.afterItem = afterItem;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureSourceItemEditedEvent.prototype.getBeforeItem = /**
         * @return {?}
         */
        function () {
            return this.beforeItem;
        };
        /**
         * @return {?}
         */
        StructureSourceItemEditedEvent.prototype.getAfterItem = /**
         * @return {?}
         */
        function () {
            return this.afterItem;
        };
        return StructureSourceItemEditedEvent;
    }(hermes.DomainEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSourceItemEditedEvent.prototype.beforeItem;
        /**
         * @type {?}
         * @private
         */
        StructureSourceItemEditedEvent.prototype.afterItem;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SourceEventService = /** @class */ (function () {
        function SourceEventService(domainEventBus) {
            this.domainEventBus = domainEventBus;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        SourceEventService.prototype.onSourceEdited = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.domainEventBus
                .ofEvent((/** @type {?} */ (StructureSourceItemEditedEvent)))
                .pipe(operators.filter((/**
             * @param {?} event
             * @return {?}
             */
            function (event) { return event.aggregateId.toString() === structureId.toString(); })), operators.map((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                /** @type {?} */
                var afterItem = event.getAfterItem().getData();
                /** @type {?} */
                var beforeItem = event.getBeforeItem().getData();
                return new EditemItemValues(afterItem, beforeItem);
            })));
        };
        SourceEventService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SourceEventService.ctorParameters = function () { return [
            { type: hermes.DomainEventBus }
        ]; };
        return SourceEventService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SourceEventService.prototype.domainEventBus;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SelectedRowToggledEvent = /** @class */ (function (_super) {
        __extends(SelectedRowToggledEvent, _super);
        function SelectedRowToggledEvent(aggregateId) {
            return _super.call(this, aggregateId, 'SelectedRowToggledEvent') || this;
        }
        return SelectedRowToggledEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormationEventService = /** @class */ (function () {
        function FormationEventService(domainEventBus, structureQueryService) {
            this.domainEventBus = domainEventBus;
            this.structureQueryService = structureQueryService;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        FormationEventService.prototype.onItemSelected = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            var _this = this;
            return this.domainEventBus
                .ofEvent(SelectedRowToggledEvent)
                .pipe(operators.filter((/**
             * @param {?} event
             * @return {?}
             */
            function (event) { return event.aggregateId.toString() === structureId.toString(); })), operators.switchMap((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                return _this.structureQueryService
                    .onStructure(structureId)
                    .pipe(operators.take(1), operators.map((/**
                 * @param {?} str
                 * @return {?}
                 */
                function (str) { return str.getSelectedEntities(); })), operators.map((/**
                 * @param {?} entities
                 * @return {?}
                 */
                function (entities) { return entities.map((/**
                 * @param {?} ent
                 * @return {?}
                 */
                function (ent) { return ent.getData(); })); })));
            })));
        };
        FormationEventService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        FormationEventService.ctorParameters = function () { return [
            { type: hermes.DomainEventBus },
            { type: StructureReadModelService }
        ]; };
        return FormationEventService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FormationEventService.prototype.domainEventBus;
        /**
         * @type {?}
         * @private
         */
        FormationEventService.prototype.structureQueryService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureColumnMenuConfig = /** @class */ (function () {
        function StructureColumnMenuConfig(enabled, sort, filter, columnsManager) {
            if (enabled === void 0) { enabled = false; }
            if (sort === void 0) { sort = true; }
            if (filter === void 0) { filter = false; }
            if (columnsManager === void 0) { columnsManager = false; }
            this.enabled = enabled;
            this.sort = sort;
            this.filter = filter;
            this.columnsManager = columnsManager;
        }
        /**
         * @return {?}
         */
        StructureColumnMenuConfig.default = /**
         * @return {?}
         */
        function () {
            return new StructureColumnMenuConfig();
        };
        /**
         * @param {?} config
         * @return {?}
         */
        StructureColumnMenuConfig.fromConfig = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            return new StructureColumnMenuConfig(config.enabled, config.sort, config.filter, config.columnsManager);
        };
        /**
         * @return {?}
         */
        StructureColumnMenuConfig.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled &&
                (this.sort || this.filter || this.columnsManager);
        };
        /**
         * @return {?}
         */
        StructureColumnMenuConfig.prototype.isMainEnabled = /**
         * @return {?}
         */
        function () {
            return this.sort;
        };
        /**
         * @return {?}
         */
        StructureColumnMenuConfig.prototype.isSortingEnabled = /**
         * @return {?}
         */
        function () {
            return this.sort;
        };
        /**
         * @return {?}
         */
        StructureColumnMenuConfig.prototype.isFilteringEnabled = /**
         * @return {?}
         */
        function () {
            return this.filter;
        };
        /**
         * @return {?}
         */
        StructureColumnMenuConfig.prototype.isColumnManagerEnabled = /**
         * @return {?}
         */
        function () {
            return this.columnsManager;
        };
        /**
         * @return {?}
         */
        StructureColumnMenuConfig.prototype.getMenus = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var menus = [];
            if (this.isMainEnabled()) {
                menus.push(this.getMainMenu());
            }
            if (this.isFilteringEnabled()) {
                menus.push(this.getFilterMenu());
            }
            if (this.isColumnManagerEnabled()) {
                menus.push(this.getColumnMenu());
            }
            return menus;
        };
        /**
         * @return {?}
         */
        StructureColumnMenuConfig.prototype.getActiveMenu = /**
         * @return {?}
         */
        function () {
            return this.getMenus()[0];
        };
        /**
         * @return {?}
         */
        StructureColumnMenuConfig.prototype.getMainMenu = /**
         * @return {?}
         */
        function () {
            return StructureColumnMenuConfig.MAIN;
        };
        /**
         * @return {?}
         */
        StructureColumnMenuConfig.prototype.getFilterMenu = /**
         * @return {?}
         */
        function () {
            return StructureColumnMenuConfig.FILTER;
        };
        /**
         * @return {?}
         */
        StructureColumnMenuConfig.prototype.getColumnMenu = /**
         * @return {?}
         */
        function () {
            return StructureColumnMenuConfig.COLUMNS;
        };
        StructureColumnMenuConfig.MAIN = 'Menu';
        StructureColumnMenuConfig.FILTER = 'Filter';
        StructureColumnMenuConfig.COLUMNS = 'Columns';
        return StructureColumnMenuConfig;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureColumnMenuConfig.MAIN;
        /**
         * @type {?}
         * @private
         */
        StructureColumnMenuConfig.FILTER;
        /**
         * @type {?}
         * @private
         */
        StructureColumnMenuConfig.COLUMNS;
        /**
         * @type {?}
         * @private
         */
        StructureColumnMenuConfig.prototype.enabled;
        /**
         * @type {?}
         * @private
         */
        StructureColumnMenuConfig.prototype.sort;
        /**
         * @type {?}
         * @private
         */
        StructureColumnMenuConfig.prototype.filter;
        /**
         * @type {?}
         * @private
         */
        StructureColumnMenuConfig.prototype.columnsManager;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureColumnMenuConfigArchive = /** @class */ (function (_super) {
        __extends(StructureColumnMenuConfigArchive, _super);
        function StructureColumnMenuConfigArchive() {
            return _super.call(this, StructureColumnMenuConfig.default()) || this;
        }
        /**
         * @param {?} config
         * @return {?}
         */
        StructureColumnMenuConfigArchive.prototype.nextConfig = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            /** @type {?} */
            var menuConfig = StructureColumnMenuConfig.fromConfig(config);
            this.next(menuConfig);
        };
        StructureColumnMenuConfigArchive.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureColumnMenuConfigArchive.ctorParameters = function () { return []; };
        return StructureColumnMenuConfigArchive;
    }(Archive));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureRowSelectEnabledArchive = /** @class */ (function (_super) {
        __extends(StructureRowSelectEnabledArchive, _super);
        function StructureRowSelectEnabledArchive() {
            return _super.call(this, StructureRowSelectEnabledArchive.DEFAULT_ROW_SELECT) || this;
        }
        StructureRowSelectEnabledArchive.DEFAULT_ROW_SELECT = true;
        StructureRowSelectEnabledArchive.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureRowSelectEnabledArchive.ctorParameters = function () { return []; };
        return StructureRowSelectEnabledArchive;
    }(Archive));
    if (false) {
        /** @type {?} */
        StructureRowSelectEnabledArchive.DEFAULT_ROW_SELECT;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * \@internal
     * @param {?} generator
     * @return {?}
     */
    function structureIdFactory(generator) {
        return new StructureId('gui-' + generator.generateId());
    }
    /**
     * \@internal
     * @param {?} generator
     * @return {?}
     */
    function compositionIdFactory(generator) {
        return new CompositionId('gui-' + generator.generateId());
    }
    /**
     * \@internal
     * @type {?}
     */
    var structureComponentSelfProviders = __spread([
        {
            provide: StructureId,
            useFactory: structureIdFactory,
            deps: [
                StructureIdGenerator
            ]
        },
        {
            provide: CompositionId,
            useFactory: compositionIdFactory,
            deps: [
                StructureIdGenerator
            ]
        }
    ], localProviders, [
        SchemaCssClassManager,
        StructureCellEditArchive,
        StructureCellEditStore,
        StructureEditModeArchive,
        StructureInfoPanelEnabledArchive,
        StructureAggregationArchive,
        StructureAggregationConfigService,
        StructureColumnMenuConfigArchive,
        StructurePagingDisplayModeArchive,
        StructureRowSelectEnabledArchive
    ]);
    /**
     * \@internal
     */
    var StructureComponent = /** @class */ (function (_super) {
        __extends(StructureComponent, _super);
        function StructureComponent(structureId, compositionId, pagingCommandService, pagingEventService, sourceCommandService, sourceEventService, schemaCommandService, compositionCommandService, compositionEventService, formationEventService, structureCommandService, structureEditModeArchive, structureCellEditArchive, structureInfoPanelEnabledArchive, structureAggregationConfigService, structureCellEditStore, structureColumnMenuConfigArchive, structurePagingDisplayModeArchive, structureRowSelectEnabledArchive, elementRef, changeDetectorRef, renderer, structureDefinition, structureQueryService, compositionQueryService, schemaReadModelService, schemaStylesManager) {
            var _this = _super.call(this, structureId, compositionId, structureCommandService, pagingCommandService, pagingEventService, sourceCommandService, sourceEventService, schemaCommandService, compositionCommandService, compositionEventService, formationEventService, structureEditModeArchive, structureCellEditArchive, structureInfoPanelEnabledArchive, structureAggregationConfigService, structureCellEditStore, structureColumnMenuConfigArchive, structurePagingDisplayModeArchive, structureRowSelectEnabledArchive) || this;
            _this.elementRef = elementRef;
            _this.changeDetectorRef = changeDetectorRef;
            _this.renderer = renderer;
            _this.structureDefinition = structureDefinition;
            _this.structureQueryService = structureQueryService;
            _this.compositionQueryService = compositionQueryService;
            _this.schemaReadModelService = schemaReadModelService;
            _this.schemaStylesManager = schemaStylesManager;
            _this.loaderEnabled = false;
            _this.circleLoaderEnabled = true;
            _this.initialLoaderAnimation = false;
            _this.structureCommandService.init();
            compositionCommandService.init();
            return _this;
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        StructureComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
        function (changes) {
            _super.prototype.ngOnChanges.call(this, changes);
        };
        /**
         * @return {?}
         */
        StructureComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            _super.prototype.ngOnInit.call(this);
            this.schemaReadModelService
                .onHeight()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} height
             * @return {?}
             */
            function (height) {
                _this.structureHeight = height;
            }));
            this.schemaReadModelService
                .onColumnHeader()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} columnHeader
             * @return {?}
             */
            function (columnHeader) {
                _this.columnHeader = columnHeader;
            }));
            this.structureQueryService
                .onStructure()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) {
                _this.structure = structure;
                _this.loaderEnabled = structure.getSource().isLoading();
                _this.circleLoaderEnabled = structure.isLoaderVisible();
                if (_this.loaderEnabled && !_this.initialLoaderAnimation) {
                    _this.initialLoaderAnimation = true;
                }
            }));
        };
        /**
         * @return {?}
         */
        StructureComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            /** @type {?} */
            var width = this.elementRef.nativeElement.offsetWidth;
            if (width > 0) {
                this.compositionCommandService.setContainerWidth(width);
            }
            else {
                /**
                 * When gui-grid is in dynamic container which is created later then grid.
                 */
                rxjs.timer(0)
                    .pipe(this.takeUntil())
                    .subscribe((/**
                 * @return {?}
                 */
                function () {
                    width = _this.elementRef.nativeElement.offsetWidth;
                    if (width > 0) {
                        _this.compositionCommandService.setContainerWidth(width);
                    }
                }));
            }
            this.schemaStylesManager
                .init(this.elementRef, this.structureId);
            this.compositionQueryService
                .onWidth()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} width
             * @return {?}
             */
            function (width) {
                _this.renderer.setStyle(_this.elementRef.nativeElement, 'width', width + 'px');
            }));
        };
        /**
         * @return {?}
         */
        StructureComponent.prototype.isBorderEnabled = /**
         * @return {?}
         */
        function () {
            return this.structureDefinition.isBorderEnabled();
        };
        /**
         * @return {?}
         */
        StructureComponent.prototype.getStructureId = /**
         * @return {?}
         */
        function () {
            return this.structureId;
        };
        StructureComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure',
                        template: "<gui-structure-blueprint></gui-structure-blueprint>\n\n<!---------- LOADING ---------->\n<div [ngClass]=\"{'gui-loader-visible': loaderEnabled, 'gui-loader-hidden': !loaderEnabled && initialLoaderAnimation}\"\n\t class=\"gui-loading\">\n\t<gui-spinner *ngIf=\"circleLoaderEnabled\"\n\t\t\t\t [diameter]=\"120\"\n\t\t\t\t [primary]=\"true\">\n\t</gui-spinner>\n</div>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None,
                        host: {
                            '[class]': "\"gui-structure\"",
                            // '[style.min-height.px]': 'structureHeight',
                            '[class.gui-structure-border]': 'isBorderEnabled()',
                            '[id]': 'structureId.toString()'
                        },
                        providers: __spread(structureComponentSelfProviders, [
                            {
                                provide: structureComponentToken,
                                useExisting: StructureComponent
                            }
                        ]),
                        styles: [".gui-bold{font-weight:700}.gui-italic{font-style:italic}", "gui-structure input{color:#333;font-family:Arial;font-size:13px}.gui-header{background:#f2f3f4;border-bottom:1px solid #d6d6d6;height:30px}.gui-header .gui-header-cell{border-right:1px solid transparent;box-sizing:border-box;cursor:pointer;line-height:1em;overflow:hidden;padding:0 8px;position:relative;white-space:nowrap;text-overflow:ellipsis;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.gui-header .gui-header-cell:last-of-type{border-right:0}.gui-header .gui-header-cell .gui-header-title{display:-webkit-box;display:-ms-flexbox;display:flex}.gui-header .gui-header-cell .gui-header-title .gui-sort{display:none;height:14px;width:14px;margin-left:4px}.gui-header .gui-header-cell .gui-header-title .gui-sort-asc{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAB2CAYAAAAz4kaDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABNRSURBVHhe7V1pU1vHmkYSixEIBAIhME6cXNshjjMkNuBNeMM2U6lUJeOKwfg6W5UrqeRLPuQHJPk2n6Y8+ZaUZ7I5cYwXbEySe+/Unbmp3MQbiM3YGBtvxAVml1iEEJLmeVqniSyD8ILhKDmP3Zw+3X16eZ9+3377nCMpRoMGDSHQKceoQiAQ0H366aexra2tsXogOTk5gGT/M8884y0rK/MFS0UXDMoxKkACcIh1OBxmg8FQ0tzSsmfM43llYHDwhe6engJLZuaC7Vu3dq9Zs2b8xx9/JDlRg6jRCEULUsbHx9ecra3dqDfoV46NjT3r9Y4nMT8uNs6dEJ9wXqfXnytcverv1nTrGWjHsLg4ChAVRJCEzz//PNXj86w/c+pcxcjo8GZdjC4FWUYEPcvodDoUC7gRXEZj0v+tt9sPZKan//Tyyy8PMV/tUL1pIgn79u1L9UxM2FtaLpSPDA9tHRvzZMXGxibAPOl8Ph/LxOCcTMR5vd4kvU5n6+3rNRoTE4d27NjRVV1dPa5Up1qonojc5bnp/nH/+ubmpor+vr5tMPxWLtBAjN/vF2WgDYIMHhGo5caR4eGcgYGB5GxbtrO8vPx2VVWVRxRWKYRaqxVff/112lDX6PrGhuayIdfQFsg4EwLXQxOE4EmEIvwYqRnMQ7oOGmJxulxbz9Wdq3C5XMXHjx83KdWqEqrViC+++MLS09Oz/uKFC7uGXK5tAX/AajBADaASYs4LnwhaoCxz/DsZRBmBRI/Hk9Pf1w8PN9n5xhtvdB8+fFiVmqFKjaAmDA4Ormtvb38Fs3kTkjKFLYKAYf8FCRS4XqefFH4wruRNltHpkG4ZGRkpaWpq2tXf329Xq2aoTiOOHTtm6ejoWHf58uUKCK4EZsYmSHhw6FCHEYt4Tm9vrykpKclZUVGhujVDVUSQhJs3b66FJuyE0Eows20IUALO+QcHrqdHZYSZskHDEq1Wqwt7DFWRoRoiSMKlS5fW3bhx45W+vr4tSMpBoAxF/sNA8ahYkdHtdlvhTRnNZvOQmjRDFUSQBGjBuuvXr5dDE+gd5XKPQK9IEaJS8sHAOhi418BpMsjIdjqdprS0NNWYqXlfrLkwkwSYpB1YoLkwL2S6JODhlocgWAfrIrEAojoriNiCBbx8eHjYXllZmSwKziPmVSOoCbdu3Vrf1tbGhVmYI0qJJFBoFB7DbIH1Ekq9SdAMG8xgCjXj9ddfn1fXdt6IoCaQhCtwUWGzS5CUjQD5/Cb8UDKkECVkmiwr46FHQsZZl9QMQimXPD4+boMmJprMJteOl+fvdsi8mKZDhw6l3+7ttV9sa63AmrANAqF3RCglggKUZkkKNRShZQmey7TQ8jLOHXcoZHmEjEHnYKnDUb/HG/AWw0ylKkXmFHOuEdSEXzs77dfgokITtkB0NopDyb4DUrDhs5lHCphpUtCMh2qQDDJfnk8FFEmamJjIcg66EhOTkly752EBn1MiqAmd3Z321gsXdg04B7YE/AEbRBRxn0ABM/BeEmc1A+NSyJIgkkAwDd6RiLNcXFzctARIkCp/wG8cc49m9w/0J1vS0uf8dsicEfHZZ5+Z4anYWy5c2Ol0urZCcFkQKsWolJgaoTMau+NJLQgVbnic+ZjhghASFF4+HMzjdEA5o2fMk+0aciZa0i3OV199tRNkzMmaMSdEkITR0dFiR0NDhWtwcItOrxckyFkcSUgS8fHxQrgsSwFTuCSFaayHmsI0HqXwExISJu/KRmrDj3zlWnRNbxwZdWf39vWaMi0ZzpdeemlOFvBHSgQGp1u8eLF52D1sb25uLseiuBVpVpLAgROUD+ajiE8FRYA+j8fjg5mhGRPurQTzZZAgQQgBXONlecSnb4AIdkKQwWsDfn8Sb4fATBmt2Tmuf5sDMh4ZESRBecZcXFvrKB8aGirBIMVDnTs1IRINYqH2QgP6oBE9mP18Pm1AGuUr8qkBFJ6sUzmi+cCY0WjsYARYQD5EgWkg6+P1rA/niWPYZ3R3305alLvIVQoz9f0jNFOPhAgMXDxjJgmOekfFqHu0BLPMCpGjPZgJzjqaAz9NBi8IXieFwTwFXgjlitlsrsnLy7vY1dVFN5dvcEySyaOME8pC7cd1159//vkTME03R0ZG0pGWgnqFY8D65VEAzdI8ESQBGUxEasA4MeHL7u7pTl6ckeksfbUUZHz/SMiYdSIwOKEJmL322traiuHhkW26QEwGxiXakvOfw5RxKUhJBI9I80LgHbDzB5KSkv7d5XL1YZ3hxi8LQcxulgsPCihJXruvsLDQgV17LMhYiL6loIwoxAOJkKSE/pvsGQ74bxz3jOfcvn3buDhzsetRLeCzuqELIWFDfX39brfbXYIBWZBlCA4vCDlUIQAEmhceQ2a2F+vB9bS0tJObNm36n3379jlBghv5kwXkteFBAn0J9PT0jGHXXLt69eqD6enpx6klSKZdE23xKNsOvf63fooY/6RjLNvq6ur2wPPb8CjuTc0aEZIEDKb43Llz5ejwVhDCZ8wRtQ75k/sCCgVxLrA3MzMza9asWVMJTajH+aStul+8/fbb3uHh4Xq73X4wKyvrBOsGCT6aMLZJQtiHGcC3RTJAaumpU6f2oL4NX375pXifarYwK0SQhI8//tiEgRWfPXu2AmaA3pEFgjVwsJFAISiLI+NcmK9lZGTU5OfnH4FpqX/vvfceelNFMqAdDUVFRd+CYJJxg2TIvs1EBMuhj/TW0jAxtpEMeFUbZ1MzHpoIdE534MABPoIsPn36dAW8o20QZgY6b5A+fCRIEqA9Ezi9illbg0W2EmmO8vJyd7DUw4OEwtw1rF279mB2dvZxJF1Hk1zUgwt0BHAMiinToQ4LyNguNWO2yHgoIkgCzRGEvwEk7EbHSpCWThKkDZ4JimmYiI2Lu2q1WqtBwhGQWv/mm2+OKUVmDWVlZePUDJi8b0F4FQi4jvYJpcT04FhYTmoGJxzJmK0144GJIAl0UTHruSbQHG1DJ4UmcHJzlrHzM5GBfG7UrmTbbCdXrlx5BIOtn01NCAc1A8ITmpGbm3scbbcjOSITchwMvM2CI4anTwcZpT///POskPFAREhNgCdhh3e0i24lCKGvHnRR0WFplmQIRcj5BMpeweysXr58+VGkNz0KTQgH1wwI8vxzzz1HzaA3dRVt30WG7DsDtUHRCJFHMjBG89jY2NYzZ878GS7yxv379z/wqzr3TQQ69ZsmOGrFmoBOCU1QiggiZIcJDkAOSAJxH8pcXrhw4clly5YdMZlMDXNBggTNFJyBxhUrVnyLPhxHn0kGIfLlkX0nwsdE4Jy3aizUjLPnzv4Z2lL8oGTcFxFoVJCABu3NLc1l7lE3H28G9wnoKBF6lIFuqRyYAvry7Tk5OTVLly49hvOWR2mOpgPJQD8uoA9HuICjj9dwHmCfCfZ5yn1GyBFBj5GljYyObq1vatwd0Osf6PXOeyZCksAbeGdra8sGB50lEz7fPe8T5IAww3yIt8M+f/f4449XYaPVDFMxqhSfc1ALsXFsgrt8GBOjGknX0V9BBjVAakQkgBaaKYtzcHDb6VM/777V1bXhfsm4ZyKwGKVxTWhqPF8xMNC/HQuyzaDXU7pKibtBEhg4IAwsgEFxVFdhCk4sWbLkcHx8fKMaPkxCbcSC21hYWMgF/Bj6yh14gJOHYLc5julA0lCWZioTE7TU4ajd09Xbu+Grr77iZzjuCfdEBB9vdnV1rW9obChzuZxb0GgmGhe3sqenIdhBxa4GFJ+9/bHHHqt54oknjs63JoSD3tT4+HgT9zCcKEi6BhMMSxPcZ3As0wHTTRCFMuItdJfTtfXc2TMVrpF7fwt9RiL4VnZvb6/9QuuFXf0DA9vRoBWNTT5PkMepwDzMJhZANEASjj/55JOVILJJDZoQDpopjLVx1apVB0FGFZKuseMzmyeQhFGyHMZG35ZmSryQcKvrFl3bGV9IiEgENaG7r3vdxUsXXxl0ujaB8Ewk0x6KGSLDdEAeba0fnbuC9eC7RYsWVWVkZJxXkyaEQ2oGyKBmnOQtF3KBoJS4G5SATh+URfAGAe/06y3DQ8Ml9XUNu7p6emZ8C31aIvjyFz+fcOXylV39ff3b/D7f5FvZ7JToWITOKeBUugxNOEFNSE1NVaUmhIOawdshBQUF39hstmMYdsRNn6LyQZkocZDCHXiGa8hV2thIzeiKuGZMSURNTU3a1atX17a1te0cHHBuRp185UV8PkGwr6gi2+UDFR9VVyTxXzANR6rNFWjBSd5OwMLc8tprr42IBqIAdG2pGc8+++xhW7atWm/QX/PTSAXHNjlWn195Jh5MFLKR8sFf2ouMEWhGQ13drkivd05JxC+//PKn9vb2sr6+vu2oSLx3pKcZQp7STIx4/0KYJpEoyGBfqKI4n0A3Ly/MzT2BhfmwxWJp2rt3b1R8ujMU1Ax6U0WFRQezbFnHMNh2jM/HMXKsIEY8bRQCgSDkOym/BfGPhTNQz7/W1tbuvnz58pPIugt3EXH06FGrx+PJHxgYKICg+TSMdU4JkSHI+G3XiTkzEWswXM222b7709InxJoQTZoQDuWubXPhqsIjVmvWSZAgbqEzj2NWzND0QgpCh3WSn1wqwC58TVVVlVlJn8RdRDgcjryxsTF+Uke8ixpMnRrsBD0FHtEQj150qR2qfCL/X/IPWVItjfOxY55t0Ezx4dIGu/0bTDDeCYCZCnBjKvKlDCKB+XBysvkpqJaWljwleRJ3EFFdXZ2BBXo5XLh8nKbOVDlpCpon4S14Yw2x17Js1u+WP5tfhbTm3wMJErxRiENzwcqCwzZbVjW0gTtw3i8T459JJSBLelImEJEPk78yfOG+g4jz588vTUhIKEbFNvrDMxKB1tkJlPNiTbiJteCHgtUFR529vXN6A2+uQM2gN7WmaE1lljWzxu/z/4qxK0/6IjNBWZI0uMNZsDjFmPDLlCyBO4i4ePGiFdrwDC5Ko7oFG4iAoLp54RFdz7BkVhcVFlb6xnyO999//3ejCeEgGbDzDpDxTabVWoUJexOOCl0npcTUoCwhK05uM7RieV1dHT+aNok7iLBarU4wNoDCvCs5ea9lOqBpb2xcbEd6uuV7+7p1h9GQ4/eoCeGgmaJmYMzfWq2Z1XBOOiDpiF9PRFkyQEZuo9HYk52dfcem9g4iNm/e3Ird5D8Q7eQ5LhIqRfAYFrxwaW+YzeYTBUUrD0GT/hAkSEjNKCoo+ibNbD4O23ETyT7KhpByknFFlpzcnfAk/1FUVNQmMhXcQcSLL77YNTo6+k+w3QrT5JamKaxSLlrUnBtpaWk1xRvshwd7Bx1080SBPxCoGfSmijcXf5uenl4Ned1A8hBkJLQjVG6UJeLDCxYsuAQZn9m5c2eHyFBwBxHE9u3bW7CbrISgT+HCfiR5uF5goeGbd06QdD0xMfFvUK//3rhx46Hert4/JAkSJGOof8hht9sPpKSkfELZkBAEF+SF5UPc9OTLcb1YS0/l5eUdQdlW5AcZUnAXEdSKFStW/IDwXxD2MQi+BST0wZu6CXL+npqa+vkLL7zwcU5Ozn8i/dwfmQQJklFRUVFns9k+Li0t/Q9Yiv0Q+v9CXjdBRj/izZDf0aeffvrAsmXL/tba2npLuXQS07pFn3zySRwqyenq6tqIDcgzcE0HwORPHR0dDWB+XPGr5wx79+5dBZv8CWbScziN7EUEbXWDyWR6e//+/XVK2pzggw8+0EM+Cbm5uc/99NNPdnhImZjUF7Oysn5saGi4BRPm/eijj+66gTiDfxokhF9iiMqpShOoRNznnWtECxESJAQkxEEr9HwoNh0BEjMSoRZEGxH3i7vWCA3zA40IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJNCJUAo0IlUAjQiXQiFAJoo6IQMi3gk2FSHlqxu9SI6KRDM00qQQaESqBRoRKoBGhEmhEqATRRwS/hRCBfhF/SEN+K6GIRzGihgifwTAR0Os8IIC/vAQiAjF6/mYF8gIgg3H+pgvjMXodf12DX48d8fu61YSoIcJiMg2nmlLa9Ho9f51F/CRZbGys2DOExcnNkNmc2paSkqLaX/cKR9QQkZeX15331FN/hbDbDQaDPy4uLsbtdovfZMC5iJMMBGrBlaVP5f11yZIlPcGr1Y+oIYI/FuVyuX5JTk6qx6zvxvQfhdD5i4/it99IDkgahjp0m1JMjZ2//nr2nXfeGVQuVz1m+iJbVeHdd98dTzGlODu7bg/FGsTMT4Lw+Ysmnvi4+IG4hPhav8//l8KVq35YvHhxW35+ftR8b7nic0QP+FXPZrM5Bdpg/+X06XVer4e/DBYTHx/fvXad/dS42/1PaI7rww8/JEFcL6ICUUeERGVlpaGlpSWus7NTbzKZdDBXfqwjE2+99RZ/NT5qCNCgQcPdiIn5f8mUtwsfGiECAAAAAElFTkSuQmCC) center/contain no-repeat;display:block}.gui-header .gui-header-cell .gui-header-title .gui-sort-desc{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAB2CAYAAAAz4kaDAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABPcSURBVHhe7V1pU1TXuqa7aQSaHpjBaxRkEKMCMikeoyeVm9ycqAhGcIia5GYwX/IhvyDmD+RDqu6HpJJKVeJ1wFQqZSVVVxETacQBxOiJlibxRBOFpqFpukGGHu/zrN6b0yg0RgF3m/2QlbV7DXuv9T7rHdbe2+4YFSpUhEEj5VGFYDCo+eSTT2KvXbsWq9PptG63O5idnR1YtmyZt6GhwS81iyropDwqQAKQxV68eNESo9M9d/3na7sc/Y6tI6MjLw243BWpKSnxzz//vH316tWeU6dOBUO9ogNRpRH79+83OZ3O6razZ9fPmxdX5vN4V3h8XgPrdLHaEb0u7ieQ1bGqqupERkZGG7RjRHSMAkSNRlAbvvzyy/m37tzaOzbmqff7fAU+vz85EAgkoC5eE6MxBHz+bJ/fWwSy4kdHRzugFS6pu+IRNURkZmYmxxsM63779V91Go0mHyne5/Np9Hp9jFarjeFxrD5Wj/LEMa9Hk7c47w9oxK2jR496pFMoGlFDxJIlSxbaurpeG/WMrfH7/YnUkPj4+Biv1yvqeezxeITmgBiDe3DIOzQ4eKGtrc0pGigcWilXPAYHBxMHXK5CHBohaCx8DbVAaEP4MaCBuTIMuF2FDrc7iQXRgKghAitdh//FxwSCGg3iIYg/JuD3x/CYEYc4xh8o4meNNhCcp/X7Y0O9lY+oIWIyaDXS8EkMjkUIyKA1qgLXEKKaiCcJKhEKgUqEQqASoRCoRCgEUUcE9wxPIqJSIyKRwbpoJEs1TQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQqEQqBSoRCoBKhEKhEKAQRvz3k/fff1/b39+tjY2O1Pp8vkJKS4v3ggw8CUvWc4s033ywfHBz8WKPRlOLjdF+T6g8Ggz8ajca9n3766QWpbE4B2fGLHWPdbremqKjIt3fv3tD3ok6BSSdEAoqLi+P4XauY+KabN2/Wz5s3b0VlZWWgurrasXr16sBcf/d2WVnZfI/HswnjycLH6TSZY7NhzN92dnZ2h4rmBh9//LF+/fr1Cfn5+RXXrl3b1tvb+4+kpKTMnTt3DmzYsGH422+/nXQh36cREgnzr1+//uzVq1f/homvHBsby8Ok3Ki+hJOeX7du3SlcpHPfvn1jqJ8TQpSuEY2NjborV67MW7ZsWRkW6TqMtRxjLRkZGbHExcXd0uv1nYWFhSch2+9BiE3qNo77JvTOO+8suHHjxgsgYSdW4HOBQGABJmVElcnv9y8YHR0tunXrVi7IWTA0NDT2wgsv9E7F8kxCyRrx0UcfzUtMTCy/fPnydizg2uHh4RchtxUw52nIkyC/FK/Xm2+327O1Wu3Ie++9Zztw4MCQ1F1gwoTQQdPa2lqE1b4VHavRKQ3FCfzmYZCgQ70JaRFYfsHlcu21Wq27TKmmMqpj6Ax/PZCE1KxUasE2EPDflA1klwN5mUGCXvp25nlYQCkoqwZZDceOHVsmOodhAhFHjhx5Csyuwqpfgo5kUpTjePxbwZBTi4wkBI68pqW5ZTvM1cq/IhkkwZxqLrO2WOudTudGaMAiFJshIyGLcLlRliAlASQVQcZrv/vuO2r2OCYQcf78+UI4l7+DuWycQKPT6cIJmHAM6EDTQqdroLa9o32nyWQqg52MEw3+Avj888/jU1NTyy60X9w24HRtDmBhQi78tv5xWUlyEjllKSH7zp07fz958mSR9FlgAhE2my0RqpWOTgkgI4YpIoJBnc/vf8pmt9e0tLVtB9ulfwXNIAkI6cusZ87UO/r7XvJ5fU9B5BHnTVlCK8CJJg6ak4wFb5aqBCYQAYfYhb3CVXQYABnIpgmIyLRWqwv4/Qv7enrqzrWfe+I148MPP0yIjY8tO9fe3uDos9d4xjw5kJWesogEyTRRO5zQpCvYW9ilKoEJRGRkZPwcHx9vhZPpQRpXrakRFBdAO51Wp11g67FvPHPuTAM140kkg5pgTk0tbT/X/rKjr+8fMD7cZ+lDCzbyoqUsoRVc3DbIx7p8+fJfpCqBCUTs2rXLDbY6kS6BiEF0jnx21HIQJA2rQoc8x2brqblw8UI9alc8SWYKCysB2Yqr/7xc19PTu8Hn9+XCPAkSBBGRJSUvald6evqltLS0qzU1NX2iQsIEIghsSK4lJyc34yLdUucpwXopPBM2UBuKqHK7uru3tLS27mQ09SRoBknoc/WV/Pjjj9u6u7o3B4OBPMxdzznLMphOVkAQ7bphcZrLy8uvSWXjuI+Iurq6AexIzyLE6sCFHCiakmtWcDVwENQKAhfTBQPBRT32nk0dnR3cj6xgmCcqoxBffPGFAY51+Y2ff6vr6rFt8AX8izFH8QMhnHNIG6AVovWUQLNgDxZ4BzaZl7Zs2TLBPxD3EUEUFBT8q7Ky8oDFYvm/GE1MX0j5QheTk5+Cl1QyiGP5hzRAApNOEwzm2bptWxAS74ADL6F9RXVU4bPPPjM6HI7i3377rb7r9u3NmGEB5hvLOXKuCFRC8xcpKGRC2ciyQkjLoyAkZYO5P56fn99YXV19g+e+F5MS0dDQMASz0lpaXn7IYDQ046QgA+fE1UMXwSceI1Eb4KnFwOC8RM6flwEx2oA/kIuQuOann36qj4uLK44mM0VNGBsbW9aDaPCPP/7YBEHnY2466adzQjOFGEiGKAsVytKRjwP4s6UkW74vLCw8kpube2bjxo2T/vjUpEQQdNzzMzNbSkrL95tM5mMQeB/1S7aFzEUSn6aEFuqb1w2f0dHRsZPRVDRoBhZMktvtpiY0/P7775tRVIA0pawEZHlI8sG8A1qdzpaaltqUV5B3CE76NEwSTf2kiHjy2traway0tNay8tJDSdAMnFv4DDjykLGiGQo1nRTSwPgsI7erq2tTZ2dnAzVDyT4DkV5iX1/fchBQd/PmzQ3wk/mYq5ZrUGpyH4QspITgkUUBBKq9yWbzD0uLln6VkZrR9sorr0T8GbbILAMwU675mfNb4On3m5Mtx0gG42ERLYmhRaICFwhFFHAZwdzbt2/XXbhwYQfspSJ9BjUBc5M1oRbDzkMxf9eOUwg1mgRyHXMsugBye5ol+fjTS58+hLm2vvrqq1NqgoxpiSCoGSaDyVpVueqgyWw84fX5HBCsMFORjBNXCIgTSa/Xs2HunTt3NiMMVJxmUBP6+/tXgISXoQkbMeY8PplEFX/XTsxlKrCGskCbgM/v7TWaLSdXrlzZmJWVdXo6TZDxQEQQ9BmZaWnQjKr9yRbzMVy5F6sHgcHUA+TghOYAaMvP1IwcOL8t7e3tIppijC4aPEZQE+C/Sm7cuFHPhYJhMkQV5ogkcB5MUwIyQMTkB3G21OS046Ulyw9iv9BaX1//wL8K+cBEENQMOvDVa9YeSDZbmmAPHaBh2odCJENeVejDGeXAgddcvnyZt4+LH6eZkjUBWsDoiD4hD+PljTaxeGjzI5IAoN4fq9X1Wizm5sqKikZDvKH1tddec6E8st0Ow58igiAZCIWsK0tLDxgSEk9Auk4MelwzwnM5SdoQXi7MFBx47S+//LIVn59+HKEttRHjWvbrr79uwcLYiHHQJ4zLhGPm2KUxi0Tck/MWtSPBEH+yeHlxI0zwnyaB+NNEEG+88cYgLmhdtWrV/8K8MLR1YMVP0IxwuyqbJ5kM5kg0U4vhwGuvXLmy3ePx0EzNGRnUwsHBwdLr169vhTnaBIEXYEjjDw2kMY6PnQifE4Fj3sXrMxqNTVXlVQfR1vowJBAPRQRBMrBlP0UysG0/ARUewKAEGRwwJ8AkT4jpXqCM+4zF2PTVwoFvx/HyubhRSBJw7eKrV6++jA1bDa6bj2Jx2+LeccpjZ6KZCiPCj8/9iYmJzWVlZYfoE95++2032v1pEoiHJoLgDtxsNresXbt2P1YFQ9t+ksHfmOaA5TQNtHCUebDPtW1tbTtwvtLZjKZojrBAVl68eHFrV3f3Jlyb+4RxTZgM8jy4wKQ9FHxzoM9gMDRVVT2aJsh4JCIImYw1a9aQjCYUOTFIsc94ABJkzaFm5Njt9rqzZ89uxy50Vp5nUBOGhoYECbhWjc/rXQzhxXIM04FzkebkR59+kNC8evXqA5hzy6NogoxHJoIgGRhYS3V19X6QchyrTOwzOHAMUGo1ObjKpJXGsTCaqj1z5swO3g6ZSc2gJmBIZdzDwBzRMS/GNWORi+tHAucgmSU/NmzCJ2CuB4eHh63YJ0z/3OYBMCNEECQDvuIUNQMOvAmDE5rBiUaCTBTbgTiGjYuwWjefP39eaMZM+AwSOjY2tvLSpUtbe3t7+bZFLq4rHuqQBHkMU4Ht4MypCQ4suBM0RyizvvvuuzNCAjFjRBB79uy5K2uGxWI5hlXEp1ARB0ohSCov/0o7yViIVbvZarXueNRXdXAuDVbwSmhZA0nguTEu8VCH1+RKn44I1NMxY59gOVFZWXkY/awzYY7CEdFJPQyOHDni2b17d3dKSooLZsaAsPQ/MOAEuDtMVxO6HYBEIciQTYNMCNpzR2seHR2d73K5YgsLC51ut1s/MDDwEpqJN/3C+4cDXZnRLNopuOPHj7sRou6Ab9gGohehXJDKdjzHBI0QGUf579WDYz9G50iCJlRUVAjHPNMkEDNOBEEyXtz9YndORo7b7rAbPF5vFiadGJoxxo8s9NAkJJDwREg5Mo3x7t272dj5JmdlZS0CscUoT0E5nTvb3AeSCfDUw0uWLNE5HI7/xH6hBtcX5oiV0vkFxDH+Gx+PlnXiCEQF/BqttteYlNQMEg7B9J5G2D7jJBD/HtEs4H8aG5PiXK51p8+e3jk8OPy8RqdNR/HE+zeYUqRBQIB+CLcfIfEANGQB+sSjP++IinqaFoKmhuC5UYduQU9cXNxtfE6CJqSgbErzJqTKoZAMJOnc4CbQk2AwNq+uqDiMslnRBBmzSgTBx43eQOCZixc6dvY7nf+FojTG4rLgaAimGwSEGUB7H8jgm3TckQuBkUgKnjmTXCYhiMjLx2gMZZH3CeIPY5HOA+J4K7s3xZLctKJ0xeGHuXf0ZzGjznoyiNshWE0V5RUHeAsdM+mVV50s0EiQBK3FDpZvyAltklasEBo/k1QeE/J52RZ9qAXiBl4ksJpteA7kAQTdPUaTma/Qixt4r7/++sBskkDMio+4F0ePHhUOPD013TXgdCbC7s/HhMVb5pi01CoyKHAmmiLmMvhZFj4ht5GjIpkgOZ8MrKNvQB/xUMeSYjmxsrj0MIi0kgSp2axi1jVChrQDP11SXMKHS01YX70QGm/bSi0mB4UsC5a3TngsC13O7xUy+8A/CFJYx8+RwDGgbUCr09pMScaTRUuLjvAZ81yRQMyJRshANDW2Y8eOHnNKqmtwaCjB4xmjZhgirVYKk4kEEOGrnAJmHctkrZDL5HoSSES6BpSSHXvS0zKa8wsLG7PTM1sxzgd+qDMTmFMiiK+//nrs9VdftVuSTa7evl6j1+PJhGEwSNXjCBf4ZEKUBc86pnAywhHed7LzAPAKQZs52fRDYdHSwwvnzz891yQQc04EQc2oq62zZWRluFxOVwI3bihOZF24sLiyZUHLCD8OJ2sqyPX3nksiDFnQlpaR0bQkv7AxMz19zjVBRuRZzDIaGxvN2Kz9rb29fTc2Xc9iRWeynEKShTydoB8Uk5wTH4NdJpOpZenSpQdzcnLaIr13NNt4LBohg5qxZ88ecTvE6XQmjIyMZKNY+AyZgJkigpD9DLUDpHfBITctXrz4SHZ2duu2bdv6ReVjwpxFTVOB0ZR4vbO09LDFYjmJVcoXdMefZ8iO91HAc8jaIOEOIrgfFi5c+HVeXt60L3/NBR6rRsigA2c0lZyc7BoYGIiHZmRAcEkgQ0juUbVC7o9z8l2s29CEZpBwpKCg4LGao3AogghCJiMjI8MNM2UAGcKBQ3CPbJskbSAPNpKQn5//FUzSGaWQQCiGCIJkwFZTMwYdDofR5/Nlwaw8Mhk4RwDa1QNf9D1M0WE4ZkWRQDzyapsNfPPNN8aenp51nZ2d210ul7hRiPRQY4UW0MlQE04UFhZ+xXdRleAT7sVjd9aTgS+xQStaS0pKDvEhfSAYcDD4JBU0MyLHH8rFXVMm+Zh14rYJc3rpmJheo9H4A0zRV3DQinDMk0FRpikcDG3feustG4TocjgdCSPY9Gm02gQIefxZBOUsjiWCeOOOVkyQwruoOq3dZDI3Pb1ihdis7d69+7GGqJGgSI2QId5CN5msVRVVB81Gk3gLHYIPyre95RuATCSEZVKd+PcJRnPSyZKVxY2mrMQHfiv7cUHRRBB8Cz02Nlb8+4z01LRjOo22D04csg89+JeJkI+9Xm8AbeyZmRnHly8vPegd9ba+Uf+GokkgoNTRATrwXqfzmVarddfI8N1nYYRMMEV8V0meA/3BMGhxJyYmfV9dXXUwThd3erafrM0UooYIorGxMcneb1/Vfu7Cc8FAoHLMM7bc6/OKf1+h18fdTYiP/6ffH+isqqg4FRcXd3Y2nzHPNKKKCILfsGaxWEz6+Pi1rS0ta/R6vbhR6PF67eufeebM6OhoK0Je9759+/hCWFSQQEQdETKgHfzqNj6T1t69e5df7BXglxhCC3zRRIAKFSruR0zM/wMYBpbiISU/xQAAAABJRU5ErkJggg==) center/contain no-repeat;display:block}.gui-header .gui-header-cell .gui-header-menu{display:-webkit-box;display:-ms-flexbox;display:flex}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper{position:relative;right:0;padding:16px;height:16px;width:16px}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:none;position:absolute;top:8px;right:8px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABj0lEQVQ4ja2T261UMQxFV2znxdwvyqASOpgzf0jUQC1UQSkUgUQFCHHPnCQOPzeH+R8sRZHysLaXt8O2bT9ijC8hBFFVQgiUUmitcblcXFUZYwCQc8bMfIxBjJHW2m8D3o8xXswMgDknvXfM7PwoIsw5AWitEWNcd8mAz6pqIQTcnRgjMUYA3J0QwrkASimIyErQeTbC7Xb7JCICYGaICCklzIw5JyKCqhJjRFXJOTPnJKVECMHN3b+KSBERROSU6u6oKiklFshHLsdxMOfczcx+ikgBGGOQUmLOSQgBVT3BvolkjIGI0HtHRPanGTwdYdu272ZWgBNUjBEzo9bKvu/knFHVs81rb63tBnwAirufta94fX0lpQT849B7J+dM7x13383dv4wxLMZ4gltGWQ5cHZlzYmYcx0FKCXf/D0a6Xq8fxxip1irLsrXW1UJXVWqt9N65XC7s++5Lbe+925zzWynlHcCaxiXdzFBVWmuICPf7nfXurcRfpqp/eu/ySPdxCtf5mtaU0gKIiBx/ARsJ0yTj9LIKAAAAAElFTkSuQmCC) center no-repeat;height:16px;width:16px;opacity:.8}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper:hover .gui-header-menu-icon{opacity:1}.gui-header .gui-header-cell:hover{background:#e6e7e8}.gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#e6e7e8}.gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:block}.gui-header-bottom .gui-header{border-bottom:0;border-top:1px solid #d6d6d6}gui-structure{background:#fff;box-sizing:border-box;color:#333;display:block;font-family:Arial;font-size:14px;position:relative}gui-structure *{box-sizing:border-box}gui-structure gui-structure-header{display:block;height:100%;width:100%}gui-structure gui-structure-header gui-structure-header-filters.gui-header{height:32px}gui-structure gui-structure-header gui-structure-header-filters.gui-header .gui-header-cell{padding:4px}gui-structure gui-structure-header gui-structure-header-filters.gui-header .gui-header-cell input{position:relative;box-sizing:border-box;font-size:13px;padding:2px;height:100%;width:100%;border:1px solid #d6d6d6}gui-structure-top-panel{display:block;padding:8px;border-bottom:1px solid #d6d6d6}gui-structure-search-bar{display:block;width:60%;margin-right:auto}gui-structure-search-bar form{display:-webkit-box;display:-ms-flexbox;display:flex;background:#fff;position:relative}gui-structure-search-bar form .gui-search-icon{position:absolute;top:6px;left:10px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEgSURBVDhPrdM9SwNBFIXhVTF2kkbSSiCF2GkRlBR+kMJGrO1t7WxsLEQQC8HCThQRLETIT4gEtNQ6aCUKYgpBLAIW+p47E5LsJuugHniYuTB7d2aZjWKZwyWe8OV94BQFpGYE23hBFTOYQB4rOIEabqFvdqEGC1b1zjSa6NloFmqwaFV6itCOEker4MhNg3IMHa8rr1h206Bo7ZubtqPtjbtpULRWz4xZRQb9OOrHkLTWZvxoTR5RsiosU7jHs1U++7hz0x8zjBvsWNWRLD6xblV6NtBAzqpYdN31sfasSkYvOoBeltj1gB8V3Uj9N3rgHA94hy5YGfqfatjEFebRN6s4xDV0/gssQc2VNWjX+sf+lH9vdDZk5e9yi3oURZPfGPU3vvdwgY8AAAAASUVORK5CYII=);width:17px;height:17px}gui-structure-search-bar form input{border:1px solid #d6d6d6;border-radius:4px;padding:6px 6px 6px 38px;height:100%;width:100%}gui-structure-container{display:block;height:100%;overflow:auto;overflow-x:hidden;position:relative;width:100%}gui-structure-container .gui-structure-container{box-sizing:border-box;height:100%;position:absolute;width:100%}gui-structure-container .gui-structure-container .gui-content{height:100%;position:relative}gui-structure-container .gui-structure-container .gui-content .gui-row{position:absolute;width:100%}gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:#ecedee}gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#d0e8fb}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell{border-right:1px solid transparent;box-sizing:border-box;line-height:1em;overflow:hidden;padding:0;white-space:nowrap}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-button{padding:0}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-cell-boolean{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-checkbox{position:absolute;top:4px;padding-left:22px;line-height:0}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-chip{margin:0;padding:2px 8px}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-badge{padding:0}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-input{background:0 0;font-size:14px;border-style:none;border-radius:0;padding:0}gui-structure-container gui-structure-cell{display:inline-block}gui-structure-container gui-structure-cell>span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px;height:100%;width:100%}gui-structure-container gui-structure-cell .gui-cell-edit-mode{border:2px solid #2185d0;height:100%;padding:6px}gui-structure-container gui-structure-cell .gui-cell-edit-mode gui-boolean-edit{margin-left:calc(50% - 11px)}gui-structure-container gui-structure-cell .gui-cell-edit-mode input:focus{outline:0;box-shadow:none}.gui-structure-empty-source{display:block;padding:42px 8px}.gui-vertical-grid .gui-structure-aggregation-cell,.gui-vertical-grid gui-structure-container .gui-content .gui-row .gui-cell,.gui-vertical-grid gui-structure-header .gui-header .gui-header-cell{border-right:1px solid #d6d6d6}.gui-vertical-grid .gui-structure-aggregation-cell:last-of-type,.gui-vertical-grid gui-structure-container .gui-content .gui-row .gui-cell:last-of-type,.gui-vertical-grid gui-structure-header .gui-header .gui-header-cell:last-of-type{border-right:0}.gui-horizontal-grid gui-structure-container .gui-row .gui-cell{border-bottom:1px solid #d6d6d6}.gui-horizontal-grid gui-structure-container .gui-row:last-of-type .gui-cell{border-bottom:0}.gui-rows-even .gui-row.even,.gui-rows-odd .gui-row.odd{background:#f7f8f9}gui-structure-info-panel{box-sizing:border-box;background:#f2f3f4;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:0 6px;width:100%;border-top:1px solid #d6d6d6}gui-structure-info-panel p{margin:0}gui-structure-info-panel p b{font-weight:700}gui-structure-info-panel div{color:#333;cursor:pointer}gui-structure-info-panel div button{background:#999;border-radius:50%;color:#fff;cursor:pointer;font-weight:700;font-family:\"Comic Sans MS\",cursive,sans-serif;width:16px;height:16px;line-height:14px;padding:0;border:1px solid transparent}gui-structure-info-panel div button:focus{outline:0;box-shadow:0 0 4px #999}.gui-structure-info-modal{box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:32px;font-size:16px;font-family:Roboto,sans-serif}.gui-structure-info-modal .gui-info-title{font-size:22px;margin-bottom:12px}.gui-structure-info-modal .gui-info-version{font-size:18px;margin-bottom:32px}.gui-structure-info-modal ul{list-style:none;margin:0;padding-left:10px}.gui-structure-info-modal ul li{line-height:24px}.gui-structure-info-modal p{font-weight:700;margin:0 0 8px;color:#333}.gui-structure-info-modal p:nth-child(5){margin:8px 0}.gui-structure-info-modal a{text-decoration:none;color:#2185d0;margin:0 0 8px}.gui-structure-info-modal a:hover{color:#59a9e5}.gui-structure-border{border:1px solid #d6d6d6}gui-structure-aggregation-panel{background:#f2f3f4;display:-webkit-box;display:-ms-flexbox;display:flex}gui-structure-aggregation-panel.gui-structure-aggregation-panel-bottom .gui-structure-aggregation-cell{border-top:1px solid #d6d6d6}gui-structure-aggregation-panel.gui-structure-aggregation-panel-top .gui-structure-aggregation-cell{border-bottom:1px solid #d6d6d6}gui-structure-aggregation-panel .gui-structure-aggregation-cell{font-size:14px}gui-structure-aggregation-panel .gui-structure-aggregation-value{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;line-height:1em;height:30px;padding:8px 6px;overflow:hidden}gui-structure-aggregation-panel .gui-structure-aggregation-value div .gui-math-symbol{position:relative;top:-1px}gui-structure-aggregation-panel .gui-structure-aggregation-value .gui-mean,gui-structure-aggregation-panel .gui-structure-aggregation-value .gui-median{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}gui-structure-aggregation-panel .gui-structure-aggregation-value .gui-mean span:nth-child(1){position:absolute;top:-15px;left:1px}gui-structure-aggregation-panel .gui-structure-aggregation-value .gui-median span:nth-child(1){position:absolute;top:-8px;left:1px}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOut{from{opacity:1}to{opacity:0}}@keyframes fadeOut{from{opacity:1}to{opacity:0}}.gui-loading{-webkit-animation-duration:.2s;animation-duration:.2s;-ms-flex-line-pack:center;align-content:center;background:rgba(255,255,255,.8);border:1px solid transparent;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:0;opacity:0;position:absolute;top:0;width:100%;visibility:hidden}.gui-loading gui-spinner{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.gui-loading.gui-loader-hidden{-webkit-animation-name:fadeOut;animation-name:fadeOut;opacity:0;visibility:visible;z-index:-1}.gui-loading.gui-loader-visible{-webkit-animation-name:fadeIn;animation-name:fadeIn;opacity:1;visibility:visible;z-index:1}.gui-header-menu-tab .gui-header-item-active{font-weight:700}.gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#333}.gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#ecedee}.gui-header-menu-tab .gui-tab .gui-tab-content{padding:0;width:225px;box-sizing:content-box;border-width:1px 0 0}.gui-header-menu-tab .gui-header-menu-column-move{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:0;color:#333}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-left{cursor:pointer;padding:12px 12px 12px 32px}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-left:hover{background:#ecedee}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-left:hover::before{opacity:1}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-left::before{content:'';display:inline-block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAASElEQVR4AWMY2cAdiA0oNSQfiP8DcTo1DOkfHoaEQw35DcT7CeBsfAalQw36TIRBzYRc1Q81LJ8YLwx9w8LJ044ZAQ4MIxcAAAffIk95XG/oAAAAAElFTkSuQmCC) 0 0/contain;height:16px;width:16px;left:10px;opacity:.6}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-right{cursor:pointer;padding:12px 32px 12px 12px}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-right:hover{background:#ecedee}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-right:hover::after{opacity:1}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-right::after{content:'';display:inline-block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAUUlEQVR4AWMY2cAGiN2pYVA7EP8H4nxKDWIB4tW0MCyYWob9JsawbCDejwcfhrrqNzgS8IBmkAYC+Dc1vNgPNaR/eBhSDjeEQuAPxOkMIxcAAK59IwsNdxXLAAAAAElFTkSuQmCC) 0 0/contain;height:16px;width:16px;right:10px;opacity:.6}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container{border:none;border-radius:0}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#ecedee}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover .gui-dropdown-arrow{opacity:1}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu{width:125px}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item{display:-webkit-box;display:-ms-flexbox;display:flex;color:#333;background:#fff;padding:8px 8px 8px 12px}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover{background:#ecedee}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover .gui-sort-title .gui-sort{opacity:1}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title .gui-sort{display:inline-block;height:16px;width:16px;opacity:.6}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title .gui-sort-asc{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAFnElEQVR4Xu2dO6slRRSFvxF8gIiZiI9ERgMFB00MTNRf4DMTTUxEMBcRFRFzUTMDxUwZnD8wGoggqIyCBiomPjFTUHyAypY+eBjuub27q6qratfq7HJ3n+5a6+u9uoruc06gbWgFTgw9eg0eATA4BAJAAAyuwODDVwcQAIMrMPjw1QEEwOAKDD58dQABMKwCVwG3wn9rIR8CP4yoxIgd4ErgFeDuyXzz/R/gDPAo8ONIIIwGwEngLHDtAZO/Ae4CvhoFgpEAMPPfBa6eMfdb4M5RIBgFAK/5OzaGgWAEAJaaPxQE0QFYa/4wEEQGINX8ISCICkAu88NDEBGA3OaHhiAaAKXMDwtBJACuB95xzPNT13i+A+6Isk4QBYCtzN/BEwaCCABsbX4oCHoHoJb5YSDoGYDa5oeAoFcAWjG/ewh6BKA187uGoDcAUsy3hz68411Suz+t7G524BUkde6cY/8U878HXgaed57Ik8BjgD02tnTrCoJeAEg13x7wuBl40+nmA8Cn08JSaAh6AMDMtyd51hhhV76Z/wVw/0IA3gJuSITAjv2lE7oqZa0DkMt8E3cNALZfaAhaBiCn+SkAhIagVQBym58KQFgIWgSghPk5AAgJQWsAlDI/FwDhIGgJgJLm5wQgFAStAFDa/NwAhIGgBQC2ML8EACEgqA1Ayhx7f5HHs4iydh1g7rNTx2CPl1VbLKoJQKpwuxW+OYN2/y8FQGonMJCrQVALgK3NLxUB+/CljqkKBDUASBVq6ZW/RQfYHSN1bJtDsDUAqQKtNX+LDtAlBFsCUNP8LQHo6p5gKwBqm781AN1AsAUALZhfA4AuICgNQCvm1wKgeQhKAtCS+TUByAFBys3vseskpQC4GPgIuMm7SrNXt3SFz3uIkgtBnnNIuSA+m77T8E/PgZbUlALgGeDpJScy1ZYyv3YHyDFFNE2fXaFplQ5wDji18GRLmt8KAClxYJreslDT2fISHeAC4Hfgwtmj/19Q2vyWAFgLwV/AJcDfC3SdLS0BgB3UXo7wPsa9hfmtAbAGAtP0mllHFxaUAuA0cI/jXLYyv0UAlkJgmt7n0HRRSSkA7O7fZgE2Gzi0bWl+qwB4IfhjmgV8vshdR3EpAOzQjwAvHYDApjX3Tm/sOE4zS0ntaeBxg7Apol3hR02bzXx7T/HVLCqc9yElAbBD3Qg8B9wGXAGY8W8DLwDZ57QzArUMgJ36RcAT09fYGwg/AR8ATwHZr/ydVqUB2PfEZgdZ72AXXhGtA1BFqy0BWOhX9vKeAMg++EMfKACOVsZeD7e3g8NvAkAAhId8N0BFwBFWqwOoA6gDHKGA7gECYqEIUAQs+pIozQKCdQF1AHUAdYDzGdAsQLOAYI3+8HAUAYoARYAiwNfwtA7g06mrKkWAIkARoAjwNS1FgE+nrqoUAYoARYAiwNe0FAE+nbqqUgQoAhQBigBf01IE+HTqqkoRoAhQBCgCfE1LEeDTqasqRYAiQBGgCPA1LUWAT6euqhQBigBFgCLA17QUAT6duqpSBCgCFAGKAF/TUgT4dOqqShGgCFAEKAJ8TUsR4NOpqypFgCJAEaAI8DUtRYBPp66qFAGKAEWAIsDXtBQBPp26qlIEKAIUAYoAX9NSBPh06qpKEaAIUAQoAnxNSxHg06mrKkWAIkARMHIE3A685+xZVvu+s7brspG+KvZS4BfAfr3suM1+2ewy4LeunXWe/EgAmCSvAQ/NaPM68LBTv+7LRgPgcuBj4LoDzn09/UTrz9076xzAaACYLAbBi8CDe3Fgbf8N4HFgGPNNjBEB2F0bdk9wavrjE+BX50UTqmxkAEIZuXYwAmCtckH2EwBBjFw7DAGwVrkg+wmAIEauHYYAWKtckP0EQBAj1w5DAKxVLsh+AiCIkWuHIQDWKhdkv38BCBOikK5+TTcAAAAASUVORK5CYII=) center/contain no-repeat}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title .gui-sort-desc{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAFcElEQVR4Xu2dPatcVRSGnwhRQUIqwc8mqIVC/ECwsFH/gEk0nWhjpZJeFFREf4AoNjaKnSL+Ak0hgo2EgBZGbJKIYJWA4gcksmAGhuvcO+t87H322us97aw7s9f7PrPec/acO3MIHakVOJS6ezWPAEgOgQAQAMkVSN6+JoAASK5A8vY1AQRAcgWSt68JIADSKnAL8NCq+3PAHxmVyDgBjgLvAc8BN6xMvwZ8CpwBrmQCIRsAZv73wLF9TP4FeCQTBNkA+Bh4fsc7/BPghSxTIBMAlvlXN8b+fh5bHBwB/swAQSYAHge+cZpqtd86a0OXZQLgWeAzp1ungc+dtaHLBMB2+wRAaKy3L14TYIsumgCaAB2+1zUB3KZqAmgCuGGJXqhzAJ0D6DJwLwOKAEVA9MnuXr8iQBGgCFAE+AaGdgJ9OoWqUgQoAhQBigDf0FIE+HQKVaUIUAQoAhQBvqGlCPDpFKpKEaAIUAQoAnxDSxHg0ylUlSJAEaAIUAT4hpYiwKdTqCpFgCJAEaAI8A0tRYBPp1BVigBFgCJAEeAbWooAn06hqhQBigBFgCLAN7QUAT6dQlUpAhQBigBFgG9oKQJ8OoWqUgQoAhQBigDf0FIE+HQKVaUIUAQoAhQBvqGlCPDpFKpKEaAIUAQoAnxDSxHg0ylUlSJAEaAIUAT4hpYiwKdTqCpFgCJAEaAI8A0tRYBPp1BVioCFI8B+pNF+kWupIxIA1bQq/WXRDwBvA48BtwI/Al8C7wL/VCahdQBuAl4FTgD3A78D3wGvr3QrIldJAF4E3gessb3HD8Ap4KciXW1/0pYBuA/4ArA3zN7jb+AV4KMSWpUCwBqxn2i98YBF/wo8WRGCVgEw878G7jhAK4PAftLWJuisRykAjOaTjpXWhKBFADzmr2U0TZ9xaDqopBQAl3cQvbnIWhC0BsAQ800v0/SuQe46iksAYGewfwGHHa+/LqkBQUsADDXfdPoXuHnuK6kSANhizwEPDgDASktD0AoAY8xfa/rwQE13lpcC4E3gjZ2v/v+CkhC0AMBY800p0/StEZoe+CelALCzf7sK2HZZs6uHUhAsDcAU8+2y2a4CZt87KQWAmTyl4RIQLAnAVC2eAC7seueMebwkAK1BsBQAzZpvBpUGoCUIlgCgafNrAdAKBLUBaN78mgC0AEFNAEKYXxuApSGoBUAY85cAYEkIagAQyvylAFgKgtIAhDN/SQCWgKAkACHNXxqA2hCUAmCK+fYJn90TUWSTx7MxVGMfYNc67gXODvj4ePP5huwYlgAgtPktTIC1mTUgmBuA8Oa3BICtpTQEcwLQhfmtAVAagrkA6Mb8FgEoCcEcAHRlfqsAlIJgKgDdmd8yACUgmAJAl+a3DsDcEIwFoFvzIwCwhsD+ceLOXRsKWx7f3CcYA8BU8+1Onp9HrLvan7SwEeRp1i4Rp0JwHAZ9P8B5x3/s7Ld22+Fr3vwoE2Bzs2gKBB8A73hoA14DXh65OxnG/GgATI2D6wNugRtSu8lUKPMjAjAVAucAGFUWzvyoALQIQUjzIwPQEgRhzY8OQAsQhDa/BwCWhCC8+b0AsAQEXZjfEwDWyz2rO4vG7BgOOe2/tLqNq+kdPm9DUXYCvf2UhqAr83ubAGtISkHQnfm9AlAiDro0v2cA5oSgW/N7B2AOCLo2PwMAUyDo3vwsAIyBIIX5mQAYAkEa87MBsIbgK+DufTYWLgJPtX4bl3dTxFPX20aQp+fbgA+BpzduELEbQOxr7F8CfvM8SS81GQFYe3c78Chg5tt3GtoNpOmOzACkM3tbwwIgOQYCQAAkVyB5+5oAAiC5Asnb1wQQAMkVSN6+JoAASK5A8vb/A4djo5Dd1KQLAAAAAElFTkSuQmCC) center/contain no-repeat}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-header-item-active .gui-item .gui-sort{opacity:1}.gui-header-menu-tab .gui-header-menu-item{display:block;cursor:pointer;color:#333;padding:8px 12px}.gui-header-menu-tab .gui-header-menu-item:hover{background:#ecedee}.gui-header-menu-tab .gui-checkbox{width:169px;margin-left:12px;padding:8px 12px 8px 32px;color:#333}.gui-header-menu-tab .gui-checkbox label{display:inline-block;width:inherit}.gui-structure-menu-column-manager{color:#333;display:block}.gui-structure-menu-column-manager>div:hover{background:#ecedee}.gui-structure-menu-column-manager label{margin-bottom:0}.gui-align-right{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:right;width:100%}.gui-align-left{text-align:left;width:100%}.gui-text-highlight{background:#fff799}gui-function-view{height:100%;width:100%}gui-function-view div{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}", "gui-structure-paging{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:4px}gui-structure-paging>*{padding-left:16px}gui-structure-paging gui-structure-paging-select span{display:inline-block;margin:0 6px 0 0}gui-structure-paging gui-structure-paging-navigator button{margin-right:6px}gui-structure-paging gui-structure-paging-navigator button:last-of-type{margin-right:0}gui-structure-paging gui-structure-paging-stats span{display:inline-block;margin:0 2px 0 0}gui-structure-paging gui-structure-alternative-paging-navigator{display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px;line-height:34px}gui-structure-paging gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}gui-structure-paging gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-page{display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}gui-structure-paging gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-visible-page .gui-paging-page{display:block;cursor:pointer;padding:0 8px}gui-structure-paging gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-active-page{font-weight:700;color:#333;box-shadow:0 1px 0 0 #333}gui-structure-paging gui-structure-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0}gui-structure-paging gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}gui-structure-paging gui-structure-alternative-paging-navigator .gui-material .gui-button{padding:2px 16px}gui-structure-paging.gui-structure-paging-bottom{border-top:1px solid #d6d6d6}gui-structure-paging.gui-structure-paging-top{border-bottom:1px solid #d6d6d6}", "@media (max-width:500px){gui-structure-paging gui-structure-paging-stats,gui-structure-paging>*{padding-left:4px}}", ".gui-header{display:-webkit-box;display:-ms-flexbox;display:flex}.gui-header .gui-header-cell{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.gui-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.gui-content .gui-row{display:-webkit-box;display:-ms-flexbox;display:flex}.gui-content .gui-row .gui-cell{display:inline-block}", ".gui-cell .gui-checkbox{display:block}.gui-cell .gui-chip{margin:0;padding:2px 8px}.gui-cell .gui-input{font-size:11px;display:block;padding:2px 4px;width:86%}.gui-cell .gui-button{padding:2px 8px}.gui-cell .gui-cell-number{display:block;text-align:right;width:100%}.gui-cell .gui-cell-boolean{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;text-align:center;width:100%}", ".gui-material .gui-header,.gui-material.gui-structure{font-family:Roboto,\"Helvetica Neue\",sans-serif}.gui-material .gui-structure-header .gui-header{font-weight:700;color:grey}.gui-material .gui-structure-header .gui-header .gui-header-cell{border-right:1px solid transparent}.gui-material .gui-cell .gui-badge,.gui-material .gui-cell .gui-button{padding:0}.gui-material.gui-vertical-grid gui-structure-container .gui-row .gui-cell{border-right:none}.gui-material gui-structure-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0;color:#333}.gui-material gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-material gui-structure-alternative-paging-navigator .gui-button:disabled{background:0 0;color:grey;opacity:.4}", ".gui-dark .gui-header,.gui-dark.gui-structure{background:#383838;color:#ccc}.gui-dark .gui-structure-border{border:none;box-shadow:5px 5px 10px 2px #1f1f1f}.gui-dark .gui-structure-header .gui-header{color:#bdbdbd;border-bottom-color:#666}.gui-dark .gui-structure-header .gui-header .gui-header-cell{border-right:1px solid transparent}.gui-dark .gui-structure-header .gui-header .gui-header-cell .gui-header-title .gui-sort-asc{background:url(data:image/png;base64,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) center/contain no-repeat}.gui-dark .gui-structure-header .gui-header .gui-header-cell .gui-header-title .gui-sort-desc{background:url(data:image/png;base64,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) center/contain no-repeat}.gui-dark .gui-structure-header .gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA6SURBVDhPY9y7d+9/BgoAE5QmG4BcYAFlI4N/UJr2AOQCMyibLDA4ApEiL1DFBUM8DCgGQz4hMTAAAD+tGg2EbfdcAAAAAElFTkSuQmCC) center no-repeat}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover{background:#525252}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#525252}.gui-dark .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#ccc}.gui-dark .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#525252}.gui-dark .gui-header-menu-tab .gui-header-menu-column-move{color:#ccc}.gui-dark .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-left:hover{background:#525252}.gui-dark .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-left::before{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEnSURBVDhP3ZI9ToRAGIZhZNigRnFtlsKIiVrYmthaUHMAqz2FXsFzUEHDCQyFxTa7J7CSZoOJiYQC3TAs60vymUiGWX86fZoBXnh4Pwbt/6LT2kuSJIM0TSeu6557nrf2XkarBCS7eZ5nrSTLske6rKRXBIlbluV8DyyA4zhjipRIdSGxIHneAm/AsqwTjDWnWEmnESSHRVE8tZIVgOTqO5KWTqM4jh9s2z6l0y/5vAGdRmiwSYc/ptMIo91goltd15kQYhmG4XYQBAuK19L3sS8gueOc79R1vayq6tL3/QnFSqTtx9xTSK4hKA3D2DBN8z6KoiOKlUiNPkAz3jTNK2PMQDMB6QgveaFYQvln4yEByQFkFRry4XD/mKLfM53Nzujwz6Bp74BLdGY/IYqHAAAAAElFTkSuQmCC) 0 0/contain}.gui-dark .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-right:hover{background:#525252}.gui-dark .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-right::after{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAEuSURBVDhP5ZK/S4RgGMc9U7kwEocGOSKagojGlmiSFkH6L/oT+n9ucW1wdmiI6I649m4wCmzJFw/KH/lq35PnIDtR1+izvI9+4eP3eVH4e0ym00MaWxnQ2chs9njCWHjPOc9EUdwzTfONojVEOhsJw/f5F4BEKYrixfM8maI1WkVoEDLGDvI855BJWZYxyC4prtG62grXdU8VRbmRJGkDBReyLJ/jIxOKK1obrbBt+9ZxnC1IOCTbZVneodkVxRW1RghLGjtJ0/TVsqxdeuzXqIk4jj9prOh1R0vQ9gIrXQ9AFEULTdOOcU/PFPcTQTJCg6dN8AFUVd2BJKa4onM1SM6SJJn/kBz9lizpFAVBMB4C/E8MkhEkPkU1OkWGYez7vv+g67oBSUSv/w+C8A21tYGodvSadQAAAABJRU5ErkJggg==) 0 0/contain}.gui-dark .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container .gui-dropdown-menu{border-color:#666}.gui-dark .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#525252}.gui-dark .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item{display:-webkit-box;display:-ms-flexbox;display:flex;color:#ccc;background:#383838}.gui-dark .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item:hover{background:#525252}.gui-dark .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item .gui-sort-title .gui-sort-asc{background:url(data:image/png;base64,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) center/contain no-repeat}.gui-dark .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item .gui-sort-title .gui-sort-desc{background:url(data:image/png;base64,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) center/contain no-repeat}.gui-dark .gui-header-menu-tab .gui-header-menu-item{color:#ccc}.gui-dark .gui-header-menu-tab .gui-header-menu-item:hover{background:#525252}.gui-dark .gui-header-menu-tab .gui-checkbox{color:#ccc}.gui-dark .gui-structure-menu-column-manager>div:hover,.gui-dark gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:#525252}.gui-dark gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#7cb9f652}.gui-dark.gui-rows-even .gui-row.even,.gui-dark.gui-rows-odd .gui-row.odd{background:#2c2c2c}.gui-dark .gui-horizontal-grid gui-structure-container .gui-row .gui-cell{border-bottom-color:#666}.gui-dark.gui-vertical-grid gui-structure-container .gui-row .gui-cell{border-right:none}.gui-dark gui-structure-paging.gui-structure-paging-bottom{border-top-color:#666}.gui-dark gui-structure-paging.gui-structure-paging-top{border-bottom-color:#666}.gui-dark ::-webkit-scrollbar{width:15px}.gui-dark ::-webkit-scrollbar-track{background:#616161}.gui-dark ::-webkit-scrollbar-thumb{background:#424242}.gui-dark ::-webkit-scrollbar-thumb:hover{background:#212121}.gui-dark .gui-structure-aggregation-cell{background:#383838;color:#ccc}.gui-dark .gui-structure-aggregation-panel-bottom .gui-structure-aggregation-cell{border-top-color:#666}.gui-dark .gui-structure-aggregation-panel-top .gui-structure-aggregation-cell{border-bottom-color:#666}.gui-dark gui-structure-info-panel{background:#383838;border-top-color:#666}.gui-dark gui-structure-info-panel div{color:#ccc}.gui-dark gui-structure-info-panel div button{background:#616161}.gui-dark .gui-header .gui-header-cell .gui-header-menu .gui-sort-asc{background:url(data:image/png;base64,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) center/contain no-repeat}.gui-dark .gui-header .gui-header-cell .gui-header-menu .gui-sort-desc{background:url(data:image/png;base64,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) center/contain no-repeat}.gui-dark .gui-structure-info-panel p{color:#ccc}.gui-dark gui-structure-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0;color:#ccc}.gui-dark gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-dark gui-structure-alternative-paging-navigator .gui-button:disabled{background:0 0;color:#ccc;opacity:.4}.gui-dark gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-active-page{color:#ccc;box-shadow:0 1px 0 0 #ccc}", ".gui-light .gui-header,.gui-light.gui-structure{background:#fff;color:#333;font-family:Roboto,\"Helvetica Neue\",sans-serif}.gui-light.gui-structure-border{border-color:#ccc transparent}.gui-light .gui-structure-header .gui-header{color:#333;font-weight:700}.gui-light .gui-structure-header .gui-header .gui-header-cell{border-right:1px solid transparent}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover{background:#f0f0f0}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#f0f0f0}.gui-light gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:#f0f0f0}.gui-light gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#7cb9f652}.gui-light.gui-rows-even .gui-row.even,.gui-light.gui-rows-odd .gui-row.odd{background:#f7f7f7}.gui-light.gui-vertical-grid gui-structure-container .gui-row .gui-cell{border-right:none}.gui-light gui-structure-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0;color:#333}.gui-light gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-light gui-structure-alternative-paging-navigator .gui-button:disabled{background:0 0;color:#333;opacity:.4}"]
                    }] }
        ];
        /** @nocollapse */
        StructureComponent.ctorParameters = function () { return [
            { type: StructureId },
            { type: CompositionId },
            { type: PagingCommandService },
            { type: PagingEventService },
            { type: SourceCommandService },
            { type: SourceEventService },
            { type: SchemaCommandService },
            { type: CompositionCommandService },
            { type: CompositionEventService },
            { type: FormationEventService },
            { type: StructureCommandService },
            { type: StructureEditModeArchive },
            { type: StructureCellEditArchive },
            { type: StructureInfoPanelEnabledArchive },
            { type: StructureAggregationConfigService },
            { type: StructureCellEditStore },
            { type: StructureColumnMenuConfigArchive },
            { type: StructurePagingDisplayModeArchive },
            { type: StructureRowSelectEnabledArchive },
            { type: core.ElementRef },
            { type: core.ChangeDetectorRef },
            { type: core.Renderer2 },
            { type: StructureDefinition },
            { type: StructureReadModelService },
            { type: CompositionReadModelService },
            { type: SchemaReadModelService },
            { type: SchemaCssClassManager }
        ]; };
        return StructureComponent;
    }(StructureGateway));
    if (false) {
        /** @type {?} */
        StructureComponent.prototype.loaderEnabled;
        /** @type {?} */
        StructureComponent.prototype.circleLoaderEnabled;
        /** @type {?} */
        StructureComponent.prototype.initialLoaderAnimation;
        /** @type {?} */
        StructureComponent.prototype.structureHeight;
        /**
         * @type {?}
         * @private
         */
        StructureComponent.prototype.columnHeader;
        /**
         * @type {?}
         * @private
         */
        StructureComponent.prototype.structure;
        /**
         * @type {?}
         * @private
         */
        StructureComponent.prototype.elementRef;
        /**
         * @type {?}
         * @private
         */
        StructureComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureComponent.prototype.renderer;
        /**
         * @type {?}
         * @private
         */
        StructureComponent.prototype.structureDefinition;
        /**
         * @type {?}
         * @private
         */
        StructureComponent.prototype.structureQueryService;
        /**
         * @type {?}
         * @private
         */
        StructureComponent.prototype.compositionQueryService;
        /**
         * @type {?}
         * @private
         */
        StructureComponent.prototype.schemaReadModelService;
        /**
         * @type {?}
         * @private
         */
        StructureComponent.prototype.schemaStylesManager;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureColumnConfigComponent = /** @class */ (function (_super) {
        __extends(StructureColumnConfigComponent, _super);
        function StructureColumnConfigComponent(changeDetectorRef, structureCommandService, compositionReadModelService, structureColumnMenuConfigArchive, column) {
            var _this = _super.call(this) || this;
            _this.changeDetectorRef = changeDetectorRef;
            _this.structureCommandService = structureCommandService;
            _this.compositionReadModelService = compositionReadModelService;
            _this.structureColumnMenuConfigArchive = structureColumnMenuConfigArchive;
            _this.column = column;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureColumnConfigComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.structureColumnMenuConfigArchive
                .onValue()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} config
             * @return {?}
             */
            function (config) {
                _this.config = config;
                _this.changeDetectorRef.detectChanges();
            }));
        };
        /**
         * @return {?}
         */
        StructureColumnConfigComponent.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.config && this.config.isEnabled();
        };
        StructureColumnConfigComponent.decorators = [
            { type: core.Component, args: [{
                        template: "\n\t\t<div *ngIf=\"isEnabled()\"\n\t\t\t class=\"gui-header-menu-tab\">\n\n\t\t\t<gui-tab [menu]=\"config.getMenus()\" [active]=\"config.getActiveMenu()\">\n\n\t\t\t\t<ng-container *ngIf=\"config.isMainEnabled()\">\n\n\t\t\t\t\t<gui-tab-item class=\"gui-tab-item-dropdown\" [tab]=\"config.getMainMenu()\">\n\n\t\t\t\t\t\t<gui-structure-column-config-sort\n\t\t\t\t\t\t\t\t[column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-sort>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-hide\n\t\t\t\t\t\t\t\t[column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-column-hide>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-move\n\t\t\t\t\t\t\t\t[column]=\"column\">\n\t\t\t\t\t\t</gui-structure-column-config-column-move>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf=\"config.isFilteringEnabled()\">\n\n\t\t\t\t\t<gui-tab-item [tab]=\"config.getFilterMenu()\">\n\t\t\t\t\t\t<div class=\"gui-header-menu-item\">{{config.getFilterMenu()}}</div>\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf=\"config.isColumnManagerEnabled()\">\n\n\t\t\t\t\t<gui-tab-item [tab]=\"config.getColumnMenu()\">\n\n\t\t\t\t\t\t<gui-structure-menu-column-manager>\n\t\t\t\t\t\t</gui-structure-menu-column-manager>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t</gui-tab>\n\t\t</div>\n\t"
                    }] }
        ];
        /** @nocollapse */
        StructureColumnConfigComponent.ctorParameters = function () { return [
            { type: core.ChangeDetectorRef },
            { type: StructureCommandService },
            { type: CompositionReadModelService },
            { type: StructureColumnMenuConfigArchive },
            { type: CellTemplateWithContext, decorators: [{ type: core.Inject, args: ['column',] }] }
        ]; };
        StructureColumnConfigComponent.propDecorators = {
            headerSortMenu: [{ type: core.ViewChild, args: ['headerSortMenu', { static: false },] }]
        };
        return StructureColumnConfigComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureColumnConfigComponent.prototype.headerSortMenu;
        /** @type {?} */
        StructureColumnConfigComponent.prototype.config;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigComponent.prototype.structureCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigComponent.prototype.compositionReadModelService;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigComponent.prototype.structureColumnMenuConfigArchive;
        /** @type {?} */
        StructureColumnConfigComponent.prototype.column;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureColumnConfigService = /** @class */ (function () {
        function StructureColumnConfigService(injector, inlineDialogService) {
            this.injector = injector;
            this.inlineDialogService = inlineDialogService;
        }
        /**
         * @param {?} elementRef
         * @param {?} column
         * @return {?}
         */
        StructureColumnConfigService.prototype.open = /**
         * @param {?} elementRef
         * @param {?} column
         * @return {?}
         */
        function (elementRef, column) {
            /** @type {?} */
            var injector = core.Injector.create({
                providers: [{
                        provide: 'column',
                        useValue: column
                    }],
                parent: this.injector
            });
            this.inlineDialogService.open(elementRef, StructureColumnConfigComponent, injector, fabric.InlineDialogPlacement.Top, -2);
        };
        /**
         * @return {?}
         */
        StructureColumnConfigService.prototype.close = /**
         * @return {?}
         */
        function () {
            this.inlineDialogService.close();
        };
        StructureColumnConfigService.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureColumnConfigService.ctorParameters = function () { return [
            { type: core.Injector },
            { type: fabric.FabricInlineDialogService }
        ]; };
        return StructureColumnConfigService;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigService.prototype.injector;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigService.prototype.inlineDialogService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureHeaderColumnsComponent = /** @class */ (function () {
        function StructureHeaderColumnsComponent(elementRef, injector, structureCommandService) {
            this.elementRef = elementRef;
            this.injector = injector;
            this.structureCommandService = structureCommandService;
        }
        /**
         * @param {?} column
         * @return {?}
         */
        StructureHeaderColumnsComponent.prototype.toggleSort = /**
         * @param {?} column
         * @return {?}
         */
        function (column) {
            this.structureCommandService.toggleSort(column.getFieldId());
        };
        /**
         * @param {?} column
         * @return {?}
         */
        StructureHeaderColumnsComponent.prototype.isSortAsc = /**
         * @param {?} column
         * @return {?}
         */
        function (column) {
            return column.getSortStatus() === SortStatus.ASC;
        };
        /**
         * @param {?} column
         * @return {?}
         */
        StructureHeaderColumnsComponent.prototype.isSortDesc = /**
         * @param {?} column
         * @return {?}
         */
        function (column) {
            return column.getSortStatus() === SortStatus.DESC;
        };
        StructureHeaderColumnsComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-header-columns',
                        template: "<div (click)=\"toggleSort(column)\"\n\t *ngFor=\"let column of columns\"\n\t [style.width.px]=\"column.width\"\n\t class=\"gui-header-cell\">\n\n\t<div class=\"gui-header-title\">\n\t\t<ng-container\n\t\t\t*ngTemplateOutlet=\"column.viewTemplate;\n\t\t\t\t\t\t\t\t   context: column.context\">\n\t\t</ng-container>\n\n\t\t<div [ngClass]=\"{'gui-sort-asc': isSortAsc(column), 'gui-sort-desc':  isSortDesc(column)}\"\n\t\t\t class=\"gui-sort\">\n\t\t</div>\n\t</div>\n\n\t<div class=\"gui-header-menu\">\n\t\t<gui-structure-column-config-trigger\n\t\t\t[column]=\"column\">\n\t\t</gui-structure-column-config-trigger>\n\t</div>\n</div>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None,
                        providers: [
                            StructureColumnConfigService
                        ]
                    }] }
        ];
        /** @nocollapse */
        StructureHeaderColumnsComponent.ctorParameters = function () { return [
            { type: core.ElementRef },
            { type: core.Injector },
            { type: StructureCommandService }
        ]; };
        StructureHeaderColumnsComponent.propDecorators = {
            columns: [{ type: core.Input }]
        };
        return StructureHeaderColumnsComponent;
    }());
    if (false) {
        /** @type {?} */
        StructureHeaderColumnsComponent.prototype.columns;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderColumnsComponent.prototype.elementRef;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderColumnsComponent.prototype.injector;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderColumnsComponent.prototype.structureCommandService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureFilterRepository = /** @class */ (function () {
        function StructureFilterRepository() {
            this.enabled = new Map();
            this.enabled$ = new rxjs.ReplaySubject();
        }
        /**
         * @param {?} enabled
         * @param {?} structureId
         * @return {?}
         */
        StructureFilterRepository.prototype.setEnabled = /**
         * @param {?} enabled
         * @param {?} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            this.enabled.set(structureId.toString(), enabled);
            this.enabled$.next(this.enabled);
        };
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructureFilterRepository.prototype.selectFilterEnabled = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.enabled$
                .asObservable()
                .pipe(operators.map((/**
             * @param {?} map
             * @return {?}
             */
            function (map) {
                return map.get(structureId.toString());
            })), operators.distinctUntilChanged());
        };
        StructureFilterRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureFilterRepository.ctorParameters = function () { return []; };
        return StructureFilterRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureFilterRepository.prototype.enabled;
        /**
         * @type {?}
         * @private
         */
        StructureFilterRepository.prototype.enabled$;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureQuickFilterRepository = /** @class */ (function () {
        function StructureQuickFilterRepository() {
            this.enabled = new Map();
            this.enabled$ = new rxjs.ReplaySubject();
        }
        /**
         * @param {?} enabled
         * @param {?} structureId
         * @return {?}
         */
        StructureQuickFilterRepository.prototype.setEnabled = /**
         * @param {?} enabled
         * @param {?} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            this.enabled.set(structureId.toString(), enabled);
            this.enabled$.next(this.enabled);
        };
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructureQuickFilterRepository.prototype.selectQuickFilterEnabled = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.enabled$
                .asObservable()
                .pipe(operators.map((/**
             * @param {?} map
             * @return {?}
             */
            function (map) {
                return map.get(structureId.toString());
            })), operators.distinctUntilChanged());
        };
        StructureQuickFilterRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureQuickFilterRepository.ctorParameters = function () { return []; };
        return StructureQuickFilterRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureQuickFilterRepository.prototype.enabled;
        /**
         * @type {?}
         * @private
         */
        StructureQuickFilterRepository.prototype.enabled$;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureFilterReadModelRepository = /** @class */ (function () {
        function StructureFilterReadModelRepository(structureFilterRepository, structureQuickFilterRepository) {
            this.structureFilterRepository = structureFilterRepository;
            this.structureQuickFilterRepository = structureQuickFilterRepository;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructureFilterReadModelRepository.prototype.onFilteringEnabled = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.structureFilterRepository.selectFilterEnabled(structureId);
        };
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructureFilterReadModelRepository.prototype.onQuickFiltersEnabled = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.structureQuickFilterRepository.selectQuickFilterEnabled(structureId);
        };
        StructureFilterReadModelRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureFilterReadModelRepository.ctorParameters = function () { return [
            { type: StructureFilterRepository },
            { type: StructureQuickFilterRepository }
        ]; };
        return StructureFilterReadModelRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureFilterReadModelRepository.prototype.structureFilterRepository;
        /**
         * @type {?}
         * @private
         */
        StructureFilterReadModelRepository.prototype.structureQuickFilterRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureHeaderFiltersComponent = /** @class */ (function () {
        function StructureHeaderFiltersComponent(structureFilterCommandService, formBuilder, cd, structureId) {
            var _a;
            this.structureFilterCommandService = structureFilterCommandService;
            this.formBuilder = formBuilder;
            this.cd = cd;
            this.structureId = structureId;
            this.closed = new core.EventEmitter();
            this.filterFieldName = 'phrase';
            this.filterMode = false;
            this.filterForm = this.formBuilder.group((_a = {},
                _a[this.filterFieldName] = [''],
                _a));
        }
        /**
         * @return {?}
         */
        StructureHeaderFiltersComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.filterForm
                .valueChanges
                // .pipe(
                // debounceTime(500)
                // )
                .subscribe((/**
             * @param {?} f
             * @return {?}
             */
            function (f) {
                _this.filter(f[_this.filterFieldName]);
            }));
        };
        /**
         * @param {?} phrase
         * @return {?}
         */
        StructureHeaderFiltersComponent.prototype.filter = /**
         * @param {?} phrase
         * @return {?}
         */
        function (phrase) {
            if (phrase === undefined || phrase === null) {
                phrase = '';
            }
            this.structureFilterCommandService.addFilter(this.columns[0].getFieldId(), '1', phrase, this.structureId);
        };
        /**
         * @return {?}
         */
        StructureHeaderFiltersComponent.prototype.clearFilters = /**
         * @return {?}
         */
        function () {
            this.filterForm.reset();
        };
        /**
         * @return {?}
         */
        StructureHeaderFiltersComponent.prototype.turnOnFilterMode = /**
         * @return {?}
         */
        function () {
            this.filterMode = true;
            this.cd.detectChanges();
        };
        /**
         * @return {?}
         */
        StructureHeaderFiltersComponent.prototype.turnOffFilterMode = /**
         * @return {?}
         */
        function () {
            this.filterMode = false;
            this.cd.detectChanges();
        };
        StructureHeaderFiltersComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-header-filters',
                        template: "\n\t\t\n\t\t<ng-container *ngIf=\"!filterMode\">\n\n\t\t\t<div *ngFor=\"let cell of columns\"\n\t\t\t\t [style.width.px]=\"cell.width\"\n\t\t\t\t class=\"gui-header-cell\">\n\n\t\t\t\t<!--\t\t\t\t<gui-structure-header-filter [column]=\"cell\">-->\n\t\t\t\t<!--\t\t\t\t</gui-structure-header-filter>-->\n\n\t\t\t\t<button (click)=\"turnOnFilterMode()\">Add Filter</button>\n\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t\t<ng-container *ngIf=\"filterMode\">\n\n\t\t\t<gui-select [options]=\"['has value', 'is the same as', 'starts with', 'ends with']\" [selected]=\"'has value'\" >\n\n\t\t\t</gui-select>\n\n\t\t\t<form [formGroup]=\"filterForm\">\n\t\t\t\t<input type=\"text\" [formControlName]=\"filterFieldName\" gui-input/>\n\t\t\t</form>\n\n\t\t\t<button gui-button (click)=\"clearFilters()\">Clear All</button>\n\t\t\t<button gui-button (click)=\"turnOffFilterMode()\">Close</button>\n\n\t\t</ng-container>\n\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StructureHeaderFiltersComponent.ctorParameters = function () { return [
            { type: StructureFilterCommandService },
            { type: forms.FormBuilder },
            { type: core.ChangeDetectorRef },
            { type: StructureId }
        ]; };
        StructureHeaderFiltersComponent.propDecorators = {
            columns: [{ type: core.Input }],
            closed: [{ type: core.Output }]
        };
        return StructureHeaderFiltersComponent;
    }());
    if (false) {
        /** @type {?} */
        StructureHeaderFiltersComponent.prototype.columns;
        /** @type {?} */
        StructureHeaderFiltersComponent.prototype.closed;
        /** @type {?} */
        StructureHeaderFiltersComponent.prototype.filterFieldName;
        /** @type {?} */
        StructureHeaderFiltersComponent.prototype.filterForm;
        /** @type {?} */
        StructureHeaderFiltersComponent.prototype.filterMode;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderFiltersComponent.prototype.structureFilterCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderFiltersComponent.prototype.formBuilder;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderFiltersComponent.prototype.cd;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderFiltersComponent.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureHeaderComponent = /** @class */ (function (_super) {
        __extends(StructureHeaderComponent, _super);
        function StructureHeaderComponent(changeDetectorRef, renderer, eventBus, structureId, structureFilterReadModelRepository, structureReadModelService, compositionQueryService) {
            var _this = _super.call(this) || this;
            _this.changeDetectorRef = changeDetectorRef;
            _this.renderer = renderer;
            _this.eventBus = eventBus;
            _this.structureId = structureId;
            _this.structureFilterReadModelRepository = structureFilterReadModelRepository;
            _this.structureReadModelService = structureReadModelService;
            _this.compositionQueryService = compositionQueryService;
            _this.headerColumns = [];
            _this.filterRowEnabled = false;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureHeaderComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.compositionQueryService
                .onHeaderColumns()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} columns
             * @return {?}
             */
            function (columns) {
                _this.headerColumns = columns;
                _this.changeDetectorRef.detectChanges();
            }));
            this.compositionQueryService
                .onContainerWidth()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} width
             * @return {?}
             */
            function (width) {
                _this.renderer.setStyle(_this.containerRef.nativeElement, 'width', width + 'px');
            }));
            this.structureFilterReadModelRepository
                .onFilteringEnabled(this.structureId)
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} enabled
             * @return {?}
             */
            function (enabled) {
                _this.filterRowEnabled = enabled;
                _this.changeDetectorRef.detectChanges();
            }));
        };
        /**
         * @return {?}
         */
        StructureHeaderComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.structureReadModelService
                .onRowHeight()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} rowHeight
             * @return {?}
             */
            function (rowHeight) {
                /** @type {?} */
                var headerHeight = +(rowHeight) + 2;
                if (_this.containerRef) {
                    _this.renderer.setStyle(_this.containerRef.nativeElement, 'height', headerHeight + 'px');
                }
                if (_this.filtersRef) {
                    _this.renderer.setStyle(_this.filtersRef.nativeElement, 'height', headerHeight + 'px');
                }
            }));
        };
        StructureHeaderComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-header',
                        template: "<gui-structure-header-columns\n\t[columns]=\"headerColumns\"\n\tclass=\"gui-header\">\n</gui-structure-header-columns>\n\n<gui-structure-header-filters\n\t*ngIf=\"filterRowEnabled\"\n\t[columns]=\"headerColumns\"\n\tclass=\"gui-header\">\n</gui-structure-header-filters>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StructureHeaderComponent.ctorParameters = function () { return [
            { type: core.ChangeDetectorRef },
            { type: core.Renderer2 },
            { type: hermes.DomainEventBus },
            { type: StructureId },
            { type: StructureFilterReadModelRepository },
            { type: StructureReadModelService },
            { type: CompositionReadModelService }
        ]; };
        StructureHeaderComponent.propDecorators = {
            containerRef: [{ type: core.ViewChild, args: [StructureHeaderColumnsComponent, { read: core.ElementRef, static: true },] }],
            filtersRef: [{ type: core.ViewChild, args: [StructureHeaderFiltersComponent, { read: core.ElementRef, static: true },] }]
        };
        return StructureHeaderComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureHeaderComponent.prototype.containerRef;
        /** @type {?} */
        StructureHeaderComponent.prototype.filtersRef;
        /** @type {?} */
        StructureHeaderComponent.prototype.headerColumns;
        /** @type {?} */
        StructureHeaderComponent.prototype.filterRowEnabled;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderComponent.prototype.renderer;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderComponent.prototype.eventBus;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderComponent.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderComponent.prototype.structureFilterReadModelRepository;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderComponent.prototype.structureReadModelService;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderComponent.prototype.compositionQueryService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureHeaderFilterComponent = /** @class */ (function (_super) {
        __extends(StructureHeaderFilterComponent, _super);
        function StructureHeaderFilterComponent(structureFilterCommandService, structureId) {
            var _this = _super.call(this) || this;
            _this.structureFilterCommandService = structureFilterCommandService;
            _this.structureId = structureId;
            _this.sub = new ChangedValueEmitter();
            _this.editContext = {
                changes: _this.sub
            };
            return _this;
        }
        /**
         * @return {?}
         */
        StructureHeaderFilterComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.sub
                .on()
                .subscribe((/**
             * @param {?} phrase
             * @return {?}
             */
            function (phrase) { return _this.filter(phrase); }));
        };
        /**
         * @param {?} phrase
         * @return {?}
         */
        StructureHeaderFilterComponent.prototype.filter = /**
         * @param {?} phrase
         * @return {?}
         */
        function (phrase) {
            this.structureFilterCommandService.addFilter(this.column.getFieldId(), '1', phrase, this.structureId);
        };
        StructureHeaderFilterComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-header-filter',
                        template: "\n\t\t\n<!--\t\t<ng-container-->\n<!--\t\t\t\t*ngTemplateOutlet=\"column.editTemplate; context: editContext\">-->\n<!--\t\t</ng-container>-->\n\t\t\n\t\t<button gui-button [primary]=\"true\" >Add Filter</button>\n\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StructureHeaderFilterComponent.ctorParameters = function () { return [
            { type: StructureFilterCommandService },
            { type: StructureId }
        ]; };
        StructureHeaderFilterComponent.propDecorators = {
            column: [{ type: core.Input }]
        };
        return StructureHeaderFilterComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureHeaderFilterComponent.prototype.column;
        /** @type {?} */
        StructureHeaderFilterComponent.prototype.sub;
        /** @type {?} */
        StructureHeaderFilterComponent.prototype.editContext;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderFilterComponent.prototype.structureFilterCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureHeaderFilterComponent.prototype.structureId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSearchPhraseRepository = /** @class */ (function (_super) {
        __extends(StructureSearchPhraseRepository, _super);
        function StructureSearchPhraseRepository() {
            var _this = _super.call(this) || this;
            _this.phrase = new Map();
            _this.phrase$ = new rxjs.ReplaySubject();
            return _this;
        }
        /**
         * @param {?} phrase
         * @param {?} structureId
         * @return {?}
         */
        StructureSearchPhraseRepository.prototype.setPhrase = /**
         * @param {?} phrase
         * @param {?} structureId
         * @return {?}
         */
        function (phrase, structureId) {
            this.phrase.set(structureId.toString(), phrase);
            this.phrase$.next(this.phrase);
        };
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructureSearchPhraseRepository.prototype.onPhrase = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.phrase$
                .asObservable()
                .pipe(operators.map((/**
             * @param {?} map
             * @return {?}
             */
            function (map) {
                return map.get(structureId.toString());
            })), operators.distinctUntilChanged());
        };
        StructureSearchPhraseRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureSearchPhraseRepository.ctorParameters = function () { return []; };
        return StructureSearchPhraseRepository;
    }(Reactive));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSearchPhraseRepository.prototype.phrase;
        /**
         * @type {?}
         * @private
         */
        StructureSearchPhraseRepository.prototype.phrase$;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureContentComponent = /** @class */ (function (_super) {
        __extends(StructureContentComponent, _super);
        function StructureContentComponent(platformId, renderer, elementRef, changeDetectorRef, formationCommandService, structureCellEditArchive, structureEditModeArchive, formationQueryService, structureReadModelService, structureRowSelectEnabledArchive, verticalFormationRepository, structureId, // REfactor
        structureSearchPhraseRepository) {
            var _this = _super.call(this) || this;
            _this.platformId = platformId;
            _this.renderer = renderer;
            _this.elementRef = elementRef;
            _this.changeDetectorRef = changeDetectorRef;
            _this.formationCommandService = formationCommandService;
            _this.structureCellEditArchive = structureCellEditArchive;
            _this.structureEditModeArchive = structureEditModeArchive;
            _this.formationQueryService = formationQueryService;
            _this.structureReadModelService = structureReadModelService;
            _this.structureRowSelectEnabledArchive = structureRowSelectEnabledArchive;
            _this.verticalFormationRepository = verticalFormationRepository;
            _this.structureId = structureId;
            _this.structureSearchPhraseRepository = structureSearchPhraseRepository;
            _this.editMode = false;
            _this.cellEditing = false;
            _this.rowSelecting = StructureRowSelectEnabledArchive.DEFAULT_ROW_SELECT;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureContentComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.formationQueryService
                .onSelectedRows()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} rowsList
             * @return {?}
             */
            function (rowsList) {
                _this.clearSelectedRows();
                rowsList.getIds().forEach((/**
                 * @param {?} id
                 * @return {?}
                 */
                function (id) {
                    /** @type {?} */
                    var strippedId = 'gui' + id.replace(/-/g, '');
                    /** @type {?} */
                    var selectedRowEl = _this.elementRef.nativeElement.querySelector("#" + strippedId);
                    if (selectedRowEl) {
                        _this.renderer.addClass(selectedRowEl, 'selected');
                    }
                }));
            }));
            this.structureEditModeArchive
                .onValue()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} enabled
             * @return {?}
             */
            function (enabled) {
                _this.editMode = enabled;
                _this.changeDetectorRef.detectChanges();
            }));
            this.structureCellEditArchive
                .onValue()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} enabled
             * @return {?}
             */
            function (enabled) {
                _this.cellEditing = enabled;
                _this.changeDetectorRef.detectChanges();
            }));
            this.structureReadModelService
                .onRowHeight()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} rowHeight
             * @return {?}
             */
            function (rowHeight) {
                _this.rowHeight = rowHeight;
                _this.changeDetectorRef.detectChanges();
            }));
            this.structureRowSelectEnabledArchive
                .onValue()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} rowSelecting
             * @return {?}
             */
            function (rowSelecting) {
                _this.rowSelecting = rowSelecting;
            }));
            this.structureSearchPhraseRepository
                .onPhrase(this.structureId)
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} searchPhrase
             * @return {?}
             */
            function (searchPhrase) {
                _this.searchPhrase = searchPhrase;
                _this.changeDetectorRef.detectChanges();
            }));
        };
        /**
         * @return {?}
         */
        StructureContentComponent.prototype.trackByFn = /**
         * @return {?}
         */
        function () {
            return 0;
        };
        /**
         * @param {?} index
         * @return {?}
         */
        StructureContentComponent.prototype.translateY = /**
         * @param {?} index
         * @return {?}
         */
        function (index) {
            return "translateY(" + index * this.rowHeight + "px)";
        };
        /**
         * @param {?} entity
         * @return {?}
         */
        StructureContentComponent.prototype.toggleSelectedRow = /**
         * @param {?} entity
         * @return {?}
         */
        function (entity) {
            if (this.rowSelecting) {
                this.formationCommandService.toggleSelectedRow(((/** @type {?} */ (entity))).id);
            }
        };
        /**
         * @private
         * @return {?}
         */
        StructureContentComponent.prototype.clearSelectedRows = /**
         * @private
         * @return {?}
         */
        function () {
            var _this = this;
            /** @type {?} */
            var selectedElements = this.elementRef.nativeElement.querySelectorAll('.selected');
            if (common.isPlatformBrowser(this.platformId)) {
                selectedElements.forEach((/**
                 * @param {?} el
                 * @return {?}
                 */
                function (el) {
                    _this.renderer.removeClass(el, 'selected');
                }));
            }
        };
        StructureContentComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-content',
                        template: "<div class=\"gui-content\">\n\n\t<gui-structure-row (click)=\"toggleSelectedRow(entity)\"\n\t\t\t\t\t   *ngFor=\"let entity of source; let index = index; trackBy: trackByFn\"\n\t\t\t\t\t   [cellEditing]=\"cellEditing\"\n\t\t\t\t\t   [columns]=\"columns\"\n\t\t\t\t\t   [editMode]=\"editMode\"\n\t\t\t\t\t   [entity]=\"entity\"\n\t\t\t\t\t   [searchPhrase]=\"searchPhrase\"\n\t\t\t\t\t   [id]=\"entity.getUiId()\"\n\t\t\t\t\t   [ngClass]=\"{'even': entity.isEven(), 'odd': entity.isOdd()}\"\n\t\t\t\t\t   [ngStyle]=\"{'transform': translateY(index)}\"\n\t\t\t\t\t   [style.height.px]=\"rowHeight\"\n\t\t\t\t\t   class=\"gui-row\">\n\t</gui-structure-row>\n\n</div>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StructureContentComponent.ctorParameters = function () { return [
            { type: undefined, decorators: [{ type: core.Inject, args: [core.PLATFORM_ID,] }] },
            { type: core.Renderer2 },
            { type: core.ElementRef },
            { type: core.ChangeDetectorRef },
            { type: FormationCommandService },
            { type: StructureCellEditArchive },
            { type: StructureEditModeArchive },
            { type: FormationReadModelService },
            { type: StructureReadModelService },
            { type: StructureRowSelectEnabledArchive },
            { type: VerticalFormationRepository },
            { type: StructureId },
            { type: StructureSearchPhraseRepository }
        ]; };
        StructureContentComponent.propDecorators = {
            source: [{ type: core.Input }],
            columns: [{ type: core.Input }]
        };
        return StructureContentComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureContentComponent.prototype.source;
        /** @type {?} */
        StructureContentComponent.prototype.columns;
        /** @type {?} */
        StructureContentComponent.prototype.editMode;
        /** @type {?} */
        StructureContentComponent.prototype.cellEditing;
        /** @type {?} */
        StructureContentComponent.prototype.rowHeight;
        /** @type {?} */
        StructureContentComponent.prototype.searchPhrase;
        /** @type {?} */
        StructureContentComponent.prototype.rowSelecting;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.platformId;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.renderer;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.elementRef;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.formationCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.structureCellEditArchive;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.structureEditModeArchive;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.formationQueryService;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.structureReadModelService;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.structureRowSelectEnabledArchive;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.verticalFormationRepository;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        StructureContentComponent.prototype.structureSearchPhraseRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureRowComponent = /** @class */ (function () {
        function StructureRowComponent() {
        }
        /**
         * @return {?}
         */
        StructureRowComponent.prototype.trackByFn = /**
         * @return {?}
         */
        function () {
            return 0;
        };
        StructureRowComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-row',
                        template: "<gui-structure-cell *ngFor=\"let column of columns; trackBy: trackByFn\"\n\t\t\t\t\t[cellEditingEnabled]=\"cellEditing\"\n\t\t\t\t\t[cell]=\"column\"\n\t\t\t\t\t[editMode]=\"editMode\"\n\t\t\t\t\t[entity]=\"entity\"\n\t\t\t\t\t[searchPhrase]=\"searchPhrase\"\n\t\t\t\t\t[style.width.px]=\"column.width\"\n\t\t\t\t\tclass=\"gui-cell\">\n</gui-structure-cell>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        StructureRowComponent.propDecorators = {
            entity: [{ type: core.Input }],
            columns: [{ type: core.Input }],
            editMode: [{ type: core.Input }],
            cellEditing: [{ type: core.Input }],
            searchPhrase: [{ type: core.Input }]
        };
        return StructureRowComponent;
    }());
    if (false) {
        /** @type {?} */
        StructureRowComponent.prototype.entity;
        /** @type {?} */
        StructureRowComponent.prototype.columns;
        /** @type {?} */
        StructureRowComponent.prototype.editMode;
        /** @type {?} */
        StructureRowComponent.prototype.cellEditing;
        /** @type {?} */
        StructureRowComponent.prototype.searchPhrase;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureCellComponent = /** @class */ (function (_super) {
        __extends(StructureCellComponent, _super);
        function StructureCellComponent(changeDetectorRef, structureCellEditArchive, structureCellEditStore, sourceCommandService, id, structureSearchPhraseRepository) {
            var _this = _super.call(this) || this;
            _this.changeDetectorRef = changeDetectorRef;
            _this.structureCellEditArchive = structureCellEditArchive;
            _this.structureCellEditStore = structureCellEditStore;
            _this.sourceCommandService = sourceCommandService;
            _this.id = id;
            _this.structureSearchPhraseRepository = structureSearchPhraseRepository;
            _this.inEditMode = false;
            return _this;
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        StructureCellComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
        function (changes) {
            if (changes.editMode !== undefined) {
                if (this.editMode) {
                    this.cellEditingEnabled = true;
                    this.enterEditMode(false);
                }
                else if (!this.editMode) {
                    this.exitEditMode();
                }
            }
            if (!this.editMode) {
                this.exitEditMode();
            }
        };
        /**
         * @param {?=} forceCheck
         * @return {?}
         */
        StructureCellComponent.prototype.enterEditMode = /**
         * @param {?=} forceCheck
         * @return {?}
         */
        function (forceCheck) {
            if (forceCheck === void 0) { forceCheck = true; }
            if (!this.cellEditingEnabled) {
                return;
            }
            this.inEditMode = true;
            this.valueChanges$ = new ChangedValueEmitter();
            this.status$ = new ChangedValueEmitter();
            this.editContext = {
                status: this.status$,
                valueChanges: this.valueChanges$,
                value: this.cell.getValue(this.entity),
                focus: forceCheck
            };
            this.observeFieldStatus();
            this.observeValueChanges();
            this.publishEditEnter();
            if (!forceCheck) {
                this.changeDetectorRef.markForCheck();
            }
            else {
                this.changeDetectorRef.detectChanges();
            }
        };
        /**
         * @return {?}
         */
        StructureCellComponent.prototype.exitEditMode = /**
         * @return {?}
         */
        function () {
            this.inEditMode = false;
            this.changeDetectorRef.detectChanges();
        };
        /**
         * @return {?}
         */
        StructureCellComponent.prototype.submitChangesAndExit = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var itemId = this.entity.getId();
            /** @type {?} */
            var updatedValue = this.actualValue;
            /** @type {?} */
            var fieldId = this.cell.columnFieldId;
            this.sourceCommandService.editItem(new StructureEditSourceItemParams(itemId, fieldId, updatedValue));
            this.exitEditMode();
        };
        /**
         * @private
         * @return {?}
         */
        StructureCellComponent.prototype.observeFieldStatus = /**
         * @private
         * @return {?}
         */
        function () {
            var _this = this;
            this.status$
                .on()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} status
             * @return {?}
             */
            function (status) {
                switch (status) {
                    case EditEventType.SUBMIT:
                        _this.submitChangesAndExit();
                        _this.publishEditSubmit();
                        break;
                    case EditEventType.CANCEL:
                        _this.exitEditMode();
                        _this.publishEditCancel();
                        break;
                    default:
                        break;
                }
            }));
        };
        /**
         * @private
         * @return {?}
         */
        StructureCellComponent.prototype.observeValueChanges = /**
         * @private
         * @return {?}
         */
        function () {
            var _this = this;
            this.valueChanges$
                .on()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} value
             * @return {?}
             */
            function (value) {
                _this.actualValue = value;
            }));
        };
        /**
         * @private
         * @param {?} state
         * @return {?}
         */
        StructureCellComponent.prototype.publishEditState = /**
         * @private
         * @param {?} state
         * @return {?}
         */
        function (state) {
            this.structureCellEditStore.next(state);
        };
        /**
         * @private
         * @return {?}
         */
        StructureCellComponent.prototype.publishEditEnter = /**
         * @private
         * @return {?}
         */
        function () {
            this.publishEditState(StructureCellEditState.ENTER);
        };
        /**
         * @private
         * @return {?}
         */
        StructureCellComponent.prototype.publishEditCancel = /**
         * @private
         * @return {?}
         */
        function () {
            this.publishEditState(StructureCellEditState.CANCEL);
        };
        /**
         * @private
         * @return {?}
         */
        StructureCellComponent.prototype.publishEditSubmit = /**
         * @private
         * @return {?}
         */
        function () {
            this.publishEditState(StructureCellEditState.SUBMIT);
        };
        StructureCellComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-cell',
                        template: "\n\n\t\t<span *ngIf=\"!inEditMode\"\n\t\t\t  (click)=\"enterEditMode()\">\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet=\"cell.template;\n\t\t\t\t\tcontext: { element: cell.getValue(entity, searchPhrase) }\">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t\t<span *ngIf=\"inEditMode\" class=\"gui-cell-edit-mode\">\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet=\"cell.editTemplate;\n\t\t\t\t\tcontext: editContext\">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StructureCellComponent.ctorParameters = function () { return [
            { type: core.ChangeDetectorRef },
            { type: StructureCellEditArchive },
            { type: StructureCellEditStore },
            { type: SourceCommandService },
            { type: StructureId },
            { type: StructureSearchPhraseRepository }
        ]; };
        StructureCellComponent.propDecorators = {
            entity: [{ type: core.Input }],
            cell: [{ type: core.Input }],
            editMode: [{ type: core.Input }],
            cellEditingEnabled: [{ type: core.Input }],
            searchPhrase: [{ type: core.Input }]
        };
        return StructureCellComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureCellComponent.prototype.entity;
        /** @type {?} */
        StructureCellComponent.prototype.cell;
        /** @type {?} */
        StructureCellComponent.prototype.editMode;
        /** @type {?} */
        StructureCellComponent.prototype.cellEditingEnabled;
        /** @type {?} */
        StructureCellComponent.prototype.searchPhrase;
        /** @type {?} */
        StructureCellComponent.prototype.inEditMode;
        /** @type {?} */
        StructureCellComponent.prototype.editContext;
        /** @type {?} */
        StructureCellComponent.prototype.valueChanges$;
        /** @type {?} */
        StructureCellComponent.prototype.status$;
        /** @type {?} */
        StructureCellComponent.prototype.actualValue;
        /**
         * @type {?}
         * @private
         */
        StructureCellComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureCellComponent.prototype.structureCellEditArchive;
        /**
         * @type {?}
         * @private
         */
        StructureCellComponent.prototype.structureCellEditStore;
        /**
         * @type {?}
         * @private
         */
        StructureCellComponent.prototype.sourceCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureCellComponent.prototype.id;
        /**
         * @type {?}
         * @private
         */
        StructureCellComponent.prototype.structureSearchPhraseRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureContainerComponent = /** @class */ (function (_super) {
        __extends(StructureContainerComponent, _super);
        function StructureContainerComponent(elementRef, renderer, changeDetectorRef, ngZone, structureId, structureCommandService, structureQueryService, sourceQueryService, schemaQueryService, compositionCommandService, compositionQueryService, formationQueryService, resizeDetector, structureParent) {
            var _this = _super.call(this) || this;
            _this.elementRef = elementRef;
            _this.renderer = renderer;
            _this.changeDetectorRef = changeDetectorRef;
            _this.ngZone = ngZone;
            _this.structureId = structureId;
            _this.structureCommandService = structureCommandService;
            _this.structureQueryService = structureQueryService;
            _this.sourceQueryService = sourceQueryService;
            _this.schemaQueryService = schemaQueryService;
            _this.compositionCommandService = compositionCommandService;
            _this.compositionQueryService = compositionQueryService;
            _this.formationQueryService = formationQueryService;
            _this.resizeDetector = resizeDetector;
            _this.structureParent = structureParent;
            _this.columns = [];
            _this.source = [];
            _this.autoResizeWidthEnabled = false;
            _this.scrollObservation$ = new rxjs.Subject();
            return _this;
        }
        /**
         * @return {?}
         */
        StructureContainerComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            /**
             * TODO One source of truth
             *
             * There should only one sub here.
             */
            rxjs.combineLatest(this.sourceQueryService.onEntities(), this.structureQueryService.onRowHeight())
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} combine
             * @return {?}
             */
            function (combine) {
                /** @type {?} */
                var source = combine[0];
                /** @type {?} */
                var rowHeight = combine[1];
                _this.source = source;
                _this.setHeight(source.length * rowHeight);
                _this.changeDetectorRef.detectChanges();
            }));
            this.compositionQueryService
                .onTemplateColumns()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} columns
             * @return {?}
             */
            function (columns) {
                _this.columns = columns;
                _this.changeDetectorRef.detectChanges();
            }));
            this.compositionQueryService
                .onResizeWidth()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} enabled
             * @return {?}
             */
            function (enabled) {
                _this.autoResizeWidthEnabled = enabled;
            }));
            rxjs.combineLatest(this.sourceQueryService.onEntities(), this.schemaQueryService.onContainerHeight(), this.structureQueryService.onRowHeight())
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} combine
             * @return {?}
             */
            function (combine) {
                /** @type {?} */
                var source = combine[0];
                /** @type {?} */
                var height = combine[1];
                /** @type {?} */
                var rowHeight = combine[2];
                /** @type {?} */
                var sourceSizeHeight = source.length * rowHeight;
                if (sourceSizeHeight > height) {
                    _this.setHeight(height);
                }
                else {
                    _this.setHeight(sourceSizeHeight);
                }
                _this.changeDetectorRef.detectChanges();
            }));
        };
        /**
         * @return {?}
         */
        StructureContainerComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            // turn on when structure is ready
            if (this.structureParent) {
                this.resizeDetector
                    .observe(this.structureParent.getElementRef().nativeElement)
                    .pipe(operators.filter((/**
                 * @return {?}
                 */
                function () { return _this.autoResizeWidthEnabled; })), operators.map((/**
                 * @param {?} element
                 * @return {?}
                 */
                function (element) { return element.offsetWidth; })), operators.distinctUntilChanged(), this.takeUntil())
                    .subscribe((/**
                 * @param {?} width
                 * @return {?}
                 */
                function (width) {
                    _this.recalculateContainer(width);
                }));
            }
            this.compositionQueryService
                .onContainerWidth()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} width
             * @return {?}
             */
            function (width) {
                _this.renderer.setStyle(_this.containerRef.nativeElement, 'width', width + 'px');
            }));
            this.structureQueryService
                .onVerticalScrollEnabled()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} enabled
             * @return {?}
             */
            function (enabled) {
                if (enabled) {
                    _this.enableScrollObservation();
                }
                else {
                    _this.disableScrollObservation();
                }
            }));
            // never runs ??
            this.structureQueryService
                .onStructure()
                .pipe(operators.filter((/**
             * @param {?} str
             * @return {?}
             */
            function (str) {
                return str.isVerticalScrollEnabled();
            })), this.takeUntil())
                .subscribe((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) {
                /** @type {?} */
                var containerHeight = structure.getContainerHeight();
                /** @type {?} */
                var topMargin = structure.getTopMargin();
                _this.renderer.setStyle(_this.containerRef.nativeElement, 'padding-top', topMargin + 'px');
                _this.renderer.setStyle(_this.containerRef.nativeElement, 'height', containerHeight + 'px');
            }));
        };
        /**
         * @return {?}
         */
        StructureContainerComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
        function () {
            _super.prototype.ngOnDestroy.call(this);
            this.resizeDetector.destroy(this.elementRef.nativeElement);
        };
        /**
         * @param {?} height
         * @return {?}
         */
        StructureContainerComponent.prototype.setHeight = /**
         * @param {?} height
         * @return {?}
         */
        function (height) {
            this.height = height;
            this.renderer.setStyle(this.elementRef.nativeElement, 'height', this.height + 'px');
        };
        /**
         * @private
         * @param {?} width
         * @return {?}
         */
        StructureContainerComponent.prototype.recalculateContainer = /**
         * @private
         * @param {?} width
         * @return {?}
         */
        function (width) {
            if (this.autoResizeWidthEnabled) {
                this.compositionCommandService.setContainerWidth(width);
            }
        };
        /**
         * @private
         * @return {?}
         */
        StructureContainerComponent.prototype.enableScrollObservation = /**
         * @private
         * @return {?}
         */
        function () {
            var _this = this;
            this.ngZone
                .runOutsideAngular((/**
             * @return {?}
             */
            function () {
                rxjs.fromEvent(_this.elementRef.nativeElement, 'scroll')
                    .pipe(
                // auditTime(10),
                operators.takeUntil(_this.scrollObservation$), _this.takeUntil())
                    .subscribe((/**
                 * @param {?} event
                 * @return {?}
                 */
                function (event) {
                    /** @type {?} */
                    var scrollTop = event.target.scrollTop;
                    _this.structureCommandService.setScrollPosition(scrollTop);
                }));
            }));
        };
        /**
         * @private
         * @return {?}
         */
        StructureContainerComponent.prototype.disableScrollObservation = /**
         * @private
         * @return {?}
         */
        function () {
            this.scrollObservation$.next();
            this.scrollObservation$.complete();
        };
        StructureContainerComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-container',
                        template: "<div #container\n\t class=\"gui-structure-container\">\n\n\t<gui-structure-content [columns]=\"columns\"\n\t\t\t\t\t\t   [source]=\"source\">\n\t</gui-structure-content>\n\n</div>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StructureContainerComponent.ctorParameters = function () { return [
            { type: core.ElementRef },
            { type: core.Renderer2 },
            { type: core.ChangeDetectorRef },
            { type: core.NgZone },
            { type: StructureId },
            { type: StructureCommandService },
            { type: StructureReadModelService },
            { type: SourceReadModelService },
            { type: SchemaReadModelService },
            { type: CompositionCommandService },
            { type: CompositionReadModelService },
            { type: FormationReadModelService },
            { type: fabric.ResizeDetector },
            { type: undefined, decorators: [{ type: core.Optional }, { type: core.Inject, args: [structureParentComponent,] }] }
        ]; };
        StructureContainerComponent.propDecorators = {
            containerRef: [{ type: core.ViewChild, args: ['container', { static: false },] }]
        };
        return StructureContainerComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureContainerComponent.prototype.containerRef;
        /** @type {?} */
        StructureContainerComponent.prototype.columns;
        /** @type {?} */
        StructureContainerComponent.prototype.source;
        /** @type {?} */
        StructureContainerComponent.prototype.height;
        /** @type {?} */
        StructureContainerComponent.prototype.rowColoring;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.autoResizeWidthEnabled;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.scrollObservation$;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.elementRef;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.renderer;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.ngZone;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.structureCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.structureQueryService;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.sourceQueryService;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.schemaQueryService;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.compositionCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.compositionQueryService;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.formationQueryService;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.resizeDetector;
        /**
         * @type {?}
         * @private
         */
        StructureContainerComponent.prototype.structureParent;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureQuickFiltersComponent = /** @class */ (function () {
        function StructureQuickFiltersComponent() {
        }
        StructureQuickFiltersComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-quick-fitlers',
                        template: "\n\t\n\t\tQuickFilters\n\t\t\n\t"
                    }] }
        ];
        return StructureQuickFiltersComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSearchingRepository = /** @class */ (function (_super) {
        __extends(StructureSearchingRepository, _super);
        function StructureSearchingRepository() {
            var _this = _super.call(this) || this;
            _this.enabled = new Map();
            _this.enabled$ = new rxjs.ReplaySubject();
            return _this;
        }
        /**
         * @param {?} enabled
         * @param {?} structureId
         * @return {?}
         */
        StructureSearchingRepository.prototype.setEnabled = /**
         * @param {?} enabled
         * @param {?} structureId
         * @return {?}
         */
        function (enabled, structureId) {
            this.enabled.set(structureId.toString(), enabled);
            this.enabled$.next(this.enabled);
        };
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructureSearchingRepository.prototype.onSearchingEnabled = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.enabled$
                .asObservable()
                .pipe(operators.map((/**
             * @param {?} map
             * @return {?}
             */
            function (map) {
                return map.get(structureId.toString());
            })), operators.distinctUntilChanged());
        };
        StructureSearchingRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureSearchingRepository.ctorParameters = function () { return []; };
        return StructureSearchingRepository;
    }(Reactive));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSearchingRepository.prototype.enabled;
        /**
         * @type {?}
         * @private
         */
        StructureSearchingRepository.prototype.enabled$;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSearchReadModelRepository = /** @class */ (function () {
        function StructureSearchReadModelRepository(structureSearchingRepository) {
            this.structureSearchingRepository = structureSearchingRepository;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructureSearchReadModelRepository.prototype.onSearchEnabled = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.structureSearchingRepository.onSearchingEnabled(structureId);
        };
        StructureSearchReadModelRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureSearchReadModelRepository.ctorParameters = function () { return [
            { type: StructureSearchingRepository }
        ]; };
        return StructureSearchReadModelRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSearchReadModelRepository.prototype.structureSearchingRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var prefix = 'Structure -';
    /** @type {?} */
    var STRUCTURE_CSS_CLASS_NAME = new core.InjectionToken(prefix + " - css className");

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureBlueprintComponent = /** @class */ (function (_super) {
        __extends(StructureBlueprintComponent, _super);
        function StructureBlueprintComponent(changeDetectorRef, structureDefinition, structureId, structureQueryService, pagingQueryService, structureInfoPanelEnabledArchive, structureAggregationArchive, structureFilterReadModelRepository, structureSearchReadModelRepository, className) {
            var _this = _super.call(this) || this;
            _this.changeDetectorRef = changeDetectorRef;
            _this.structureDefinition = structureDefinition;
            _this.structureId = structureId;
            _this.structureQueryService = structureQueryService;
            _this.pagingQueryService = pagingQueryService;
            _this.structureInfoPanelEnabledArchive = structureInfoPanelEnabledArchive;
            _this.structureAggregationArchive = structureAggregationArchive;
            _this.structureFilterReadModelRepository = structureFilterReadModelRepository;
            _this.structureSearchReadModelRepository = structureSearchReadModelRepository;
            _this.className = className;
            _this.searchEnabled = false;
            _this.topAggregationPanelEnabled = false;
            _this.bottomAggregationPanelEnabled = false;
            _this.quickFiltersEnabled = false;
            _this.infoPanelEnabled = false;
            _this.headerCssClass = "gui-" + _this.className + "-header";
            _this.contentCssClass = "gui-" + _this.className + "-content";
            return _this;
        }
        /**
         * @return {?}
         */
        StructureBlueprintComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.structureQueryService
                .onStructure()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) {
                _this.structure = structure;
                _this.changeDetectorRef.detectChanges();
            }));
            this.pagingQueryService
                .onPaging()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} paging
             * @return {?}
             */
            function (paging) {
                _this.pagingReadModel = paging;
                _this.changeDetectorRef.detectChanges();
            }));
            this.structureSearchReadModelRepository
                .onSearchEnabled(this.structureId)
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} enabled
             * @return {?}
             */
            function (enabled) {
                _this.searchEnabled = enabled;
                _this.changeDetectorRef.detectChanges();
            }));
            this.structureFilterReadModelRepository
                .onQuickFiltersEnabled(this.structureId)
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} enabled
             * @return {?}
             */
            function (enabled) {
                _this.quickFiltersEnabled = enabled;
                _this.changeDetectorRef.detectChanges();
            }));
            this.structureAggregationArchive
                .onValue()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} config
             * @return {?}
             */
            function (config) {
                _this.topAggregationPanelEnabled = config.itTopEnabled();
                _this.bottomAggregationPanelEnabled = config.itBottomEnabled();
                _this.changeDetectorRef.detectChanges();
            }));
            this.structureInfoPanelEnabledArchive
                .onValue()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} enabled
             * @return {?}
             */
            function (enabled) {
                _this.infoPanelEnabled = enabled;
                _this.changeDetectorRef.detectChanges();
            }));
        };
        /**
         * @return {?}
         */
        StructureBlueprintComponent.prototype.getHeaderTopClasses = /**
         * @return {?}
         */
        function () {
            return this.headerCssClass + ' gui-header-top';
        };
        /**
         * @return {?}
         */
        StructureBlueprintComponent.prototype.getHeaderBottomClasses = /**
         * @return {?}
         */
        function () {
            return this.headerCssClass + ' gui-header-bottom';
        };
        /**
         * @return {?}
         */
        StructureBlueprintComponent.prototype.isColumnHeaderTopEnabled = /**
         * @return {?}
         */
        function () {
            return this.structureDefinition.isHeaderEnabled() && this.structure && this.structure.isTopHeaderEnabled();
        };
        /**
         * @return {?}
         */
        StructureBlueprintComponent.prototype.isColumnHeaderBottomEnabled = /**
         * @return {?}
         */
        function () {
            return this.structureDefinition.isHeaderEnabled() && this.structure && this.structure.isBottomHeaderEnabled();
        };
        /**
         * @return {?}
         */
        StructureBlueprintComponent.prototype.isPagingTopEnabled = /**
         * @return {?}
         */
        function () {
            return this.structureDefinition.getTopPaging().isEnabled() && this.pagingReadModel && this.pagingReadModel.isPagerTop();
        };
        /**
         * @return {?}
         */
        StructureBlueprintComponent.prototype.isPagingBottomEnabled = /**
         * @return {?}
         */
        function () {
            return this.structureDefinition.getBottomPaging().isEnabled() && this.pagingReadModel && this.pagingReadModel.isPagerBottom();
        };
        /**
         * @return {?}
         */
        StructureBlueprintComponent.prototype.isSourceEmpty = /**
         * @return {?}
         */
        function () {
            return this.structure && this.structure.getEntities().length === 0;
        };
        StructureBlueprintComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-blueprint',
                        template: "<!---------- TOP ---------->\n<gui-structure-top-panel *ngIf=\"searchEnabled\"></gui-structure-top-panel>\n\n<gui-structure-quick-fitlers *ngIf=\"quickFiltersEnabled\">\n</gui-structure-quick-fitlers>\n\n<gui-structure-paging *ngIf=\"isPagingTopEnabled()\"\n\t\t\t\t\t  class=\"gui-structure-paging-top\">\n</gui-structure-paging>\n\n<gui-structure-aggregation-panel [enabled]=\"topAggregationPanelEnabled\"\n\t\t\t\t\t\t\t\t class=\"gui-structure-aggregation-panel-top\">\n</gui-structure-aggregation-panel>\n\n<gui-structure-header *ngIf=\"isColumnHeaderTopEnabled()\"\n\t\t\t\t\t  [ngClass]=\"getHeaderTopClasses()\">\n</gui-structure-header>\n\n\n<!---------- MAIN ---------->\n<gui-structure-container [ngClass]=\"contentCssClass\">\n</gui-structure-container>\n\n<gui-structure-empty-source *ngIf=\"isSourceEmpty()\">\n</gui-structure-empty-source>\n\n\n<!---------- BOTTOM ---------->\n<gui-structure-header *ngIf=\"isColumnHeaderBottomEnabled()\"\n\t\t\t\t\t  [ngClass]=\"getHeaderBottomClasses()\">\n</gui-structure-header>\n\n<gui-structure-aggregation-panel [enabled]=\"bottomAggregationPanelEnabled\"\n\t\t\t\t\t\t\t\t class=\"gui-structure-aggregation-panel-bottom\">\n</gui-structure-aggregation-panel>\n\n<gui-structure-paging *ngIf=\"isPagingBottomEnabled()\"\n\t\t\t\t\t  class=\"gui-structure-paging-bottom\">\n</gui-structure-paging>\n\n<gui-structure-info-panel *ngIf=\"infoPanelEnabled\"></gui-structure-info-panel>\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StructureBlueprintComponent.ctorParameters = function () { return [
            { type: core.ChangeDetectorRef },
            { type: StructureDefinition },
            { type: StructureId },
            { type: StructureReadModelService },
            { type: PagingReadModelService },
            { type: StructureInfoPanelEnabledArchive },
            { type: StructureAggregationArchive },
            { type: StructureFilterReadModelRepository },
            { type: StructureSearchReadModelRepository },
            { type: String, decorators: [{ type: core.Inject, args: [STRUCTURE_CSS_CLASS_NAME,] }] }
        ]; };
        return StructureBlueprintComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureBlueprintComponent.prototype.structure;
        /** @type {?} */
        StructureBlueprintComponent.prototype.searchEnabled;
        /** @type {?} */
        StructureBlueprintComponent.prototype.topAggregationPanelEnabled;
        /** @type {?} */
        StructureBlueprintComponent.prototype.bottomAggregationPanelEnabled;
        /** @type {?} */
        StructureBlueprintComponent.prototype.quickFiltersEnabled;
        /** @type {?} */
        StructureBlueprintComponent.prototype.infoPanelEnabled;
        /** @type {?} */
        StructureBlueprintComponent.prototype.contentCssClass;
        /** @type {?} */
        StructureBlueprintComponent.prototype.headerCssClass;
        /**
         * @type {?}
         * @private
         */
        StructureBlueprintComponent.prototype.pagingReadModel;
        /**
         * @type {?}
         * @private
         */
        StructureBlueprintComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureBlueprintComponent.prototype.structureDefinition;
        /**
         * @type {?}
         * @private
         */
        StructureBlueprintComponent.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        StructureBlueprintComponent.prototype.structureQueryService;
        /**
         * @type {?}
         * @private
         */
        StructureBlueprintComponent.prototype.pagingQueryService;
        /**
         * @type {?}
         * @private
         */
        StructureBlueprintComponent.prototype.structureInfoPanelEnabledArchive;
        /**
         * @type {?}
         * @private
         */
        StructureBlueprintComponent.prototype.structureAggregationArchive;
        /**
         * @type {?}
         * @private
         */
        StructureBlueprintComponent.prototype.structureFilterReadModelRepository;
        /**
         * @type {?}
         * @private
         */
        StructureBlueprintComponent.prototype.structureSearchReadModelRepository;
        /**
         * @type {?}
         * @private
         */
        StructureBlueprintComponent.prototype.className;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InMemoryStructureAggregateStore = /** @class */ (function (_super) {
        __extends(InMemoryStructureAggregateStore, _super);
        function InMemoryStructureAggregateStore(inMemoryStructureStore, aggregateStoreRegister) {
            return _super.call(this, inMemoryStructureStore, aggregateStoreRegister) || this;
        }
        InMemoryStructureAggregateStore.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        InMemoryStructureAggregateStore.ctorParameters = function () { return [
            { type: InMemoryStructureStore },
            { type: hermes.AggregateStoreRegister }
        ]; };
        return InMemoryStructureAggregateStore;
    }(hermes.InMemoryAggregateStore));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var   /**
     * @abstract
     */
    StructureAggregateRepository = /** @class */ (function () {
        function StructureAggregateRepository() {
        }
        return StructureAggregateRepository;
    }());
    if (false) {
        /**
         * @abstract
         * @param {?} aggregateId
         * @return {?}
         */
        StructureAggregateRepository.prototype.getById = function (aggregateId) { };
        /**
         * @abstract
         * @param {?} aggregate
         * @return {?}
         */
        StructureAggregateRepository.prototype.save = function (aggregate) { };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InMemoryStructureAggregateRepository = /** @class */ (function (_super) {
        __extends(InMemoryStructureAggregateRepository, _super);
        function InMemoryStructureAggregateRepository(inMemoryStructureAggregateStore) {
            var _this = _super.call(this) || this;
            _this.inMemoryStructureAggregateStore = inMemoryStructureAggregateStore;
            return _this;
        }
        /**
         * @param {?} aggregateId
         * @return {?}
         */
        InMemoryStructureAggregateRepository.prototype.getById = /**
         * @param {?} aggregateId
         * @return {?}
         */
        function (aggregateId) {
            return this.inMemoryStructureAggregateStore.getById(aggregateId);
        };
        /**
         * @param {?} aggregate
         * @return {?}
         */
        InMemoryStructureAggregateRepository.prototype.save = /**
         * @param {?} aggregate
         * @return {?}
         */
        function (aggregate) {
            this.inMemoryStructureAggregateStore.save(aggregate);
        };
        InMemoryStructureAggregateRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        InMemoryStructureAggregateRepository.ctorParameters = function () { return [
            { type: InMemoryStructureAggregateStore }
        ]; };
        return InMemoryStructureAggregateRepository;
    }(StructureAggregateRepository));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        InMemoryStructureAggregateRepository.prototype.inMemoryStructureAggregateStore;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSourceLoadingEvent = /** @class */ (function (_super) {
        __extends(SetSourceLoadingEvent, _super);
        function SetSourceLoadingEvent(aggregateId) {
            return _super.call(this, aggregateId, 'SetSourceLoadingEvent') || this;
        }
        return SetSourceLoadingEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaSetEvent = /** @class */ (function (_super) {
        __extends(SchemaSetEvent, _super);
        function SchemaSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'SchemaSetEvent') || this;
        }
        return SchemaSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaThemeSetEvent = /** @class */ (function (_super) {
        __extends(SchemaThemeSetEvent, _super);
        function SchemaThemeSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'SchemaThemeSetEvent') || this;
        }
        return SchemaThemeSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaHorizontalGridSetEvent = /** @class */ (function (_super) {
        __extends(SchemaHorizontalGridSetEvent, _super);
        function SchemaHorizontalGridSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'SchemaHorizontalGridSetEvent') || this;
        }
        return SchemaHorizontalGridSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaVerticalGridSetEvent = /** @class */ (function (_super) {
        __extends(SchemaVerticalGridSetEvent, _super);
        function SchemaVerticalGridSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'SchemaVerticalGridSetEvent') || this;
        }
        return SchemaVerticalGridSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaTopHeaderChangedEvent = /** @class */ (function (_super) {
        __extends(SchemaTopHeaderChangedEvent, _super);
        function SchemaTopHeaderChangedEvent(aggregateId) {
            return _super.call(this, aggregateId, 'SchemaTopHeaderChangedEvent') || this;
        }
        return SchemaTopHeaderChangedEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaBottomHeaderChangedEvent = /** @class */ (function (_super) {
        __extends(SchemaBottomHeaderChangedEvent, _super);
        function SchemaBottomHeaderChangedEvent(aggregateId) {
            return _super.call(this, aggregateId, 'SchemaBottomHeaderChangedEvent') || this;
        }
        return SchemaBottomHeaderChangedEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var RowColoringSetEvent = /** @class */ (function (_super) {
        __extends(RowColoringSetEvent, _super);
        function RowColoringSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'RowColoringSetEvent') || this;
        }
        return RowColoringSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PagingSetEvent = /** @class */ (function (_super) {
        __extends(PagingSetEvent, _super);
        function PagingSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'PagingSetEvent') || this;
        }
        return PagingSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormationSetEvent = /** @class */ (function (_super) {
        __extends(FormationSetEvent, _super);
        function FormationSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'FormationSetEvent') || this;
        }
        return FormationSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ScrollPositionSetEvent = /** @class */ (function (_super) {
        __extends(ScrollPositionSetEvent, _super);
        function ScrollPositionSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'ScrollPositionSetEvent') || this;
        }
        return ScrollPositionSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var OriginSetEvent = /** @class */ (function (_super) {
        __extends(OriginSetEvent, _super);
        function OriginSetEvent(aggregateId, origin) {
            var _this = _super.call(this, aggregateId, 'OriginSetEvent') || this;
            _this.origin = origin;
            return _this;
        }
        /**
         * @return {?}
         */
        OriginSetEvent.prototype.getOrigin = /**
         * @return {?}
         */
        function () {
            return this.origin;
        };
        return OriginSetEvent;
    }(hermes.DomainEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        OriginSetEvent.prototype.origin;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureFilterToggledEvent = /** @class */ (function (_super) {
        __extends(StructureFilterToggledEvent, _super);
        function StructureFilterToggledEvent(aggregateId) {
            return _super.call(this, aggregateId, 'StructureFilterToggledEvent') || this;
        }
        return StructureFilterToggledEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSearchPhraseSetDomainEvent = /** @class */ (function (_super) {
        __extends(StructureSearchPhraseSetDomainEvent, _super);
        function StructureSearchPhraseSetDomainEvent(aggregateId, phrase) {
            var _this = _super.call(this, aggregateId, 'StructureSearchPhraseSetDomainEvent') || this;
            _this.phrase = phrase;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureSearchPhraseSetDomainEvent.prototype.getPhrase = /**
         * @return {?}
         */
        function () {
            return this.phrase;
        };
        return StructureSearchPhraseSetDomainEvent;
    }(hermes.DomainEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSearchPhraseSetDomainEvent.prototype.phrase;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InMemoryStructureRepository = /** @class */ (function (_super) {
        __extends(InMemoryStructureRepository, _super);
        function InMemoryStructureRepository(domainEventBus, inMemoryStructureQueryStore) {
            var _this = _super.call(this) || this;
            _this.domainEventBus = domainEventBus;
            _this.inMemoryStructureQueryStore = inMemoryStructureQueryStore;
            _this.structureIdToStructure = new Map();
            _this.structure$ = new rxjs.ReplaySubject(1);
            _this.unsubscribe$ = new rxjs.Subject();
            _this.domainEventBus
                .ofEvent(StructureInitedEvent, SetSourceLoadingEvent, SchemaSetEvent, SchemaThemeSetEvent, SchemaHorizontalGridSetEvent, SchemaVerticalGridSetEvent, SchemaTopHeaderChangedEvent, SchemaBottomHeaderChangedEvent, RowColoringSetEvent, PagingSetEvent, PrevPageEvent, NextPageEvent, PagesizeChangedEvent, FormationSetEvent, SelectedRowToggledEvent, VerticalScrollEnabledSetEvent, ScrollPositionSetEvent, (/** @type {?} */ (SortToggledEvent)), StructureFilterToggledEvent, StructureSearchPhraseSetDomainEvent, (/** @type {?} */ (SortOrderSetEvent)), (/** @type {?} */ (OriginSetEvent)), RowHeightSetEvent)
                .pipe(operators.takeUntil(_this.unsubscribe$))
                .subscribe((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                /** @type {?} */
                var aggregateId = event.aggregateId;
                /** @type {?} */
                var structure = _this.inMemoryStructureQueryStore.getById(aggregateId);
                /** @type {?} */
                var key = structure.getId().toString();
                _this.structureIdToStructure.set(key, structure);
                _this.structure$.next(_this.structureIdToStructure);
            }));
            return _this;
        }
        /**
         * @return {?}
         */
        InMemoryStructureRepository.prototype.ngOnDestroy = /**
         * @return {?}
         */
        function () {
            this.unsubscribe$.next();
            this.unsubscribe$.complete();
        };
        /**
         * @param {?} aggregateId
         * @return {?}
         */
        InMemoryStructureRepository.prototype.onStructure = /**
         * @param {?} aggregateId
         * @return {?}
         */
        function (aggregateId) {
            return this.structure$
                .asObservable()
                .pipe(operators.filter((/**
             * @param {?} structureIdToStructure
             * @return {?}
             */
            function (structureIdToStructure) {
                /** @type {?} */
                var key = aggregateId.getId();
                return structureIdToStructure.has(key);
            })), operators.map((/**
             * @param {?} structureIdToStructure
             * @return {?}
             */
            function (structureIdToStructure) { return structureIdToStructure.get(aggregateId.getId()); })));
        };
        InMemoryStructureRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        InMemoryStructureRepository.ctorParameters = function () { return [
            { type: hermes.DomainEventBus },
            { type: InMemoryStructureReadStore }
        ]; };
        return InMemoryStructureRepository;
    }(StructureRepository));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        InMemoryStructureRepository.prototype.structureIdToStructure;
        /**
         * @type {?}
         * @private
         */
        InMemoryStructureRepository.prototype.structure$;
        /**
         * @type {?}
         * @private
         */
        InMemoryStructureRepository.prototype.unsubscribe$;
        /**
         * @type {?}
         * @private
         */
        InMemoryStructureRepository.prototype.domainEventBus;
        /**
         * @type {?}
         * @private
         */
        InMemoryStructureRepository.prototype.inMemoryStructureQueryStore;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var inMemoryStructureCommandProviders = [
        InMemoryStructureAggregateStore,
        {
            provide: StructureAggregateRepository,
            useClass: InMemoryStructureAggregateRepository
        }
    ];
    /** @type {?} */
    var inMemoryStructureReadProviders = [
        InMemoryStructureReadStore,
        {
            provide: StructureRepository,
            useClass: InMemoryStructureRepository
        }
    ];
    /** @type {?} */
    var inMemoryStructureProviders = [
        InMemoryStructureStore
    ];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var OriginItemEntity = /** @class */ (function () {
        function OriginItemEntity(id, rawData, position, version) {
            if (version === void 0) { version = 0; }
            this.id = id;
            this.rawData = rawData;
            this.position = position;
            this.version = version;
        }
        /**
         * @return {?}
         */
        OriginItemEntity.prototype.getData = /**
         * @return {?}
         */
        function () {
            return this.rawData;
        };
        /**
         * @return {?}
         */
        OriginItemEntity.prototype.getVersion = /**
         * @return {?}
         */
        function () {
            return this.version;
        };
        /**
         * @return {?}
         */
        OriginItemEntity.prototype.getPosition = /**
         * @return {?}
         */
        function () {
            return this.position;
        };
        /**
         * @return {?}
         */
        OriginItemEntity.prototype.bumpVersion = /**
         * @return {?}
         */
        function () {
            this.version += 1;
        };
        /**
         * @param {?} position
         * @return {?}
         */
        OriginItemEntity.prototype.setPosition = /**
         * @param {?} position
         * @return {?}
         */
        function (position) {
            this.position = position;
        };
        /**
         * @return {?}
         */
        OriginItemEntity.prototype.clone = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var rawData = __assign({}, this.rawData);
            return new OriginItemEntity(this.id, rawData, this.version);
        };
        return OriginItemEntity;
    }());
    if (false) {
        /** @type {?} */
        OriginItemEntity.prototype.id;
        /** @type {?} */
        OriginItemEntity.prototype.rawData;
        /**
         * @type {?}
         * @private
         */
        OriginItemEntity.prototype.version;
        /**
         * @type {?}
         * @private
         */
        OriginItemEntity.prototype.position;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSourceItemEditedAggregateEvent = /** @class */ (function (_super) {
        __extends(StructureSourceItemEditedAggregateEvent, _super);
        function StructureSourceItemEditedAggregateEvent(aggregateId, beforeItem, afterItem) {
            var _this = _super.call(this, aggregateId, 'StructureSourceItemEditedAggregateEvent') || this;
            _this.beforeItem = beforeItem;
            _this.afterItem = afterItem;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureSourceItemEditedAggregateEvent.prototype.getBeforeItem = /**
         * @return {?}
         */
        function () {
            return this.beforeItem;
        };
        /**
         * @return {?}
         */
        StructureSourceItemEditedAggregateEvent.prototype.getAfterItem = /**
         * @return {?}
         */
        function () {
            return this.afterItem;
        };
        return StructureSourceItemEditedAggregateEvent;
    }(hermes.AggregateEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSourceItemEditedAggregateEvent.prototype.beforeItem;
        /**
         * @type {?}
         * @private
         */
        StructureSourceItemEditedAggregateEvent.prototype.afterItem;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureOriginChangedAggregateEvent = /** @class */ (function (_super) {
        __extends(StructureOriginChangedAggregateEvent, _super);
        function StructureOriginChangedAggregateEvent(aggregateId, origin) {
            var _this = _super.call(this, aggregateId, 'StructureOriginChangedAggregateEvent') || this;
            _this.origin = origin;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureOriginChangedAggregateEvent.prototype.getOrigin = /**
         * @return {?}
         */
        function () {
            return this.origin;
        };
        return StructureOriginChangedAggregateEvent;
    }(hermes.AggregateEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureOriginChangedAggregateEvent.prototype.origin;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SourceManager = /** @class */ (function () {
        function SourceManager() {
            this.loading = false;
            this.fetched = false;
            this.entities = [];
            // Entities after filtering, searching
            this.preparedEntities = [];
            this.slicedEntities = [];
        }
        /**
         * @return {?}
         */
        SourceManager.prototype.isLoading = /**
         * @return {?}
         */
        function () {
            return this.loading;
        };
        /**
         * @return {?}
         */
        SourceManager.prototype.isFetched = /**
         * @return {?}
         */
        function () {
            return this.fetched;
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        SourceManager.prototype.setLoading = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.loading = enabled;
        };
        /**
         * @param {?} ent
         * @return {?}
         */
        SourceManager.prototype.setEntities = /**
         * @param {?} ent
         * @return {?}
         */
        function (ent) {
            this.entities = ent;
            this.recalculatePositions();
        };
        /**
         * @return {?}
         */
        SourceManager.prototype.getEntities = /**
         * @return {?}
         */
        function () {
            return this.entities;
        };
        /**
         * @return {?}
         */
        SourceManager.prototype.setPreparedEntities = /**
         * @return {?}
         */
        function () {
            this.preparedEntities = __spread(this.entities);
        };
        /**
         * @return {?}
         */
        SourceManager.prototype.getPreparedEntities = /**
         * @return {?}
         */
        function () {
            return this.preparedEntities;
        };
        /**
         * @param {?} ent
         * @return {?}
         */
        SourceManager.prototype.setSlicedEntities = /**
         * @param {?} ent
         * @return {?}
         */
        function (ent) {
            this.slicedEntities = ent;
        };
        /**
         * @return {?}
         */
        SourceManager.prototype.getSlicedEntities = /**
         * @return {?}
         */
        function () {
            return this.slicedEntities;
        };
        /**
         * @param {?=} items
         * @param {?=} structureId
         * @return {?}
         */
        SourceManager.prototype.setOrigin = /**
         * @param {?=} items
         * @param {?=} structureId
         * @return {?}
         */
        function (items, structureId) {
            if (items === void 0) { items = []; }
            this.origin = this.convertItems(items);
            return this.createOriginChangedEvent(structureId);
        };
        /**
         * @param {?=} items
         * @param {?=} structureId
         * @return {?}
         */
        SourceManager.prototype.setConvertedOrigin = /**
         * @param {?=} items
         * @param {?=} structureId
         * @return {?}
         */
        function (items, structureId) {
            if (items === void 0) { items = []; }
            this.origin = items;
            return this.createOriginChangedEvent(structureId);
        };
        /**
         * @return {?}
         */
        SourceManager.prototype.getOrigin = /**
         * @return {?}
         */
        function () {
            return this.origin;
        };
        /**
         * @return {?}
         */
        SourceManager.prototype.getOriginSize = /**
         * @return {?}
         */
        function () {
            return this.origin.length;
        };
        // editOriginItemByProperty(byField, value: any, field: Field, structureId: StructureId): AggregateEvent {
        //
        // }
        // editOriginItemByProperty(byField, value: any, field: Field, structureId: StructureId): AggregateEvent {
        //
        // }
        /**
         * @param {?} itemId
         * @param {?} value
         * @param {?} field
         * @param {?} structureId
         * @return {?}
         */
        SourceManager.prototype.editOriginItem = 
        // editOriginItemByProperty(byField, value: any, field: Field, structureId: StructureId): AggregateEvent {
        //
        // }
        /**
         * @param {?} itemId
         * @param {?} value
         * @param {?} field
         * @param {?} structureId
         * @return {?}
         */
        function (itemId, value, field, structureId) {
            /** @type {?} */
            var item = this.findOriginItem(itemId);
            /** @type {?} */
            var itemBeforeChange = item.clone();
            if (item) {
                item.rawData[field.getAccessor()] = value;
                item.bumpVersion();
            }
            return [
                new StructureSourceItemEditedAggregateEvent(structureId, itemBeforeChange, item.clone()),
                this.createOriginChangedEvent(structureId)
            ];
        };
        /**
         * @param {?} itemId
         * @param {?} structureId
         * @return {?}
         */
        SourceManager.prototype.removeOriginItem = /**
         * @param {?} itemId
         * @param {?} structureId
         * @return {?}
         */
        function (itemId, structureId) {
            /** @type {?} */
            var index = this.findOriginItemIndex(itemId);
            if (index > -1) {
                this.origin.splice(index, 1);
                return [this.createOriginChangedEvent(structureId)];
            }
            return [];
        };
        /**
         * @private
         * @param {?} items
         * @return {?}
         */
        SourceManager.prototype.convertItems = /**
         * @private
         * @param {?} items
         * @return {?}
         */
        function (items) {
            return items.map((/**
             * @param {?} item
             * @param {?} index
             * @return {?}
             */
            function (item, index) {
                return new OriginItemEntity(hermes.RandomStringGenerator.generate(), item, index);
            }));
        };
        /**
         * @private
         * @param {?} structureId
         * @return {?}
         */
        SourceManager.prototype.createOriginChangedEvent = /**
         * @private
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return new StructureOriginChangedAggregateEvent(structureId, this.origin);
        };
        /**
         * @private
         * @param {?} itemId
         * @return {?}
         */
        SourceManager.prototype.findOriginItem = /**
         * @private
         * @param {?} itemId
         * @return {?}
         */
        function (itemId) {
            return this.origin.find((/**
             * @param {?} item
             * @return {?}
             */
            function (item) { return item.id === itemId; }));
        };
        /**
         * @private
         * @param {?} itemId
         * @return {?}
         */
        SourceManager.prototype.findOriginItemIndex = /**
         * @private
         * @param {?} itemId
         * @return {?}
         */
        function (itemId) {
            return this.origin.findIndex((/**
             * @param {?} item
             * @return {?}
             */
            function (item) { return item.id === itemId; }));
        };
        /**
         * @private
         * @return {?}
         */
        SourceManager.prototype.recalculatePositions = /**
         * @private
         * @return {?}
         */
        function () {
            this.entities.forEach((/**
             * @param {?} ent
             * @param {?} index
             * @return {?}
             */
            function (ent, index) {
                ent.setPosition(index);
            }));
        };
        return SourceManager;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SourceManager.prototype.loading;
        /**
         * @type {?}
         * @private
         */
        SourceManager.prototype.fetched;
        /**
         * @type {?}
         * @private
         */
        SourceManager.prototype.origin;
        /**
         * @type {?}
         * @private
         */
        SourceManager.prototype.entities;
        /**
         * @type {?}
         * @private
         */
        SourceManager.prototype.preparedEntities;
        /**
         * @type {?}
         * @private
         */
        SourceManager.prototype.slicedEntities;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SourceManagerFactory = /** @class */ (function () {
        function SourceManagerFactory() {
        }
        /**
         * @return {?}
         */
        SourceManagerFactory.prototype.createDefault = /**
         * @return {?}
         */
        function () {
            return new SourceManager();
        };
        /**
         * @return {?}
         */
        SourceManagerFactory.prototype.create = /**
         * @return {?}
         */
        function () {
            return new SourceManager();
        };
        SourceManagerFactory.decorators = [
            { type: core.Injectable }
        ];
        return SourceManagerFactory;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var VerticalRange = /** @class */ (function () {
        function VerticalRange(start, end) {
            this.start = start;
            this.end = end;
        }
        /**
         * @return {?}
         */
        VerticalRange.prototype.getStart = /**
         * @return {?}
         */
        function () {
            return this.start;
        };
        /**
         * @return {?}
         */
        VerticalRange.prototype.getEnd = /**
         * @return {?}
         */
        function () {
            return this.end;
        };
        return VerticalRange;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        VerticalRange.prototype.start;
        /**
         * @type {?}
         * @private
         */
        VerticalRange.prototype.end;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var VerticalFormation = /** @class */ (function () {
        function VerticalFormation(enabled, viewportHeight, sourceSize, scrollPosition, rowHeight, hiddenItemsTop, hiddenItemsBottom) {
            if (enabled === void 0) { enabled = false; }
            if (viewportHeight === void 0) { viewportHeight = 0; }
            if (sourceSize === void 0) { sourceSize = 0; }
            if (scrollPosition === void 0) { scrollPosition = 0; }
            this.enabled = enabled;
            this.rowHeight = 30;
            this.hiddenItemsTop = 0;
            this.hiddenItemsBottom = 1;
            this.viewportHeight = viewportHeight;
            this.sourceSize = sourceSize;
            this.scrollPosition = scrollPosition;
            if (Number.isInteger(rowHeight)) {
                this.rowHeight = rowHeight;
            }
            if (Number.isInteger(hiddenItemsTop)) {
                this.hiddenItemsTop = hiddenItemsTop;
            }
            if (Number.isInteger(hiddenItemsBottom)) {
                this.hiddenItemsBottom = hiddenItemsBottom;
            }
            this.calculateRange();
        }
        /**
         * @return {?}
         */
        VerticalFormation.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled &&
                this.viewportHeight > 0 &&
                this.sourceSize > 0;
        };
        /**
         * @return {?}
         */
        VerticalFormation.prototype.getRowHeight = /**
         * @return {?}
         */
        function () {
            return this.rowHeight;
        };
        /**
         * @return {?}
         */
        VerticalFormation.prototype.getRange = /**
         * @return {?}
         */
        function () {
            return this.range;
        };
        /**
         * @return {?}
         */
        VerticalFormation.prototype.getTopMargin = /**
         * @return {?}
         */
        function () {
            return this.range.getStart() * this.rowHeight;
        };
        /**
         * @return {?}
         */
        VerticalFormation.prototype.calculateRange = /**
         * @return {?}
         */
        function () {
            if (this.calcFullHeight() <= this.viewportHeight) {
                this.range = new VerticalRange(0, this.sourceSize);
                return;
            }
            /** @type {?} */
            var itemsInViewport = Math.floor(this.viewportHeight / this.rowHeight);
            /** @type {?} */
            var hiddenElements = Math.floor(this.scrollPosition / this.rowHeight);
            /** @type {?} */
            var topMargin = Math.abs(hiddenElements - this.hiddenItemsTop) * this.rowHeight;
            /** @type {?} */
            var start = (hiddenElements - this.hiddenItemsTop);
            /** @type {?} */
            var viewportElements = Math.ceil(this.viewportHeight / this.rowHeight);
            /** @type {?} */
            var end = start + viewportElements + this.hiddenItemsBottom;
            if (end > this.sourceSize) {
                end = this.sourceSize;
                start = end - itemsInViewport;
            }
            this.range = new VerticalRange(start, end);
            return {
                start: start,
                end: end,
                topMargin: topMargin
            };
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        VerticalFormation.prototype.setEnabled = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.enabled = enabled;
            // TODO dispatch aggregate event
            if (this.enabled && this.viewportHeight === 0) {
                this.logger.warn('Height needs to be specified in order for virtual scroll to work.');
            }
            this.calculateRange();
        };
        /**
         * @param {?=} sourceSize
         * @return {?}
         */
        VerticalFormation.prototype.setSourceSize = /**
         * @param {?=} sourceSize
         * @return {?}
         */
        function (sourceSize) {
            if (sourceSize === void 0) { sourceSize = 0; }
            this.sourceSize = sourceSize;
            this.calculateRange();
        };
        /**
         * @param {?} count
         * @return {?}
         */
        VerticalFormation.prototype.setTopHiddenItemsCount = /**
         * @param {?} count
         * @return {?}
         */
        function (count) {
            this.hiddenItemsTop = count;
            this.calculateRange();
        };
        /**
         * @param {?} count
         * @return {?}
         */
        VerticalFormation.prototype.setBottomHiddenItemsCount = /**
         * @param {?} count
         * @return {?}
         */
        function (count) {
            this.hiddenItemsBottom = count;
            this.calculateRange();
        };
        /**
         * @param {?} scrollPosition
         * @return {?}
         */
        VerticalFormation.prototype.setScrollPosition = /**
         * @param {?} scrollPosition
         * @return {?}
         */
        function (scrollPosition) {
            this.scrollPosition = scrollPosition;
            this.calculateRange();
        };
        /**
         * @param {?} height
         * @return {?}
         */
        VerticalFormation.prototype.setViewportHeight = /**
         * @param {?} height
         * @return {?}
         */
        function (height) {
            this.viewportHeight = height;
            this.calculateRange();
        };
        /**
         * @param {?} height
         * @return {?}
         */
        VerticalFormation.prototype.setRowHeight = /**
         * @param {?} height
         * @return {?}
         */
        function (height) {
            this.rowHeight = height;
            this.calculateRange();
        };
        /**
         * @param {?} logger
         * @return {?}
         */
        VerticalFormation.prototype.setLogger = /**
         * @param {?} logger
         * @return {?}
         */
        function (logger) {
            this.logger = logger;
        };
        /**
         * @return {?}
         */
        VerticalFormation.prototype.calcFullHeight = /**
         * @return {?}
         */
        function () {
            return this.sourceSize * this.rowHeight;
        };
        /**
         * @return {?}
         */
        VerticalFormation.prototype.getViewPortHeight = /**
         * @return {?}
         */
        function () {
            return this.viewportHeight;
        };
        return VerticalFormation;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        VerticalFormation.prototype.rowHeight;
        /**
         * @type {?}
         * @private
         */
        VerticalFormation.prototype.hiddenItemsTop;
        /**
         * @type {?}
         * @private
         */
        VerticalFormation.prototype.hiddenItemsBottom;
        /**
         * @type {?}
         * @private
         */
        VerticalFormation.prototype.viewportHeight;
        /**
         * @type {?}
         * @private
         */
        VerticalFormation.prototype.scrollPosition;
        /**
         * @type {?}
         * @private
         */
        VerticalFormation.prototype.range;
        /**
         * @type {?}
         * @private
         */
        VerticalFormation.prototype.sourceSize;
        /**
         * @type {?}
         * @private
         */
        VerticalFormation.prototype.logger;
        /**
         * @type {?}
         * @private
         */
        VerticalFormation.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var VerticalFormationFactory = /** @class */ (function () {
        function VerticalFormationFactory(logger) {
            this.logger = logger;
        }
        /**
         * @param {?=} enabled
         * @param {?=} viewportHeight
         * @param {?=} sourceSize
         * @param {?=} scrollPosition
         * @param {?=} rowHeight
         * @param {?=} hiddenItemsTop
         * @param {?=} hiddenItemsBottom
         * @return {?}
         */
        VerticalFormationFactory.prototype.create = /**
         * @param {?=} enabled
         * @param {?=} viewportHeight
         * @param {?=} sourceSize
         * @param {?=} scrollPosition
         * @param {?=} rowHeight
         * @param {?=} hiddenItemsTop
         * @param {?=} hiddenItemsBottom
         * @return {?}
         */
        function (enabled, viewportHeight, sourceSize, scrollPosition, rowHeight, hiddenItemsTop, hiddenItemsBottom) {
            if (enabled === void 0) { enabled = false; }
            if (viewportHeight === void 0) { viewportHeight = 0; }
            if (sourceSize === void 0) { sourceSize = 0; }
            if (scrollPosition === void 0) { scrollPosition = 0; }
            /** @type {?} */
            var vf = new VerticalFormation(enabled, viewportHeight, sourceSize, scrollPosition, rowHeight, hiddenItemsTop, hiddenItemsBottom);
            vf.setLogger(this.logger);
            return vf;
        };
        VerticalFormationFactory.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        VerticalFormationFactory.ctorParameters = function () { return [
            { type: Logger }
        ]; };
        return VerticalFormationFactory;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        VerticalFormationFactory.prototype.logger;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var AGGREGATION_CALCULATORS = 'GUI - Aggregation Calculators';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregationsChangedAggregateEvent = /** @class */ (function (_super) {
        __extends(StructureAggregationsChangedAggregateEvent, _super);
        function StructureAggregationsChangedAggregateEvent(aggregateId, aggregatedValues) {
            var _this = _super.call(this, aggregateId, 'StructureAggregationsChangedAggregateEvent') || this;
            _this.aggregatedValues = aggregatedValues;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureAggregationsChangedAggregateEvent.prototype.getAggregations = /**
         * @return {?}
         */
        function () {
            return this.aggregatedValues;
        };
        return StructureAggregationsChangedAggregateEvent;
    }(hermes.AggregateEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureAggregationsChangedAggregateEvent.prototype.aggregatedValues;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AggregationManager = /** @class */ (function () {
        function AggregationManager(structureId, calculators) {
            this.calculators = calculators;
            this.enabled = false;
            this.values = new Map();
            this.structureId = structureId;
        }
        /**
         * @param {?} fields
         * @param {?} entities
         * @return {?}
         */
        AggregationManager.prototype.calculate = /**
         * @param {?} fields
         * @param {?} entities
         * @return {?}
         */
        function (fields, entities) {
            if (!this.enabled) {
                return [];
            }
            /** @type {?} */
            var calculations = new Map();
            this.calculators.forEach((/**
             * @param {?} calc
             * @return {?}
             */
            function (calc) {
                /** @type {?} */
                var aggregatedValues = calc.calculate(fields, entities);
                if (aggregatedValues) {
                    Array.from(aggregatedValues.keys())
                        .forEach((/**
                     * @param {?} key
                     * @return {?}
                     */
                    function (key) {
                        calculations.set(key, aggregatedValues.get(key));
                    }));
                }
            }));
            if (calculations.size > 0) {
                return [
                    new StructureAggregationsChangedAggregateEvent(this.structureId, calculations)
                ];
            }
            else {
                return [];
            }
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        AggregationManager.prototype.setEnabled = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.enabled = enabled;
        };
        /**
         * @return {?}
         */
        AggregationManager.prototype.add = /**
         * @return {?}
         */
        function () {
        };
        /**
         * @return {?}
         */
        AggregationManager.prototype.remove = /**
         * @return {?}
         */
        function () {
        };
        /**
         * @return {?}
         */
        AggregationManager.prototype.update = /**
         * @return {?}
         */
        function () {
        };
        return AggregationManager;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        AggregationManager.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        AggregationManager.prototype.enabled;
        /**
         * @type {?}
         * @private
         */
        AggregationManager.prototype.values;
        /**
         * @type {?}
         * @private
         */
        AggregationManager.prototype.calculators;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var AggregationManagerFactory = /** @class */ (function () {
        function AggregationManagerFactory(calculators) {
            this.calculators = calculators;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        AggregationManagerFactory.prototype.create = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return new AggregationManager(structureId, this.calculators);
        };
        AggregationManagerFactory.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        AggregationManagerFactory.ctorParameters = function () { return [
            { type: Array, decorators: [{ type: core.Inject, args: [AGGREGATION_CALCULATORS,] }] }
        ]; };
        return AggregationManagerFactory;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        AggregationManagerFactory.prototype.calculators;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureFilter = /** @class */ (function () {
        function StructureFilter(id, field, filterValue) {
            this.filterId = id;
            this.field = field;
            this.filterValue = filterValue;
        }
        /**
         * @return {?}
         */
        StructureFilter.prototype.getFieldId = /**
         * @return {?}
         */
        function () {
            return this.field.getId();
        };
        /**
         * @return {?}
         */
        StructureFilter.prototype.getFilterValue = /**
         * @return {?}
         */
        function () {
            return this.filterValue;
        };
        /**
         * @param {?} filterValue
         * @return {?}
         */
        StructureFilter.prototype.setFilterValue = /**
         * @param {?} filterValue
         * @return {?}
         */
        function (filterValue) {
            this.filterValue = filterValue;
        };
        // Move to container
        // Move to container
        /**
         * @param {?} entities
         * @return {?}
         */
        StructureFilter.prototype.filter = 
        // Move to container
        /**
         * @param {?} entities
         * @return {?}
         */
        function (entities) {
            var _this = this;
            if (entities.length === 0) {
                return entities;
            }
            return entities.filter((/**
             * @param {?} item
             * @return {?}
             */
            function (item) {
                if (_this.field.getDataType() === DataType.STRING) {
                    return _this.filterString(item);
                }
                else if (_this.field.getDataType() === DataType.NUMBER) {
                    return _this.filterNumber(item);
                }
                else if (_this.field.getDataType() === DataType.BOOLEAN) {
                    return _this.filterBoolean(item);
                }
                else {
                    return true;
                }
            }));
        };
        /**
         * @private
         * @param {?} item
         * @return {?}
         */
        StructureFilter.prototype.filterString = /**
         * @private
         * @param {?} item
         * @return {?}
         */
        function (item) {
            /** @type {?} */
            var value = this.field.getValue(item);
            if (typeof value === 'string') {
                return value.toLowerCase().indexOf(this.filterValue.toLowerCase()) > -1;
            }
            else {
                return true;
            }
        };
        /**
         * @private
         * @param {?} item
         * @return {?}
         */
        StructureFilter.prototype.filterNumber = /**
         * @private
         * @param {?} item
         * @return {?}
         */
        function (item) {
            /** @type {?} */
            var numberValue = this.field.getValue(item);
            return numberValue > this.filterValue;
        };
        /**
         * @private
         * @param {?} item
         * @return {?}
         */
        StructureFilter.prototype.filterBoolean = /**
         * @private
         * @param {?} item
         * @return {?}
         */
        function (item) {
            /** @type {?} */
            var booleanValue = this.field.getValue(item);
            return booleanValue === this.filterValue;
        };
        return StructureFilter;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureFilter.prototype.filterId;
        /**
         * @type {?}
         * @private
         */
        StructureFilter.prototype.field;
        /**
         * @type {?}
         * @private
         */
        StructureFilter.prototype.filterValue;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FilterId = /** @class */ (function () {
        function FilterId(field, filterId) {
            /** @type {?} */
            var fieldId = field.getId().toString();
            this.id = fieldId + '@' + filterId;
        }
        /**
         * @return {?}
         */
        FilterId.prototype.getId = /**
         * @return {?}
         */
        function () {
            return this.id;
        };
        return FilterId;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FilterId.prototype.id;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FilterSettings = /** @class */ (function () {
        function FilterSettings(filteringEnabled, searchEnabled, quickFiltersEnabled) {
            if (filteringEnabled === void 0) { filteringEnabled = false; }
            if (searchEnabled === void 0) { searchEnabled = false; }
            if (quickFiltersEnabled === void 0) { quickFiltersEnabled = false; }
            this.filteringEnabled = false;
            this.searchEnabled = false;
            this.quickFiltersEnabled = false;
            this.filteringEnabled = filteringEnabled;
            this.searchEnabled = searchEnabled;
            this.quickFiltersEnabled = quickFiltersEnabled;
        }
        /**
         * @return {?}
         */
        FilterSettings.prototype.isFilteringEnabled = /**
         * @return {?}
         */
        function () {
            return this.filteringEnabled;
        };
        /**
         * @return {?}
         */
        FilterSettings.prototype.isQuickFilteringEnabled = /**
         * @return {?}
         */
        function () {
            return this.quickFiltersEnabled;
        };
        /**
         * @return {?}
         */
        FilterSettings.prototype.isSearchingEnabled = /**
         * @return {?}
         */
        function () {
            return this.searchEnabled;
        };
        /**
         * @param {?} config
         * @return {?}
         */
        FilterSettings.prototype.setFilterConfig = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            if (config && config.enabled !== undefined && config.enabled !== null) {
                this.filteringEnabled = config.enabled;
            }
        };
        /**
         * @param {?} config
         * @return {?}
         */
        FilterSettings.prototype.setSearchingConfig = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            if (config && config.enabled !== undefined && config.enabled !== null) {
                this.searchEnabled = config.enabled;
            }
        };
        /**
         * @param {?} config
         * @return {?}
         */
        FilterSettings.prototype.setQuickFiltersConfig = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            if (config && config.enabled !== undefined && config.enabled !== null) {
                this.quickFiltersEnabled = config.enabled;
            }
        };
        return FilterSettings;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FilterSettings.prototype.filteringEnabled;
        /**
         * @type {?}
         * @private
         */
        FilterSettings.prototype.searchEnabled;
        /**
         * @type {?}
         * @private
         */
        FilterSettings.prototype.quickFiltersEnabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FilterManager = /** @class */ (function () {
        function FilterManager() {
            this.filterSettings = new FilterSettings();
            this.filters = new Map();
        }
        /**
         * @return {?}
         */
        FilterManager.prototype.getAll = /**
         * @return {?}
         */
        function () {
            return Array.from(this.filters)
                .map((/**
             * @param {?} arr
             * @return {?}
             */
            function (arr) { return arr[1]; }));
        };
        /**
         * @return {?}
         */
        FilterManager.prototype.getSettings = /**
         * @return {?}
         */
        function () {
            return this.filterSettings;
        };
        /**
         * @param {?} field
         * @param {?} externalFilterId
         * @param {?} filterValue
         * @return {?}
         */
        FilterManager.prototype.addFilter = /**
         * @param {?} field
         * @param {?} externalFilterId
         * @param {?} filterValue
         * @return {?}
         */
        function (field, externalFilterId, filterValue) {
            /** @type {?} */
            var filterId = new FilterId(field, externalFilterId);
            /** @type {?} */
            var filter = new StructureFilter(filterId, field, filterValue);
            if (filterValue === '') {
                this.filters.delete(filterId.getId());
            }
            else {
                this.filters.set(filterId.getId(), filter);
            }
        };
        /**
         * @param {?} entities
         * @return {?}
         */
        FilterManager.prototype.filter = /**
         * @param {?} entities
         * @return {?}
         */
        function (entities) {
            var e_1, _a;
            /** @type {?} */
            var filters = this.getAll();
            /** @type {?} */
            var filteredEntities = __spread(entities);
            try {
                for (var filters_1 = __values(filters), filters_1_1 = filters_1.next(); !filters_1_1.done; filters_1_1 = filters_1.next()) {
                    var filter = filters_1_1.value;
                    filteredEntities = filter.filter(filteredEntities);
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (filters_1_1 && !filters_1_1.done && (_a = filters_1.return)) _a.call(filters_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
            return filteredEntities;
        };
        return FilterManager;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FilterManager.prototype.filterSettings;
        /**
         * @type {?}
         * @private
         */
        FilterManager.prototype.filters;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FilterManagerFactory = /** @class */ (function () {
        function FilterManagerFactory() {
        }
        /**
         * @param {?=} enabled
         * @return {?}
         */
        FilterManagerFactory.prototype.create = /**
         * @param {?=} enabled
         * @return {?}
         */
        function (enabled) {
            if (enabled === void 0) { enabled = false; }
            return new FilterManager();
        };
        FilterManagerFactory.decorators = [
            { type: core.Injectable }
        ];
        return FilterManagerFactory;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FieldIdGenerator = /** @class */ (function () {
        function FieldIdGenerator() {
        }
        /**
         * @return {?}
         */
        FieldIdGenerator.prototype.generateId = /**
         * @return {?}
         */
        function () {
            /** @type {?} */
            var id = hermes.RandomStringGenerator.generate();
            return new FieldId(id);
        };
        return FieldIdGenerator;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var /**
     * @abstract
     */
    Field = /** @class */ (function () {
        function Field(id, accessor, dataType, aggregationConfig) {
            this.aggregationEnabled = true;
            this.id = id;
            this.accessor = accessor;
            this.dataType = dataType;
            if (typeof accessor === 'string') {
                this.accessorMethod = (/**
                 * @param {?} entity
                 * @return {?}
                 */
                function (entity) { return entity.getData()[accessor]; });
            }
            else if (typeof accessor === 'function') {
                this.accessorMethod = (/**
                 * @param {?} entity
                 * @return {?}
                 */
                function (entity) { return accessor(entity.getData()); });
            }
            this.possibleAggregations = this.assignPossibleAggregations();
            this.assignAggregations(aggregationConfig);
        }
        /**
         * @return {?}
         */
        Field.prototype.getId = /**
         * @return {?}
         */
        function () {
            return this.id;
        };
        /**
         * @return {?}
         */
        Field.prototype.getKey = /**
         * @return {?}
         */
        function () {
            return this.getId().getId();
        };
        /**
         * @return {?}
         */
        Field.prototype.getDataType = /**
         * @return {?}
         */
        function () {
            return this.dataType;
        };
        /**
         * @return {?}
         */
        Field.prototype.getAccessor = /**
         * @return {?}
         */
        function () {
            return this.accessor;
        };
        /**
         * @return {?}
         */
        Field.prototype.getAccessorMethod = /**
         * @return {?}
         */
        function () {
            return this.accessorMethod;
        };
        /**
         * @param {?} entity
         * @return {?}
         */
        Field.prototype.getValue = /**
         * @param {?} entity
         * @return {?}
         */
        function (entity) {
            return this.accessorMethod(entity);
        };
        /**
         * @param {?} type
         * @return {?}
         */
        Field.prototype.isAggregation = /**
         * @param {?} type
         * @return {?}
         */
        function (type) {
            if (!this.isAggregationEnabled()) {
                return false;
            }
            return !!(this.aggregations & type);
        };
        /**
         * @return {?}
         */
        Field.prototype.isAggregationEnabled = /**
         * @return {?}
         */
        function () {
            return this.aggregationEnabled;
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        Field.prototype.setAggregationEnabled = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.aggregationEnabled = enabled;
        };
        /**
         * @private
         * @param {?} aggregationConfig
         * @return {?}
         */
        Field.prototype.assignAggregations = /**
         * @private
         * @param {?} aggregationConfig
         * @return {?}
         */
        function (aggregationConfig) {
            var _this = this;
            if (!!aggregationConfig && Object.keys(aggregationConfig).length !== 0) {
                if (aggregationConfig.enabled) {
                    this.aggregationEnabled = !!aggregationConfig.enabled;
                }
                if (aggregationConfig.aggregationTypes) {
                    this.aggregations = 0;
                    aggregationConfig.aggregationTypes.forEach((/**
                     * @param {?} t
                     * @return {?}
                     */
                    function (t) {
                        _this.aggregations |= t;
                    }));
                }
                else {
                    this.aggregations = this.assignDefaultAggregations();
                }
            }
            else {
                this.aggregations = this.assignDefaultAggregations();
            }
        };
        return Field;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        Field.prototype.id;
        /**
         * @type {?}
         * @private
         */
        Field.prototype.accessor;
        /**
         * @type {?}
         * @private
         */
        Field.prototype.dataType;
        /**
         * @type {?}
         * @private
         */
        Field.prototype.accessorMethod;
        /**
         * @type {?}
         * @private
         */
        Field.prototype.aggregationEnabled;
        /**
         * @type {?}
         * @private
         */
        Field.prototype.aggregations;
        /**
         * @type {?}
         * @private
         */
        Field.prototype.possibleAggregations;
        /**
         * @abstract
         * @return {?}
         */
        Field.prototype.assignDefaultAggregations = function () { };
        /**
         * @abstract
         * @return {?}
         */
        Field.prototype.assignPossibleAggregations = function () { };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var UnknownField = /** @class */ (function (_super) {
        __extends(UnknownField, _super);
        function UnknownField(id, accessor, aggregationConfig) {
            return _super.call(this, id, accessor, DataType.UNKNOWN, aggregationConfig) || this;
        }
        /**
         * @return {?}
         */
        UnknownField.prototype.assignDefaultAggregations = /**
         * @return {?}
         */
        function () {
            return 0;
            // return AggregationType.COUNT |
            // 	AggregationType.DISTINCT;
        };
        /**
         * @return {?}
         */
        UnknownField.prototype.assignPossibleAggregations = /**
         * @return {?}
         */
        function () {
            return AggregationType.COUNT |
                AggregationType.DISTINCT;
        };
        return UnknownField;
    }(Field));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NumberField = /** @class */ (function (_super) {
        __extends(NumberField, _super);
        function NumberField(id, accessor, aggregationConfig) {
            return _super.call(this, id, accessor, DataType.NUMBER, aggregationConfig) || this;
        }
        /**
         * @return {?}
         */
        NumberField.prototype.assignDefaultAggregations = /**
         * @return {?}
         */
        function () {
            return 0;
            // return AggregationType.COUNT |
            // 	AggregationType.DISTINCT |
            // 	AggregationType.SUM |
            // 	AggregationType.MIN |
            // 	AggregationType.MAX |
            // 	AggregationType.AVERAGE |
            // 	AggregationType.MEDIAN;
        };
        /**
         * @return {?}
         */
        NumberField.prototype.assignPossibleAggregations = /**
         * @return {?}
         */
        function () {
            return AggregationType.COUNT |
                AggregationType.DISTINCT |
                AggregationType.SUM |
                AggregationType.MIN |
                AggregationType.MAX |
                AggregationType.AVERAGE |
                AggregationType.MEDIAN;
        };
        return NumberField;
    }(Field));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StringField = /** @class */ (function (_super) {
        __extends(StringField, _super);
        function StringField(id, accessor, aggregationConfig) {
            return _super.call(this, id, accessor, DataType.STRING, aggregationConfig) || this;
        }
        /**
         * @return {?}
         */
        StringField.prototype.assignDefaultAggregations = /**
         * @return {?}
         */
        function () {
            return 0;
            // return AggregationType.COUNT |
            // 	AggregationType.DISTINCT;
        };
        /**
         * @return {?}
         */
        StringField.prototype.assignPossibleAggregations = /**
         * @return {?}
         */
        function () {
            return AggregationType.COUNT |
                AggregationType.DISTINCT;
        };
        return StringField;
    }(Field));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BooleanField = /** @class */ (function (_super) {
        __extends(BooleanField, _super);
        function BooleanField(id, accessor, aggregationConfig) {
            return _super.call(this, id, accessor, DataType.BOOLEAN, aggregationConfig) || this;
        }
        /**
         * @return {?}
         */
        BooleanField.prototype.assignDefaultAggregations = /**
         * @return {?}
         */
        function () {
            return 0;
            // return AggregationType.COUNT |
            // 	AggregationType.DISTINCT |
            // 	AggregationType.TRUTHY |
            // 	AggregationType.FALSY;
        };
        /**
         * @return {?}
         */
        BooleanField.prototype.assignPossibleAggregations = /**
         * @return {?}
         */
        function () {
            return AggregationType.COUNT |
                AggregationType.DISTINCT |
                AggregationType.TRUTHY |
                AggregationType.FALSY;
        };
        return BooleanField;
    }(Field));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DateField = /** @class */ (function (_super) {
        __extends(DateField, _super);
        function DateField(id, accessor, aggregationConfig) {
            return _super.call(this, id, accessor, DataType.DATE, aggregationConfig) || this;
        }
        /**
         * @return {?}
         */
        DateField.prototype.assignDefaultAggregations = /**
         * @return {?}
         */
        function () {
            return 0;
            // return AggregationType.COUNT |
            // 	AggregationType.DISTINCT;
        };
        /**
         * @return {?}
         */
        DateField.prototype.assignPossibleAggregations = /**
         * @return {?}
         */
        function () {
            return AggregationType.COUNT |
                AggregationType.DISTINCT;
        };
        return DateField;
    }(Field));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FieldFactory = /** @class */ (function () {
        function FieldFactory(fieldIdGenerator) {
            this.fieldIdGenerator = fieldIdGenerator;
        }
        /**
         * @param {?} column
         * @return {?}
         */
        FieldFactory.prototype.create = /**
         * @param {?} column
         * @return {?}
         */
        function (column) {
            /** @type {?} */
            var columnType = column.type;
            if (columnType === undefined) {
                columnType = DataType.STRING;
            }
            if (columnType === DataType.UNKNOWN) {
                return new UnknownField(this.fieldIdGenerator.generateId(), (/** @type {?} */ (column.field)), column.aggregation);
            }
            if (columnType === DataType.NUMBER) {
                return new NumberField(this.fieldIdGenerator.generateId(), (/** @type {?} */ (column.field)), column.aggregation);
            }
            if (columnType === DataType.STRING) {
                return new StringField(this.fieldIdGenerator.generateId(), (/** @type {?} */ (column.field)));
            }
            if (columnType === DataType.BOOLEAN) {
                return new BooleanField(this.fieldIdGenerator.generateId(), (/** @type {?} */ (column.field)));
            }
            if (columnType === DataType.DATE) {
                return new DateField(this.fieldIdGenerator.generateId(), (/** @type {?} */ (column.field)));
            }
        };
        FieldFactory.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        FieldFactory.ctorParameters = function () { return [
            { type: FieldIdGenerator }
        ]; };
        return FieldFactory;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FieldFactory.prototype.fieldIdGenerator;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FieldCollection = /** @class */ (function () {
        function FieldCollection(fieldFactory) {
            this.fieldFactory = fieldFactory;
            this.fields = new Map();
        }
        /**
         * @param {?} fieldId
         * @return {?}
         */
        FieldCollection.prototype.getField = /**
         * @param {?} fieldId
         * @return {?}
         */
        function (fieldId) {
            if (fieldId === null) {
                return this.getAllFields()[0];
            }
            return this.fields.get(fieldId.getId());
        };
        /**
         * @return {?}
         */
        FieldCollection.prototype.getAllFieldIds = /**
         * @return {?}
         */
        function () {
            return Array.from(this.fields.keys());
        };
        /**
         * @return {?}
         */
        FieldCollection.prototype.getAllFields = /**
         * @return {?}
         */
        function () {
            return Array.from(this.fields.values());
        };
        /**
         * @param {?} columns
         * @return {?}
         */
        FieldCollection.prototype.initFields = /**
         * @param {?} columns
         * @return {?}
         */
        function (columns) {
            var _this = this;
            if (!columns) {
                return;
            }
            columns.forEach((/**
             * @param {?} column
             * @return {?}
             */
            function (column) {
                /** @type {?} */
                var field = _this.fieldFactory.create(column);
                _this.addField(field);
            }));
        };
        /**
         * @param {?} fields
         * @return {?}
         */
        FieldCollection.prototype.addFields = /**
         * @param {?} fields
         * @return {?}
         */
        function (fields) {
            var e_1, _a;
            try {
                for (var fields_1 = __values(fields), fields_1_1 = fields_1.next(); !fields_1_1.done; fields_1_1 = fields_1.next()) {
                    var field = fields_1_1.value;
                    this.addField(field);
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (fields_1_1 && !fields_1_1.done && (_a = fields_1.return)) _a.call(fields_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        };
        /**
         * @private
         * @param {?} field
         * @return {?}
         */
        FieldCollection.prototype.addField = /**
         * @private
         * @param {?} field
         * @return {?}
         */
        function (field) {
            this.fields.set(field.getId().toString(), field);
        };
        return FieldCollection;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FieldCollection.prototype.fields;
        /**
         * @type {?}
         * @private
         */
        FieldCollection.prototype.fieldFactory;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FieldCollectionFactory = /** @class */ (function () {
        function FieldCollectionFactory(fieldFactory) {
            this.fieldFactory = fieldFactory;
        }
        /**
         * @return {?}
         */
        FieldCollectionFactory.prototype.create = /**
         * @return {?}
         */
        function () {
            return new FieldCollection(this.fieldFactory);
        };
        FieldCollectionFactory.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        FieldCollectionFactory.ctorParameters = function () { return [
            { type: FieldFactory }
        ]; };
        return FieldCollectionFactory;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FieldCollectionFactory.prototype.fieldFactory;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSorter = /** @class */ (function () {
        function StructureSorter(id, field, direction) {
            if (direction === void 0) { direction = true; }
            this.rank = 1;
            this.sorterId = id;
            this.field = field;
            this.direction = direction;
        }
        /**
         * @return {?}
         */
        StructureSorter.prototype.getId = /**
         * @return {?}
         */
        function () {
            return this.sorterId;
        };
        /**
         * @return {?}
         */
        StructureSorter.prototype.getRank = /**
         * @return {?}
         */
        function () {
            return this.rank;
        };
        /**
         * @return {?}
         */
        StructureSorter.prototype.getField = /**
         * @return {?}
         */
        function () {
            return this.field;
        };
        /**
         * @return {?}
         */
        StructureSorter.prototype.hasDirection = /**
         * @return {?}
         */
        function () {
            return this.direction;
        };
        /**
         * @return {?}
         */
        StructureSorter.prototype.changeDirection = /**
         * @return {?}
         */
        function () {
            this.direction = !this.direction;
        };
        /**
         * @param {?} direction
         * @return {?}
         */
        StructureSorter.prototype.setDirection = /**
         * @param {?} direction
         * @return {?}
         */
        function (direction) {
            this.direction = direction;
        };
        /**
         * @param {?} entities
         * @return {?}
         */
        StructureSorter.prototype.sort = /**
         * @param {?} entities
         * @return {?}
         */
        function (entities) {
            var _this = this;
            if (entities.length === 0) {
                return entities;
            }
            return entities.sort((/**
             * @param {?} entityOne
             * @param {?} entityTwo
             * @return {?}
             */
            function (entityOne, entityTwo) {
                /** @type {?} */
                var valueOne = _this.direction ? _this.field.getValue(entityOne) : _this.field.getValue(entityTwo);
                /** @type {?} */
                var valueTwo = _this.direction ? _this.field.getValue(entityTwo) : _this.field.getValue(entityOne);
                if (_this.field.getDataType() === DataType.NUMBER) {
                    return _this.sortNumber(valueOne, valueTwo);
                }
                else if (_this.field.getDataType() === DataType.BOOLEAN) {
                    return _this.sortBoolean(valueOne, valueTwo);
                }
                else if (_this.field.getDataType() === DataType.STRING) {
                    return _this.sortString(valueOne, valueTwo);
                }
                else {
                    return _this.sortUnknown(valueOne, valueTwo);
                }
            }));
        };
        /**
         * @private
         * @param {?} strOne
         * @param {?} strTwo
         * @return {?}
         */
        StructureSorter.prototype.sortString = /**
         * @private
         * @param {?} strOne
         * @param {?} strTwo
         * @return {?}
         */
        function (strOne, strTwo) {
            /** @type {?} */
            var sureStrOne = '' + strOne;
            /** @type {?} */
            var sureStrTwo = '' + strTwo;
            return sureStrOne.localeCompare(sureStrTwo);
        };
        /**
         * @private
         * @param {?} numOne
         * @param {?} numTwo
         * @return {?}
         */
        StructureSorter.prototype.sortNumber = /**
         * @private
         * @param {?} numOne
         * @param {?} numTwo
         * @return {?}
         */
        function (numOne, numTwo) {
            /** @type {?} */
            var sureNumOne = +numOne;
            /** @type {?} */
            var sureNumTwo = +numTwo;
            return sureNumOne - sureNumTwo;
        };
        /**
         * @private
         * @param {?} booleanOne
         * @param {?} booleanTwo
         * @return {?}
         */
        StructureSorter.prototype.sortBoolean = /**
         * @private
         * @param {?} booleanOne
         * @param {?} booleanTwo
         * @return {?}
         */
        function (booleanOne, booleanTwo) {
            /** @type {?} */
            var sureBoolOne = !!booleanOne;
            /** @type {?} */
            var sureBoolTwo = !!booleanTwo;
            return (sureBoolOne === sureBoolTwo) ? 0 : sureBoolTwo ? -1 : 1;
        };
        /**
         * @private
         * @param {?} a
         * @param {?} b
         * @return {?}
         */
        StructureSorter.prototype.sortUnknown = /**
         * @private
         * @param {?} a
         * @param {?} b
         * @return {?}
         */
        function (a, b) {
            return 0;
        };
        return StructureSorter;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSorter.prototype.sorterId;
        /**
         * @type {?}
         * @private
         */
        StructureSorter.prototype.columnId;
        /**
         * @type {?}
         * @private
         */
        StructureSorter.prototype.field;
        /**
         * @type {?}
         * @private
         */
        StructureSorter.prototype.rank;
        /**
         * @type {?}
         * @private
         */
        StructureSorter.prototype.direction;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SorterId = /** @class */ (function () {
        function SorterId(id) {
            this.sorterId = id;
        }
        /**
         * @return {?}
         */
        SorterId.prototype.getId = /**
         * @return {?}
         */
        function () {
            return this.sorterId;
        };
        return SorterId;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SorterId.prototype.sorterId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SorterCollection = /** @class */ (function () {
        function SorterCollection(enabled, multi) {
            if (enabled === void 0) { enabled = false; }
            if (multi === void 0) { multi = false; }
            this.sorters = new Map();
            this.enabled = enabled;
            this.multi = multi;
        }
        /**
         * @param {?} config
         * @return {?}
         */
        SorterCollection.prototype.setConfig = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            if (config && config.enabled !== undefined && config.enabled !== null) {
                this.enabled = config.enabled;
            }
            if (config && config.multiSorting !== undefined && config.multiSorting !== null) {
                this.multi = config.multiSorting;
                this.sorters.clear();
            }
        };
        /**
         * @param {?} field
         * @return {?}
         */
        SorterCollection.prototype.toggle = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            /** @type {?} */
            var fieldId = field.getId();
            /** @type {?} */
            var sorter = this.sorters.get(fieldId.getId());
            if (sorter) {
                if (sorter.hasDirection()) {
                    sorter.changeDirection();
                }
                else {
                    this.delete(fieldId);
                }
            }
            else {
                this.add(field);
            }
        };
        /**
         * @param {?} field
         * @param {?} sortOrder
         * @return {?}
         */
        SorterCollection.prototype.setSortOrder = /**
         * @param {?} field
         * @param {?} sortOrder
         * @return {?}
         */
        function (field, sortOrder) {
            /** @type {?} */
            var fieldId = field.getId();
            /** @type {?} */
            var sorter = this.sorters.get(fieldId.getId());
            if (sortOrder === SortStatus.NONE) {
                this.delete(fieldId);
            }
            else if (sortOrder === SortStatus.ASC || sortOrder === SortStatus.DESC) {
                this.delete(fieldId);
                /** @type {?} */
                var direction = sortOrder === SortStatus.ASC;
                this.add(field, direction);
            }
        };
        /**
         * @param {?} field
         * @param {?=} direction
         * @return {?}
         */
        SorterCollection.prototype.add = /**
         * @param {?} field
         * @param {?=} direction
         * @return {?}
         */
        function (field, direction) {
            if (direction === void 0) { direction = true; }
            this.addSorter(field.getId(), new StructureSorter(new SorterId(hermes.RandomStringGenerator.generate()), field, direction));
        };
        /**
         * @param {?} fieldId
         * @param {?} sorter
         * @return {?}
         */
        SorterCollection.prototype.addSorter = /**
         * @param {?} fieldId
         * @param {?} sorter
         * @return {?}
         */
        function (fieldId, sorter) {
            if (!this.multi) {
                this.sorters.clear();
            }
            this.sorters.set(fieldId.getId(), sorter);
        };
        /**
         * @param {?} fieldId
         * @return {?}
         */
        SorterCollection.prototype.delete = /**
         * @param {?} fieldId
         * @return {?}
         */
        function (fieldId) {
            this.sorters.delete(fieldId.getId());
        };
        /**
         * @return {?}
         */
        SorterCollection.prototype.update = /**
         * @return {?}
         */
        function () {
        };
        // TODO Remove the loop from sorter.sort
        // TODO Remove the loop from sorter.sort
        /**
         * @param {?} entities
         * @return {?}
         */
        SorterCollection.prototype.sort = 
        // TODO Remove the loop from sorter.sort
        /**
         * @param {?} entities
         * @return {?}
         */
        function (entities) {
            var e_1, _a;
            /** @type {?} */
            var sorters = this.getAll();
            /** @type {?} */
            var sortedEntities = __spread(entities);
            try {
                for (var sorters_1 = __values(sorters), sorters_1_1 = sorters_1.next(); !sorters_1_1.done; sorters_1_1 = sorters_1.next()) {
                    var sorter = sorters_1_1.value;
                    sortedEntities = sorter.sort(sortedEntities);
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (sorters_1_1 && !sorters_1_1.done && (_a = sorters_1.return)) _a.call(sorters_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
            return sortedEntities;
        };
        /**
         * @return {?}
         */
        SorterCollection.prototype.getAll = /**
         * @return {?}
         */
        function () {
            if (!this.enabled) {
                return [];
            }
            return Array.from(this.sorters)
                .map((/**
             * @param {?} arr
             * @return {?}
             */
            function (arr) { return arr[1]; }))
                .sort((/**
             * @param {?} sorterOne
             * @param {?} sorterTwo
             * @return {?}
             */
            function (sorterOne, sorterTwo) {
                return sorterOne.getRank() - sorterTwo.getRank();
            }))
                .reverse();
        };
        return SorterCollection;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SorterCollection.prototype.enabled;
        /**
         * @type {?}
         * @private
         */
        SorterCollection.prototype.multi;
        /**
         * @type {?}
         * @private
         */
        SorterCollection.prototype.sorters;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormationAggregate = /** @class */ (function () {
        /**
         * In the future this class can be responsible for managing:
         * - expanded / collapsed nodes
         * - sorting?
         * - filtering?
         */
        function FormationAggregate(selectedRows) {
            this.selectedRows = selectedRows;
        }
        /**
         * @return {?}
         */
        FormationAggregate.prototype.getSelectedRows = /**
         * @return {?}
         */
        function () {
            return this.selectedRows;
        };
        /**
         * @param {?} selectedRow
         * @return {?}
         */
        FormationAggregate.prototype.toggleRow = /**
         * @param {?} selectedRow
         * @return {?}
         */
        function (selectedRow) {
            if (this.selectedRows.length > 0) {
                if (this.selectedRows[0] === selectedRow) {
                    this.selectedRows = [];
                    return;
                }
            }
            this.selectedRows = [selectedRow];
        };
        return FormationAggregate;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        FormationAggregate.prototype.selectedRows;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ColumnHeaderEntity = /** @class */ (function () {
        function ColumnHeaderEntity(top, bottom) {
            this.top = top;
            this.bottom = bottom;
        }
        /**
         * @param {?} enabled
         * @return {?}
         */
        ColumnHeaderEntity.prototype.setHeaderTop = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.top = enabled;
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        ColumnHeaderEntity.prototype.setHeaderBottom = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.bottom = enabled;
        };
        /**
         * @return {?}
         */
        ColumnHeaderEntity.prototype.isHeaderOnTop = /**
         * @return {?}
         */
        function () {
            return this.top;
        };
        /**
         * @return {?}
         */
        ColumnHeaderEntity.prototype.isHeaderOnBottom = /**
         * @return {?}
         */
        function () {
            return this.bottom;
        };
        return ColumnHeaderEntity;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ColumnHeaderEntity.prototype.top;
        /**
         * @type {?}
         * @private
         */
        ColumnHeaderEntity.prototype.bottom;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaAggregate = /** @class */ (function () {
        function SchemaAggregate(width, height) {
            this.width = width;
            this.height = height;
            this.headerHeight = 28;
            this.pagerHeight = 35;
            this.active = false;
            this.horizontalGrid = true;
            this.verticalGrid = true;
            this.columnHeader = new ColumnHeaderEntity(true, false);
            this.theme = SchemaTheme.FABRIC;
            this.rowColoring = SchemaRowColoring.ODD;
            this.calculateContainerHeight();
        }
        /**
         * @return {?}
         */
        SchemaAggregate.prototype.getRowColoring = /**
         * @return {?}
         */
        function () {
            return this.rowColoring;
        };
        /**
         * @param {?} height
         * @return {?}
         */
        SchemaAggregate.prototype.setHeight = /**
         * @param {?} height
         * @return {?}
         */
        function (height) {
            this.height = height;
            this.calculateContainerHeight();
        };
        /**
         * @param {?} theme
         * @return {?}
         */
        SchemaAggregate.prototype.setTheme = /**
         * @param {?} theme
         * @return {?}
         */
        function (theme) {
            this.theme = theme;
        };
        /**
         * @param {?} coloring
         * @return {?}
         */
        SchemaAggregate.prototype.setRowColoring = /**
         * @param {?} coloring
         * @return {?}
         */
        function (coloring) {
            this.rowColoring = coloring;
        };
        /**
         * @return {?}
         */
        SchemaAggregate.prototype.getTheme = /**
         * @return {?}
         */
        function () {
            return this.theme;
        };
        /**
         * @return {?}
         */
        SchemaAggregate.prototype.getWidth = /**
         * @return {?}
         */
        function () {
            return this.width;
        };
        /**
         * @return {?}
         */
        SchemaAggregate.prototype.getHeight = /**
         * @return {?}
         */
        function () {
            return this.height;
        };
        /**
         * @return {?}
         */
        SchemaAggregate.prototype.getContainerHeight = /**
         * @return {?}
         */
        function () {
            return this.height;
            // return this.containerHeight;
        };
        /**
         * @return {?}
         */
        SchemaAggregate.prototype.getColumnHeader = /**
         * @return {?}
         */
        function () {
            return this.columnHeader;
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        SchemaAggregate.prototype.setHeaderTop = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.getColumnHeader().setHeaderTop(enabled);
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        SchemaAggregate.prototype.setHeaderBottom = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.getColumnHeader().setHeaderBottom(enabled);
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        SchemaAggregate.prototype.setVerticalGrid = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.verticalGrid = enabled;
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        SchemaAggregate.prototype.setHorizontalGrid = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.horizontalGrid = enabled;
        };
        /**
         * @return {?}
         */
        SchemaAggregate.prototype.isVerticalGridEnabled = /**
         * @return {?}
         */
        function () {
            return this.verticalGrid;
        };
        /**
         * @return {?}
         */
        SchemaAggregate.prototype.isHorizontalGridEnabled = /**
         * @return {?}
         */
        function () {
            return this.horizontalGrid;
        };
        /**
         * @private
         * @return {?}
         */
        SchemaAggregate.prototype.getHeaderHeight = /**
         * @private
         * @return {?}
         */
        function () {
            return this.headerHeight;
        };
        /**
         * @private
         * @return {?}
         */
        SchemaAggregate.prototype.getPagerHeight = /**
         * @private
         * @return {?}
         */
        function () {
            return this.pagerHeight;
        };
        /**
         * @private
         * @return {?}
         */
        SchemaAggregate.prototype.calculateContainerHeight = /**
         * @private
         * @return {?}
         */
        function () {
            if (!this.height) {
                this.active = false;
                return;
            }
            else {
                this.active = true;
            }
            this.containerHeight = this.height - this.getHeaderHeight() - this.getPagerHeight();
        };
        return SchemaAggregate;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SchemaAggregate.prototype.headerHeight;
        /**
         * @type {?}
         * @private
         */
        SchemaAggregate.prototype.pagerHeight;
        /**
         * @type {?}
         * @private
         */
        SchemaAggregate.prototype.containerHeight;
        /**
         * @type {?}
         * @private
         */
        SchemaAggregate.prototype.active;
        /**
         * @type {?}
         * @private
         */
        SchemaAggregate.prototype.horizontalGrid;
        /**
         * @type {?}
         * @private
         */
        SchemaAggregate.prototype.verticalGrid;
        /**
         * @type {?}
         * @private
         */
        SchemaAggregate.prototype.columnHeader;
        /**
         * @type {?}
         * @private
         */
        SchemaAggregate.prototype.theme;
        /**
         * @type {?}
         * @private
         */
        SchemaAggregate.prototype.rowColoring;
        /**
         * @type {?}
         * @private
         */
        SchemaAggregate.prototype.width;
        /**
         * @type {?}
         * @private
         */
        SchemaAggregate.prototype.height;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SearchManager = /** @class */ (function () {
        function SearchManager() {
            this.searchFields = [];
        }
        /**
         * @param {?} fields
         * @param {?} searchPhrase
         * @return {?}
         */
        SearchManager.prototype.addSearchPhrase = /**
         * @param {?} fields
         * @param {?} searchPhrase
         * @return {?}
         */
        function (fields, searchPhrase) {
            if (!searchPhrase) {
                this.searchFields = [];
                return;
            }
            /** @type {?} */
            var searchableFields = fields.filter((/**
             * @param {?} field
             * @return {?}
             */
            function (field) {
                return field.getDataType() === DataType.STRING;
            }));
            if (searchableFields.length === 0) {
                return;
            }
            this.searchFields = searchableFields;
            this.searchPhrase = searchPhrase;
        };
        /**
         * @return {?}
         */
        SearchManager.prototype.removeSearchFilters = /**
         * @return {?}
         */
        function () {
            this.searchFields = [];
        };
        /**
         * @param {?} entities
         * @return {?}
         */
        SearchManager.prototype.search = /**
         * @param {?} entities
         * @return {?}
         */
        function (entities) {
            var e_1, _a;
            if (entities.length === 0 || this.searchFields.length === 0) {
                return entities;
            }
            /** @type {?} */
            var searchedItems = new Set();
            for (var i = 0; i < entities.length; i += 1) {
                try {
                    for (var _b = (e_1 = void 0, __values(this.searchFields)), _c = _b.next(); !_c.done; _c = _b.next()) {
                        var field = _c.value;
                        if (this.filterString(entities[i], field)) {
                            searchedItems.add(entities[i]);
                        }
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
            }
            return Array.from(searchedItems);
        };
        /**
         * @private
         * @param {?} item
         * @param {?} field
         * @return {?}
         */
        SearchManager.prototype.filterString = /**
         * @private
         * @param {?} item
         * @param {?} field
         * @return {?}
         */
        function (item, field) {
            /** @type {?} */
            var value = field.getValue(item);
            if (typeof value === 'string') {
                return value.toLowerCase().indexOf(this.searchPhrase.toLowerCase()) > -1;
            }
            else {
                return true;
            }
        };
        /**
         * @private
         * @param {?} item
         * @param {?} field
         * @return {?}
         */
        SearchManager.prototype.filterNumber = /**
         * @private
         * @param {?} item
         * @param {?} field
         * @return {?}
         */
        function (item, field) {
            /** @type {?} */
            var numberValue = field.getValue(item);
            return numberValue > this.searchPhrase;
        };
        /**
         * @private
         * @param {?} item
         * @param {?} field
         * @return {?}
         */
        SearchManager.prototype.filterBoolean = /**
         * @private
         * @param {?} item
         * @param {?} field
         * @return {?}
         */
        function (item, field) {
            /** @type {?} */
            var booleanValue = field.getValue(item);
            return booleanValue === this.searchPhrase;
        };
        return SearchManager;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SearchManager.prototype.searchFields;
        /**
         * @type {?}
         * @private
         */
        SearchManager.prototype.searchPhrase;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructurePreparedEntitiesSetAggregateEvent = /** @class */ (function (_super) {
        __extends(StructurePreparedEntitiesSetAggregateEvent, _super);
        function StructurePreparedEntitiesSetAggregateEvent(aggregateId, preparedItems) {
            var _this = _super.call(this, aggregateId, 'StructurePreparedEntitiesSetAggregateEvent') || this;
            _this.preparedItems = preparedItems;
            return _this;
        }
        /**
         * @return {?}
         */
        StructurePreparedEntitiesSetAggregateEvent.prototype.getPreparedItems = /**
         * @return {?}
         */
        function () {
            return this.preparedItems;
        };
        return StructurePreparedEntitiesSetAggregateEvent;
    }(hermes.AggregateEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructurePreparedEntitiesSetAggregateEvent.prototype.preparedItems;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregate = /** @class */ (function (_super) {
        __extends(StructureAggregate, _super);
        function StructureAggregate(structureId, pagingAggregate, formationAggregate, sourceManager, verticalFormation, aggregationManager, sorterCollection, filterCollection, searchManager, fieldCollection, schema) {
            var _this = _super.call(this, structureId) || this;
            _this.pagingAggregate = pagingAggregate;
            _this.formationAggregate = formationAggregate;
            _this.sourceManager = sourceManager;
            _this.verticalFormation = verticalFormation;
            _this.aggregationManager = aggregationManager;
            _this.sorterCollection = sorterCollection;
            _this.filterManager = filterCollection;
            _this.searchManager = searchManager;
            _this.fieldCollection = fieldCollection;
            _this.schema = schema;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureAggregate.prototype.getVerticalFormation = /**
         * @return {?}
         */
        function () {
            return this.verticalFormation;
        };
        /**
         * @param {?} enabled
         * @return {?}
         */
        StructureAggregate.prototype.setAggregationEnabled = /**
         * @param {?} enabled
         * @return {?}
         */
        function (enabled) {
            this.aggregationManager.setEnabled(enabled);
            this.calculateSource();
            return this.getEvents();
        };
        /**
         * @param {?} items
         * @return {?}
         */
        StructureAggregate.prototype.setOrigin = /**
         * @param {?} items
         * @return {?}
         */
        function (items) {
            this.addEvent(this.sourceManager.setOrigin(items, this.getId()));
            this.calculateSource();
            return this.getEvents();
        };
        /**
         * @param {?} editParams
         * @return {?}
         */
        StructureAggregate.prototype.editItem = /**
         * @param {?} editParams
         * @return {?}
         */
        function (editParams) {
            var _this = this;
            /** @type {?} */
            var itemId = editParams.getItemId();
            /** @type {?} */
            var fieldId = editParams.getColumnFieldId();
            /** @type {?} */
            var field = this.fieldCollection.getField((/** @type {?} */ (fieldId)));
            /** @type {?} */
            var // as FieldId
            value = editParams.getValue();
            /** @type {?} */
            var editItemEvents = this.sourceManager.editOriginItem(itemId, value, field, this.getId());
            editItemEvents.forEach((/**
             * @param {?} e
             * @return {?}
             */
            function (e) { return _this.addEvent(e); }));
            this.calculateSource();
            return this.getEvents();
        };
        /**
         * @param {?} height
         * @return {?}
         */
        StructureAggregate.prototype.setHeight = /**
         * @param {?} height
         * @return {?}
         */
        function (height) {
            this.getSchema().setHeight(height);
            /** @type {?} */
            var viewportHeight = this.getSchema().getContainerHeight();
            this.verticalFormation.setViewportHeight(viewportHeight);
            this.calculateSourceBasedOnVirtualScroll();
        };
        /**
         * @param {?} formation
         * @return {?}
         */
        StructureAggregate.prototype.setFormation = /**
         * @param {?} formation
         * @return {?}
         */
        function (formation) {
            this.formationAggregate = formation;
        };
        /**
         * @param {?} position
         * @return {?}
         */
        StructureAggregate.prototype.setScrollPosition = /**
         * @param {?} position
         * @return {?}
         */
        function (position) {
            this.verticalFormation.setScrollPosition(position);
            this.calculateSourceBasedOnVirtualScroll();
        };
        /**
         * @return {?}
         */
        StructureAggregate.prototype.getFormation = /**
         * @return {?}
         */
        function () {
            return this.formationAggregate;
        };
        /**
         * @param {?} schema
         * @return {?}
         */
        StructureAggregate.prototype.setSchema = /**
         * @param {?} schema
         * @return {?}
         */
        function (schema) {
            this.schema = schema;
        };
        /**
         * @return {?}
         */
        StructureAggregate.prototype.getSchema = /**
         * @return {?}
         */
        function () {
            return this.schema;
        };
        /**
         * @return {?}
         */
        StructureAggregate.prototype.getPaging = /**
         * @return {?}
         */
        function () {
            return this.pagingAggregate;
        };
        /**
         * @param {?} config
         * @return {?}
         */
        StructureAggregate.prototype.changePaging = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            this.pagingAggregate.change(config);
            this.calculateSource();
        };
        /**
         * @param {?} paging
         * @return {?}
         */
        StructureAggregate.prototype.setPaging = /**
         * @param {?} paging
         * @return {?}
         */
        function (paging) {
            this.pagingAggregate = paging;
            this.calculateSource();
        };
        /**
         * @return {?}
         */
        StructureAggregate.prototype.nextPage = /**
         * @return {?}
         */
        function () {
            this.pagingAggregate.nextPage();
            this.calculateSource();
        };
        /**
         * @return {?}
         */
        StructureAggregate.prototype.prevPage = /**
         * @return {?}
         */
        function () {
            this.pagingAggregate.prevPage();
            this.calculateSource();
        };
        /**
         * @param {?} pageSize
         * @return {?}
         */
        StructureAggregate.prototype.changePageSize = /**
         * @param {?} pageSize
         * @return {?}
         */
        function (pageSize) {
            var _this = this;
            /** @type {?} */
            var pagingEvents = this.pagingAggregate.changePageSize(pageSize);
            // TODO
            pagingEvents.forEach((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                _this.addEvent(event);
            }));
            this.calculateSource();
            return this.getEvents();
        };
        /**
         * @return {?}
         */
        StructureAggregate.prototype.getEntities = /**
         * @return {?}
         */
        function () {
            return this.sourceManager.getSlicedEntities();
        };
        /**
         * @return {?}
         */
        StructureAggregate.prototype.getSource = /**
         * @return {?}
         */
        function () {
            return this.sourceManager;
        };
        /**
         * @param {?} columns
         * @return {?}
         */
        StructureAggregate.prototype.createFields = /**
         * @param {?} columns
         * @return {?}
         */
        function (columns) {
            this.fieldCollection.initFields(columns);
            // TODO Should throw event fields created
            return this.fieldCollection.getAllFields();
        };
        /**
         * @param {?} config
         * @return {?}
         */
        StructureAggregate.prototype.setSortingConfig = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            this.sorterCollection.setConfig(config);
        };
        /**
         * @param {?} fieldId
         * @return {?}
         */
        StructureAggregate.prototype.toggleSort = /**
         * @param {?} fieldId
         * @return {?}
         */
        function (fieldId) {
            /** @type {?} */
            var field = this.fieldCollection.getField(fieldId);
            this.sorterCollection.toggle(field);
            this.calculateSource();
            return this.sorterCollection.getAll();
        };
        /**
         * @param {?} fieldId
         * @param {?} sortOrder
         * @return {?}
         */
        StructureAggregate.prototype.setSortOrder = /**
         * @param {?} fieldId
         * @param {?} sortOrder
         * @return {?}
         */
        function (fieldId, sortOrder) {
            /** @type {?} */
            var field = this.fieldCollection.getField(fieldId);
            this.sorterCollection.setSortOrder(field, sortOrder);
            this.calculateSource();
            return this.sorterCollection.getAll();
        };
        /**
         * @param {?} config
         * @return {?}
         */
        StructureAggregate.prototype.setFilterConfig = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            this.filterManager.getSettings().setFilterConfig(config);
        };
        /**
         * @param {?} config
         * @return {?}
         */
        StructureAggregate.prototype.setSearchingConfig = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            this.filterManager.getSettings().setSearchingConfig(config);
        };
        /**
         * @param {?} config
         * @return {?}
         */
        StructureAggregate.prototype.setQuickFiltersConfig = /**
         * @param {?} config
         * @return {?}
         */
        function (config) {
            this.filterManager.getSettings().setQuickFiltersConfig(config);
        };
        /**
         * @param {?} fieldId
         * @param {?} externalFilterId
         * @param {?} filterValue
         * @return {?}
         */
        StructureAggregate.prototype.toggleFilter = /**
         * @param {?} fieldId
         * @param {?} externalFilterId
         * @param {?} filterValue
         * @return {?}
         */
        function (fieldId, externalFilterId, filterValue) {
            /** @type {?} */
            var field = this.fieldCollection.getField(fieldId);
            // Field not found
            // TODO throw aggregate event
            if (field === undefined) {
                return [];
            }
            this.filterManager.addFilter(field, externalFilterId, filterValue);
            this.calculateSource();
            return [];
        };
        /**
         * @param {?} phrase
         * @return {?}
         */
        StructureAggregate.prototype.addSearchPhrase = /**
         * @param {?} phrase
         * @return {?}
         */
        function (phrase) {
            /** @type {?} */
            var fields = this.fieldCollection.getAllFields();
            this.searchManager.addSearchPhrase(fields, phrase);
            this.calculateSource();
            return [];
        };
        /**
         * @return {?}
         */
        StructureAggregate.prototype.removeSearchPhrase = /**
         * @return {?}
         */
        function () {
            this.searchManager.removeSearchFilters();
            this.calculateSource();
            return [];
        };
        /**
         * @private
         * @return {?}
         */
        StructureAggregate.prototype.calculateSource = /**
         * @private
         * @return {?}
         */
        function () {
            var _this = this;
            if (!this.sourceManager.getOrigin() || !this.pagingAggregate) {
                return;
            }
            // TODO Refactor
            this.sourceManager.setEntities(this.sourceManager.getOrigin());
            // filtering
            this.sourceManager.setEntities(this.filterManager.filter(this.sourceManager.getEntities()));
            // search
            /** @type {?} */
            var searchedEntities = this.searchManager.search(this.sourceManager.getEntities());
            this.sourceManager.setEntities(searchedEntities);
            // sorting
            /** @type {?} */
            var ents = this.sorterCollection.sort(this.sourceManager.getEntities());
            this.sourceManager.setEntities(ents);
            // calculate filteredEntities
            this.sourceManager.setPreparedEntities();
            this.pagingAggregate.setSourceSize(this.sourceManager.getPreparedEntities().length);
            this.addEvent(new StructurePreparedEntitiesSetAggregateEvent(this.getId(), ents));
            // aggregations
            /** @type {?} */
            var aggregationEvents = this.aggregationManager.calculate(this.fieldCollection.getAllFields(), this.sourceManager.getEntities());
            aggregationEvents.forEach((/**
             * @param {?} ae
             * @return {?}
             */
            function (ae) {
                _this.addEvent(ae);
            }));
            // paging
            this.sourceManager.setEntities(this.pagingAggregate.sample(this.sourceManager.getEntities()));
            this.verticalFormation.setSourceSize(this.sourceManager.getEntities().length);
            this.calculateSourceBasedOnVirtualScroll();
        };
        /**
         * @private
         * @return {?}
         */
        StructureAggregate.prototype.calculateSourceBasedOnVirtualScroll = /**
         * @private
         * @return {?}
         */
        function () {
            if (this.verticalFormation.isEnabled()) {
                /** @type {?} */
                var range = this.verticalFormation.getRange();
                this.sourceManager.setSlicedEntities(this.sourceManager.getEntities().slice(range.getStart(), range.getEnd()));
            }
            else {
                this.sourceManager.setSlicedEntities(this.sourceManager.getEntities());
            }
        };
        StructureAggregate.ctorParameters = function () { return [
            { type: StructureId },
            { type: PagingAggregate },
            { type: FormationAggregate },
            { type: SourceManager },
            { type: VerticalFormation },
            { type: AggregationManager },
            { type: SorterCollection },
            { type: FilterManager },
            { type: SearchManager },
            { type: FieldCollection },
            { type: SchemaAggregate }
        ]; };
        StructureAggregate = __decorate([
            hermes.RootAggregate,
            __metadata("design:paramtypes", [StructureId,
                PagingAggregate,
                FormationAggregate,
                SourceManager,
                VerticalFormation,
                AggregationManager,
                SorterCollection,
                FilterManager,
                SearchManager,
                FieldCollection,
                SchemaAggregate])
        ], StructureAggregate);
        return StructureAggregate;
    }(hermes.Aggregate));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureAggregate.prototype.formationAggregate;
        /**
         * @type {?}
         * @private
         */
        StructureAggregate.prototype.schema;
        /**
         * @type {?}
         * @private
         */
        StructureAggregate.prototype.pagingAggregate;
        /**
         * @type {?}
         * @private
         */
        StructureAggregate.prototype.sourceManager;
        /**
         * @type {?}
         * @private
         */
        StructureAggregate.prototype.sorterCollection;
        /**
         * @type {?}
         * @private
         */
        StructureAggregate.prototype.filterManager;
        /**
         * @type {?}
         * @private
         */
        StructureAggregate.prototype.searchManager;
        /**
         * @type {?}
         * @private
         */
        StructureAggregate.prototype.verticalFormation;
        /**
         * @type {?}
         * @private
         */
        StructureAggregate.prototype.fieldCollection;
        /**
         * @type {?}
         * @private
         */
        StructureAggregate.prototype.aggregationManager;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SchemaAggregateFactory = /** @class */ (function () {
        function SchemaAggregateFactory() {
        }
        /**
         * @return {?}
         */
        SchemaAggregateFactory.prototype.create = /**
         * @return {?}
         */
        function () {
            return new SchemaAggregate();
        };
        SchemaAggregateFactory.decorators = [
            { type: core.Injectable }
        ];
        return SchemaAggregateFactory;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var FormationAggregateFactory = /** @class */ (function () {
        function FormationAggregateFactory() {
        }
        /**
         * @return {?}
         */
        FormationAggregateFactory.prototype.create = /**
         * @return {?}
         */
        function () {
            return new FormationAggregate([]);
        };
        FormationAggregateFactory.decorators = [
            { type: core.Injectable }
        ];
        return FormationAggregateFactory;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SearchManagerFactory = /** @class */ (function () {
        function SearchManagerFactory() {
        }
        /**
         * @return {?}
         */
        SearchManagerFactory.prototype.create = /**
         * @return {?}
         */
        function () {
            return new SearchManager();
        };
        SearchManagerFactory.decorators = [
            { type: core.Injectable }
        ];
        return SearchManagerFactory;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregateFactory = /** @class */ (function () {
        function StructureAggregateFactory(pagingAggregateFactory, sourceManagerFactory, formationAggregateFactory, verticalFormationFactory, aggregationManagerFactory, filterManagerFactory, searchManagerFactory, fieldCollectionFactory, schemaAggregateFactory) {
            this.pagingAggregateFactory = pagingAggregateFactory;
            this.sourceManagerFactory = sourceManagerFactory;
            this.formationAggregateFactory = formationAggregateFactory;
            this.verticalFormationFactory = verticalFormationFactory;
            this.aggregationManagerFactory = aggregationManagerFactory;
            this.filterManagerFactory = filterManagerFactory;
            this.searchManagerFactory = searchManagerFactory;
            this.fieldCollectionFactory = fieldCollectionFactory;
            this.schemaAggregateFactory = schemaAggregateFactory;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructureAggregateFactory.prototype.create = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            /** @type {?} */
            var paging = this.pagingAggregateFactory.createDefault();
            /** @type {?} */
            var source = this.sourceManagerFactory.createDefault();
            /** @type {?} */
            var verticalFormation = this.verticalFormationFactory.create();
            /** @type {?} */
            var formationAggregate = this.formationAggregateFactory.create();
            /** @type {?} */
            var sorterContainer = new SorterCollection();
            /** @type {?} */
            var filterContainer = this.filterManagerFactory.create(false);
            /** @type {?} */
            var fieldContainer = this.fieldCollectionFactory.create();
            /** @type {?} */
            var aggregationManager = this.aggregationManagerFactory.create(structureId);
            /** @type {?} */
            var schema = this.schemaAggregateFactory.create();
            /** @type {?} */
            var searchManager = this.searchManagerFactory.create();
            return new StructureAggregate(structureId, paging, formationAggregate, source, verticalFormation, aggregationManager, sorterContainer, filterContainer, searchManager, fieldContainer, schema);
        };
        StructureAggregateFactory.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureAggregateFactory.ctorParameters = function () { return [
            { type: PagingAggregateFactory },
            { type: SourceManagerFactory },
            { type: FormationAggregateFactory },
            { type: VerticalFormationFactory },
            { type: AggregationManagerFactory },
            { type: FilterManagerFactory },
            { type: SearchManagerFactory },
            { type: FieldCollectionFactory },
            { type: SchemaAggregateFactory }
        ]; };
        return StructureAggregateFactory;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureAggregateFactory.prototype.pagingAggregateFactory;
        /**
         * @type {?}
         * @private
         */
        StructureAggregateFactory.prototype.sourceManagerFactory;
        /**
         * @type {?}
         * @private
         */
        StructureAggregateFactory.prototype.formationAggregateFactory;
        /**
         * @type {?}
         * @private
         */
        StructureAggregateFactory.prototype.verticalFormationFactory;
        /**
         * @type {?}
         * @private
         */
        StructureAggregateFactory.prototype.aggregationManagerFactory;
        /**
         * @type {?}
         * @private
         */
        StructureAggregateFactory.prototype.filterManagerFactory;
        /**
         * @type {?}
         * @private
         */
        StructureAggregateFactory.prototype.searchManagerFactory;
        /**
         * @type {?}
         * @private
         */
        StructureAggregateFactory.prototype.fieldCollectionFactory;
        /**
         * @type {?}
         * @private
         */
        StructureAggregateFactory.prototype.schemaAggregateFactory;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InitStructureCommandHandler = /** @class */ (function (_super) {
        __extends(InitStructureCommandHandler, _super);
        function InitStructureCommandHandler(structureAggregateRepository, structureAggregateFactory, domainEventPublisher) {
            var _this = _super.call(this, InitStructureCommand, StructureInitedEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.structureAggregateFactory = structureAggregateFactory;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        InitStructureCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var aggregateId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateFactory.create(aggregateId);
            this.structureAggregateRepository.save(structure);
        };
        InitStructureCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        InitStructureCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: StructureAggregateFactory },
            { type: hermes.DomainEventPublisher }
        ]; };
        return InitStructureCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        InitStructureCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        InitStructureCommandHandler.prototype.structureAggregateFactory;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetVerticalScrollEnabledCommandHandler = /** @class */ (function (_super) {
        __extends(SetVerticalScrollEnabledCommandHandler, _super);
        function SetVerticalScrollEnabledCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetVerticalScrollEnabledCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetVerticalScrollEnabledCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var enabled = command.enabled;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var formation = structure.getVerticalFormation();
            formation.setEnabled(enabled);
            this.structureAggregateRepository.save(structure);
            this.domainEventPublisher.publish(new VerticalScrollEnabledSetEvent(structureId));
        };
        SetVerticalScrollEnabledCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetVerticalScrollEnabledCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetVerticalScrollEnabledCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetVerticalScrollEnabledCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @protected
         */
        SetVerticalScrollEnabledCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetScrollPositionCommandHandler = /** @class */ (function (_super) {
        __extends(SetScrollPositionCommandHandler, _super);
        function SetScrollPositionCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetScrollPositionCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetScrollPositionCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var position = command.position;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            structure.setScrollPosition(position);
            this.structureAggregateRepository.save(structure);
            this.domainEventPublisher.publish(new ScrollPositionSetEvent(structureId));
        };
        SetScrollPositionCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetScrollPositionCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetScrollPositionCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetScrollPositionCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @protected
         */
        SetScrollPositionCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var InitFieldsCommandHandler = /** @class */ (function (_super) {
        __extends(InitFieldsCommandHandler, _super);
        function InitFieldsCommandHandler(structureAggregateRepository, structureAggregateFactory, domainEventPublisher) {
            var _this = _super.call(this, InitFieldsCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.structureAggregateFactory = structureAggregateFactory;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        InitFieldsCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var compositionId = command.compositionId;
            /** @type {?} */
            var columns = command.columns;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var fields = structure.createFields(columns);
            this.structureAggregateRepository.save(structure);
            this.domainEventPublisher.publish(new FieldsInitedEvent(structureId, compositionId, columns, fields));
        };
        InitFieldsCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        InitFieldsCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: StructureAggregateFactory },
            { type: hermes.DomainEventPublisher }
        ]; };
        return InitFieldsCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        InitFieldsCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        InitFieldsCommandHandler.prototype.structureAggregateFactory;
        /**
         * @type {?}
         * @private
         */
        InitFieldsCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ToggleSortCommandHandler = /** @class */ (function (_super) {
        __extends(ToggleSortCommandHandler, _super);
        function ToggleSortCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, ToggleSortCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        ToggleSortCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var aggregateId = command.structureId;
            /** @type {?} */
            var compositionId = command.getCompositionId();
            /** @type {?} */
            var fieldId = command.getFieldId();
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(aggregateId);
            /** @type {?} */
            var sorters = structure.toggleSort(fieldId);
            this.structureAggregateRepository.save(structure);
            this.publishSortEvent(aggregateId, compositionId, fieldId, sorters);
        };
        /**
         * @param {?} aggregateId
         * @param {?} compositionId
         * @param {?} fieldId
         * @param {?} sorters
         * @return {?}
         */
        ToggleSortCommandHandler.prototype.publishSortEvent = /**
         * @param {?} aggregateId
         * @param {?} compositionId
         * @param {?} fieldId
         * @param {?} sorters
         * @return {?}
         */
        function (aggregateId, compositionId, fieldId, sorters) {
            /** @type {?} */
            var directions = sorters.map((/**
             * @param {?} sorter
             * @return {?}
             */
            function (sorter) {
                return {
                    direction: sorter.hasDirection(),
                    fieldId: sorter.getField().getId()
                };
            }));
            this.domainEventPublisher.publish(new SortToggledEvent(aggregateId, compositionId, directions));
        };
        ToggleSortCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        ToggleSortCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return ToggleSortCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ToggleSortCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        ToggleSortCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SortingSetEvent = /** @class */ (function (_super) {
        __extends(SortingSetEvent, _super);
        function SortingSetEvent(aggregateId) {
            return _super.call(this, aggregateId, 'SortingSetEvent') || this;
        }
        return SortingSetEvent;
    }(hermes.DomainEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSortingCommandHandler = /** @class */ (function (_super) {
        __extends(SetSortingCommandHandler, _super);
        function SetSortingCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetSortingCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetSortingCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var sortingConfig = command.getSortingConfig();
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            structure.setSortingConfig(sortingConfig);
            this.structureAggregateRepository.save(structure);
            this.domainEventPublisher.publish(new SortingSetEvent(structureId));
        };
        SetSortingCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetSortingCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetSortingCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetSortingCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        SetSortingCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureConfigFilterSetEvent = /** @class */ (function (_super) {
        __extends(StructureConfigFilterSetEvent, _super);
        function StructureConfigFilterSetEvent(aggregateId, enabled) {
            var _this = _super.call(this, aggregateId, 'StructureConfigFilterSetEvent') || this;
            _this.enabled = enabled;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureConfigFilterSetEvent.prototype.getEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled;
        };
        return StructureConfigFilterSetEvent;
    }(hermes.DomainEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureConfigFilterSetEvent.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSetConfigFilterCommandHandler = /** @class */ (function (_super) {
        __extends(StructureSetConfigFilterCommandHandler, _super);
        function StructureSetConfigFilterCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, StructureSetConfigFilterCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        StructureSetConfigFilterCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var filterConfig = command.getConfig();
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            structure.setFilterConfig(filterConfig);
            this.structureAggregateRepository.save(structure);
            this.domainEventPublisher.publish(new StructureConfigFilterSetEvent(structureId, filterConfig.enabled));
        };
        StructureSetConfigFilterCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureSetConfigFilterCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return StructureSetConfigFilterCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSetConfigFilterCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        StructureSetConfigFilterCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureConfigSearchingSetEvent = /** @class */ (function (_super) {
        __extends(StructureConfigSearchingSetEvent, _super);
        function StructureConfigSearchingSetEvent(aggregateId, enabled) {
            var _this = _super.call(this, aggregateId, 'StructureConfigSearchingSetEvent') || this;
            _this.enabled = enabled;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureConfigSearchingSetEvent.prototype.getEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled;
        };
        return StructureConfigSearchingSetEvent;
    }(hermes.DomainEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureConfigSearchingSetEvent.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSetConfigSearchingCommandHandler = /** @class */ (function (_super) {
        __extends(StructureSetConfigSearchingCommandHandler, _super);
        function StructureSetConfigSearchingCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, StructureSetConfigSearchingCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        StructureSetConfigSearchingCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var searchingConfig = command.getConfig();
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            structure.setSearchingConfig(searchingConfig);
            this.structureAggregateRepository.save(structure);
            this.domainEventPublisher.publish(new StructureConfigSearchingSetEvent(structureId, searchingConfig.enabled));
        };
        StructureSetConfigSearchingCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureSetConfigSearchingCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return StructureSetConfigSearchingCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSetConfigSearchingCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        StructureSetConfigSearchingCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureConfigQuickFilterSetEvent = /** @class */ (function (_super) {
        __extends(StructureConfigQuickFilterSetEvent, _super);
        function StructureConfigQuickFilterSetEvent(aggregateId, enabled) {
            var _this = _super.call(this, aggregateId, 'StructureConfigQuickFilterSetEvent') || this;
            _this.enabled = enabled;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureConfigQuickFilterSetEvent.prototype.getEnabled = /**
         * @return {?}
         */
        function () {
            return this.enabled;
        };
        return StructureConfigQuickFilterSetEvent;
    }(hermes.DomainEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureConfigQuickFilterSetEvent.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSetConfigQuickFilterCommandHandler = /** @class */ (function (_super) {
        __extends(StructureSetConfigQuickFilterCommandHandler, _super);
        function StructureSetConfigQuickFilterCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, StructureSetConfigQuickFilterCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        StructureSetConfigQuickFilterCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var quickFiltersConfig = command.getConfig();
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            structure.setQuickFiltersConfig(quickFiltersConfig);
            this.structureAggregateRepository.save(structure);
            this.domainEventPublisher.publish(new StructureConfigQuickFilterSetEvent(structureId, quickFiltersConfig.enabled));
        };
        StructureSetConfigQuickFilterCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureSetConfigQuickFilterCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return StructureSetConfigQuickFilterCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSetConfigQuickFilterCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        StructureSetConfigQuickFilterCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureToggleFilterCommandHandler = /** @class */ (function (_super) {
        __extends(StructureToggleFilterCommandHandler, _super);
        function StructureToggleFilterCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, StructureToggleFilterCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        StructureToggleFilterCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var fieldId = command.fieldId;
            /** @type {?} */
            var externalFieldId = command.externalFilterId;
            /** @type {?} */
            var filterValue = command.filterValue;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            structure.toggleFilter(fieldId, externalFieldId, filterValue);
            this.structureAggregateRepository.save(structure);
            this.domainEventPublisher.publish(new StructureFilterToggledEvent(structureId));
        };
        StructureToggleFilterCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureToggleFilterCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return StructureToggleFilterCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureToggleFilterCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        StructureToggleFilterCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregationsChangedEvent = /** @class */ (function (_super) {
        __extends(StructureAggregationsChangedEvent, _super);
        function StructureAggregationsChangedEvent(structureId, values) {
            var _this = _super.call(this, structureId, 'StructureAggregationsChangedEvent') || this;
            _this.values = values;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureAggregationsChangedEvent.prototype.getAggregations = /**
         * @return {?}
         */
        function () {
            return this.values;
        };
        return StructureAggregationsChangedEvent;
    }(hermes.DomainEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureAggregationsChangedEvent.prototype.values;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructurePreparedEntitiesSetEvent = /** @class */ (function (_super) {
        __extends(StructurePreparedEntitiesSetEvent, _super);
        function StructurePreparedEntitiesSetEvent(aggregateId, preparedItems) {
            var _this = _super.call(this, aggregateId, 'StructurePreparedEntitiesSetEvent') || this;
            _this.preparedItems = preparedItems;
            return _this;
        }
        /**
         * @return {?}
         */
        StructurePreparedEntitiesSetEvent.prototype.getPreparedItems = /**
         * @return {?}
         */
        function () {
            return this.preparedItems;
        };
        return StructurePreparedEntitiesSetEvent;
    }(hermes.DomainEvent));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructurePreparedEntitiesSetEvent.prototype.preparedItems;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSourceDomainEventPublisher = /** @class */ (function () {
        function StructureSourceDomainEventPublisher(domainEventPublisher) {
            this.domainEventPublisher = domainEventPublisher;
        }
        /**
         * @param {?} events
         * @return {?}
         */
        StructureSourceDomainEventPublisher.prototype.publish = /**
         * @param {?} events
         * @return {?}
         */
        function (events) {
            var _this = this;
            events.forEach((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                _this.publishEvent(event);
            }));
        };
        /**
         * @private
         * @param {?} event
         * @return {?}
         */
        StructureSourceDomainEventPublisher.prototype.publishEvent = /**
         * @private
         * @param {?} event
         * @return {?}
         */
        function (event) {
            if (event.getType() === 'StructureOriginChangedAggregateEvent') {
                /** @type {?} */
                var structureOriginChangedAggregateEvent = ((/** @type {?} */ (event)));
                /** @type {?} */
                var domainEvent = new OriginSetEvent(structureOriginChangedAggregateEvent.getAggregateId(), structureOriginChangedAggregateEvent.getOrigin());
                this.domainEventPublisher.publish(domainEvent);
            }
            if (event.getType() === 'StructureSourceItemEditedAggregateEvent') {
                /** @type {?} */
                var structureSourceItemEditedAggregateEvent = ((/** @type {?} */ (event)));
                /** @type {?} */
                var domainEvent = new StructureSourceItemEditedEvent(structureSourceItemEditedAggregateEvent.getAggregateId(), structureSourceItemEditedAggregateEvent.getBeforeItem(), structureSourceItemEditedAggregateEvent.getAfterItem());
                this.domainEventPublisher.publish(domainEvent);
            }
            if (event.getType() === 'StructureAggregationsChangedAggregateEvent') {
                /** @type {?} */
                var structureAggregationsChangedAggregateEvent = ((/** @type {?} */ (event)));
                /** @type {?} */
                var domainEvent = new StructureAggregationsChangedEvent(structureAggregationsChangedAggregateEvent.getAggregateId(), structureAggregationsChangedAggregateEvent.getAggregations());
                this.domainEventPublisher.publish(domainEvent);
            }
            if (event.getType() === 'StructurePreparedEntitiesSetAggregateEvent') {
                /** @type {?} */
                var structurePreparedEntitiesSetAggregateEvent = ((/** @type {?} */ (event)));
                /** @type {?} */
                var domainEvent = new StructurePreparedEntitiesSetEvent(structurePreparedEntitiesSetAggregateEvent.getAggregateId(), structurePreparedEntitiesSetAggregateEvent.getPreparedItems());
                this.domainEventPublisher.publish(domainEvent);
            }
        };
        StructureSourceDomainEventPublisher.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureSourceDomainEventPublisher.ctorParameters = function () { return [
            { type: hermes.DomainEventPublisher }
        ]; };
        return StructureSourceDomainEventPublisher;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSourceDomainEventPublisher.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregationEnabledSetEvent = /** @class */ (function (_super) {
        __extends(StructureAggregationEnabledSetEvent, _super);
        function StructureAggregationEnabledSetEvent(aggregateId, enabled) {
            var _this = _super.call(this, aggregateId, 'StructureAggregationEnabledSetEvent') || this;
            _this.enabled = enabled;
            return _this;
        }
        return StructureAggregationEnabledSetEvent;
    }(hermes.DomainEvent));
    if (false) {
        /** @type {?} */
        StructureAggregationEnabledSetEvent.prototype.enabled;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSetAggregationEnabledCommandHandler = /** @class */ (function (_super) {
        __extends(StructureSetAggregationEnabledCommandHandler, _super);
        function StructureSetAggregationEnabledCommandHandler(structureAggregateRepository, structureAggregateFactory, structureSourceDomainEventPublisher, domainEventPublisher) {
            var _this = _super.call(this, StructureSetAggregationEnabledCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.structureAggregateFactory = structureAggregateFactory;
            _this.structureSourceDomainEventPublisher = structureSourceDomainEventPublisher;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        StructureSetAggregationEnabledCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var enabled = command.enabled;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var aggregateEvents = structure.setAggregationEnabled(enabled);
            this.structureAggregateRepository.save(structure);
            this.domainEventPublisher.publish(new StructureAggregationEnabledSetEvent(structureId, enabled));
            this.structureSourceDomainEventPublisher.publish(aggregateEvents);
        };
        StructureSetAggregationEnabledCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureSetAggregationEnabledCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: StructureAggregateFactory },
            { type: StructureSourceDomainEventPublisher },
            { type: hermes.DomainEventPublisher }
        ]; };
        return StructureSetAggregationEnabledCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSetAggregationEnabledCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        StructureSetAggregationEnabledCommandHandler.prototype.structureAggregateFactory;
        /**
         * @type {?}
         * @private
         */
        StructureSetAggregationEnabledCommandHandler.prototype.structureSourceDomainEventPublisher;
        /**
         * @type {?}
         * @private
         */
        StructureSetAggregationEnabledCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     * @template T, A
     */
    var   /**
     * @abstract
     * @template T, A
     */
    AggregationCalculator = /** @class */ (function () {
        function AggregationCalculator() {
        }
        /**
         * @param {?} fields
         * @param {?} items
         * @return {?}
         */
        AggregationCalculator.prototype.calculate = /**
         * @param {?} fields
         * @param {?} items
         * @return {?}
         */
        function (fields, items) {
            var _this = this;
            /** @type {?} */
            var filteredFields = fields.filter((/**
             * @param {?} field
             * @return {?}
             */
            function (field) { return _this.forDataType(field.getDataType()); }));
            if (!filteredFields || filteredFields.length === 0 || items.length === 0) {
                return null;
            }
            /** @type {?} */
            var count = new Map();
            /** @type {?} */
            var distinct = new Map();
            // init
            filteredFields.forEach((/**
             * @param {?} field
             * @return {?}
             */
            function (field) {
                /** @type {?} */
                var key = field.getKey();
                count.set(key, 0);
                distinct.set(key, new Set());
                _this.prepare(field);
            }));
            // calculate
            items.forEach((/**
             * @param {?} item
             * @return {?}
             */
            function (item) {
                filteredFields.forEach((/**
                 * @param {?} field
                 * @return {?}
                 */
                function (field) {
                    /** @type {?} */
                    var key = field.getKey();
                    /** @type {?} */
                    var value = field.getValue(item);
                    if (value !== null || value !== undefined || value !== '') {
                        if (field.isAggregation(AggregationType.COUNT)) {
                            /** @type {?} */
                            var countForField = count.get(key);
                            count.set(key, countForField + 1);
                        }
                        if (field.isAggregation(AggregationType.DISTINCT)) {
                            /** @type {?} */
                            var distinctSet = distinct.get(key);
                            distinctSet.add(value);
                        }
                    }
                    _this.aggregate(field, value);
                }));
            }));
            filteredFields.forEach((/**
             * @param {?} field
             * @return {?}
             */
            function (field) {
                _this.postCalculate(field, items);
            }));
            /** @type {?} */
            var aggregations = new Map();
            filteredFields.forEach((/**
             * @param {?} field
             * @return {?}
             */
            function (field) {
                /** @type {?} */
                var key = field.getId().getId();
                /** @type {?} */
                var aggregatedValues = _this.generateAggregatedValues(field);
                if (field.isAggregation(AggregationType.COUNT)) {
                    aggregatedValues.setCount(count.get(key));
                }
                if (field.isAggregation(AggregationType.DISTINCT)) {
                    aggregatedValues.setDistinct((distinct.get(key)).size);
                }
                aggregations.set(key, aggregatedValues);
            }));
            return aggregations;
        };
        return AggregationCalculator;
    }());
    if (false) {
        /**
         * @abstract
         * @param {?} dataType
         * @return {?}
         */
        AggregationCalculator.prototype.forDataType = function (dataType) { };
        /**
         * @abstract
         * @param {?} field
         * @return {?}
         */
        AggregationCalculator.prototype.prepare = function (field) { };
        /**
         * @abstract
         * @param {?} field
         * @param {?} items
         * @return {?}
         */
        AggregationCalculator.prototype.postCalculate = function (field, items) { };
        /**
         * @abstract
         * @param {?} field
         * @param {?} value
         * @return {?}
         */
        AggregationCalculator.prototype.aggregate = function (field, value) { };
        /**
         * @abstract
         * @param {?} field
         * @return {?}
         */
        AggregationCalculator.prototype.generateAggregatedValues = function (field) { };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var /**
     * @abstract
     */
    AggregatedValues = /** @class */ (function () {
        function AggregatedValues() {
        }
        /**
         * @param {?} value
         * @return {?}
         */
        AggregatedValues.prototype.setCount = /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.count = value;
        };
        /**
         * @param {?} value
         * @return {?}
         */
        AggregatedValues.prototype.setDistinct = /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this.distinct = value;
        };
        return AggregatedValues;
    }());
    if (false) {
        /** @type {?} */
        AggregatedValues.prototype.count;
        /** @type {?} */
        AggregatedValues.prototype.distinct;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BooleanAggregatedValues = /** @class */ (function (_super) {
        __extends(BooleanAggregatedValues, _super);
        function BooleanAggregatedValues(truthy, falsy) {
            var _this = _super.call(this) || this;
            _this.truthy = truthy;
            _this.falsy = falsy;
            return _this;
        }
        return BooleanAggregatedValues;
    }(AggregatedValues));
    if (false) {
        /** @type {?} */
        BooleanAggregatedValues.prototype.truthy;
        /** @type {?} */
        BooleanAggregatedValues.prototype.falsy;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var BooleanAggregationCalculator = /** @class */ (function (_super) {
        __extends(BooleanAggregationCalculator, _super);
        function BooleanAggregationCalculator() {
            var _this = _super.call(this) || this;
            _this.truthy = new Map();
            _this.falsy = new Map();
            return _this;
        }
        /**
         * @param {?} dataType
         * @return {?}
         */
        BooleanAggregationCalculator.prototype.forDataType = /**
         * @param {?} dataType
         * @return {?}
         */
        function (dataType) {
            return dataType === DataType.BOOLEAN;
        };
        /**
         * @param {?} field
         * @return {?}
         */
        BooleanAggregationCalculator.prototype.prepare = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            /** @type {?} */
            var key = field.getKey();
            if (field.isAggregation(AggregationType.TRUTHY)) {
                this.truthy.set(key, 0);
            }
            if (field.isAggregation(AggregationType.FALSY)) {
                this.falsy.set(key, 0);
            }
        };
        /**
         * @param {?} field
         * @param {?} items
         * @return {?}
         */
        BooleanAggregationCalculator.prototype.postCalculate = /**
         * @param {?} field
         * @param {?} items
         * @return {?}
         */
        function (field, items) {
        };
        /**
         * @param {?} field
         * @param {?} value
         * @return {?}
         */
        BooleanAggregationCalculator.prototype.aggregate = /**
         * @param {?} field
         * @param {?} value
         * @return {?}
         */
        function (field, value) {
            /** @type {?} */
            var booleanValue = value;
            /** @type {?} */
            var // (value as any === 'true'),
            key = field.getKey();
            /** @type {?} */
            var truthyForField = this.truthy.get(key);
            /** @type {?} */
            var falsyForField = this.falsy.get(key);
            if (booleanValue) {
                if (field.isAggregation(AggregationType.TRUTHY)) {
                    this.truthy.set(key, truthyForField + 1);
                }
            }
            else {
                if (field.isAggregation(AggregationType.FALSY)) {
                    this.falsy.set(key, falsyForField + 1);
                }
            }
        };
        /**
         * @param {?} field
         * @return {?}
         */
        BooleanAggregationCalculator.prototype.generateAggregatedValues = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            /** @type {?} */
            var key = field.getKey();
            return new BooleanAggregatedValues(this.truthy.get(key), this.falsy.get(key));
        };
        BooleanAggregationCalculator.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        BooleanAggregationCalculator.ctorParameters = function () { return []; };
        return BooleanAggregationCalculator;
    }(AggregationCalculator));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        BooleanAggregationCalculator.prototype.truthy;
        /**
         * @type {?}
         * @private
         */
        BooleanAggregationCalculator.prototype.falsy;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DateAggregatedValues = /** @class */ (function (_super) {
        __extends(DateAggregatedValues, _super);
        function DateAggregatedValues() {
            return _super.call(this) || this;
        }
        return DateAggregatedValues;
    }(AggregatedValues));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var DateAggregationCalculator = /** @class */ (function (_super) {
        __extends(DateAggregationCalculator, _super);
        function DateAggregationCalculator() {
            return _super.call(this) || this;
        }
        /**
         * @param {?} dataType
         * @return {?}
         */
        DateAggregationCalculator.prototype.forDataType = /**
         * @param {?} dataType
         * @return {?}
         */
        function (dataType) {
            return dataType === DataType.DATE;
        };
        /**
         * @param {?} field
         * @return {?}
         */
        DateAggregationCalculator.prototype.prepare = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
        };
        /**
         * @param {?} field
         * @param {?} items
         * @return {?}
         */
        DateAggregationCalculator.prototype.postCalculate = /**
         * @param {?} field
         * @param {?} items
         * @return {?}
         */
        function (field, items) {
        };
        /**
         * @param {?} field
         * @param {?} value
         * @return {?}
         */
        DateAggregationCalculator.prototype.aggregate = /**
         * @param {?} field
         * @param {?} value
         * @return {?}
         */
        function (field, value) {
        };
        /**
         * @param {?} field
         * @return {?}
         */
        DateAggregationCalculator.prototype.generateAggregatedValues = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            return new DateAggregatedValues();
        };
        DateAggregationCalculator.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        DateAggregationCalculator.ctorParameters = function () { return []; };
        return DateAggregationCalculator;
    }(AggregationCalculator));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NumberAggregatedValues = /** @class */ (function (_super) {
        __extends(NumberAggregatedValues, _super);
        function NumberAggregatedValues(sum, min, max, average, median) {
            var _this = _super.call(this) || this;
            _this.sum = _this.setValueWithPrecision(sum);
            _this.min = _this.setValueWithPrecision(min);
            _this.max = _this.setValueWithPrecision(max);
            _this.average = _this.setValueWithPrecision(average);
            _this.median = _this.setValueWithPrecision(median);
            return _this;
        }
        /**
         * @private
         * @param {?} value
         * @return {?}
         */
        NumberAggregatedValues.prototype.setValueWithPrecision = /**
         * @private
         * @param {?} value
         * @return {?}
         */
        function (value) {
            if (!value && value !== 0) {
                return null;
            }
            if (value === 0) {
                return 0;
            }
            return +((value).toFixed(2));
        };
        return NumberAggregatedValues;
    }(AggregatedValues));
    if (false) {
        /** @type {?} */
        NumberAggregatedValues.prototype.sum;
        /** @type {?} */
        NumberAggregatedValues.prototype.min;
        /** @type {?} */
        NumberAggregatedValues.prototype.max;
        /** @type {?} */
        NumberAggregatedValues.prototype.average;
        /** @type {?} */
        NumberAggregatedValues.prototype.median;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NumberAggregationCalculator = /** @class */ (function (_super) {
        __extends(NumberAggregationCalculator, _super);
        function NumberAggregationCalculator() {
            var _this = _super.call(this) || this;
            _this.sum = new Map();
            _this.min = new Map();
            _this.max = new Map();
            _this.average = new Map();
            _this.median = new Map();
            return _this;
        }
        /**
         * @param {?} dataType
         * @return {?}
         */
        NumberAggregationCalculator.prototype.forDataType = /**
         * @param {?} dataType
         * @return {?}
         */
        function (dataType) {
            return dataType === DataType.NUMBER;
        };
        /**
         * @param {?} field
         * @return {?}
         */
        NumberAggregationCalculator.prototype.prepare = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            /** @type {?} */
            var key = field.getKey();
            this.sum.set(key, 0);
            this.min.set(key, Number.MAX_SAFE_INTEGER);
            this.max.set(key, 0);
        };
        /**
         * @param {?} field
         * @param {?} items
         * @return {?}
         */
        NumberAggregationCalculator.prototype.postCalculate = /**
         * @param {?} field
         * @param {?} items
         * @return {?}
         */
        function (field, items) {
            /** @type {?} */
            var key = field.getKey();
            if (field.isAggregation(AggregationType.AVERAGE)) {
                this.average.set(key, this.sum.get(key) / items.length);
            }
            if (field.isAggregation(AggregationType.MEDIAN)) {
                this.median.set(key, field.getValue(items[Math.floor(items.length / 2)]));
            }
        };
        /**
         * @param {?} field
         * @param {?} value
         * @return {?}
         */
        NumberAggregationCalculator.prototype.aggregate = /**
         * @param {?} field
         * @param {?} value
         * @return {?}
         */
        function (field, value) {
            /** @type {?} */
            var numberValue = +value;
            /** @type {?} */
            var key = field.getKey();
            /** @type {?} */
            var sumForField = this.sum.get(key);
            /** @type {?} */
            var minForField = this.min.get(key);
            /** @type {?} */
            var maxForField = this.max.get(key);
            if (field.isAggregation(AggregationType.SUM) || field.isAggregation(AggregationType.AVERAGE)) {
                this.sum.set(key, sumForField + numberValue);
            }
            if (field.isAggregation(AggregationType.MIN)) {
                if (minForField > numberValue) {
                    this.min.set(key, numberValue);
                }
            }
            if (field.isAggregation(AggregationType.MAX)) {
                if (maxForField < numberValue) {
                    this.max.set(key, numberValue);
                }
            }
        };
        /**
         * @param {?} field
         * @return {?}
         */
        NumberAggregationCalculator.prototype.generateAggregatedValues = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            /** @type {?} */
            var key = field.getKey();
            /** @type {?} */
            var sum = field.isAggregation(AggregationType.SUM) ? this.sum.get(key) : undefined;
            /** @type {?} */
            var min = field.isAggregation(AggregationType.MIN) ? this.min.get(key) : undefined;
            /** @type {?} */
            var max = field.isAggregation(AggregationType.MAX) ? this.max.get(key) : undefined;
            /** @type {?} */
            var average = field.isAggregation(AggregationType.AVERAGE) ? this.average.get(key) : undefined;
            /** @type {?} */
            var median = field.isAggregation(AggregationType.MEDIAN) ? this.median.get(key) : undefined;
            return new NumberAggregatedValues(sum, min, max, average, median);
        };
        NumberAggregationCalculator.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        NumberAggregationCalculator.ctorParameters = function () { return []; };
        return NumberAggregationCalculator;
    }(AggregationCalculator));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        NumberAggregationCalculator.prototype.sum;
        /**
         * @type {?}
         * @private
         */
        NumberAggregationCalculator.prototype.min;
        /**
         * @type {?}
         * @private
         */
        NumberAggregationCalculator.prototype.max;
        /**
         * @type {?}
         * @private
         */
        NumberAggregationCalculator.prototype.average;
        /**
         * @type {?}
         * @private
         */
        NumberAggregationCalculator.prototype.median;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StringAggregatedValues = /** @class */ (function (_super) {
        __extends(StringAggregatedValues, _super);
        function StringAggregatedValues() {
            return _super.call(this) || this;
        }
        return StringAggregatedValues;
    }(AggregatedValues));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StringAggregationCalculator = /** @class */ (function (_super) {
        __extends(StringAggregationCalculator, _super);
        function StringAggregationCalculator() {
            return _super.call(this) || this;
        }
        /**
         * @param {?} dataType
         * @return {?}
         */
        StringAggregationCalculator.prototype.forDataType = /**
         * @param {?} dataType
         * @return {?}
         */
        function (dataType) {
            return dataType === DataType.STRING;
        };
        /**
         * @param {?} field
         * @return {?}
         */
        StringAggregationCalculator.prototype.prepare = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
        };
        /**
         * @param {?} field
         * @param {?} items
         * @return {?}
         */
        StringAggregationCalculator.prototype.postCalculate = /**
         * @param {?} field
         * @param {?} items
         * @return {?}
         */
        function (field, items) {
        };
        /**
         * @param {?} field
         * @param {?} value
         * @return {?}
         */
        StringAggregationCalculator.prototype.aggregate = /**
         * @param {?} field
         * @param {?} value
         * @return {?}
         */
        function (field, value) {
        };
        /**
         * @param {?} field
         * @return {?}
         */
        StringAggregationCalculator.prototype.generateAggregatedValues = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            return new StringAggregatedValues();
        };
        StringAggregationCalculator.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StringAggregationCalculator.ctorParameters = function () { return []; };
        return StringAggregationCalculator;
    }(AggregationCalculator));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var UnknownAggregatedValues = /** @class */ (function (_super) {
        __extends(UnknownAggregatedValues, _super);
        function UnknownAggregatedValues() {
            return _super.call(this) || this;
        }
        return UnknownAggregatedValues;
    }(AggregatedValues));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var UnknownAggregationCalculator = /** @class */ (function (_super) {
        __extends(UnknownAggregationCalculator, _super);
        function UnknownAggregationCalculator() {
            return _super.call(this) || this;
        }
        /**
         * @param {?} dataType
         * @return {?}
         */
        UnknownAggregationCalculator.prototype.forDataType = /**
         * @param {?} dataType
         * @return {?}
         */
        function (dataType) {
            return dataType === DataType.UNKNOWN;
        };
        /**
         * @param {?} field
         * @return {?}
         */
        UnknownAggregationCalculator.prototype.prepare = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
        };
        /**
         * @param {?} field
         * @param {?} items
         * @return {?}
         */
        UnknownAggregationCalculator.prototype.postCalculate = /**
         * @param {?} field
         * @param {?} items
         * @return {?}
         */
        function (field, items) {
        };
        /**
         * @param {?} field
         * @param {?} value
         * @return {?}
         */
        UnknownAggregationCalculator.prototype.aggregate = /**
         * @param {?} field
         * @param {?} value
         * @return {?}
         */
        function (field, value) {
        };
        /**
         * @param {?} field
         * @return {?}
         */
        UnknownAggregationCalculator.prototype.generateAggregatedValues = /**
         * @param {?} field
         * @return {?}
         */
        function (field) {
            return new UnknownAggregatedValues();
        };
        UnknownAggregationCalculator.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        UnknownAggregationCalculator.ctorParameters = function () { return []; };
        return UnknownAggregationCalculator;
    }(AggregationCalculator));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @param {?} clazz
     * @return {?}
     */
    function provideAggregationCalculator(clazz) {
        return {
            provide: AGGREGATION_CALCULATORS,
            useClass: clazz,
            multi: true
        };
    }
    /** @type {?} */
    var aggregationProviders = [
        provideAggregationCalculator(BooleanAggregationCalculator),
        provideAggregationCalculator(DateAggregationCalculator),
        provideAggregationCalculator(NumberAggregationCalculator),
        provideAggregationCalculator(StringAggregationCalculator),
        provideAggregationCalculator(UnknownAggregationCalculator),
        AggregationManagerFactory
    ];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureConfigFilterSetEventHandler = /** @class */ (function (_super) {
        __extends(StructureConfigFilterSetEventHandler, _super);
        function StructureConfigFilterSetEventHandler(structureFilterRepository) {
            var _this = _super.call(this) || this;
            _this.structureFilterRepository = structureFilterRepository;
            return _this;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        StructureConfigFilterSetEventHandler.prototype.handle = /**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            if (event instanceof StructureConfigFilterSetEvent) {
                this.structureFilterRepository.setEnabled(event.getEnabled(), event.getAggregateId());
            }
        };
        StructureConfigFilterSetEventHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureConfigFilterSetEventHandler.ctorParameters = function () { return [
            { type: StructureFilterRepository }
        ]; };
        return StructureConfigFilterSetEventHandler;
    }(hermes.DomainEventHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureConfigFilterSetEventHandler.prototype.structureFilterRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureConfigSearchingSetEventHandler = /** @class */ (function (_super) {
        __extends(StructureConfigSearchingSetEventHandler, _super);
        function StructureConfigSearchingSetEventHandler(structureSearchingRepository) {
            var _this = _super.call(this) || this;
            _this.structureSearchingRepository = structureSearchingRepository;
            return _this;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        StructureConfigSearchingSetEventHandler.prototype.handle = /**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            if (event instanceof StructureConfigSearchingSetEvent) {
                this.structureSearchingRepository.setEnabled(event.getEnabled(), event.getAggregateId());
            }
        };
        StructureConfigSearchingSetEventHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureConfigSearchingSetEventHandler.ctorParameters = function () { return [
            { type: StructureSearchingRepository }
        ]; };
        return StructureConfigSearchingSetEventHandler;
    }(hermes.DomainEventHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureConfigSearchingSetEventHandler.prototype.structureSearchingRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureConfigQuickFilterSetEventHandler = /** @class */ (function (_super) {
        __extends(StructureConfigQuickFilterSetEventHandler, _super);
        function StructureConfigQuickFilterSetEventHandler(structureQuickFilterRepository) {
            var _this = _super.call(this) || this;
            _this.structureQuickFilterRepository = structureQuickFilterRepository;
            return _this;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        StructureConfigQuickFilterSetEventHandler.prototype.handle = /**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            if (event instanceof StructureConfigQuickFilterSetEvent) {
                this.structureQuickFilterRepository.setEnabled(event.getEnabled(), event.getAggregateId());
            }
        };
        StructureConfigQuickFilterSetEventHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureConfigQuickFilterSetEventHandler.ctorParameters = function () { return [
            { type: StructureQuickFilterRepository }
        ]; };
        return StructureConfigQuickFilterSetEventHandler;
    }(hermes.DomainEventHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureConfigQuickFilterSetEventHandler.prototype.structureQuickFilterRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureFieldUiModel = /** @class */ (function () {
        function StructureFieldUiModel(id, dataType) {
            this.id = id;
            this.dataType = dataType;
        }
        /**
         * @return {?}
         */
        StructureFieldUiModel.prototype.getId = /**
         * @return {?}
         */
        function () {
            return this.id.getId();
        };
        /**
         * @return {?}
         */
        StructureFieldUiModel.prototype.getDataType = /**
         * @return {?}
         */
        function () {
            return this.dataType;
        };
        return StructureFieldUiModel;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureFieldUiModel.prototype.id;
        /**
         * @type {?}
         * @private
         */
        StructureFieldUiModel.prototype.dataType;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureFieldUiConverter = /** @class */ (function () {
        function StructureFieldUiConverter() {
        }
        /**
         * @param {?} fields
         * @return {?}
         */
        StructureFieldUiConverter.prototype.convert = /**
         * @param {?} fields
         * @return {?}
         */
        function (fields) {
            var _this = this;
            return fields.map((/**
             * @param {?} field
             * @return {?}
             */
            function (field) {
                return _this.convertOne(field);
            }));
        };
        /**
         * @private
         * @param {?} field
         * @return {?}
         */
        StructureFieldUiConverter.prototype.convertOne = /**
         * @private
         * @param {?} field
         * @return {?}
         */
        function (field) {
            return new StructureFieldUiModel(field.getId(), field.getDataType());
        };
        StructureFieldUiConverter.decorators = [
            { type: core.Injectable }
        ];
        return StructureFieldUiConverter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureFieldsInitedEventHandler = /** @class */ (function (_super) {
        __extends(StructureFieldsInitedEventHandler, _super);
        function StructureFieldsInitedEventHandler(structureFieldsRepository, structureFieldUiConverter) {
            var _this = _super.call(this) || this;
            _this.structureFieldsRepository = structureFieldsRepository;
            _this.structureFieldUiConverter = structureFieldUiConverter;
            return _this;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        StructureFieldsInitedEventHandler.prototype.handle = /**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            if (event instanceof FieldsInitedEvent) {
                /** @type {?} */
                var fields = this.structureFieldUiConverter.convert(event.getFields());
                this.structureFieldsRepository.next(event.getAggregateId(), fields);
            }
        };
        StructureFieldsInitedEventHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureFieldsInitedEventHandler.ctorParameters = function () { return [
            { type: StructureFieldUiArchive },
            { type: StructureFieldUiConverter }
        ]; };
        return StructureFieldsInitedEventHandler;
    }(hermes.DomainEventHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureFieldsInitedEventHandler.prototype.structureFieldsRepository;
        /**
         * @type {?}
         * @private
         */
        StructureFieldsInitedEventHandler.prototype.structureFieldUiConverter;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregationUiEventsRepository = /** @class */ (function () {
        function StructureAggregationUiEventsRepository(domainEventBus) {
            this.domainEventBus = domainEventBus;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        StructureAggregationUiEventsRepository.prototype.onAggregationsChanged = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.domainEventBus
                .pipe(operators.filter((/**
             * @param {?} event
             * @return {?}
             */
            function (event) { return event instanceof StructureAggregationsChangedEvent; })), operators.filter((/**
             * @param {?} event
             * @return {?}
             */
            function (event) { return event.aggregateId.toString() === structureId.toString(); })));
        };
        StructureAggregationUiEventsRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureAggregationUiEventsRepository.ctorParameters = function () { return [
            { type: hermes.DomainEventBus }
        ]; };
        return StructureAggregationUiEventsRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureAggregationUiEventsRepository.prototype.domainEventBus;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetPagingCommandHandler = /** @class */ (function (_super) {
        __extends(SetPagingCommandHandler, _super);
        function SetPagingCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetPagingCommand, PagingSetEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetPagingCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var pagingConfig = (/** @type {?} */ (command.payload));
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            structure.changePaging(pagingConfig);
            this.structureAggregateRepository.save(structure);
        };
        SetPagingCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetPagingCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetPagingCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetPagingCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var NextPageCommandHandler = /** @class */ (function (_super) {
        __extends(NextPageCommandHandler, _super);
        function NextPageCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, NextPageCommand, NextPageEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        NextPageCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            structure.nextPage();
            this.structureAggregateRepository.save(structure);
        };
        NextPageCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        NextPageCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return NextPageCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        NextPageCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var PrevPageCommandHandler = /** @class */ (function (_super) {
        __extends(PrevPageCommandHandler, _super);
        function PrevPageCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, PrevPageCommand, PrevPageEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        PrevPageCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            structure.prevPage();
            this.structureAggregateRepository.save(structure);
        };
        PrevPageCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        PrevPageCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return PrevPageCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        PrevPageCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ChangePagesizeCommandHandler = /** @class */ (function (_super) {
        __extends(ChangePagesizeCommandHandler, _super);
        function ChangePagesizeCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, ChangePagesizeCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        ChangePagesizeCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var newPageSize = (/** @type {?} */ (command.pageSize));
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var aggregateEvents = structure.changePageSize(newPageSize);
            // aggregateEvents => DomainEvents
            // DomainEvent
            // causationId -> aka commandId
            // correlationId -> actual or previous commandId
            // event publisher should take aggregate events
            // and convert them to domain events
            this.structureAggregateRepository.save(structure);
            // TODO
            ((/** @type {?} */ (aggregateEvents))).forEach((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                ((/** @type {?} */ (event))).aggregateId = structureId;
            }));
            this.publishAggregateEvents(aggregateEvents, command);
        };
        /**
         * @private
         * @param {?} events
         * @param {?} command
         * @return {?}
         */
        ChangePagesizeCommandHandler.prototype.publishAggregateEvents = /**
         * @private
         * @param {?} events
         * @param {?} command
         * @return {?}
         */
        function (events, command) {
            var e_1, _a;
            try {
                for (var events_1 = __values(events), events_1_1 = events_1.next(); !events_1_1.done; events_1_1 = events_1.next()) {
                    var event_1 = events_1_1.value;
                    this.publishAggregateEvent(event_1, command);
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (events_1_1 && !events_1_1.done && (_a = events_1.return)) _a.call(events_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        };
        /**
         * @private
         * @param {?} event
         * @param {?} command
         * @return {?}
         */
        ChangePagesizeCommandHandler.prototype.publishAggregateEvent = /**
         * @private
         * @param {?} event
         * @param {?} command
         * @return {?}
         */
        function (event, command) {
            switch (event.getType()) {
                case 'PageChangedAggregateEvent':
                    /** @type {?} */
                    var pageChangedEvent = new PageChangedEvent(command.getAggregateId());
                    this.domainEventPublisher.publish(pageChangedEvent);
                    break;
                case 'PagesizeChangedAggregateEvent':
                    /** @type {?} */
                    var pagesizeChangedEvent = new PagesizeChangedEvent(command.getAggregateId());
                    this.domainEventPublisher.publish(pagesizeChangedEvent);
                    break;
                default:
                    break;
            }
        };
        ChangePagesizeCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        ChangePagesizeCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return ChangePagesizeCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ChangePagesizeCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @protected
         */
        ChangePagesizeCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var commandProviders$1 = [
        PagingDispatcher,
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetPagingCommandHandler,
            multi: true
        },
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: NextPageCommandHandler,
            multi: true
        },
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: PrevPageCommandHandler,
            multi: true
        },
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: ChangePagesizeCommandHandler,
            multi: true
        }
    ];
    /** @type {?} */
    var readProviders$1 = [
        PagingRepository
    ];
    /** @type {?} */
    var pagingProviders = __spread(commandProviders$1, readProviders$1, [
        PagingAggregateFactory,
        PagingConverter,
        PagingCommandService,
        PagingReadModelService,
        PagingEventService
    ]);

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSchemaVerticalGridCommandHandler = /** @class */ (function (_super) {
        __extends(SetSchemaVerticalGridCommandHandler, _super);
        function SetSchemaVerticalGridCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetSchemaVerticalGridCommand, SchemaVerticalGridSetEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetSchemaVerticalGridCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var enabled = command.enabled;
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var schema = structure.getSchema();
            schema.setVerticalGrid(enabled);
            this.structureAggregateRepository.save(structure);
        };
        SetSchemaVerticalGridCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetSchemaVerticalGridCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetSchemaVerticalGridCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetSchemaVerticalGridCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSchemaHorizontalGridCommandHandler = /** @class */ (function (_super) {
        __extends(SetSchemaHorizontalGridCommandHandler, _super);
        function SetSchemaHorizontalGridCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetSchemaHorizontalGridCommand, SchemaHorizontalGridSetEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetSchemaHorizontalGridCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var enabled = command.enabled;
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var schema = structure.getSchema();
            schema.setHorizontalGrid(enabled);
            this.structureAggregateRepository.save(structure);
        };
        SetSchemaHorizontalGridCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetSchemaHorizontalGridCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetSchemaHorizontalGridCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetSchemaHorizontalGridCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSchemaThemeCommandHandler = /** @class */ (function (_super) {
        __extends(SetSchemaThemeCommandHandler, _super);
        function SetSchemaThemeCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetSchemaThemeCommand, SchemaThemeSetEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetSchemaThemeCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var theme = command.theme;
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var schema = structure.getSchema();
            schema.setTheme(theme);
            this.structureAggregateRepository.save(structure);
        };
        SetSchemaThemeCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetSchemaThemeCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetSchemaThemeCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetSchemaThemeCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ChangeSchemaBottomHeaderCommandHandler = /** @class */ (function (_super) {
        __extends(ChangeSchemaBottomHeaderCommandHandler, _super);
        function ChangeSchemaBottomHeaderCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, ChangeSchemaBottomHeaderCommand, SchemaBottomHeaderChangedEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        ChangeSchemaBottomHeaderCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var enabled = command.enabled;
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var schema = structure.getSchema();
            schema.setHeaderBottom(enabled);
            this.structureAggregateRepository.save(structure);
        };
        ChangeSchemaBottomHeaderCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        ChangeSchemaBottomHeaderCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return ChangeSchemaBottomHeaderCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ChangeSchemaBottomHeaderCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ChangeSchemaTopHeaderCommandHandler = /** @class */ (function (_super) {
        __extends(ChangeSchemaTopHeaderCommandHandler, _super);
        function ChangeSchemaTopHeaderCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, ChangeSchemaTopHeaderCommand, SchemaTopHeaderChangedEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        ChangeSchemaTopHeaderCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var enabled = command.enabled;
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var schema = structure.getSchema();
            schema.setHeaderTop(enabled);
            this.structureAggregateRepository.save(structure);
        };
        ChangeSchemaTopHeaderCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        ChangeSchemaTopHeaderCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return ChangeSchemaTopHeaderCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ChangeSchemaTopHeaderCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetRowColoringCommandHandler = /** @class */ (function (_super) {
        __extends(SetRowColoringCommandHandler, _super);
        function SetRowColoringCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetRowColoringCommand, RowColoringSetEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetRowColoringCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var coloring = command.coloring;
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var schema = structure.getSchema();
            schema.setRowColoring(coloring);
            this.structureAggregateRepository.save(structure);
        };
        SetRowColoringCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetRowColoringCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetRowColoringCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetRowColoringCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSchemaCommandHandler = /** @class */ (function (_super) {
        __extends(SetSchemaCommandHandler, _super);
        function SetSchemaCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetSchemaCommand, SchemaSetEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetSchemaCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var height = command.height;
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            structure.setHeight(height);
            this.structureAggregateRepository.save(structure);
        };
        SetSchemaCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetSchemaCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetSchemaCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetSchemaCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var commandProviders$2 = [
        SchemaDispatcher,
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetSchemaCommandHandler,
            multi: true
        },
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetSchemaVerticalGridCommandHandler,
            multi: true
        },
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetSchemaHorizontalGridCommandHandler,
            multi: true
        },
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetSchemaThemeCommandHandler,
            multi: true
        },
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: ChangeSchemaBottomHeaderCommandHandler,
            multi: true
        },
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: ChangeSchemaTopHeaderCommandHandler,
            multi: true
        },
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetRowColoringCommandHandler,
            multi: true
        },
        SchemaAggregateFactory
    ];
    /** @type {?} */
    var readProviders$2 = [
        SchemaRepository
    ];
    /** @type {?} */
    var schemaProviders = __spread(commandProviders$2, readProviders$2, [
        SchemaConverter,
        SchemaCommandService,
        SchemaReadModelService
    ]);

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetFormationCommandHandler = /** @class */ (function (_super) {
        __extends(SetFormationCommandHandler, _super);
        function SetFormationCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetFormationCommand, FormationSetEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetFormationCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var rawFormation = (/** @type {?} */ (command.payload));
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            // missing implementation
            this.structureAggregateRepository.save(structure);
        };
        SetFormationCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetFormationCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetFormationCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetFormationCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ToggleSelectedRowCommandHandler = /** @class */ (function (_super) {
        __extends(ToggleSelectedRowCommandHandler, _super);
        function ToggleSelectedRowCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, ToggleSelectedRowCommand, SelectedRowToggledEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        ToggleSelectedRowCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var selectedRow = command.selectedRow;
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            if (!structure) {
                console.error("There is no aggregate 'Structure' for aggregateId: " + structureId);
                return;
            }
            /** @type {?} */
            var formation = structure.getFormation();
            formation.toggleRow(selectedRow);
            this.structureAggregateRepository.save(structure);
        };
        ToggleSelectedRowCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        ToggleSelectedRowCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return ToggleSelectedRowCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        ToggleSelectedRowCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var commandProviders$3 = [
        FormationDispatcher,
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetFormationCommandHandler,
            multi: true
        },
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: ToggleSelectedRowCommandHandler,
            multi: true
        },
        FormationAggregateFactory
    ];
    /** @type {?} */
    var readProviders$3 = [
        FormationRepository
    ];
    /** @type {?} */
    var formationProviders = __spread(commandProviders$3, readProviders$3, [
        FormationEventService,
        FormationConverter,
        FormationCommandService,
        FormationReadModelService
    ]);

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetOriginCommandHandler = /** @class */ (function (_super) {
        __extends(SetOriginCommandHandler, _super);
        function SetOriginCommandHandler(structureAggregateRepository, structureSourceDomainEventPublisher) {
            var _this = _super.call(this, SetOriginCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.structureSourceDomainEventPublisher = structureSourceDomainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetOriginCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var items = (/** @type {?} */ (command.items));
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            if (!structure) {
                console.error("There is no aggregate 'Structure' for aggregateId: " + structureId);
                return;
            }
            /** @type {?} */
            var aggregateEvents = structure.setOrigin(items);
            this.structureAggregateRepository.save(structure);
            this.structureSourceDomainEventPublisher.publish(aggregateEvents);
        };
        SetOriginCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetOriginCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: StructureSourceDomainEventPublisher }
        ]; };
        return SetOriginCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetOriginCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        SetOriginCommandHandler.prototype.structureSourceDomainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureEditSourceItemCommandHandler = /** @class */ (function (_super) {
        __extends(StructureEditSourceItemCommandHandler, _super);
        function StructureEditSourceItemCommandHandler(structureAggregateRepository, domainEventPublisher, structureSourceDomainEventPublisher) {
            var _this = _super.call(this, StructureEditSourceItemCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            _this.structureSourceDomainEventPublisher = structureSourceDomainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        StructureEditSourceItemCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.getAggregateId();
            /** @type {?} */
            var params = command.getParams();
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var aggregateEvents = structure.editItem(params);
            this.structureAggregateRepository.save(structure);
            this.structureSourceDomainEventPublisher.publish(aggregateEvents);
        };
        StructureEditSourceItemCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureEditSourceItemCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher },
            { type: StructureSourceDomainEventPublisher }
        ]; };
        return StructureEditSourceItemCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureEditSourceItemCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        StructureEditSourceItemCommandHandler.prototype.domainEventPublisher;
        /**
         * @type {?}
         * @private
         */
        StructureEditSourceItemCommandHandler.prototype.structureSourceDomainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureOriginChangedEventHandler = /** @class */ (function (_super) {
        __extends(StructureOriginChangedEventHandler, _super);
        function StructureOriginChangedEventHandler(structureSourceOriginRepository) {
            var _this = _super.call(this) || this;
            _this.structureSourceOriginRepository = structureSourceOriginRepository;
            return _this;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        StructureOriginChangedEventHandler.prototype.handle = /**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            if (event instanceof OriginSetEvent) {
                /** @type {?} */
                var origin_1 = event.getOrigin();
                this.structureSourceOriginRepository.setOrigin(origin_1, event.getAggregateId());
            }
        };
        StructureOriginChangedEventHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureOriginChangedEventHandler.ctorParameters = function () { return [
            { type: StructureSourceOriginRepository }
        ]; };
        return StructureOriginChangedEventHandler;
    }(hermes.DomainEventHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureOriginChangedEventHandler.prototype.structureSourceOriginRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SourceRepository = /** @class */ (function () {
        function SourceRepository(structureRepository) {
            this.structureRepository = structureRepository;
        }
        /**
         * @param {?} structureId
         * @return {?}
         */
        SourceRepository.prototype.select = /**
         * @param {?} structureId
         * @return {?}
         */
        function (structureId) {
            return this.structureRepository
                .onStructure(structureId)
                .pipe(operators.filter((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) { return structure.getId().toString() === structureId.toString(); })), operators.map((/**
             * @param {?} structure
             * @return {?}
             */
            function (structure) { return structure.getSchema(); })));
        };
        SourceRepository.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SourceRepository.ctorParameters = function () { return [
            { type: StructureRepository }
        ]; };
        return SourceRepository;
    }());
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SourceRepository.prototype.structureRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SourceSetLoadingCommandHandler = /** @class */ (function (_super) {
        __extends(SourceSetLoadingCommandHandler, _super);
        function SourceSetLoadingCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SourceSetLoadingCommand, SetSourceLoadingEvent, domainEventPublisher) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SourceSetLoadingCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var enabled = command.enabled;
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var source = structure.getSource();
            source.setLoading(enabled);
            this.structureAggregateRepository.save(structure);
        };
        SourceSetLoadingCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SourceSetLoadingCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SourceSetLoadingCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SourceSetLoadingCommandHandler.prototype.structureAggregateRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructurePreparedItemsEventHandler = /** @class */ (function (_super) {
        __extends(StructurePreparedItemsEventHandler, _super);
        function StructurePreparedItemsEventHandler(structurePreparedItemsRepository) {
            var _this = _super.call(this) || this;
            _this.structurePreparedItemsRepository = structurePreparedItemsRepository;
            return _this;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        StructurePreparedItemsEventHandler.prototype.handle = /**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            if (event instanceof StructurePreparedEntitiesSetEvent) {
                /** @type {?} */
                var preparedItems = event.getPreparedItems();
                this.structurePreparedItemsRepository.setItems(preparedItems, event.getAggregateId());
            }
        };
        StructurePreparedItemsEventHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructurePreparedItemsEventHandler.ctorParameters = function () { return [
            { type: StructurePreparedItemsRepository }
        ]; };
        return StructurePreparedItemsEventHandler;
    }(hermes.DomainEventHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructurePreparedItemsEventHandler.prototype.structurePreparedItemsRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var commandProviders$4 = [
        SourceDispatcher,
        SourceManagerFactory,
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SourceSetLoadingCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetOriginCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: StructureEditSourceItemCommandHandler,
            multi: true
        },
        StructureSourceDomainEventPublisher
    ];
    /** @type {?} */
    var readProviders$4 = [
        SourceRepository,
        {
            provide: hermes.DOMAIN_EVENT_HANDLERS,
            useClass: StructureOriginChangedEventHandler,
            multi: true
        }, {
            provide: hermes.DOMAIN_EVENT_HANDLERS,
            useClass: StructurePreparedItemsEventHandler,
            multi: true
        },
        StructureSourceOriginRepository,
        StructurePreparedItemsRepository
    ];
    /** @type {?} */
    var sourceProviders = __spread(commandProviders$4, readProviders$4, [
        SourceConverter,
        SourceCommandService,
        SourceReadModelService,
        SourceEventService
    ]);

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSetSearchPhraseCommandHandler = /** @class */ (function (_super) {
        __extends(StructureSetSearchPhraseCommandHandler, _super);
        function StructureSetSearchPhraseCommandHandler(structureAggregateRepository, structureSourceDomainEventPublisher, domainEventPublisher) {
            var _this = _super.call(this, StructureSetSearchPhraseCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.structureSourceDomainEventPublisher = structureSourceDomainEventPublisher;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        StructureSetSearchPhraseCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var phrase = command.phrase;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            structure.addSearchPhrase(phrase);
            this.structureAggregateRepository.save(structure);
            this.domainEventPublisher.publish(new StructureSearchPhraseSetDomainEvent(structureId, phrase));
            this.structureSourceDomainEventPublisher.publish(structure.getEvents());
        };
        StructureSetSearchPhraseCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureSetSearchPhraseCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: StructureSourceDomainEventPublisher },
            { type: hermes.DomainEventPublisher }
        ]; };
        return StructureSetSearchPhraseCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSetSearchPhraseCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        StructureSetSearchPhraseCommandHandler.prototype.structureSourceDomainEventPublisher;
        /**
         * @type {?}
         * @private
         */
        StructureSetSearchPhraseCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetSortOrderCommandHandler = /** @class */ (function (_super) {
        __extends(SetSortOrderCommandHandler, _super);
        function SetSortOrderCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetSortOrderCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetSortOrderCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.getAggregateId();
            /** @type {?} */
            var compositionId = command.getCompositionId();
            /** @type {?} */
            var fieldId = command.getFieldId();
            /** @type {?} */
            var sortOrder = command.getSortOrder();
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var sorters = structure.setSortOrder(fieldId, sortOrder);
            this.structureAggregateRepository.save(structure);
            this.publishSortEvent(structureId, compositionId, fieldId, sorters);
        };
        /**
         * @param {?} aggregateId
         * @param {?} compositionId
         * @param {?} fieldId
         * @param {?} sorters
         * @return {?}
         */
        SetSortOrderCommandHandler.prototype.publishSortEvent = /**
         * @param {?} aggregateId
         * @param {?} compositionId
         * @param {?} fieldId
         * @param {?} sorters
         * @return {?}
         */
        function (aggregateId, compositionId, fieldId, sorters) {
            /** @type {?} */
            var directions = sorters.map((/**
             * @param {?} sorter
             * @return {?}
             */
            function (sorter) {
                return {
                    direction: sorter.hasDirection(),
                    fieldId: sorter.getField().getId()
                };
            }));
            this.domainEventPublisher.publish(new SortOrderSetEvent(aggregateId, compositionId, directions));
        };
        SetSortOrderCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetSortOrderCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetSortOrderCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetSortOrderCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @private
         */
        SetSortOrderCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var SetRowHeightCommandHandler = /** @class */ (function (_super) {
        __extends(SetRowHeightCommandHandler, _super);
        function SetRowHeightCommandHandler(structureAggregateRepository, domainEventPublisher) {
            var _this = _super.call(this, SetRowHeightCommand) || this;
            _this.structureAggregateRepository = structureAggregateRepository;
            _this.domainEventPublisher = domainEventPublisher;
            return _this;
        }
        /**
         * @param {?} command
         * @return {?}
         */
        SetRowHeightCommandHandler.prototype.handle = /**
         * @param {?} command
         * @return {?}
         */
        function (command) {
            /** @type {?} */
            var structureId = command.structureId;
            /** @type {?} */
            var rowHeight = command.rowHeight;
            /** @type {?} */
            var structure = this.structureAggregateRepository.getById(structureId);
            /** @type {?} */
            var formation = structure.getVerticalFormation();
            formation.setRowHeight(rowHeight);
            this.structureAggregateRepository.save(structure);
            this.domainEventPublisher.publish(new RowHeightSetEvent(structureId));
        };
        SetRowHeightCommandHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        SetRowHeightCommandHandler.ctorParameters = function () { return [
            { type: StructureAggregateRepository },
            { type: hermes.DomainEventPublisher }
        ]; };
        return SetRowHeightCommandHandler;
    }(hermes.CommandHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        SetRowHeightCommandHandler.prototype.structureAggregateRepository;
        /**
         * @type {?}
         * @protected
         */
        SetRowHeightCommandHandler.prototype.domainEventPublisher;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSearchPhraseSetEventHandler = /** @class */ (function (_super) {
        __extends(StructureSearchPhraseSetEventHandler, _super);
        function StructureSearchPhraseSetEventHandler(structureSearchPhraseRepository) {
            var _this = _super.call(this) || this;
            _this.structureSearchPhraseRepository = structureSearchPhraseRepository;
            return _this;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        StructureSearchPhraseSetEventHandler.prototype.handle = /**
         * @param {?} event
         * @return {?}
         */
        function (event) {
            if (event instanceof StructureSearchPhraseSetDomainEvent) {
                this.structureSearchPhraseRepository.setPhrase(event.getPhrase(), event.getAggregateId());
            }
        };
        StructureSearchPhraseSetEventHandler.decorators = [
            { type: core.Injectable }
        ];
        /** @nocollapse */
        StructureSearchPhraseSetEventHandler.ctorParameters = function () { return [
            { type: StructureSearchPhraseRepository }
        ]; };
        return StructureSearchPhraseSetEventHandler;
    }(hermes.DomainEventHandler));
    if (false) {
        /**
         * @type {?}
         * @private
         */
        StructureSearchPhraseSetEventHandler.prototype.structureSearchPhraseRepository;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var commandProviders$5 = __spread(inMemoryStructureCommandProviders, [
        {
            provide: hermes.COMMAND_HANDLERS,
            useClass: InitStructureCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetVerticalScrollEnabledCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetScrollPositionCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: InitFieldsCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: ToggleSortCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetSortingCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: StructureSetConfigFilterCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: StructureSetConfigSearchingCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: StructureSetConfigQuickFilterCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: StructureToggleFilterCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: StructureSetAggregationEnabledCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: StructureSetSearchPhraseCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetSortOrderCommandHandler,
            multi: true
        }, {
            provide: hermes.COMMAND_HANDLERS,
            useClass: SetRowHeightCommandHandler,
            multi: true
        },
        VerticalFormationFactory,
        FieldCollectionFactory,
        FilterManagerFactory,
        SearchManagerFactory,
        FieldIdGenerator,
        StructureFilterCommandService,
        FieldFactory
    ], aggregationProviders);
    /** @type {?} */
    var readProviders$5 = __spread([
        {
            provide: hermes.DOMAIN_EVENT_HANDLERS,
            useClass: StructureConfigFilterSetEventHandler,
            multi: true
        }, {
            provide: hermes.DOMAIN_EVENT_HANDLERS,
            useClass: StructureConfigSearchingSetEventHandler,
            multi: true
        }, {
            provide: hermes.DOMAIN_EVENT_HANDLERS,
            useClass: StructureConfigQuickFilterSetEventHandler,
            multi: true
        }, {
            provide: hermes.DOMAIN_EVENT_HANDLERS,
            useClass: StructureFieldsInitedEventHandler,
            multi: true
        }, {
            provide: hermes.DOMAIN_EVENT_HANDLERS,
            useClass: StructureSearchPhraseSetEventHandler,
            multi: true
        }
    ], inMemoryStructureReadProviders, [
        VerticalFormationConverter,
        VerticalFormationRepository,
        StructureFilterReadModelRepository,
        StructureFilterRepository,
        StructureQuickFilterRepository,
        StructureSearchingRepository,
        StructureSearchReadModelRepository,
        StructureFieldUiArchive,
        StructureFieldUiConverter,
        StructureFieldUiRepository,
        StructureSearchPhraseRepository
    ]);
    /** @type {?} */
    var structureProviders = __spread(inMemoryStructureProviders, commandProviders$5, readProviders$5, [
        StructureAggregationCommandService,
        StructureAggregationUiEventsRepository,
        StructureAggregateFactory,
        StructureConverter,
        StructureReadModelService,
        StructureCommandService
    ], pagingProviders, schemaProviders, formationProviders, sourceProviders);

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ConsoleLogger = /** @class */ (function (_super) {
        __extends(ConsoleLogger, _super);
        function ConsoleLogger() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /**
         * @param {?} text
         * @return {?}
         */
        ConsoleLogger.prototype.warn = /**
         * @param {?} text
         * @return {?}
         */
        function (text) {
            console.warn(text);
        };
        /**
         * @param {?} text
         * @return {?}
         */
        ConsoleLogger.prototype.error = /**
         * @param {?} text
         * @return {?}
         */
        function (text) {
            console.error(text);
        };
        return ConsoleLogger;
    }(Logger));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var LoggerModule = /** @class */ (function () {
        function LoggerModule() {
        }
        LoggerModule.decorators = [
            { type: core.NgModule, args: [{
                        providers: [{
                                provide: Logger,
                                useClass: ConsoleLogger
                            }]
                    },] }
        ];
        return LoggerModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var ItemEntityFactory = /** @class */ (function () {
        function ItemEntityFactory() {
        }
        /**
         * @param {?} data
         * @return {?}
         */
        ItemEntityFactory.prototype.create = /**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            if (Array.isArray(data)) {
                return this.createEntities(data);
            }
            else {
                return this.createEntity(data);
            }
        };
        /**
         * @param {?} data
         * @return {?}
         */
        ItemEntityFactory.prototype.createEntities = /**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            var _this = this;
            return data.map((/**
             * @param {?} data
             * @return {?}
             */
            function (data) { return _this.createEntity(data); }));
        };
        /**
         * @private
         * @param {?} item
         * @return {?}
         */
        ItemEntityFactory.prototype.createEntity = /**
         * @private
         * @param {?} item
         * @return {?}
         */
        function (item) {
            if (item instanceof OriginItemEntity) {
                return new ItemEntity(item.rawData, item.getPosition(), item.id, item.getVersion());
            }
            else {
                return new ItemEntity(item, 0);
            }
        };
        ItemEntityFactory.decorators = [
            { type: core.Injectable }
        ];
        return ItemEntityFactory;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureTopPanelComponent = /** @class */ (function (_super) {
        __extends(StructureTopPanelComponent, _super);
        function StructureTopPanelComponent() {
            return _super.call(this) || this;
        }
        StructureTopPanelComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-top-panel',
                        template: "\n\t\t\n\t\t<gui-structure-search-bar></gui-structure-search-bar>\n\t\t\n\t\t\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StructureTopPanelComponent.ctorParameters = function () { return []; };
        return StructureTopPanelComponent;
    }(SmartComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureSearchComponent = /** @class */ (function (_super) {
        __extends(StructureSearchComponent, _super);
        function StructureSearchComponent(formBuilder, renderer2, structureCommandService, structureReadModelService) {
            var _this = _super.call(this) || this;
            _this.formBuilder = formBuilder;
            _this.renderer2 = renderer2;
            _this.structureCommandService = structureCommandService;
            _this.structureReadModelService = structureReadModelService;
            _this.searchForm = _this.formBuilder.group({
                'searchPhrase': ''
            });
            return _this;
        }
        /**
         * @return {?}
         */
        StructureSearchComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            this.observeChanges();
        };
        /**
         * @return {?}
         */
        StructureSearchComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.structureReadModelService
                .onRowHeight()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} rowHeight
             * @return {?}
             */
            function (rowHeight) {
                _this.renderer2.setStyle(_this.formRef.nativeElement, 'height', '30px');
            }));
        };
        /**
         * @private
         * @return {?}
         */
        StructureSearchComponent.prototype.observeChanges = /**
         * @private
         * @return {?}
         */
        function () {
            var _this = this;
            this.searchForm
                .controls['searchPhrase']
                .valueChanges
                .pipe(operators.debounceTime(200), this.takeUntil())
                .subscribe((/**
             * @param {?} phrase
             * @return {?}
             */
            function (phrase) {
                _this.structureCommandService.search(phrase);
            }));
        };
        StructureSearchComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-search-bar',
                        template: "\n\t\t<form #formRef\n\t\t\t  [formGroup]=\"searchForm\">\n\t\t\t<div class=\"gui-search-icon\"></div>\n\t\t\t<input formControlName=\"searchPhrase\" [placeholder]=\"'Search ...'\">\n\t\t</form>\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StructureSearchComponent.ctorParameters = function () { return [
            { type: forms.FormBuilder },
            { type: core.Renderer2 },
            { type: StructureCommandService },
            { type: StructureReadModelService }
        ]; };
        StructureSearchComponent.propDecorators = {
            formRef: [{ type: core.ViewChild, args: ['formRef', { static: false },] }]
        };
        return StructureSearchComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureSearchComponent.prototype.formRef;
        /** @type {?} */
        StructureSearchComponent.prototype.searchForm;
        /**
         * @type {?}
         * @private
         */
        StructureSearchComponent.prototype.formBuilder;
        /**
         * @type {?}
         * @private
         */
        StructureSearchComponent.prototype.renderer2;
        /**
         * @type {?}
         * @private
         */
        StructureSearchComponent.prototype.structureCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureSearchComponent.prototype.structureReadModelService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureTopPanelModule = /** @class */ (function () {
        function StructureTopPanelModule() {
        }
        StructureTopPanelModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            forms.ReactiveFormsModule
                        ],
                        declarations: [
                            StructureTopPanelComponent,
                            StructureSearchComponent
                        ],
                        exports: [
                            StructureTopPanelComponent,
                            StructureSearchComponent
                        ]
                    },] }
        ];
        return StructureTopPanelModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureEmptySourceComponent = /** @class */ (function () {
        function StructureEmptySourceComponent() {
        }
        StructureEmptySourceComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-empty-source',
                        template: "There are no items to show.\n",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None,
                        host: {
                            '[class.gui-structure-empty-source]': 'true'
                        }
                    }] }
        ];
        return StructureEmptySourceComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureColumnConfigTriggerComponent = /** @class */ (function (_super) {
        __extends(StructureColumnConfigTriggerComponent, _super);
        function StructureColumnConfigTriggerComponent(elementRef, changeDetectorRef, structureCommandService, structureColumnMenuConfigArchive, structureColumnConfigService) {
            var _this = _super.call(this) || this;
            _this.elementRef = elementRef;
            _this.changeDetectorRef = changeDetectorRef;
            _this.structureCommandService = structureCommandService;
            _this.structureColumnMenuConfigArchive = structureColumnMenuConfigArchive;
            _this.structureColumnConfigService = structureColumnConfigService;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureColumnConfigTriggerComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.structureColumnMenuConfigArchive
                .onValue()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} config
             * @return {?}
             */
            function (config) {
                _this.config = config;
                _this.changeDetectorRef.detectChanges();
            }));
        };
        /**
         * @return {?}
         */
        StructureColumnConfigTriggerComponent.prototype.openConfigDialog = /**
         * @return {?}
         */
        function () {
            this.structureColumnConfigService.open(this.headerDialogContainer, this.column);
        };
        /**
         * @return {?}
         */
        StructureColumnConfigTriggerComponent.prototype.closeConfigDialog = /**
         * @return {?}
         */
        function () {
            this.structureColumnConfigService.close();
        };
        /**
         * @return {?}
         */
        StructureColumnConfigTriggerComponent.prototype.isEnabled = /**
         * @return {?}
         */
        function () {
            return this.config && this.config.isEnabled();
        };
        StructureColumnConfigTriggerComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-column-config-trigger',
                        template: "\n\t\t<div #headerDialogContainer\n\t\t\t *ngIf=\"isEnabled()\"\n\t\t\t class=\"gui-header-menu-icon-wrapper\"\n\t\t\t (click)=\"openConfigDialog()\">\n\t\t\t<span class=\"gui-header-menu-icon\"></span>\n\t\t</div>\n\t"
                    }] }
        ];
        /** @nocollapse */
        StructureColumnConfigTriggerComponent.ctorParameters = function () { return [
            { type: core.ElementRef },
            { type: core.ChangeDetectorRef },
            { type: StructureCommandService },
            { type: StructureColumnMenuConfigArchive },
            { type: StructureColumnConfigService }
        ]; };
        StructureColumnConfigTriggerComponent.propDecorators = {
            headerDialogContainer: [{ type: core.ViewChild, args: ['headerDialogContainer', { static: false },] }],
            column: [{ type: core.Input }]
        };
        return StructureColumnConfigTriggerComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureColumnConfigTriggerComponent.prototype.headerDialogContainer;
        /** @type {?} */
        StructureColumnConfigTriggerComponent.prototype.column;
        /** @type {?} */
        StructureColumnConfigTriggerComponent.prototype.config;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigTriggerComponent.prototype.elementRef;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigTriggerComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigTriggerComponent.prototype.structureCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigTriggerComponent.prototype.structureColumnMenuConfigArchive;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigTriggerComponent.prototype.structureColumnConfigService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureMenuColumnManagerComponent = /** @class */ (function (_super) {
        __extends(StructureMenuColumnManagerComponent, _super);
        function StructureMenuColumnManagerComponent(changeDetectorRef, compositionCommandService, compositionReadModelService) {
            var _this = _super.call(this) || this;
            _this.changeDetectorRef = changeDetectorRef;
            _this.compositionCommandService = compositionCommandService;
            _this.compositionReadModelService = compositionReadModelService;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureMenuColumnManagerComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.compositionReadModelService
                .onAllColumns()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} columns
             * @return {?}
             */
            function (columns) {
                _this.columns = columns;
                _this.enabledColumnsCount = _this.columns
                    .map((/**
                 * @param {?} c
                 * @return {?}
                 */
                function (c) { return +c.isEnabled(); }))
                    .reduce((/**
                 * @param {?} accumulator
                 * @param {?} currentValue
                 * @return {?}
                 */
                function (accumulator, currentValue) { return accumulator + currentValue; }));
                _this.changeDetectorRef.detectChanges();
            }));
        };
        /**
         * @param {?} column
         * @return {?}
         */
        StructureMenuColumnManagerComponent.prototype.toggleColumn = /**
         * @param {?} column
         * @return {?}
         */
        function (column) {
            event.stopPropagation();
            if (column.isEnabled()) {
                this.compositionCommandService.disableColumn(column.getColumnId());
            }
            else {
                this.compositionCommandService.enableColumn(column.getColumnId());
            }
        };
        StructureMenuColumnManagerComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-menu-column-manager',
                        template: "\n\n\t\t<div *ngFor=\"let column of columns\">\n\n\t\t\t<gui-checkbox [checked]=\"column.isEnabled()\"\n\t\t\t\t\t\t  [disabled]=\"enabledColumnsCount === 1 && column.isEnabled()\"\n\t\t\t\t\t\t  (click)=\"toggleColumn(column)\">\n\n\t\t\t\t<ng-container\n\t\t\t\t\t\t*ngTemplateOutlet=\"column.viewTemplate;\n\t\t\t\t\t\t\t\t\t\t\tcontext: column.context\">\n\t\t\t\t</ng-container>\n\t\t\t</gui-checkbox>\n\t\t\t\n\t\t</div>\n\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None,
                        host: {
                            '[class.gui-structure-menu-column-manager]': 'true'
                        }
                    }] }
        ];
        /** @nocollapse */
        StructureMenuColumnManagerComponent.ctorParameters = function () { return [
            { type: core.ChangeDetectorRef },
            { type: CompositionCommandService },
            { type: CompositionReadModelService }
        ]; };
        return StructureMenuColumnManagerComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureMenuColumnManagerComponent.prototype.columns;
        /** @type {?} */
        StructureMenuColumnManagerComponent.prototype.enabledColumnsCount;
        /**
         * @type {?}
         * @private
         */
        StructureMenuColumnManagerComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureMenuColumnManagerComponent.prototype.compositionCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureMenuColumnManagerComponent.prototype.compositionReadModelService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureColumnConfigSortComponent = /** @class */ (function (_super) {
        __extends(StructureColumnConfigSortComponent, _super);
        function StructureColumnConfigSortComponent(changeDetectorRef, structureCommandService, compositionReadModelService) {
            var _this = _super.call(this) || this;
            _this.changeDetectorRef = changeDetectorRef;
            _this.structureCommandService = structureCommandService;
            _this.compositionReadModelService = compositionReadModelService;
            _this.placement = fabric.Placement.Right;
            _this.status = SortStatus;
            return _this;
        }
        /**
         * @return {?}
         */
        StructureColumnConfigSortComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.sortStatus = this.column.getSortStatus();
            this.compositionReadModelService
                .onSortOrder(this.column.getFieldId())
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} sortStatus
             * @return {?}
             */
            function (sortStatus) {
                _this.sortStatus = sortStatus;
                _this.changeDetectorRef.detectChanges();
            }));
        };
        /**
         * @return {?}
         */
        StructureColumnConfigSortComponent.prototype.isAscSort = /**
         * @return {?}
         */
        function () {
            return this.sortStatus === SortStatus.ASC;
        };
        /**
         * @return {?}
         */
        StructureColumnConfigSortComponent.prototype.isDescSort = /**
         * @return {?}
         */
        function () {
            return this.sortStatus === SortStatus.DESC;
        };
        /**
         * @return {?}
         */
        StructureColumnConfigSortComponent.prototype.isNoneSort = /**
         * @return {?}
         */
        function () {
            return this.sortStatus === SortStatus.NONE;
        };
        /**
         * @param {?} sort
         * @return {?}
         */
        StructureColumnConfigSortComponent.prototype.setSortOrder = /**
         * @param {?} sort
         * @return {?}
         */
        function (sort) {
            event.stopPropagation();
            this.structureCommandService.setSortOrder(this.column.getFieldId(), sort);
        };
        StructureColumnConfigSortComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-column-config-sort',
                        template: "\n\n\t\t<gui-dropdown [placement]=\"placement\"\n\t\t\t\t\t  [dropdownText]=\"'Column Sort'\"\n\t\t\t\t\t  [width]=\"225\"\n\t\t\t\t\t  [showOnHover]=\"true\"\n\t\t\t\t\t  class=\"gui-header-menu-dropdown\">\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.ASC)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isAscSort()\">\n\t\t\t\t<div class=\"gui-sort-title\">Ascending<span class=\"gui-sort gui-sort-asc\"></span></div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.DESC)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isDescSort()\">\n\t\t\t\t<div class=\"gui-sort-title\">Descending<span class=\"gui-sort gui-sort-desc\"></span></div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)=\"setSortOrder(status.NONE)\"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]=\"isNoneSort()\">\n\t\t\t\tNone\n\t\t\t</gui-dropdown-item>\n\n\t\t</gui-dropdown>\n\t"
                    }] }
        ];
        /** @nocollapse */
        StructureColumnConfigSortComponent.ctorParameters = function () { return [
            { type: core.ChangeDetectorRef },
            { type: StructureCommandService },
            { type: CompositionReadModelService }
        ]; };
        StructureColumnConfigSortComponent.propDecorators = {
            column: [{ type: core.Input }]
        };
        return StructureColumnConfigSortComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureColumnConfigSortComponent.prototype.column;
        /** @type {?} */
        StructureColumnConfigSortComponent.prototype.placement;
        /** @type {?} */
        StructureColumnConfigSortComponent.prototype.status;
        /** @type {?} */
        StructureColumnConfigSortComponent.prototype.sortStatus;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigSortComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigSortComponent.prototype.structureCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigSortComponent.prototype.compositionReadModelService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureColumnConfigColumnHideComponent = /** @class */ (function () {
        function StructureColumnConfigColumnHideComponent(compositionCommandService, structureColumnConfigService) {
            this.compositionCommandService = compositionCommandService;
            this.structureColumnConfigService = structureColumnConfigService;
        }
        /**
         * @param {?} column
         * @return {?}
         */
        StructureColumnConfigColumnHideComponent.prototype.hideColumn = /**
         * @param {?} column
         * @return {?}
         */
        function (column) {
            this.compositionCommandService.disableColumn(column.getColumnId());
            this.structureColumnConfigService.close();
        };
        StructureColumnConfigColumnHideComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-column-config-column-hide',
                        template: "\n\n\t\t<div class=\"gui-header-menu-item\"\n\t\t\t (click)=\"hideColumn(column)\">\n\t\t\tHide Column\n\t\t</div>\n\t"
                    }] }
        ];
        /** @nocollapse */
        StructureColumnConfigColumnHideComponent.ctorParameters = function () { return [
            { type: CompositionCommandService },
            { type: StructureColumnConfigService }
        ]; };
        StructureColumnConfigColumnHideComponent.propDecorators = {
            column: [{ type: core.Input }]
        };
        return StructureColumnConfigColumnHideComponent;
    }());
    if (false) {
        /** @type {?} */
        StructureColumnConfigColumnHideComponent.prototype.column;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigColumnHideComponent.prototype.compositionCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigColumnHideComponent.prototype.structureColumnConfigService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureColumnConfigColumnMoveComponent = /** @class */ (function () {
        function StructureColumnConfigColumnMoveComponent(compositionCommandService, structureColumnConfigService) {
            this.compositionCommandService = compositionCommandService;
            this.structureColumnConfigService = structureColumnConfigService;
        }
        /**
         * @param {?} column
         * @return {?}
         */
        StructureColumnConfigColumnMoveComponent.prototype.moveLeft = /**
         * @param {?} column
         * @return {?}
         */
        function (column) {
            this.compositionCommandService.moveLeft(column.getColumnId());
            this.structureColumnConfigService.close();
        };
        /**
         * @param {?} column
         * @return {?}
         */
        StructureColumnConfigColumnMoveComponent.prototype.moveRight = /**
         * @param {?} column
         * @return {?}
         */
        function (column) {
            this.compositionCommandService.moveRight(column.getColumnId());
            this.structureColumnConfigService.close();
        };
        StructureColumnConfigColumnMoveComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-column-config-column-move',
                        template: "\n\t\t<div class=\"gui-header-menu-column-move\">\n\t\t\t<div class=\"gui-header-menu-column-move-left\"\n\t\t\t\t (click)=\"moveLeft(column)\">\n\t\t\t\tMove Left\n\t\t\t</div>\n\n\t\t\t<div class=\"gui-header-menu-column-move-right\"\n\t\t\t\t (click)=\"moveRight(column)\">\n\t\t\t\tMove Right\n\t\t\t</div>\n\t\t</div>\n\t"
                    }] }
        ];
        /** @nocollapse */
        StructureColumnConfigColumnMoveComponent.ctorParameters = function () { return [
            { type: CompositionCommandService },
            { type: StructureColumnConfigService }
        ]; };
        StructureColumnConfigColumnMoveComponent.propDecorators = {
            column: [{ type: core.Input }]
        };
        return StructureColumnConfigColumnMoveComponent;
    }());
    if (false) {
        /** @type {?} */
        StructureColumnConfigColumnMoveComponent.prototype.column;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigColumnMoveComponent.prototype.compositionCommandService;
        /**
         * @type {?}
         * @private
         */
        StructureColumnConfigColumnMoveComponent.prototype.structureColumnConfigService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var declarations = [
        StructureColumnConfigComponent,
        StructureColumnConfigTriggerComponent,
        StructureMenuColumnManagerComponent,
        StructureColumnConfigSortComponent,
        StructureColumnConfigColumnHideComponent,
        StructureColumnConfigColumnMoveComponent
    ];
    var StructureColumnMenuModule = /** @class */ (function () {
        function StructureColumnMenuModule() {
        }
        StructureColumnMenuModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            fabricImports
                        ],
                        declarations: declarations,
                        exports: declarations
                    },] }
        ];
        return StructureColumnMenuModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregationPanelComponent = /** @class */ (function (_super) {
        __extends(StructureAggregationPanelComponent, _super);
        function StructureAggregationPanelComponent(changeDetectorRef, structureId, structureAggregationUiEventsRepository, sourceReadModelService, compositionQueryService) {
            var _this = _super.call(this) || this;
            _this.changeDetectorRef = changeDetectorRef;
            _this.structureId = structureId;
            _this.structureAggregationUiEventsRepository = structureAggregationUiEventsRepository;
            _this.sourceReadModelService = sourceReadModelService;
            _this.compositionQueryService = compositionQueryService;
            _this.sourceEmpty = false;
            _this.structureAggregationUiEventsRepository
                .onAggregationsChanged(_this.structureId)
                .pipe(_this.takeUntil())
                .subscribe((/**
             * @param {?} event
             * @return {?}
             */
            function (event) {
                _this.aggregations = event.getAggregations();
                _this.changeDetectorRef.detectChanges();
            }));
            return _this;
        }
        /**
         * @return {?}
         */
        StructureAggregationPanelComponent.prototype.ngOnInit = /**
         * @return {?}
         */
        function () {
            var _this = this;
            this.sourceReadModelService
                .onEntitiesSize()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} size
             * @return {?}
             */
            function (size) {
                _this.sourceEmpty = size === 0;
                _this.changeDetectorRef.detectChanges();
            }));
            this.compositionQueryService
                .onHeaderColumns()
                .pipe(this.takeUntil())
                .subscribe((/**
             * @param {?} columns
             * @return {?}
             */
            function (columns) {
                _this.headerColumns = columns;
                _this.changeDetectorRef.detectChanges();
            }));
        };
        /**
         * @param {?} aggregation
         * @return {?}
         */
        StructureAggregationPanelComponent.prototype.isAggregateTypePresent = /**
         * @param {?} aggregation
         * @return {?}
         */
        function (aggregation) {
            return aggregation !== undefined && aggregation !== null;
        };
        StructureAggregationPanelComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'gui-structure-aggregation-panel',
                        template: "\n\n\t\t<ng-container *ngIf=\"enabled && aggregations && !sourceEmpty\">\n\n\t\t\t<div *ngFor=\"let column of headerColumns\"\n\t\t\t\t [style.width.px]=\"column.width\"\n\t\t\t\t class=\"gui-header-cell gui-structure-aggregation-cell\">\n\n\t\t\t\t<ng-container *ngIf=\"aggregations && !!aggregations.get(column.getFieldId().getId())\">\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).count)\" class=\"gui-structure-aggregation-value\">\n\t\t\t\t\t\tCount: <span>{{ aggregations.get(column.getFieldId().getId()).count }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).distinct)\" class=\"gui-structure-aggregation-value\">\n\t\t\t\t\t\tDistinct: <span>{{ aggregations.get(column.getFieldId().getId()).distinct }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).sum)\" class=\"gui-structure-aggregation-value\">\n\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<span [gui-tooltip]=\"'Sum'\" \n\t\t\t\t\t\t\t\t  class=\"gui-math-symbol\">&sum;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).sum }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).average)\" class=\"gui-structure-aggregation-value\">\n\n\t\t\t\t\t\t<div [gui-tooltip]=\"'Average'\"\n\t\t\t\t\t\t\t class=\"gui-mean\">\n\t\t\t\t\t\t\t<span>_</span><span>X</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).average }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).min)\" class=\"gui-structure-aggregation-value\">\n\n\t\t\t\t\t\t<div [gui-tooltip]=\"'Min'\">\n\t\t\t\t\t\t\t<span class=\"gui-math-symbol\">&and;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).min }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).max)\" class=\"gui-structure-aggregation-value\">\n\n\t\t\t\t\t\t<div [gui-tooltip]=\"'Max'\">\n\t\t\t\t\t\t\t<span class=\"gui-math-symbol\">&or;</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).max }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).median)\" class=\"gui-structure-aggregation-value\">\n\n\t\t\t\t\t\t<div [gui-tooltip]=\"'Median'\"\n\t\t\t\t\t\t\t class=\"gui-median\">\n\t\t\t\t\t\t\t<span>~</span>\n\t\t\t\t\t\t\t<span>X</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span>{{ aggregations.get(column.getFieldId().getId()).median }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).truthy)\" class=\"gui-structure-aggregation-value\">\n\t\t\t\t\t\tTruthy: <span>{{ aggregations.get(column.getFieldId().getId()).truthy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=\"isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).falsy)\" class=\"gui-structure-aggregation-value\">\n\t\t\t\t\t\tFalsy: <span>{{ aggregations.get(column.getFieldId().getId()).falsy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t</ng-container>\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t",
                        changeDetection: core.ChangeDetectionStrategy.OnPush,
                        encapsulation: core.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        StructureAggregationPanelComponent.ctorParameters = function () { return [
            { type: core.ChangeDetectorRef },
            { type: StructureId },
            { type: StructureAggregationUiEventsRepository },
            { type: SourceReadModelService },
            { type: CompositionReadModelService }
        ]; };
        StructureAggregationPanelComponent.propDecorators = {
            enabled: [{ type: core.Input }]
        };
        return StructureAggregationPanelComponent;
    }(SmartComponent));
    if (false) {
        /** @type {?} */
        StructureAggregationPanelComponent.prototype.enabled;
        /** @type {?} */
        StructureAggregationPanelComponent.prototype.sourceEmpty;
        /** @type {?} */
        StructureAggregationPanelComponent.prototype.headerColumns;
        /** @type {?} */
        StructureAggregationPanelComponent.prototype.aggregations;
        /**
         * @type {?}
         * @private
         */
        StructureAggregationPanelComponent.prototype.changeDetectorRef;
        /**
         * @type {?}
         * @private
         */
        StructureAggregationPanelComponent.prototype.structureId;
        /**
         * @type {?}
         * @private
         */
        StructureAggregationPanelComponent.prototype.structureAggregationUiEventsRepository;
        /**
         * @type {?}
         * @private
         */
        StructureAggregationPanelComponent.prototype.sourceReadModelService;
        /**
         * @type {?}
         * @private
         */
        StructureAggregationPanelComponent.prototype.compositionQueryService;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    var StructureAggregationPanelModule = /** @class */ (function () {
        function StructureAggregationPanelModule() {
        }
        StructureAggregationPanelModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            fabric.FabricModule
                        ],
                        declarations: [
                            StructureAggregationPanelComponent
                        ],
                        exports: [
                            StructureAggregationPanelComponent
                        ],
                        providers: [
                            StructureAggregationArchive,
                            StructureAggregationConfigService,
                            StructureAggregationPanelConfigConverter
                        ]
                    },] }
        ];
        return StructureAggregationPanelModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /**
     * @return {?}
     */
    function createStructureDefinition() {
        return new StructureDefinition.DefaultBuilder().build();
    }
    /** @type {?} */
    var imports = __spread([
        common.CommonModule,
        forms.ReactiveFormsModule,
        hermes.HermesModule
    ], fabricImports, [
        StructurePagingModule,
        StructureInfoPanelModule,
        StructureAggregationPanelModule,
        StructureTopPanelModule,
        StructureColumnMenuModule,
        CompositionModule,
        LoggerModule
    ]);
    /** @type {?} */
    var declarations$1 = [
        StructureComponent,
        StructureHeaderComponent,
        StructureHeaderColumnsComponent,
        StructureHeaderFiltersComponent,
        StructureHeaderFilterComponent,
        StructureContentComponent,
        StructureRowComponent,
        StructureCellComponent,
        StructureContainerComponent,
        StructureEmptySourceComponent,
        StructureQuickFiltersComponent,
        StructureBlueprintComponent
    ];
    /** @type {?} */
    var entryComponents = [
        StructureColumnConfigComponent
    ];
    /** @type {?} */
    var providers = __spread([
        {
            provide: STRUCTURE_CSS_CLASS_NAME,
            useValue: 'structure'
        },
        {
            provide: StructureDefinition,
            useFactory: createStructureDefinition
        },
        ItemEntityFactory,
        SourceReadModelService,
        StructureIdGenerator
    ], structureProviders);
    /** @type {?} */
    var exportDeclarations$1 = __spread([
        fabric.FabricModule,
        StructureComponent,
        StructureHeaderComponent,
        StructureContentComponent,
        StructureRowComponent,
        StructureContainerComponent
    ], fabricImports, [
        StructurePagingModule
    ]);
    var StructureModule = /** @class */ (function () {
        function StructureModule(platformId) {
            this.platformId = platformId;
            if (common.isPlatformBrowser(this.platformId)) {
                window['hermesApi'].loggers = false;
            }
        }
        /**
         * @param {?=} structureConfig
         * @return {?}
         */
        StructureModule.withConfig = /**
         * @param {?=} structureConfig
         * @return {?}
         */
        function (structureConfig) {
            if (structureConfig === void 0) { structureConfig = { cssClassName: '', hermesModuleConfig: { loggers: false } }; }
            return {
                ngModule: StructureModule,
                providers: __spread([
                    {
                        provide: STRUCTURE_CSS_CLASS_NAME,
                        useValue: structureConfig.cssClassName
                    },
                    { provide: hermes.COMMAND_LOGGER_ENABLED, useValue: structureConfig.hermesModuleConfig.loggers },
                    { provide: hermes.EVENT_LOGGER_ENABLED, useValue: structureConfig.hermesModuleConfig.loggers }
                ], providers)
            };
        };
        StructureModule.exportDeclarations = __spread(exportDeclarations$1);
        StructureModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: imports,
                        declarations: declarations$1,
                        exports: exportDeclarations$1,
                        entryComponents: entryComponents
                    },] }
        ];
        /** @nocollapse */
        StructureModule.ctorParameters = function () { return [
            { type: undefined, decorators: [{ type: core.Inject, args: [core.PLATFORM_ID,] }] }
        ]; };
        return StructureModule;
    }());
    if (false) {
        /** @type {?} */
        StructureModule.exportDeclarations;
        /**
         * @type {?}
         * @private
         */
        StructureModule.prototype.platformId;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
     */
    /** @type {?} */
    var imports$1 = [
        StructureModule.withConfig({
            cssClassName: 'grid',
            hermesModuleConfig: {
                loggers: true
            }
        })
    ];
    /** @type {?} */
    var declarations$2 = [
        GridComponent
    ];
    /** @type {?} */
    var providers$1 = (/** @type {?} */ ([
        GridIdGenerator,
        GridRegister
    ]));
    /** @type {?} */
    var exportDeclarations$2 = [
        GridComponent
    ];
    /** @type {?} */
    var entryComponents$1 = (/** @type {?} */ ([]));
    /** @type {?} */
    var elementComponents = [
        GridComponent
    ];
    var GridModule = /** @class */ (function () {
        function GridModule() {
        }
        GridModule.entryComponents = __spread(entryComponents$1);
        GridModule.exportDeclarations = __spread(exportDeclarations$2);
        GridModule.elementComponents = __spread(elementComponents);
        GridModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: imports$1,
                        declarations: declarations$2,
                        providers: providers$1,
                        exports: exportDeclarations$2,
                        entryComponents: entryComponents$1
                    },] }
        ];
        return GridModule;
    }());
    if (false) {
        /** @type {?} */
        GridModule.entryComponents;
        /** @type {?} */
        GridModule.exportDeclarations;
        /** @type {?} */
        GridModule.elementComponents;
    }

    exports.GridComponent = GridComponent;
    exports.GridModule = GridModule;
    exports.GuiBooleanCellView = GuiBooleanCellView;
    exports.GuiCellView = GuiCellView;
    exports.GuiDataType = GuiDataType;
    exports.GuiDateCellView = GuiDateCellView;
    exports.GuiNumberCellView = GuiNumberCellView;
    exports.GuiPagingDisplay = GuiPagingDisplay;
    exports.GuiRowColoring = GuiRowColoring;
    exports.GuiStringCellView = GuiStringCellView;
    exports.GuiTheme = GuiTheme;
    exports.a = gridSelector;
    exports.b = createStructureDefinition;
    exports.ba = StructureInfoPanelComponent;
    exports.bb = StructureReadModelService;
    exports.bc = VerticalFormationRepository;
    exports.bd = InMemoryStructureReadStore;
    exports.be = InMemoryStructureStore;
    exports.bf = StructureConverter;
    exports.bg = FormationConverter;
    exports.bh = SchemaConverter;
    exports.bi = PagingConverter;
    exports.bj = SourceConverter;
    exports.bk = VerticalFormationConverter;
    exports.bl = StructureInfoModalComponent;
    exports.bm = StructureAggregationPanelModule;
    exports.bn = StructureAggregationPanelComponent;
    exports.bo = StructureId;
    exports.bp = StructureAggregationUiEventsRepository;
    exports.bq = CompositionReadModelService;
    exports.br = CompositionRepository;
    exports.bs = StructureAggregationArchive;
    exports.bt = StructureAggregationConfigService;
    exports.bu = StructureAggregationPanelConfigConverter;
    exports.bv = StructureAggregationCommandService;
    exports.bw = StructureTopPanelModule;
    exports.bx = StructureTopPanelComponent;
    exports.by = StructureSearchComponent;
    exports.bz = StructureCommandService;
    exports.c = StructureModule;
    exports.ca = StructureFilterCommandService;
    exports.cb = SourceDispatcher;
    exports.cc = StructureColumnMenuModule;
    exports.cd = StructureColumnConfigComponent;
    exports.ce = StructureColumnMenuConfigArchive;
    exports.cf = CellTemplateWithContext;
    exports.cg = CellContext;
    exports.ch = FieldId;
    exports.ci = ColumnId;
    exports.cj = SortStatus;
    exports.ck = StructureColumnConfigTriggerComponent;
    exports.cl = StructureColumnConfigService;
    exports.cm = StructureMenuColumnManagerComponent;
    exports.cn = CompositionCommandService;
    exports.co = CompositionDispatcher;
    exports.cp = StructureColumnConfigSortComponent;
    exports.cq = StructureColumnConfigColumnHideComponent;
    exports.cr = StructureColumnConfigColumnMoveComponent;
    exports.cs = CompositionModule;
    exports.ct = SanitizeModule;
    exports.cu = SafePipe;
    exports.cv = compositionProviders;
    exports.cw = inMemoryCompositionCommandProviders;
    exports.cx = inMemoryCompositionQueryProviders;
    exports.cy = inMemoryCompositionProviders;
    exports.cz = InMemoryCompositionStore;
    exports.d = fabricImports;
    exports.da = InMemoryCompositionAggregateStore;
    exports.db = CompositionAggregateRepository;
    exports.dc = InMemoryCompositionAggregateRepository;
    exports.dd = CompositionAggregateFactory;
    exports.de = InitCompositionCommandHandler;
    exports.df = SetColumnsCommandHandler;
    exports.dg = CompositionEventConverter;
    exports.dh = SetCompositionWidthCommandHandler;
    exports.di = ColumnEntityFactory;
    exports.dj = SetCompositionResizeWidthCommandHandler;
    exports.dk = SetCompositionContainerWidthCommandHandler;
    exports.dl = CompositionSetColumnEnabledCommandHandler;
    exports.dm = CompositionChangeSortStatusCommandHandler;
    exports.dn = CompositionMoveLeftColumnCommandHandler;
    exports.do = CompositionMoveRightColumnCommandHandler;
    exports.dp = ColumnFieldFactory;
    exports.dq = InMemoryCompositionReadStore;
    exports.dr = CompositionConverter;
    exports.ds = ColumnDefinitionFactory;
    exports.dt = ViewTemplateRepository;
    exports.du = ViewTemplateFactory;
    exports.dv = TemplateFactory;
    exports.dw = EditTemplateRepository;
    exports.dx = EditTemplateFactory;
    exports.dy = InMemoryCompositionRepository;
    exports.dz = CompositionFieldsInitedEventHandler;
    exports.e = StructurePagingModule;
    exports.ea = CompositionChangeSortStatusEventHandler;
    exports.eb = CompositionEventService;
    exports.ec = ViewTemplatesComponent;
    exports.ed = EditTemplatesComponent;
    exports.ee = StringEditTemplateComponent;
    exports.ef = InputEditTemplateComponent;
    exports.eg = EditCommunicationComponent;
    exports.eh = Override;
    exports.ei = NumberEditTemplateComponent;
    exports.ej = BooleanEditTemplateComponent;
    exports.ek = ColumnQueryComponent;
    exports.el = FunctionViewComponent;
    exports.em = LoggerModule;
    exports.en = Logger;
    exports.eo = ConsoleLogger;
    exports.ep = structureIdFactory;
    exports.eq = compositionIdFactory;
    exports.er = structureComponentSelfProviders;
    exports.es = StructureComponent;
    exports.et = StructureGateway;
    exports.eu = CompositionId;
    exports.ev = PagingEventService;
    exports.ew = SourceCommandService;
    exports.ex = StructureFieldUiRepository;
    exports.ey = StructureFieldUiArchive;
    exports.ez = SourceEventService;
    exports.f = StructurePagingComponent;
    exports.fa = SchemaCommandService;
    exports.fb = SchemaDispatcher;
    exports.fc = SchemaReadModelService;
    exports.fd = SchemaRepository;
    exports.fe = FormationEventService;
    exports.ff = StructureEditModeArchive;
    exports.fg = StructureCellEditArchive;
    exports.fh = StructureInfoPanelEnabledArchive;
    exports.fi = StructureCellEditStore;
    exports.fj = StructureRowSelectEnabledArchive;
    exports.fk = StructureIdGenerator;
    exports.fl = localProviders;
    exports.fm = LocalPagingCommandService;
    exports.fn = PagingAggregateFactory;
    exports.fo = LocalPagingReadModelService;
    exports.fp = LocalSchemaCommandService;
    exports.fq = LocalSchemaReadModelService;
    exports.fr = FormationCommandService;
    exports.fs = FormationDispatcher;
    exports.ft = LocalFormationCommandService;
    exports.fu = FormationReadModelService;
    exports.fv = FormationRepository;
    exports.fw = LocalFormationReadModelService;
    exports.fx = LocalStructureCommandService;
    exports.fy = LocalStructureReadModelService;
    exports.fz = LocalSourceCommandService;
    exports.g = SmartComponent;
    exports.ga = LocalSourceReadModelService;
    exports.gb = LocalCompositionCommandService;
    exports.gc = LocalCompositionReadModelService;
    exports.gd = SchemaCssClassManager;
    exports.ge = structureComponentToken;
    exports.gf = StructureDefinition;
    exports.gg = StructurePagingDefinition;
    exports.gh = StructureHeaderComponent;
    exports.gi = StructureHeaderColumnsComponent;
    exports.gj = StructureHeaderFiltersComponent;
    exports.gk = StructureFilterReadModelRepository;
    exports.gl = StructureFilterRepository;
    exports.gm = StructureQuickFilterRepository;
    exports.gn = StructureHeaderFilterComponent;
    exports.go = StructureContentComponent;
    exports.gp = StructureSearchPhraseRepository;
    exports.gq = StructureRowComponent;
    exports.gr = StructureCellComponent;
    exports.gs = StructureContainerComponent;
    exports.gt = structureParentComponent;
    exports.gu = StructureEmptySourceComponent;
    exports.gv = StructureQuickFiltersComponent;
    exports.gw = StructureBlueprintComponent;
    exports.gx = STRUCTURE_CSS_CLASS_NAME;
    exports.gy = StructureSearchReadModelRepository;
    exports.gz = StructureSearchingRepository;
    exports.h = Reactive;
    exports.ha = ItemEntityFactory;
    exports.hb = structureProviders;
    exports.hc = inMemoryStructureCommandProviders;
    exports.hd = inMemoryStructureReadProviders;
    exports.he = inMemoryStructureProviders;
    exports.hf = InMemoryStructureAggregateStore;
    exports.hg = StructureAggregateRepository;
    exports.hh = InMemoryStructureAggregateRepository;
    exports.hi = InitStructureCommandHandler;
    exports.hj = StructureAggregateFactory;
    exports.hk = SourceManagerFactory;
    exports.hl = FormationAggregateFactory;
    exports.hm = VerticalFormationFactory;
    exports.hn = AggregationManagerFactory;
    exports.ho = AGGREGATION_CALCULATORS;
    exports.hp = AggregationCalculator;
    exports.hq = FilterManagerFactory;
    exports.hr = SearchManagerFactory;
    exports.hs = FieldCollectionFactory;
    exports.ht = FieldFactory;
    exports.hu = FieldIdGenerator;
    exports.hv = SchemaAggregateFactory;
    exports.hw = SetVerticalScrollEnabledCommandHandler;
    exports.hx = SetScrollPositionCommandHandler;
    exports.hy = InitFieldsCommandHandler;
    exports.hz = ToggleSortCommandHandler;
    exports.i = PagingReadModelService;
    exports.ia = SetSortingCommandHandler;
    exports.ib = StructureSetConfigFilterCommandHandler;
    exports.ic = StructureSetConfigSearchingCommandHandler;
    exports.id = StructureSetConfigQuickFilterCommandHandler;
    exports.ie = StructureToggleFilterCommandHandler;
    exports.if = StructureSetAggregationEnabledCommandHandler;
    exports.ig = StructureSourceDomainEventPublisher;
    exports.ih = StructureSetSearchPhraseCommandHandler;
    exports.ii = SetSortOrderCommandHandler;
    exports.ij = SetRowHeightCommandHandler;
    exports.ik = provideAggregationCalculator;
    exports.il = aggregationProviders;
    exports.im = BooleanAggregationCalculator;
    exports.in = DateAggregationCalculator;
    exports.io = NumberAggregationCalculator;
    exports.ip = StringAggregationCalculator;
    exports.iq = UnknownAggregationCalculator;
    exports.ir = StructureConfigFilterSetEventHandler;
    exports.is = StructureConfigSearchingSetEventHandler;
    exports.it = StructureConfigQuickFilterSetEventHandler;
    exports.iu = StructureFieldsInitedEventHandler;
    exports.iv = StructureFieldUiConverter;
    exports.iw = StructureSearchPhraseSetEventHandler;
    exports.ix = InMemoryStructureRepository;
    exports.iy = pagingProviders;
    exports.iz = SetPagingCommandHandler;
    exports.j = PagingRepository;
    exports.ja = NextPageCommandHandler;
    exports.jb = PrevPageCommandHandler;
    exports.jc = ChangePagesizeCommandHandler;
    exports.jd = schemaProviders;
    exports.je = SetSchemaCommandHandler;
    exports.jf = SetSchemaVerticalGridCommandHandler;
    exports.jg = SetSchemaHorizontalGridCommandHandler;
    exports.jh = SetSchemaThemeCommandHandler;
    exports.ji = ChangeSchemaBottomHeaderCommandHandler;
    exports.jj = ChangeSchemaTopHeaderCommandHandler;
    exports.jk = SetRowColoringCommandHandler;
    exports.jl = formationProviders;
    exports.jm = SetFormationCommandHandler;
    exports.jn = ToggleSelectedRowCommandHandler;
    exports.jo = sourceProviders;
    exports.jp = SourceSetLoadingCommandHandler;
    exports.jq = SetOriginCommandHandler;
    exports.jr = StructureEditSourceItemCommandHandler;
    exports.js = SourceRepository;
    exports.jt = StructureOriginChangedEventHandler;
    exports.ju = StructurePreparedItemsEventHandler;
    exports.jv = GridGateway;
    exports.jw = gridProviders;
    exports.jx = gridStructureDefinition;
    exports.jy = GridRegister;
    exports.jz = GridIdGenerator;
    exports.k = StructureRepository;
    exports.l = PagingCommandService;
    exports.m = PagingDispatcher;
    exports.n = SourceReadModelService;
    exports.o = StructurePreparedItemsRepository;
    exports.p = StructureSourceOriginRepository;
    exports.q = StructurePagingDisplayModeArchive;
    exports.r = Archive;
    exports.s = StructurePagingNavigatorComponent;
    exports.t = StructurePagingSelectComponent;
    exports.u = StructurePagingStatsComponent;
    exports.v = StructureAlternativePagingNavigatorComponent;
    exports.w = StructureAlternativePagingPagesComponent;
    exports.x = StructureInfoPanelModule;
    exports.y = NumberFormatterModule;
    exports.z = NumberFormatterPipe;

    Object.defineProperty(exports, '__esModule', { value: true });

})));
//# sourceMappingURL=generic-ui-ngx-grid.umd.js.map
