!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@generic-ui/fabric"),require("@generic-ui/hermes"),require("rxjs"),require("rxjs/operators"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("@generic-ui/ngx-grid",["exports","@angular/core","@angular/common","@angular/forms","@generic-ui/fabric","@generic-ui/hermes","rxjs","rxjs/operators","@angular/platform-browser"],e):e(((t=t||self)["generic-ui"]=t["generic-ui"]||{},t["generic-ui"]["ngx-grid"]={}),t.ng.core,t.ng.common,t.ng.forms,t["@generic-ui/fabric"],t["@generic-ui/hermes"],t.rxjs,t.rxjs.operators,t.ng.platformBrowser)}(this,(function(t,e,n,r,i,o,a,u,s){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function g(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var p=function(){return(p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}var y={UNKNOWN:0,NUMBER:1,STRING:2,BOOLEAN:3,DATE:4,CUSTOM:5};y[y.UNKNOWN]="UNKNOWN",y[y.NUMBER]="NUMBER",y[y.STRING]="STRING",y[y.BOOLEAN]="BOOLEAN",y[y.DATE]="DATE",y[y.CUSTOM]="CUSTOM";var v={TEXT:0,CHIP:1,LINK:2,IMAGE:3,BOLD:4,ITALIC:5,CHECKBOX:6,CUSTOM:7,BAR:8,PERCENTAGE_BAR:9,PERCENTAGE:10};v[v.TEXT]="TEXT",v[v.CHIP]="CHIP",v[v.LINK]="LINK",v[v.IMAGE]="IMAGE",v[v.BOLD]="BOLD",v[v.ITALIC]="ITALIC",v[v.CHECKBOX]="CHECKBOX",v[v.CUSTOM]="CUSTOM",v[v.BAR]="BAR",v[v.PERCENTAGE_BAR]="PERCENTAGE_BAR",v[v.PERCENTAGE]="PERCENTAGE";var b={TEXT:0,BOLD:1,ITALIC:2,CHIP:3};b[b.TEXT]="TEXT",b[b.BOLD]="BOLD",b[b.ITALIC]="ITALIC",b[b.CHIP]="CHIP";var C={TEXT:0,BOLD:1,ITALIC:2,CHIP:3};C[C.TEXT]="TEXT",C[C.BOLD]="BOLD",C[C.ITALIC]="ITALIC",C[C.CHIP]="CHIP";var E={TEXT:0,BOLD:1,ITALIC:2,CHIP:3,CHECKBOX:4};E[E.TEXT]="TEXT",E[E.BOLD]="BOLD",E[E.ITALIC]="ITALIC",E[E.CHIP]="CHIP",E[E.CHECKBOX]="CHECKBOX";var A={TEXT:0,BOLD:1,ITALIC:2,CHIP:3};A[A.TEXT]="TEXT",A[A.BOLD]="BOLD",A[A.ITALIC]="ITALIC",A[A.CHIP]="CHIP";var I={FABRIC:0,MATERIAL:1,LIGHT:2,DARK:3,GENERIC:4};I[I.FABRIC]="FABRIC",I[I.MATERIAL]="MATERIAL",I[I.LIGHT]="LIGHT",I[I.DARK]="DARK",I[I.GENERIC]="GENERIC";var S={NONE:0,EVEN:1,ODD:2};S[S.NONE]="NONE",S[S.EVEN]="EVEN",S[S.ODD]="ODD";var w={NONE:0,ASC:1,DESC:2};w[w.NONE]="NONE",w[w.ASC]="ASC",w[w.DESC]="DESC";var D={BASIC:0,ADVANCED:1};D[D.BASIC]="BASIC",D[D.ADVANCED]="ADVANCED";var R={RIGHT:0,CENTER:1,LEFT:2};R[R.RIGHT]="RIGHT",R[R.CENTER]="CENTER",R[R.LEFT]="LEFT";var T={UNKNOWN:0,NUMBER:1,STRING:2,BOOLEAN:3,DATE:4,CUSTOM:5};T[T.UNKNOWN]="UNKNOWN",T[T.NUMBER]="NUMBER",T[T.STRING]="STRING",T[T.BOOLEAN]="BOOLEAN",T[T.DATE]="DATE",T[T.CUSTOM]="CUSTOM";var P=function(){function t(){}return t.prototype.convertType=function(t){return"string"==typeof t?this.convertTypeString(t):this.convertTypeEnum(t)},t.prototype.convertTypeEnum=function(t){switch(t){case y.STRING:return T.STRING;case y.NUMBER:return T.NUMBER;case y.BOOLEAN:return T.BOOLEAN;case y.DATE:return T.DATE;case y.UNKNOWN:return T.UNKNOWN;case y.CUSTOM:return T.CUSTOM;default:return T.STRING}},t.prototype.convertTypeString=function(t){switch(t.toLocaleLowerCase()){case"string":return T.STRING;case"number":return T.NUMBER;case"boolean":return T.BOOLEAN;case"date":return T.DATE;case"unknown":return T.UNKNOWN;case"custom":return T.CUSTOM;default:return T.STRING}},t}(),x={COUNT:1024,DISTINCT:1,SUM:2,AVERAGE:4,MIN:8,MAX:16,MEDIAN:32,TRUTHY:64,FALSY:128,EARLIEST:256,LATEST:512};x[x.COUNT]="COUNT",x[x.DISTINCT]="DISTINCT",x[x.SUM]="SUM",x[x.AVERAGE]="AVERAGE",x[x.MIN]="MIN",x[x.MAX]="MAX",x[x.MEDIAN]="MEDIAN",x[x.TRUTHY]="TRUTHY",x[x.FALSY]="FALSY",x[x.EARLIEST]="EARLIEST",x[x.LATEST]="LATEST";var M=function(){function t(){}return t.prototype.convert=function(t){var e={};return void 0!==t.enabled&&null!==t.enabled&&(e.enabled=t.enabled),void 0!==t.aggregationTypes&&null!==t.aggregationTypes&&(e.aggregationTypes=this.convertAggregationTypes(t.aggregationTypes)),e},t.prototype.convertAggregationTypes=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.convertAggregationType(t);null!=r&&n.push(r)})),n},t.prototype.convertAggregationType=function(t){switch(t.toLocaleLowerCase()){case"count":return x.COUNT;case"distinct":return x.DISTINCT;case"sum":return x.SUM;case"average":return x.AVERAGE;case"min":return x.MIN;case"max":return x.MAX;case"median":return x.MEDIAN;case"truthy":return x.TRUTHY;case"falsy":return x.FALSY;case"earliest":return x.EARLIEST;case"latest":return x.LATEST;default:return null}},t}(),F={TEXT:0,NUMBER:1,CHIP:2,LINK:3,IMAGE:4,BOLD:5,ITALIC:6,CHECKBOX:7,CUSTOM:8,FUNCTION:9,DATE:10,BAR:11,PERCENTAGE_BAR:12,PERCENTAGE:13};F[F.TEXT]="TEXT",F[F.NUMBER]="NUMBER",F[F.CHIP]="CHIP",F[F.LINK]="LINK",F[F.IMAGE]="IMAGE",F[F.BOLD]="BOLD",F[F.ITALIC]="ITALIC",F[F.CHECKBOX]="CHECKBOX",F[F.CUSTOM]="CUSTOM",F[F.FUNCTION]="FUNCTION",F[F.DATE]="DATE",F[F.BAR]="BAR",F[F.PERCENTAGE_BAR]="PERCENTAGE_BAR",F[F.PERCENTAGE]="PERCENTAGE";var k=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):"function"==typeof t?t:this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"text":return F.TEXT;case"chip":return F.CHIP;case"link":return F.LINK;case"image":return F.IMAGE;case"bold":return F.BOLD;case"italic":return F.ITALIC;case"checkbox":return F.CHECKBOX;case"custom":return F.CUSTOM;case"bar":return F.BAR;case"percentage_bar":return F.PERCENTAGE_BAR;case"percentage":return F.PERCENTAGE;default:return F.TEXT}},t.prototype.convertEnum=function(t){switch(t){case v.TEXT:return F.TEXT;case v.CHIP:return F.CHIP;case v.LINK:return F.LINK;case v.IMAGE:return F.IMAGE;case v.BOLD:return F.BOLD;case v.ITALIC:return F.ITALIC;case v.CHECKBOX:return F.CHECKBOX;case v.CUSTOM:return F.CUSTOM;case v.BAR:return F.BAR;case v.PERCENTAGE_BAR:return F.PERCENTAGE_BAR;case v.PERCENTAGE:return F.PERCENTAGE;default:return F.TEXT}},t}(),N=function(){function t(){}return t.prototype.convert=function(t){return t},t}(),H=function(){function t(){}return t.prototype.convert=function(t){return t},t}(),O={RIGHT:0,CENTER:1,LEFT:2};O[O.RIGHT]="RIGHT",O[O.CENTER]="CENTER",O[O.LEFT]="LEFT";var B=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertTypeString(t):this.convertTypeEnum(t)},t.prototype.convertTypeEnum=function(t){switch(t){case R.RIGHT:return O.RIGHT;case R.CENTER:return O.CENTER;case R.LEFT:default:return O.LEFT}},t.prototype.convertTypeString=function(t){switch(t.toLocaleLowerCase()){case"right":return O.RIGHT;case"center":return O.CENTER;case"left":default:return O.LEFT}},t}(),j=function(){function t(){this.columnTypeConverter=new P,this.columnAggregationConverter=new M,this.columnViewConverter=new k,this.columnSortingConverter=new N,this.columnCellEditingConverter=new H,this.columnAlignConverter=new B}return t.prototype.convert=function(t){var e=this;return t.map((function(t){return e.convertColumn(t)}))},t.prototype.convertColumn=function(t){var e={};return void 0!==t.type&&null!==t.type&&(e.type=this.columnTypeConverter.convertType(t.type)),void 0!==t.header&&null!==t.header&&(e.header=t.header),void 0!==t.enabled&&null!==t.enabled&&(e.enabled=t.enabled),void 0!==t.field&&null!==t.field&&(e.field=t.field),void 0!==t.width&&null!==t.width&&(e.width=t.width),void 0!==t.align&&null!==t.align&&(e.align=this.columnAlignConverter.convert(t.align)),void 0!==t.view&&null!==t.view&&(e.view=this.columnViewConverter.convert(t.view)),void 0!==t.aggregation&&null!==t.aggregation&&(e.aggregation=this.columnAggregationConverter.convert(t.aggregation)),void 0!==t.sorting&&null!==t.sorting&&(e.sorting=this.columnSortingConverter.convert(t.sorting)),void 0!==t.cellEditing&&null!==t.cellEditing&&(e.cellEditing=this.columnCellEditingConverter.convert(t.cellEditing)),void 0!==t.matcher&&null!==t.matcher&&(e.matcher=t.matcher),e},t}();var V={FABRIC:0,MATERIAL:1,LIGHT:2,DARK:3,GENERIC:4};V[V.FABRIC]="FABRIC",V[V.MATERIAL]="MATERIAL",V[V.LIGHT]="LIGHT",V[V.DARK]="DARK",V[V.GENERIC]="GENERIC";var L=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"material":return V.MATERIAL;case"fabric":return V.FABRIC;case"light":return V.LIGHT;case"dark":return V.DARK;case"generic":return V.GENERIC;default:return V.FABRIC}},t.prototype.convertEnum=function(t){switch(t){case I.MATERIAL:return V.MATERIAL;case I.FABRIC:return V.FABRIC;case I.LIGHT:return V.LIGHT;case I.DARK:return V.DARK;case I.GENERIC:return V.GENERIC;default:return V.FABRIC}},t}(),z={NONE:0,EVEN:1,ODD:2};z[z.NONE]="NONE",z[z.EVEN]="EVEN",z[z.ODD]="ODD";var G=function(){function t(){}return t.prototype.convert=function(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"none":return z.NONE;case"even":return z.EVEN;case"odd":return z.ODD;default:return z.EVEN}},t.prototype.convertEnum=function(t){switch(t){case S.NONE:return z.NONE;case S.EVEN:return z.EVEN;case S.ODD:return z.ODD;default:return z.EVEN}},t}(),U=function(){function t(){}return t.prototype.convert=function(t){return t},t.decorators=[{type:e.Injectable}],t}(),Q={BASIC:0,ADVANCED:1};Q[Q.BASIC]="BASIC",Q[Q.ADVANCED]="ADVANCED";var W=function(){function t(){}return t.prototype.convert=function(t){var e={};return void 0!==t.enabled&&null!==t.enabled&&(e.enabled=t.enabled),void 0!==t.page&&null!==t.page&&(e.page=t.page),void 0!==t.pageSize&&null!==t.pageSize&&(e.pageSize=t.pageSize),void 0!==t.pageSizes&&null!==t.pageSizes&&(e.pageSizes=t.pageSizes),void 0!==t.pagerTop&&null!==t.pagerTop&&(e.pagerTop=t.pagerTop),void 0!==t.pagerBottom&&null!==t.pagerBottom&&(e.pagerBottom=t.pagerBottom),void 0!==t.display&&null!==t.display&&(e.displayMode=this.convertDisplay(t.display)),e},t.prototype.convertDisplay=function(t){return"string"==typeof t?this.convertString(t):this.convertEnum(t)},t.prototype.convertString=function(t){switch(t.toLocaleLowerCase()){case"basic":return Q.BASIC;case"advanced":return Q.ADVANCED;default:return Q.BASIC}},t.prototype.convertEnum=function(t){switch(t){case D.BASIC:return Q.BASIC;case D.ADVANCED:return Q.ADVANCED;default:return Q.BASIC}},t}(),K=function(){function t(){this.source=[],this.columns=[],this.pageChanged=new e.EventEmitter,this.pageSizeChanged=new e.EventEmitter,this.itemsSelected=new e.EventEmitter,this.columnsChanged=new e.EventEmitter,this.containerWidthChanged=new e.EventEmitter,this.sourceEdited=new e.EventEmitter,this.cellEditEntered=new e.EventEmitter,this.cellEditCanceled=new e.EventEmitter,this.cellEditSubmitted=new e.EventEmitter,this.searchPhraseChanged=new e.EventEmitter,this.gridColumnConverter=new j,this.gridThemeConverter=new L,this.gridRowColoringConverter=new G,this.gridColumnMenuConverter=new U,this.gridPagingConverter=new W}return t.prototype.ngOnChanges=function(t){void 0!==t.columns&&void 0!==t.columns.currentValue&&(this.columnsConfig=this.gridColumnConverter.convert(this.columns)),void 0!==t.theme&&void 0!==t.theme.currentValue&&(this.themeConfig=this.gridThemeConverter.convert(this.theme)),void 0!==t.rowColoring&&void 0!==t.rowColoring.currentValue&&(this.rowColoringConfig=this.gridRowColoringConverter.convert(this.rowColoring)),void 0!==t.columnMenu&&void 0!==t.columnMenu.currentValue&&(this.columnMenuConfig=this.gridColumnMenuConverter.convert(this.columnMenu)),void 0!==t.paging&&void 0!==t.paging.currentValue&&"boolean"!=typeof this.paging&&(this.paging=this.gridPagingConverter.convert(this.paging))},t.prototype.onPageChange=function(t){this.pageChanged.emit(t)},t.prototype.onPageSizeChange=function(t){this.pageSizeChanged.emit(t)},t.prototype.onItemSelect=function(t){this.itemsSelected.emit(t)},t.prototype.onColumnsChange=function(){this.columnsChanged.emit()},t.prototype.onContainerWidthChange=function(t){this.containerWidthChanged.emit(t)},t.prototype.onSourceEdit=function(t){this.sourceEdited.emit(t)},t.prototype.onCellEditEnter=function(){this.cellEditEntered.emit()},t.prototype.onCellEditSubmit=function(){this.cellEditSubmitted.emit()},t.prototype.onCellEditCancel=function(){this.cellEditCanceled.emit()},t.prototype.onSearchPhrase=function(t){this.searchPhraseChanged.emit(t)},t.propDecorators={columnHeaderTop:[{type:e.Input}],columnHeaderBottom:[{type:e.Input}],maxHeight:[{type:e.Input}],width:[{type:e.Input}],rowHeight:[{type:e.Input}],autoResizeWidth:[{type:e.Input}],source:[{type:e.Input}],columns:[{type:e.Input}],paging:[{type:e.Input}],verticalGrid:[{type:e.Input}],horizontalGrid:[{type:e.Input}],theme:[{type:e.Input}],rowColoring:[{type:e.Input}],rowSelecting:[{type:e.Input}],loading:[{type:e.Input}],virtualScroll:[{type:e.Input}],sorting:[{type:e.Input}],searching:[{type:e.Input}],filtering:[{type:e.Input}],quickFilters:[{type:e.Input}],editMode:[{type:e.Input}],cellEditing:[{type:e.Input}],infoPanel:[{type:e.Input}],aggregation:[{type:e.Input}],columnMenu:[{type:e.Input}],pageChanged:[{type:e.Output}],pageSizeChanged:[{type:e.Output}],itemsSelected:[{type:e.Output}],columnsChanged:[{type:e.Output}],containerWidthChanged:[{type:e.Output}],sourceEdited:[{type:e.Output}],cellEditEntered:[{type:e.Output}],cellEditCanceled:[{type:e.Output}],cellEditSubmitted:[{type:e.Output}],searchPhraseChanged:[{type:e.Output}]},t}();var X=function(){function t(){}return t.prototype.build=function(){return this.buildObject()},t}();var q=function(t){function e(e){var n=t.call(this)||this;return n.enabled=e,n}return g(e,t),e.prototype.buildObject=function(){return new J(this.enabled)},e.prototype.withEnabled=function(t){return this.enabled=t,this},e}(X);var Y=function(t){function e(){return t.call(this,e.defaultEnabled)||this}return g(e,t),e.defaultEnabled=!0,e}(q);var J=function(){function t(t){this.enabled=t}return t.prototype.isEnabled=function(){return this.enabled},t.Builder=q,t.DefaultBuilder=Y,t}();var Z=function(t){function e(e,n,r){var i=t.call(this)||this;return i.headerEnabled=e,i.bottomPaging=n,i.topPaging=r,i.border=!0,i}return g(e,t),e.prototype.buildObject=function(){return new $(this.headerEnabled,this.bottomPaging,this.topPaging,this.border)},e.prototype.withHeader=function(t){return this.headerEnabled=t,this},e.prototype.withBottomPaging=function(t){return this.bottomPaging=t,this},e.prototype.withTopPaging=function(t){return this.topPaging=t,this},e.prototype.withBorder=function(t){return this.border=t,this},e}(X);var _=function(t){function e(){return t.call(this,e.defaultHeaderEnabled,e.defaultBottomPaging,e.defaultTopPaging)||this}return g(e,t),e.defaultHeaderEnabled=!0,e.defaultBottomPaging=(new J.DefaultBuilder).build(),e.defaultTopPaging=(new J.DefaultBuilder).build(),e}(Z);var $=function(){function t(t,e,n,r){this.headerEnabled=t,this.bottomPaging=e,this.topPaging=n,this.border=r}return t.prototype.isHeaderEnabled=function(){return this.headerEnabled},t.prototype.isBorderEnabled=function(){return this.border},t.prototype.getBottomPaging=function(){return this.bottomPaging},t.prototype.getTopPaging=function(){return this.topPaging},t.Builder=Z,t.DefaultBuilder=_,t}();var tt=(new $.DefaultBuilder).build(),et=[{provide:$,useValue:tt}],nt=new e.InjectionToken("StructureParentComponent"),rt=function(){function t(){}return t.prototype.generateId=function(){return t.index++,t.PREFIX+t.index},t.PREFIX="gui-grid-",t.index=0,t.decorators=[{type:e.Injectable}],t}();var it=function(){function t(){this.gridMap=new Map}return t.prototype.register=function(t,e,n){this.gridMap.set(t,{component:e,structureId:n})},t.prototype.unregister=function(t){this.gridMap.delete(t)},t.prototype.getValues=function(t){return this.gridMap.get(t)},t.decorators=[{type:e.Injectable}],t}();var ot=function(){function t(t,e){this.gridComponent=t,this.structureId=e}return t.prototype.provide=function(){var t=this.gridComponent;return{changeColumnHeaderTop:function(e){t.columnHeaderTop=e,t.detectChanges()}}},t}();var at=function(t){function r(e,n,r,i,o){var a=t.call(this)||this;return a.platformId=e,a.elementRef=n,a.changeDetectorRef=r,a.gridRegister=i,a.gridIdGenerator=o,a}return g(r,t),r.prototype.ngOnInit=function(){var t=this,e=this.gridId;void 0===e&&(e=this.gridIdGenerator.generateId()),this.localGridId=e,this.exposeGridId(),this.gridRegister.register(e,this,this.structureRef.getStructureId()),n.isPlatformBrowser(this.platformId)&&(window.getGuiGrid=function(e){var n=t.gridRegister.getValues(e);return n?new ot(n.component,n.structureId).provide():void 0})},r.prototype.ngOnDestroy=function(){this.gridRegister.unregister(this.localGridId)},r.prototype.getElementRef=function(){return this.elementRef},r.prototype.getGridId=function(){return""},r.prototype.detectChanges=function(){this.changeDetectorRef.detectChanges()},r.prototype.exposeGridId=function(){this.elementRef.nativeElement.setAttribute("gui-grid-id",this.localGridId)},r.decorators=[{type:e.Component,args:[{selector:"gui-grid",template:'<gui-structure\n\t#structure\n\t(cellEditCanceled)="onCellEditCancel()"\n\t(cellEditEntered)="onCellEditEnter()"\n\t(cellEditSubmitted)="onCellEditSubmit()"\n\t(columnsChanged)="onColumnsChange()"\n\t(containerWidthChanged)="onContainerWidthChange($event)"\n\t(itemsSelected)="onItemSelect($event)"\n\t(pageChanged)="onPageChange($event)"\n\t(pageSizeChanged)="onPageSizeChange($event)"\n\t(searchPhraseChanged)="onSearchPhrase($event)"\n\t(sourceEdited)="onSourceEdit($event)"\n\t[aggregation]="aggregation"\n\t[autoResizeWidth]="autoResizeWidth"\n\t[cellEditing]="cellEditing"\n\t[columnHeaderBottom]="columnHeaderBottom"\n\t[columnHeaderTop]="columnHeaderTop"\n\t[columnMenu]="columnMenuConfig"\n\t[columns]="columnsConfig"\n\t[editMode]="editMode"\n\t[filtering]="filtering"\n\t[horizontalGrid]="horizontalGrid"\n\t[infoPanel]="infoPanel"\n\t[loading]="loading"\n\t[maxHeight]="maxHeight"\n\t[paging]="paging"\n\t[quickFilters]="quickFilters"\n\t[rowColoring]="rowColoringConfig"\n\t[rowHeight]="rowHeight"\n\t[rowSelecting]="rowSelecting"\n\t[searching]="searching"\n\t[sorting]="sorting"\n\t[source]="source"\n\t[theme]="themeConfig"\n\t[verticalGrid]="verticalGrid"\n\t[virtualScroll]="virtualScroll"\n\t[width]="width">\n</gui-structure>\n',providers:m(et,[{provide:nt,useExisting:r}]),host:{"[class]":'"gui-grid"',"[style.height]":"maxHeight"},encapsulation:e.ViewEncapsulation.None,styles:[".gui-grid{display:block;width:100%}"]}]}],r.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:it},{type:rt}]},r.propDecorators={structureRef:[{type:e.ViewChild,args:["structure",{static:!0}]}],gridId:[{type:e.Input}]},r}(K);var ut=[i.FabricBadgeModule,i.FabricButtonModule,i.FabricButtonGroupModule,i.FabricCheckboxModule,i.FabricChipModule,i.FabricDropdownModule,i.FabricRadioButtonModule,i.FabricRadioGroupModule,i.FabricProgressBarModule,i.FabricProgressSpinnerModule,i.FabricSelectModule,i.FabricSpinnerModule,i.FabricTabModule,i.FabricToggleButtonModule,i.FabricInputModule,i.FabricDialogModule,i.FabricInlineDialogModule,i.FabricTabModule],st=function(){function t(){this.unsubscribe$=new a.Subject}return t.prototype.ngOnDestroy=function(){this.unsubscribe()},t.prototype.unsubscribe=function(){this.unsubscribe$.isStopped||(this.unsubscribe$.next(),this.unsubscribe$.complete())},t.prototype.takeUntil=function(){return u.takeUntil(this.unsubscribe$)},t}();var ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e}(st),gt=function(){function t(t){var e=this;this.unsubscribe$=new a.Subject,t.ofEvent.apply(t,m(this.forEvents())).pipe(u.takeUntil(this.unsubscribe$)).subscribe((function(t){try{e.subs(t)}catch(t){console.error(t)}}))}return t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t}();var pt=function(){function t(t){this.structureRepository=t}return t.prototype.on=function(t){return this.structureRepository.onStructure(t).pipe(u.filter((function(e){return e.getId().toString()===t.toString()})),u.map((function(t){return t.getPaging()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:gt}]},t}();var lt=function(t){function e(e){return t.call(this,e)||this}return g(e,t),e}(o.AggregateId),dt=new lt("-1"),ht=function(){function t(t){this.pagingRepository=t}return t.prototype.onPaging=function(t){return void 0===t&&(t=dt),this.pagingRepository.on(t)},t.prototype.onSinglePaging=function(t){return void 0===t&&(t=dt),this.onPaging(t).pipe(u.take(1))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:pt}]},t}();var ft=function(t){function e(e,n){var r=t.call(this,e,"SetPagingCommand")||this;return r.config=n,r}return g(e,t),e.prototype.getPagingConfig=function(){return this.config},e}(o.Command);var mt=function(t){function e(e,n){var r=t.call(this,e,"ChangePagesizeCommand")||this;return r.pageSize=n,r}return g(e,t),e.prototype.getPageSize=function(){return this.pageSize},e}(o.Command);var yt=function(t){function e(e){return t.call(this,e,"NextPageCommand")||this}return g(e,t),e}(o.Command),vt=function(t){function e(e){return t.call(this,e,"PrevPageCommand")||this}return g(e,t),e}(o.Command),bt=function(){function t(t){this.commandDispatcher=t}return t.prototype.setPaging=function(t,e){this.commandDispatcher.dispatch(new ft(t,e))},t.prototype.changePageSize=function(t,e){this.commandDispatcher.dispatch(new mt(t,e))},t.prototype.nextPage=function(t){this.commandDispatcher.dispatch(new yt(t))},t.prototype.prevPage=function(t){this.commandDispatcher.dispatch(new vt(t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.CommandDispatcher}]},t}();var Ct=function(){function t(t){this.pagingDispatcher=t}return t.prototype.enable=function(t){void 0===t&&(t=dt),this.pagingDispatcher.setPaging(t,{enabled:!0})},t.prototype.disable=function(t){void 0===t&&(t=dt),this.pagingDispatcher.setPaging(t,{enabled:!1})},t.prototype.setPaging=function(t,e){void 0===e&&(e=dt),this.pagingDispatcher.setPaging(e,t)},t.prototype.changePageSize=function(t,e){void 0===e&&(e=dt),this.pagingDispatcher.changePageSize(e,t)},t.prototype.nextPage=function(t){void 0===t&&(t=dt),this.pagingDispatcher.nextPage(t)},t.prototype.prevPage=function(t){void 0===t&&(t=dt),this.pagingDispatcher.prevPage(t)},t.prototype.goToPage=function(t,e){if(e<t)for(;e!==t;)this.nextPage(),e+=1;else for(;e!==t;)this.prevPage(),e-=1},t.prototype.changePagerTop=function(t,e){void 0===e&&(e=dt),this.pagingDispatcher.setPaging(e,{pagerTop:t})},t.prototype.changePagerBottom=function(t,e){void 0===e&&(e=dt),this.pagingDispatcher.setPaging(e,{pagerBottom:t})},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:bt}]},t}();var Et=function(){function t(){this.origin=new Map,this.origin$=new a.ReplaySubject}return t.prototype.setOrigin=function(t,e){this.origin.set(e.toString(),t),this.origin$.next(this.origin)},t.prototype.onOrigin=function(t){return this.origin$.asObservable().pipe(u.map((function(e){return e.get(t.toString())})),u.distinctUntilChanged())},t.decorators=[{type:e.Injectable}],t}();var At=function(){function t(){this.origin=new Map,this.origin$=new a.ReplaySubject}return t.prototype.setItems=function(t,e){this.origin.set(e.toString(),t),this.origin$.next(this.origin)},t.prototype.onPreparedItems=function(t){return this.origin$.asObservable().pipe(u.map((function(e){return e.get(t.toString())})),u.distinctUntilChanged())},t.decorators=[{type:e.Injectable}],t}();var It=function(){function t(t,e,n){this.structureRepository=t,this.structurePreparedItemsRepository=e,this.structureSourceOriginRepository=n}return t.prototype.onEntities=function(t){return void 0===t&&(t=dt),this.structureRepository.onStructure(t).pipe(u.map((function(t){return t.getEntities()})),u.distinctUntilChanged((function(t,e){if(t.length!==e.length)return!1;var n=!0;return t.forEach((function(t,r){t.equals(e[r])||(n=!1)})),n})))},t.prototype.onEntitiesSize=function(t){return void 0===t&&(t=dt),this.onEntities(t).pipe(u.map((function(t){return t.length})))},t.prototype.onSingleEntities=function(t){return void 0===t&&(t=dt),this.onEntities(t).pipe(u.take(1))},t.prototype.onOriginSize=function(t){return void 0===t&&(t=dt),this.structureSourceOriginRepository.onOrigin(t).pipe(u.map((function(t){return t.length})))},t.prototype.onLoading=function(t){return void 0===t&&(t=dt),this.structureRepository.onStructure(t).pipe(u.map((function(t){return t.getSource().isLoading()})))},t.prototype.onPreparedEntities=function(t){return void 0===t&&(t=dt),this.structurePreparedItemsRepository.onPreparedItems(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:gt},{type:At},{type:Et}]},t}();var St=function(){function t(t){this.archive$=t?new a.BehaviorSubject(t):new a.ReplaySubject(1)}return t.prototype.onValue=function(){return this.archive$.asObservable()},t.prototype.next=function(t){this.archive$.next(t)},t}();var wt=function(t){function n(){return t.call(this,Q.BASIC)||this}return g(n,t),n.prototype.onValue=function(){return t.prototype.onValue.call(this)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(St),Dt=function(t){function n(e,n,r,i,o){var a=t.call(this)||this;return a.changeDetectorRef=e,a.pagingQueryService=n,a.pagingCommandService=r,a.sourceQueryService=i,a.structurePagingDisplayModeArchive=o,a.alternativeDisplay=!1,a}return g(n,t),n.prototype.ngOnInit=function(){var t=this;this.structurePagingDisplayModeArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.alternativeDisplay=e===Q.ADVANCED,t.changeDetectorRef.detectChanges()})),this.pagingQueryService.onPaging().pipe(this.takeUntil()).subscribe((function(e){t.paging=e,t.changeDetectorRef.detectChanges()})),this.sourceQueryService.onOriginSize().pipe(this.takeUntil()).subscribe((function(e){t.sourceSize=e,t.changeDetectorRef.detectChanges()}))},n.prototype.changePageSize=function(t){this.pagingCommandService.changePageSize(t)},n.prototype.nextPage=function(){this.sourceSize&&this.pagingCommandService.nextPage()},n.prototype.prevPage=function(){this.pagingCommandService.prevPage()},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-paging",template:'<ng-container *ngIf="paging && !alternativeDisplay">\n\n\t<gui-structure-paging-select\n\t\t(pageSizeChanged)="changePageSize($event)"\n\t\t[paging]="paging">\n\t</gui-structure-paging-select>\n\n\t<gui-structure-paging-stats\n\t\t[paging]="paging">\n\t</gui-structure-paging-stats>\n\n\t<gui-structure-paging-navigator\n\t\t(nextPageChanged)="nextPage()"\n\t\t(prevPageChanged)="prevPage()"\n\t\t[paging]="paging"\n\t\t[sourceSize]="sourceSize">\n\t</gui-structure-paging-navigator>\n\n</ng-container>\n\n<ng-container *ngIf="paging && alternativeDisplay">\n\n\t<gui-structure-paging-select\n\t\t(pageSizeChanged)="changePageSize($event)"\n\t\t[paging]="paging">\n\t</gui-structure-paging-select>\n\n\t<gui-structure-alternative-paging-navigator\n\t\t(nextPageChanged)="nextPage()"\n\t\t(prevPageChanged)="prevPage()"\n\t\t[paging]="paging"\n\t\t[sourceSize]="sourceSize">\n\n\t\t<gui-structure-alternative-paging-pages\n\t\t\t[paging]="paging"\n\t\t\t[sourceSize]="sourceSize">\n\t\t</gui-structure-alternative-paging-pages>\n\n\t</gui-structure-alternative-paging-navigator>\n\n</ng-container>\n',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:ht},{type:Ct},{type:It},{type:wt}]},n}(ct);var Rt=function(){function t(t,e,n,r,i,o,a,u,s,c,g){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=r,this.pagerTop=i,this.pagerBottom=o,this.isNextDisabled=a,this.isPrevDisabled=u,this.start=s,this.end=c,this.sourceSize=g}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.getPage=function(){return this.page},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getPageSizes=function(){return this.pageSizes},t.prototype.isPagerTop=function(){return this.pagerTop},t.prototype.isPagerBottom=function(){return this.pagerBottom},t.prototype.isNextPageDisabled=function(){return this.isNextDisabled},t.prototype.isPrevPageDisabled=function(){return this.isPrevDisabled},t.prototype.getStart=function(){return this.start},t.prototype.getEnd=function(){return this.end},t.prototype.getSourceSize=function(){return this.sourceSize},t.prototype.calculateVisiblePages=function(t,e,n){return t-e<n&&n<t+e},t.prototype.sample=function(t){var e=this.getStart();return 0!==e&&(e-=1),t.slice(e,this.getEnd())},t}();var Tt=function(){function t(){this.nextPageChanged=new e.EventEmitter,this.prevPageChanged=new e.EventEmitter,this.prevDisabled=!1,this.nextDisabled=!1}return t.prototype.ngOnChanges=function(){this.calculatePrev(),this.calculateNext()},t.prototype.prevPage=function(){this.prevPageChanged.emit()},t.prototype.nextPage=function(){this.nextPageChanged.emit()},t.prototype.calculatePrev=function(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())},t.prototype.calculateNext=function(){(this.paging||this.sourceSize)&&(this.nextDisabled=this.paging.isNextPageDisabled())},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-paging-navigator",template:'<gui-button-group>\n\t<button (click)="prevPage()"\n\t\t\t[disabled]="prevDisabled"\n\t\t\tclass="gui-structure-paging-navigator-prev"\n\t\t\tgui-button>\n\t\tPrev\n\t</button>\n\n\t<button (click)="nextPage()"\n\t\t\t[disabled]="nextDisabled"\n\t\t\tclass="gui-structure-paging-navigator-next"\n\t\t\tgui-button>\n\t\tNext\n\t</button>\n</gui-button-group>\n',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.propDecorators={paging:[{type:e.Input}],sourceSize:[{type:e.Input}],nextPageChanged:[{type:e.Output}],prevPageChanged:[{type:e.Output}]},t}();var Pt=function(){function t(){this.pageSizeChanged=new e.EventEmitter}return t.prototype.changePageSize=function(t){this.pageSizeChanged.emit(t)},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-paging-select",template:'<span>Items per page:</span>\n<gui-select (optionChanged)="changePageSize($event)"\n\t\t\t[options]="paging.getPageSizes()"\n\t\t\t[selected]="paging.getPageSize()"\n\t\t\t[width]="25">\n</gui-select>\n',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.propDecorators={paging:[{type:e.Input}],pageSizeChanged:[{type:e.Output}]},t}();var xt=function(){function t(){}return t.prototype.ngOnChanges=function(t){this.calculate()},t.prototype.calculate=function(){this.paging&&(this.firstItemIndex=this.paging.getStart(),this.lastItemIndex=this.paging.getEnd(),this.sourceSize=this.paging.getSourceSize())},t.prototype.isSourceNotEmpty=function(){return this.sourceSize>0},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-paging-stats",template:'<ng-container *ngIf="isSourceNotEmpty(); else noSource;">\n\t<span class="gui-structure-paging-source-stats">\n\t\t<span>{{firstItemIndex}}</span>\n\t\t-\n\t\t<span>{{lastItemIndex}}</span>\n\t</span>\n\t<span>\n\t\tof\n\t</span>\n\t<span class="gui-structure-paging-source-size">\n\t\t{{sourceSize}}\n\t</span>\n</ng-container>\n\n<ng-template #noSource>\n\t<span class="gui-structure-paging-source-stats gui-structure-paging-no-items">\n\t\tThere is no items.\n\t</span>\n</ng-template>\n',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.propDecorators={paging:[{type:e.Input}]},t}();var Mt=function(){function t(t){this.pagingCommandService=t,this.nextPageChanged=new e.EventEmitter,this.prevPageChanged=new e.EventEmitter,this.prevDisabled=!1,this.nextDisabled=!1}return t.prototype.ngOnChanges=function(){this.calculatePrev(),this.calculateNext()},t.prototype.prevPage=function(){this.prevPageChanged.emit()},t.prototype.nextPage=function(){this.nextPageChanged.emit()},t.prototype.firstPage=function(){this.pagingCommandService.goToPage(1,this.paging.getPage())},t.prototype.lastPage=function(){var t=Math.ceil(this.sourceSize/this.paging.getPageSize());this.pagingCommandService.goToPage(t,this.paging.getPage())},t.prototype.calculatePrev=function(){this.paging&&(this.prevDisabled=this.paging.isPrevPageDisabled())},t.prototype.calculateNext=function(){(this.paging||this.sourceSize)&&(this.nextDisabled=this.paging.isNextPageDisabled())},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-alternative-paging-navigator",template:'<button (click)="firstPage()"\n\t\t[disabled]="prevDisabled"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 11.081 10.661" width="11.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<g transform="translate(-522.98 669.601) rotate(180)">\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t\t  stroke-width="1.5" transform="translate(-533.75 659.25)"/>\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round"\n\t\t\t\t  stroke-linejoin="round" stroke-width="1.5" transform="translate(-528.75 659.25)"/>\n\t\t</g>\n\t</svg>\n</button>\n\n<button (click)="prevPage()"\n\t\t[disabled]="prevDisabled"\n\t\tclass="gui-structure-paging-navigator-prev"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 6.081 10.661" width="6.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t  stroke-width="1.5" transform="translate(5.77 10.351) rotate(180)"/>\n\t</svg>\n</button>\n\n<ng-content></ng-content>\n\n<button (click)="nextPage()"\n\t\t[disabled]="nextDisabled"\n\t\tclass="gui-structure-paging-navigator-next"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 6.081 10.661" width="6.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t  stroke-width="1.5" transform="translate(0.311 0.311)"/>\n\t</svg>\n</button>\n\n<button (click)="lastPage()"\n\t\t[disabled]="nextDisabled"\n\t\tgui-button>\n\t<svg height="10.661" viewBox="0 0 11.081 10.661" width="11.081" xmlns="http://www.w3.org/2000/svg">\n\t\t<g transform="translate(534.061 -658.939)">\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round" stroke-linejoin="round"\n\t\t\t\t  stroke-width="1.5" transform="translate(-533.75 659.25)"/>\n\t\t\t<path d="M.75.75,5.02,5.02.75,9.29" fill="none" stroke-linecap="round"\n\t\t\t\t  stroke-linejoin="round" stroke-width="1.5" transform="translate(-528.75 659.25)"/>\n\t\t</g>\n\t</svg>\n</button>\n',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:Ct}]},t.propDecorators={paging:[{type:e.Input}],sourceSize:[{type:e.Input}],nextPageChanged:[{type:e.Output}],prevPageChanged:[{type:e.Output}]},t}();var Ft=function(){function t(t){this.pagingCommandService=t,this.sourceSize=0,this.numberOfVisiblePages=3}return t.prototype.ngOnChanges=function(t){this.calculate()},t.prototype.calculate=function(){if(this.paging&&this.sourceSize){var t=Math.ceil(this.sourceSize/this.paging.getPageSize());if(this.currentPage=this.paging.getPage(),this.pages=[],this.pages.length<=t)for(var e=1;e<=t;e++)this.pages.push(e)}},t.prototype.isSourceNotEmpty=function(){return this.sourceSize>0},t.prototype.goToPage=function(t){var e=this.paging.getPage();this.pagingCommandService.goToPage(t,e)},t.prototype.calculateVisiblePages=function(t){return this.paging.calculateVisiblePages(this.currentPage,this.numberOfVisiblePages,t)},t.prototype.activePage=function(t){return this.currentPage===t},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-alternative-paging-pages",template:'<ng-container *ngIf="isSourceNotEmpty(); else noSource;">\n\n\t<div *ngFor="let page of pages">\n\t\t<div [class.gui-paging-active-page]="activePage(page)"\n\t\t\t [class.gui-paging-visible-page]="calculateVisiblePages(page)">\n\t\t\t<div\n\t\t\t\t(click)="goToPage(page)"\n\t\t\t\tclass="gui-paging-page">\n\t\t\t\t{{page}}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n</ng-container>\n\n<ng-template #noSource>\n\t<span class="gui-structure-paging-source-stats gui-structure-paging-no-items">\n\t\tThere is no items.\n\t</span>\n</ng-template>\n',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.ctorParameters=function(){return[{type:Ct}]},t.propDecorators={paging:[{type:e.Input}],sourceSize:[{type:e.Input}]},t}();var kt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.FabricModule],declarations:[Dt,Tt,Pt,xt,Mt,Ft],exports:[Dt,Tt,Pt,xt,Mt,Ft]}]}],t}(),Nt=function(){function t(){}return t.prototype.transform=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},t.decorators=[{type:e.Pipe,args:[{name:"numberFormatter"}]}],t}(),Ht=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[Nt],exports:[Nt]}]}],t}(),Ot=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-info-dialog",template:'\n\t\t<div class="gui-structure-info-modal">\n\n\t\t\t<p class="gui-dialog-title gui-info-title">Generic UI Grid</p>\n\n\n\t\t\t<p class="gui-info-version">\n\t\t\t\tver. 0.10.1\n\t\t\t</p>\n\n\t\t\t<p class="gui-quote">\n\t\t\t\t"The best way to success is to help others succeed."\n\t\t\t</p>\n\n\t\t\t<br/>\n\n\t\t\t<section>\n\t\t\t\t<p>Links:</p>\n\t\t\t\t<ul>\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="https://generic-ui.com/">Website</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="https://generic-ui.com/guide/">Documentation</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/tree/master/ngx-grid">Github</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\n\t\t\t\t<br/>\n\n\t\t\t\t<p>Feedback:</p>\n\t\t\t\t<ul>\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/issues">Report a bug</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="https://github.com/generic-ui/generic-ui/issues">Suggest an idea</a>\n\t\t\t\t\t</li>\n\n\t\t\t\t</ul>\n\t\t\t</section>\n\t\t</div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t}(),Bt=function(t){function e(e){return t.call(this,e,"StructureCreatedEvent")||this}return g(e,t),e}(o.DomainEvent),jt=function(t){function e(e){return t.call(this,e,"VerticalScrollEnabledSetEvent")||this}return g(e,t),e}(o.DomainEvent),Vt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return g(n,t),n.decorators=[{type:e.Injectable}],n}(o.InMemoryStore),Lt=function(){function t(t){this.rowIds=t}return t.prototype.isRowSelected=function(t){return!!this.rowIds.find((function(e){return t.equalsById(e)}))},t.prototype.getIds=function(){return this.rowIds},t}();var zt=function(){function t(t){this.selectedRowsList=new Lt(t)}return t.prototype.getSelectedRows=function(){return this.selectedRowsList},t}();var Gt=function(){function t(){}return t.prototype.convert=function(t){var e=t.getSelectedRows();return new zt(e)},t.decorators=[{type:e.Injectable}],t}(),Ut=function(){function t(t,e,n,r){this.verticalGrid=t,this.horizontalGrid=e,this.theme=n,this.rowColoring=r}return t.prototype.getRowColoring=function(){return this.rowColoring},t}();var Qt=function(){function t(t,e,n,r,i,o,a,u){this.width=t,this.height=e,this.containerHeight=n,this.verticalGridEnabled=r,this.horizontalGridEnabled=i,this.theme=o,this.columnHeader=a,this.rowColoring=u}return t.prototype.getRowColoring=function(){return this.rowColoring},t.prototype.getTheme=function(){return this.theme},t.prototype.getHeight=function(){return this.height},t.prototype.getContainerHeight=function(){return this.containerHeight},t.prototype.getWidth=function(){return this.width},t.prototype.isVerticalGridEnabled=function(){return this.verticalGridEnabled},t.prototype.isHorizontalGridEnabled=function(){return this.horizontalGridEnabled},t.prototype.getColumnHeader=function(){return this.columnHeader},t.prototype.getCssClasses=function(){return new Ut(this.isVerticalGridEnabled(),this.isHorizontalGridEnabled(),this.getTheme(),this.getRowColoring())},t}();var Wt=function(){function t(t,e){this.top=t,this.bottom=e}return t.prototype.isTopHeaderEnabled=function(){return this.top},t.prototype.isBottomHeaderEnabled=function(){return this.bottom},t}();var Kt=function(){function t(){}return t.prototype.convert=function(t){var e=t.getColumnHeader();return new Qt(t.getWidth(),t.getHeight(),t.getContainerHeight(),t.isVerticalGridEnabled(),t.isHorizontalGridEnabled(),t.getTheme(),this.convertColumnHeader(e),t.getRowColoring())},t.prototype.convertColumnHeader=function(t){return new Wt(t.isHeaderOnTop(),t.isHeaderOnBottom())},t.decorators=[{type:e.Injectable}],t}(),Xt=function(){function t(){}return t.prototype.convert=function(t){return new Rt(t.isEnabled(),t.getPage(),t.getPageSize(),t.getPageSizes(),t.isPagerTop(),t.isPagerBottom(),t.isNextPageDisabled(),t.isPrevPageDisabled(),t.calculateStart(),t.calculateEnd(),t.getSourceSize())},t.decorators=[{type:e.Injectable}],t}(),qt=function(){function t(t){this.loading=t}return t.prototype.isLoading=function(){return this.loading},t}();var Yt=function(){function t(){}return t.prototype.convert=function(t){return new qt(t.isLoading())},t.decorators=[{type:e.Injectable}],t}(),Jt=function(){function t(t,e,n,r,i){this.enabled=t,this.topMargin=e,this.containerHeight=n,this.viewportHeight=r,this.rowHeight=i}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.getTopMargin=function(){return this.topMargin},t.prototype.getContainerHeight=function(){return this.containerHeight},t.prototype.getViewPortHeight=function(){return this.viewportHeight},t.prototype.getRowHeight=function(){return this.rowHeight},t}();var Zt=function(){function t(){}return t.prototype.convert=function(t){var e=t.isEnabled(),n=t.getTopMargin(),r=t.calcFullHeight(),i=t.getViewPortHeight(),o=t.getRowHeight();return new Jt(e,n,r,i,o)},t.decorators=[{type:e.Injectable}],t}(),_t=function(t){function e(e,n,r,i,o,a,u){var s=t.call(this,e)||this;return s.formation=n,s.schema=r,s.paging=i,s.entities=o,s.source=a,s.verticalFormation=u,s}return g(e,t),e.prototype.getFormation=function(){return this.formation},e.prototype.getSchema=function(){return this.schema},e.prototype.getPaging=function(){return this.paging},e.prototype.getEntities=function(){return this.entities},e.prototype.getSource=function(){return this.source},e.prototype.getVerticalFormation=function(){return this.verticalFormation},e.prototype.getSelectedEntities=function(){var t=this.formation.getSelectedRows().getIds();return this.entities.filter((function(e){return t.some((function(t){return e.equalsById(t)}))}))},e.prototype.getTopMargin=function(){return this.verticalFormation.getTopMargin()},e.prototype.getContainerHeight=function(){return this.verticalFormation.getContainerHeight()},e.prototype.isLoaderVisible=function(){return this.getSchema().getHeight()>150&&this.getSource().isLoading()},e.prototype.isTopHeaderEnabled=function(){return this.schema.getColumnHeader().isTopHeaderEnabled()},e.prototype.isBottomHeaderEnabled=function(){return this.schema.getColumnHeader().isBottomHeaderEnabled()},e.prototype.isReadyToDisplay=function(){return this.entities.length>0},e.prototype.isVerticalScrollEnabled=function(){return this.verticalFormation.isEnabled()},e}(o.ReadModel);var $t=function(){function t(t,e,n,r){void 0===r&&(r=0),this.version=0,this.data=t,this.position=e,this.version=r,this.id=n||o.RandomStringGenerator.generate()}return t.prototype.getData=function(){return this.data},t.prototype.getUiId=function(){return"gui"+this.id.replace(/-/g,"")},t.prototype.getId=function(){return this.id},t.prototype.getVersion=function(){return this.version},t.prototype.getPosition=function(){return this.position},t.prototype.isEven=function(){return this.position%2==0},t.prototype.isOdd=function(){return this.position%2==1},t.prototype.equals=function(t){return this.id===t.id&&this.getVersion()===t.getVersion()},t.prototype.equalsById=function(t){return this.id===t},t.ctorParameters=function(){return[{type:void 0},{type:Number},{type:String},{type:Number}]},t=l([o.Entity,d("design:paramtypes",[Object,Number,String,Number])],t)}();var te=function(){function t(t,e,n,r,i){this.formationConverter=t,this.schemaConverter=e,this.pagingConverter=n,this.sourceConverter=r,this.verticalFormationConverter=i}return t.prototype.convert=function(t){var e=t.getFormation(),n=t.getSchema(),r=t.getPaging(),i=t.getEntities(),o=t.getSource(),a=t.getVerticalFormation();return new _t(t.getId(),this.formationConverter.convert(e),this.schemaConverter.convert(n),this.pagingConverter.convert(r),this.convertSource(i),this.sourceConverter.convert(o),this.verticalFormationConverter.convert(a))},t.prototype.convertSource=function(t){return t.map((function(t){return new $t(t.rawData,t.getPosition(),t.id,t.getVersion())}))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Gt},{type:Kt},{type:Xt},{type:Yt},{type:Zt}]},t}();var ee=function(t){function n(e,n){var r=t.call(this,e)||this;return r.inMemoryProjectStore=e,r.structureConverter=n,r}return g(n,t),n.prototype.toReadModel=function(t){return this.structureConverter.convert(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Vt},{type:te}]},n}(o.InMemoryReadModelStore);var ne=function(t){function e(e){return t.call(this,e,"RowHeightSetEvent")||this}return g(e,t),e}(o.DomainEvent),re=function(t){function e(e){return t.call(this,e,"SchemaThemeSetEvent")||this}return g(e,t),e}(o.DomainEvent),ie=function(t){function n(e,n){var r=t.call(this)||this;return r.domainEventBus=e,r.inMemoryStructureQueryStore=n,r.verticalFormation=new Map,r.verticalFormation$=new a.ReplaySubject,r.domainEventBus.ofEvent(Bt,jt,ne,re).pipe(r.takeUntil()).subscribe((function(t){var e=t.getAggregateId();r.inMemoryStructureQueryStore.getById(e).ifPresent((function(t){var e=t.getVerticalFormation(),n=t.getId();r.next(n,e)}))})),r}return g(n,t),n.prototype.onVerticalScrollEnabled=function(t){return this.onVerticalFormation(t).pipe(u.map((function(t){return t.isEnabled()})))},n.prototype.onRowHeight=function(t){return this.onVerticalFormation(t).pipe(u.map((function(t){return t.getRowHeight()})))},n.prototype.onVerticalFormation=function(t){return this.verticalFormation$.asObservable().pipe(u.filter((function(e){var n=t.getId();return e.has(n)})),u.map((function(e){return e.get(t.getId())})))},n.prototype.next=function(t,e){this.verticalFormation.set(t.toString(),e),this.verticalFormation$.next(this.verticalFormation)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:o.DomainEventBus},{type:ee}]},n}(st);var oe=function(){function t(t,e){this.structureRepository=t,this.verticalFormationRepository=e}return t.prototype.onStructure=function(t){return void 0===t&&(t=dt),this.structureRepository.onStructure(t)},t.prototype.onVerticalScrollEnabled=function(t){return void 0===t&&(t=dt),this.structureRepository.onStructure(t).pipe(u.map((function(t){return t.isVerticalScrollEnabled()})),u.distinctUntilChanged())},t.prototype.onRowHeight=function(t){return void 0===t&&(t=dt),this.verticalFormationRepository.onRowHeight(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:gt},{type:ie}]},t}();var ae=function(t){function e(e){return t.call(this,e)||this}return g(e,t),e}(o.AggregateId),ue=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-structure-dialog-column-manager",template:'<div class="gui-dialog-title">Manage Columns</div>\n\n<gui-structure-column-manager>\n\n</gui-structure-column-manager>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-dialog-column-manager]":"true"}}]}],t}(),se=function(){function t(t){this.structureRepository=t}return t.prototype.on=function(t){return this.structureRepository.onStructure(t).pipe(u.filter((function(e){return e.getId().toString()===t.toString()})),u.map((function(t){return t.getSchema()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:gt}]},t}();var ce=function(){function t(t){this.schemaRepository=t}return t.prototype.onSchema=function(t){return void 0===t&&(t=dt),this.schemaRepository.on(t)},t.prototype.onSingleSchema=function(t){return void 0===t&&(t=dt),this.onSchema(t).pipe(u.take(1))},t.prototype.onHeight=function(t){return void 0===t&&(t=dt),this.schemaRepository.on(t).pipe(u.map((function(t){return t.getHeight()})),u.filter((function(t){return void 0!==t})))},t.prototype.onContainerHeight=function(t){return void 0===t&&(t=dt),this.schemaRepository.on(t).pipe(u.map((function(t){return t.getContainerHeight()})),u.filter((function(t){return void 0!==t})))},t.prototype.onCssClasses=function(t){return void 0===t&&(t=dt),this.schemaRepository.on(t).pipe(u.map((function(t){return t.getCssClasses()})))},t.prototype.onSingleTheme=function(t){return void 0===t&&(t=dt),this.schemaRepository.on(t).pipe(u.take(1),u.map((function(t){return t.getTheme()})))},t.prototype.onColumnHeader=function(t){return void 0===t&&(t=dt),this.schemaRepository.on(t).pipe(u.map((function(t){return t.getColumnHeader()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:se}]},t}();var ge=function(){function t(){}return t.prototype.convertTheme=function(t){switch(t){case V.FABRIC:return i.Theme.FABRIC;case V.MATERIAL:return i.Theme.MATERIAL;case V.GENERIC:return i.Theme.GENERIC;case V.LIGHT:return i.Theme.LIGHT;case V.DARK:return i.Theme.DARK;default:return i.Theme.FABRIC}},t.decorators=[{type:e.Injectable}],t}(),pe=function(t){function n(e,n,r,i){var o=t.call(this)||this;return o.injector=e,o.schemaReadModelService=n,o.structureThemeConverter=r,o.fabricDialogService=i,o}return g(n,t),n.prototype.open=function(t,n){var r=this,i=e.Injector.create({parent:this.injector,providers:[{provide:ae,useValue:t}]});this.schemaReadModelService.onSingleTheme(n).pipe(this.takeUntil()).subscribe((function(t){r.fabricDialogService.open(ue,{injector:i,theme:r.structureThemeConverter.convertTheme(t)})}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:ce},{type:ge},{type:i.FabricDialogService}]},n}(st);var le=function(t){function n(e,n,r,i,o,a,u,s,c){var g=t.call(this)||this;return g.changeDetectorRef=e,g.renderer=n,g.elementRef=r,g.sourceQueryService=i,g.dialog=o,g.compositionId=a,g.structureId=u,g.menuColumnManagerService=s,g.structureReadModelService=c,g.infoPanel=Ot,g}return g(n,t),n.prototype.ngOnInit=function(){var t=this;this.sourceQueryService.onOriginSize().pipe(this.takeUntil()).subscribe((function(e){t.totalItemsSize=e,t.changeDetectorRef.detectChanges()})),this.sourceQueryService.onPreparedEntities().pipe(this.takeUntil()).subscribe((function(e){t.preparedItemsSize=e.length,t.changeDetectorRef.detectChanges()}))},n.prototype.openInfo=function(){this.dialog.open(this.infoPanel)},n.prototype.openColumnManager=function(){this.menuColumnManagerService.open(this.compositionId,this.structureId)},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-info-panel",template:'\n\n\t\t<div>\n\n\t\t\t<ng-container *ngIf="preparedItemsSize !== undefined && totalItemsSize !== undefined">\n\n\t\t\t\t<ng-container *ngIf="preparedItemsSize === totalItemsSize">\n\t\t\t\t\tShowing <b>{{totalItemsSize | numberFormatter}}</b> items\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf="preparedItemsSize !== totalItemsSize">\n\t\t\t\t\tShowing <b>{{preparedItemsSize | numberFormatter}}</b> out of <b>{{totalItemsSize | numberFormatter}}</b> items\n\t\t\t\t</ng-container>\n\n\t\t\t</ng-container>\n\n\t\t</div>\n\n\t\t<div>\n\t\t\t<div class="gui-right-section">\n\n\t\t\t\t<span\n\t\t\t\t\t\t(click)="openColumnManager()">\n\t\t\t\t\t<gui-structure-column-manager-icon>\n\t\t\t\t\t</gui-structure-column-manager-icon>\n\t\t\t\t</span>\n\n\t\t\t\t<span [gui-tooltip]="\'Info\'"\n\t\t\t\t\t  (click)="openInfo()">\n\t\t\t\t\t<gui-structure-info-icon></gui-structure-info-icon>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.Renderer2},{type:e.ElementRef},{type:It},{type:i.FabricDialogService},{type:ae},{type:lt},{type:pe},{type:oe}]},n}(ct);var de=function(t){function e(e){return t.call(this,e)||this}return g(e,t),e}(o.ReadModelRepository);var he=new ae("-1"),fe=function(){function t(t){this.compositionRepository=t}return t.prototype.onWidth=function(t){return void 0===t&&(t=he),this.compositionRepository.on(t).pipe(u.map((function(t){return t.getWidth()})))},t.prototype.onContainerWidth=function(t){return void 0===t&&(t=he),this.compositionRepository.on(t).pipe(u.map((function(t){return t.getContainerWidth()})))},t.prototype.onWidthForEachColumn=function(t){return void 0===t&&(t=he),this.compositionRepository.on(t).pipe(u.map((function(t){return t.getAllColumns().map((function(t){return t.width}))})))},t.prototype.onHeaderColumns=function(t){return void 0===t&&(t=he),this.compositionRepository.on(t).pipe(u.map((function(t){return t.getActiveHeaderColumns()})))},t.prototype.onAllColumns=function(t){return void 0===t&&(t=he),this.compositionRepository.on(t).pipe(u.map((function(t){return t.getHeaderColumns()})))},t.prototype.onSortOrder=function(t,e){return void 0===e&&(e=he),this.compositionRepository.on(e).pipe(u.map((function(t){return t.getActiveHeaderColumns()})),u.map((function(e){return e.filter((function(e){return e.getFieldId().equals(t)}))})),u.filter((function(t){return t.length>0})),u.map((function(t){return t[0].getSortStatus()})))},t.prototype.onTemplateColumns=function(t){return void 0===t&&(t=he),this.compositionRepository.on(t).pipe(u.map((function(t){return t.getTemplateColumns()})))},t.prototype.onResizeWidth=function(t){return void 0===t&&(t=he),this.compositionRepository.on(t).pipe(u.map((function(t){return t.isResizeWidthEnabled()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:de}]},t}();var me=function(t){function e(e){var n=t.call(this,e,"CreateCompositionCommand")||this;return n.compositionId=e,n}return g(e,t),e}(o.Command);var ye=function(t){function e(e,n){var r=t.call(this,e,"SetColumnsCommand")||this;return r.compositionId=e,r.columns=n,r}return g(e,t),e.prototype.getParams=function(){return this.columns},e}(o.Command);var ve=function(t){function e(e,n){var r=t.call(this,e,"SetCompositionWidthCommand")||this;return r.structureId=e,r.width=n,r}return g(e,t),e.prototype.getWidth=function(){return this.width},e}(o.Command);var be=function(t){function e(e,n){var r=t.call(this,e,"SetCompositionContainerWidthCommand")||this;return r.structureId=e,r.width=n,r}return g(e,t),e.prototype.getWidth=function(){return this.width},e}(o.Command);var Ce=function(t){function e(e,n){var r=t.call(this,e,"SetCompositionResizeWidthCommand")||this;return r.structureId=e,r.enabled=n,r}return g(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(o.Command);var Ee=function(t){function e(e,n){var r=t.call(this,e,"CompositionChangeSortStatusCommand")||this;return r.compositionId=e,r.sortParams=n,r}return g(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getSortParams=function(){return this.sortParams},e}(o.Command);var Ae=function(t){function e(e,n,r){var i=t.call(this,e,"CompositionSetColumnEnabledCommand")||this;return i.compositionId=e,i.columnId=n,i.enabled=r,i}return g(e,t),e.prototype.getColumnId=function(){return this.columnId},e.prototype.isEnabled=function(){return this.enabled},e}(o.Command);var Ie=function(t){function e(e,n){var r=t.call(this,e,"CompositionMoveLeftColumnCommand")||this;return r.compositionId=e,r.columnId=n,r}return g(e,t),e.prototype.getColumnId=function(){return this.columnId},e}(o.Command);var Se=function(t){function e(e,n){var r=t.call(this,e,"CompositionMoveRightColumnCommand")||this;return r.compositionId=e,r.columnId=n,r}return g(e,t),e.prototype.getColumnId=function(){return this.columnId},e}(o.Command);var we=function(){function t(t){this.commandDispatcher=t}return t.prototype.createComposition=function(t){this.commandDispatcher.dispatch(new me(t))},t.prototype.setColumns=function(t,e){this.commandDispatcher.dispatch(new ye(t,e))},t.prototype.setWidth=function(t,e){this.commandDispatcher.dispatch(new ve(t,e))},t.prototype.setContainerWidth=function(t,e){this.commandDispatcher.dispatch(new be(t,e))},t.prototype.setResizeWidth=function(t,e){this.commandDispatcher.dispatch(new Ce(t,e))},t.prototype.changeSort=function(t,e){this.commandDispatcher.dispatch(new Ee(t,e))},t.prototype.setColumnEnabled=function(t,e,n){this.commandDispatcher.dispatch(new Ae(t,e,n))},t.prototype.moveLeft=function(t,e){this.commandDispatcher.dispatch(new Ie(t,e))},t.prototype.moveRight=function(t,e){this.commandDispatcher.dispatch(new Se(t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.CommandDispatcher}]},t}();var De=function(){function t(t){this.compositionDispatcher=t}return t.prototype.createComposition=function(t){void 0===t&&(t=he),this.compositionDispatcher.createComposition(t)},t.prototype.setColumns=function(t,e){void 0===e&&(e=he),this.compositionDispatcher.setColumns(e,t)},t.prototype.setWidth=function(t,e){void 0===e&&(e=he),this.compositionDispatcher.setWidth(e,t)},t.prototype.setContainerWidth=function(t,e){void 0===e&&(e=he),this.compositionDispatcher.setContainerWidth(e,t)},t.prototype.setResizeWidth=function(t,e){void 0===e&&(e=he),this.compositionDispatcher.setResizeWidth(e,t)},t.prototype.enableColumn=function(t,e){void 0===e&&(e=he),this.compositionDispatcher.setColumnEnabled(e,t,!0)},t.prototype.disableColumn=function(t,e){void 0===e&&(e=he),this.compositionDispatcher.setColumnEnabled(e,t,!1)},t.prototype.moveLeft=function(t,e){void 0===e&&(e=he),this.compositionDispatcher.moveLeft(e,t)},t.prototype.moveRight=function(t,e){void 0===e&&(e=he),this.compositionDispatcher.moveRight(e,t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:we}]},t}();var Re=function(t){function n(e,n,r,i){var o=t.call(this)||this;return o.changeDetectorRef=e,o.compositionId=n,o.compositionCommandService=r,o.compositionReadModelService=i,o}return g(n,t),n.prototype.ngOnInit=function(){var t=this;this.compositionReadModelService.onAllColumns(this.compositionId).pipe(this.takeUntil()).subscribe((function(e){t.columns=e,t.enabledColumnsCount=t.columns.map((function(t){return+t.isEnabled()})).reduce((function(t,e){return t+e})),t.changeDetectorRef.detectChanges()}))},n.prototype.toggleColumn=function(t){event.stopPropagation(),t.isEnabled()?this.compositionCommandService.disableColumn(t.getColumnId(),this.compositionId):this.compositionCommandService.enableColumn(t.getColumnId(),this.compositionId)},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-manager",template:'\n\n\t\t<ol>\n\t\t\t<li *ngFor="let column of columns"\n\t\t\t\t(click)="toggleColumn(column)">\n\n\t\t\t\t<gui-checkbox [checked]="column.isEnabled()"\n\t\t\t\t\t\t\t  [disabled]="enabledColumnsCount === 1 && column.isEnabled()">\n\n\t\t\t\t\t<ng-container\n\t\t\t\t\t\t\t*ngTemplateOutlet="column.viewTemplate;\n\t\t\t\t\t\t\t\t\t\t\tcontext: column.context">\n\t\t\t\t\t</ng-container>\n\t\t\t\t</gui-checkbox>\n\n\t\t\t</li>\n\t\t</ol>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-column-manager]":"true"}}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:ae},{type:De},{type:fe}]},n}(ct);var Te=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-structure-menu-column-manager",template:"<gui-structure-column-manager>\n\n</gui-structure-column-manager>\n",changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-menu-column-manager]":"true"}}]}],t}(),Pe="gui-structure-column-manager-icon",xe=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:Pe,template:'\n\t\t<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.32 10.31">\n\t\t\t<line class="cls-1" x1="9.57" y1="3.65" x2="0.75" y2="3.65"/>\n\t\t\t<line class="cls-2" x1="9.57" y1="0.75" x2="0.75" y2="0.75"/>\n\t\t\t<line class="cls-2" x1="0.75" y1="9.56" x2="0.75" y2="0.88"/>\n\t\t\t<line class="cls-1" x1="3.69" y1="9.65" x2="3.69" y2="3.89"/>\n\t\t\t<line class="cls-1" x1="6.63" y1="9.56" x2="6.63" y2="3.89"/>\n\t\t\t<line class="cls-2" x1="9.57" y1="9.56" x2="9.57" y2="0.88"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class]":'"'+Pe+'"',"[class.gui-icon]":"true"}}]}],t}(),Me=[Re,ue,Te,xe],Fe=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,ut],declarations:Me,exports:Me,entryComponents:[Re,ue,Te],providers:[pe]}]}],t}(),ke="gui-structure-info-icon",Ne=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:ke,template:'\n\t\t<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.08 10.08">\n\t\t\t<path class="cls-1"\n\t\t\t\t  d="M401.64,307.76c0-.28.23-.45.54-.45s.55.17.55.45v0a.49.49,0,0,1-.55.46.48.48,0,0,1-.54-.46Zm.05,1.27a.49.49,0,0,1,1,0v2.54a.49.49,0,0,1-1,0Z"\n\t\t\t\t  transform="translate(-397.14 -304.64)"/>\n\t\t\t<circle class="cls-2" cx="5.04" cy="5.04" r="4.54"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class]":'"'+ke+'"',"[class.gui-icon]":"true"}}]}],t}(),He=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,Ht,i.FabricModule,Fe],declarations:[le,Ot,Ne],exports:[Ot,le],entryComponents:[Ot]}]}],t}(),Oe=function(){function t(){}return t.prototype.getTemplate=function(t){switch(t){case F.TEXT:return this.textTemplate;case F.NUMBER:return this.numberTemplate;case F.CHIP:return this.chipTemplate;case F.LINK:return this.linkTemplate;case F.IMAGE:return this.imageTemplate;case F.CHECKBOX:return this.checkboxTemplate;case F.BOLD:return this.boldTemplate;case F.ITALIC:return this.italicTemplate;case F.CUSTOM:return this.customTemplate;case F.FUNCTION:return this.functionTemplate;case F.DATE:return this.dateTemplate;case F.BAR:return this.barTemplate;case F.PERCENTAGE_BAR:return this.percentageBarTemplate;case F.PERCENTAGE:return this.percentageTemplate;default:return this.textTemplate}},t.decorators=[{type:e.Component,args:[{template:'\n\n\t\t<ng-template #text let-element="element">\n\t\t\t<span class="gui-view-text" [innerHTML]="element | guiSafe: \'html\'"></span>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-element="element">\n\t\t\t<span class="gui-cell-number">\n\t\t\t\t{{ element }}\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #chip let-element="element">\n\t\t\t<gui-chip>\n\t\t\t\t<span class="gui-view-text" [innerHTML]="element | guiSafe: \'html\'"></span>\n\t\t\t</gui-chip>\n\t\t</ng-template>\n\n\t\t<ng-template #link let-element="element">\n\t\t\t<a gui-button link="true" href="{{ element }}">\n\t\t\t\t<span class="gui-view-text" [innerHTML]="element | guiSafe: \'html\'"></span>\n\t\t\t</a>\n\t\t</ng-template>\n\n\t\t<ng-template #image let-element="element">\n\t\t\t<img src="{{ element }}"/>\n\t\t</ng-template>\n\n\t\t<ng-template #checkbox let-element="element">\n\t\t\t<span class="gui-cell-boolean">\n\t\t\t\t<gui-checkbox [checked]="!!element" [disabled]="true"></gui-checkbox>\n\t\t\t</span>\n\t\t</ng-template>\n\n\t\t<ng-template #bold let-element="element">\n\t\t\t<span class="gui-view-text gui-bold" [innerHTML]="element | guiSafe: \'html\'"></span>\n\t\t</ng-template>\n\n\t\t<ng-template #italic let-element="element">\n\t\t\t<span class="gui-view-text gui-italic" [innerHTML]="element | guiSafe: \'html\'"></span>\n\t\t</ng-template>\n\n\t\t<ng-template #custom let-element="element">\n\t\t\t{{ element }}\n\t\t</ng-template>\n\n\t\t<ng-template #function let-element="element">\n\t\t\t<gui-function-view [element]="element"></gui-function-view>\n\t\t</ng-template>\n\n\t\t<ng-template #date let-element="element">\n\t\t\t<span class="gui-view-text">{{ element | date: \'dd/MM/yyyy\' }}</span> \n\t\t</ng-template>\n\n\t\t<ng-template #bar let-element="element">\n\t\t\t<gui-bar-view [value]="element" [showPercentage]="false"></gui-bar-view>\n\t\t</ng-template>\n\n\t\t<ng-template #percentageBar let-element="element">\n\t\t\t<gui-bar-view [value]="element" [showPercentage]="true"></gui-bar-view>\n\t\t</ng-template>\n\t\t\n\t\t<ng-template #percentage let-element="element">\n\t\t\t<gui-percentage-view [value]="element"></gui-percentage-view>\n\t\t</ng-template>\n\n\t'}]}],t.propDecorators={textTemplate:[{type:e.ViewChild,args:["text",{read:e.TemplateRef,static:!0}]}],numberTemplate:[{type:e.ViewChild,args:["number",{read:e.TemplateRef,static:!0}]}],chipTemplate:[{type:e.ViewChild,args:["chip",{read:e.TemplateRef,static:!0}]}],linkTemplate:[{type:e.ViewChild,args:["link",{read:e.TemplateRef,static:!0}]}],imageTemplate:[{type:e.ViewChild,args:["image",{read:e.TemplateRef,static:!0}]}],checkboxTemplate:[{type:e.ViewChild,args:["checkbox",{read:e.TemplateRef,static:!0}]}],boldTemplate:[{type:e.ViewChild,args:["bold",{read:e.TemplateRef,static:!0}]}],italicTemplate:[{type:e.ViewChild,args:["italic",{read:e.TemplateRef,static:!0}]}],customTemplate:[{type:e.ViewChild,args:["custom",{read:e.TemplateRef,static:!0}]}],functionTemplate:[{type:e.ViewChild,args:["function",{read:e.TemplateRef,static:!0}]}],dateTemplate:[{type:e.ViewChild,args:["date",{read:e.TemplateRef,static:!0}]}],barTemplate:[{type:e.ViewChild,args:["bar",{read:e.TemplateRef,static:!0}]}],percentageBarTemplate:[{type:e.ViewChild,args:["percentageBar",{read:e.TemplateRef,static:!0}]}],percentageTemplate:[{type:e.ViewChild,args:["percentage",{read:e.TemplateRef,static:!0}]}]},t}();var Be=function(){function t(){this.subject$=new a.ReplaySubject(1)}return t.prototype.emit=function(t){this.subject$.next(t)},t.prototype.on=function(){return this.subject$.asObservable()},t}();var je={SUBMIT:0,BLUR:1,CANCEL:2};je[je.SUBMIT]="SUBMIT",je[je.BLUR]="BLUR",je[je.CANCEL]="CANCEL";var Ve=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.ENTER_KEY_CODE=13,e.ESC_KEY_CODE=27,e}return g(n,t),n.prototype.submit=function(){this.emitStatus(je.SUBMIT)},n.prototype.cancel=function(){this.emitStatus(je.CANCEL)},n.prototype.emitStatus=function(t){this.status&&this.status.emit(t)},n.propDecorators={value:[{type:e.Input}],valueChanges:[{type:e.Input}],status:[{type:e.Input}],focus:[{type:e.Input}]},n}(ct);var Le=function(t){function n(e){var n,r=t.call(this)||this;return r.formBuilder=e,r.filterFieldName="phrase",r.filterForm=r.formBuilder.group(((n={})[r.filterFieldName]=[""],n)),r}return g(n,t),n.prototype.ngOnChanges=function(t){void 0!==t.value&&this.filterForm.get(this.filterFieldName).setValue(this.value)},n.prototype.ngOnInit=function(){this.observeChanges()},n.prototype.ngAfterViewInit=function(){var t=this,e=this.inputRef.nativeElement;this.focusField(e),this.emitValueChange(e.value),a.fromEvent(e,"blur").pipe(this.takeUntil()).subscribe((function(){t.unsubscribe(),t.submit()}));var n=a.fromEvent(e,"keyup");n.pipe(u.filter((function(e){return e.keyCode===t.ENTER_KEY_CODE})),this.takeUntil()).subscribe((function(){t.unsubscribe(),t.submit()})),n.pipe(u.filter((function(e){return e.keyCode===t.ESC_KEY_CODE})),this.takeUntil()).subscribe((function(){t.unsubscribe(),t.cancel()}))},n.prototype.focusField=function(t){this.focus&&t.focus()},n.prototype.observeChanges=function(){var t=this;this.filterForm.controls[this.filterFieldName].valueChanges.pipe(this.takeUntil()).subscribe((function(e){t.emitValueChange(e)}))},n.prototype.emitValueChange=function(t){this.valueChanges&&this.valueChanges.emit(t)},n.propDecorators={inputRef:[{type:e.ViewChild,args:["input",{static:!0}]}]},n}(Ve);var ze=function(t){function n(e){return t.call(this,e)||this}return g(n,t),n.decorators=[{type:e.Component,args:[{selector:"gui-number-edit",template:'\n\n\t\t<form [formGroup]="filterForm" >\n\t\t\t<input #input [formControlName]="filterFieldName" type="number" class="gui-input" />\n\t\t</form>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:r.FormBuilder}]},n}(Le);function Ge(t,e){if("function"!=typeof Object.getPrototypeOf(t)[e])throw new Error('Method "'+e+'" of class "'+t.constructor.name+"\" doesn't override any method of base class.")}var Ue=function(t){function n(e){return t.call(this,e)||this}return g(n,t),n.prototype.focusField=function(t){this.focus&&(t.focus(),t.setSelectionRange(0,t.value.length))},n.decorators=[{type:e.Component,args:[{selector:"gui-string-edit",template:'\n\n\t\t<form [formGroup]="filterForm" >\n\t\t\t<input #input [formControlName]="filterFieldName" type="type" class="gui-input" />\n\t\t</form>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:r.FormBuilder}]},l([Ge,d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],n.prototype,"focusField",null),n}(Le),Qe=function(){function t(){}return t.prototype.getTemplate=function(t){switch(t){case T.STRING:return this.stringTemplate;case T.NUMBER:return this.numberTemplate;case T.BOOLEAN:return this.booleanTemplate;case T.DATE:return this.dateTemplate;default:return this.emptyTemplate}},t.decorators=[{type:e.Component,args:[{template:'\n\n\t\t<ng-template #string let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-string-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-string-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #number let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-number-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-number-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #boolean let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-boolean-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-boolean-edit>\n\t\t</ng-template>\n\n\t\t<ng-template #date let-valueChanges="valueChanges" let-value="value" let-status="status" let-focus="focus" >\n\t\t\t<gui-date-edit [valueChanges]="valueChanges" [value]="value" [status]="status" [focus]="focus">\n\t\t\t</gui-date-edit>\n\t\t</ng-template> \n\t\t\n\t\t<ng-template #empty>\n\n\t\t</ng-template>\n\n\t'}]}],t.propDecorators={stringTemplate:[{type:e.ViewChild,args:["string",{read:e.TemplateRef,static:!0}]}],numberTemplate:[{type:e.ViewChild,args:["number",{read:e.TemplateRef,static:!0}]}],booleanTemplate:[{type:e.ViewChild,args:["boolean",{read:e.TemplateRef,static:!0}]}],dateTemplate:[{type:e.ViewChild,args:["date",{read:e.TemplateRef,static:!0}]}],emptyTemplate:[{type:e.ViewChild,args:["empty",{read:e.TemplateRef,static:!0}]}]},t}();var We=function(t){function n(){var e=t.call(this)||this;return e.filterFieldName="booleanEdit",e}return g(n,t),n.prototype.toggle=function(t){this.valueChanges.emit(t),this.submit()},n.decorators=[{type:e.Component,args:[{selector:"gui-boolean-edit",template:'\n\n\t\t<span class="gui-cell-boolean">\n\t\t\t<gui-checkbox #checkbox\n\t\t\t\t\t\t  [checked]="value"\n\t\t\t\t\t\t  [name]="filterFieldName"\n\t\t\t\t\t\t  (changed)="toggle($event)">\n\t\t\t</gui-checkbox>\n\t\t</span>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[]},n.propDecorators={checkboxRef:[{type:e.ViewChild,args:["checkbox",{read:e.ElementRef,static:!0}]}]},n}(Ve);var Ke=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-column",template:""}]}],t.propDecorators={cellTemplate:[{type:e.ContentChild,args:[e.TemplateRef,{static:!1}]}],header:[{type:e.Input}]},t}();var Xe=function(){function t(t){this.sanitizer=t}return t.prototype.ngOnChanges=function(){this.safeHTML=this.sanitizer.bypassSecurityTrustHtml(this.element)},t.decorators=[{type:e.Component,args:[{selector:"gui-function-view",template:'\n\n\t\t<div [innerHTML]="safeHTML"></div>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:s.DomSanitizer}]},t.propDecorators={element:[{type:e.Input}]},t}();var qe=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return g(n,t),n.decorators=[{type:e.Injectable}],n}(o.InMemoryStore),Ye=function(t){function n(e,n){return t.call(this,e,n)||this}return g(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:qe},{type:o.AggregateStoreRegister}]},n}(o.InMemoryAggregateStore),Je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e}(o.AggregateRepository);var Ze=function(t){function n(e){var n=t.call(this)||this;return n.inMemoryCompositionAggregateStore=e,n}return g(n,t),n.prototype.getById=function(t){return this.inMemoryCompositionAggregateStore.getById(t)},n.prototype.save=function(t){this.inMemoryCompositionAggregateStore.save(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Ye}]},n}(Je);var _e=function(){function t(t,e){this.templatesComponentDefinition=t,this.componentFactoryResolver=e,this.templates=new Map,this.templatesComponent=null,this.createTemplatesComponent()}return t.prototype.getTemplates=function(){return this.templates},t.prototype.destroy=function(){this.templatesComponent&&(this.templatesComponent.destroy(),this.templatesComponent=null)},t.prototype.createTemplatesComponent=function(){var t=this.componentFactoryResolver.resolveComponentFactory(this.templatesComponentDefinition),n=e.Injector.create({providers:[]});this.templatesComponent=t.create(n),this.generateMap()},t.prototype.generateMap=function(){var t=this;this.generateMapKeys().forEach((function(e){t.findAndSetTemplate(e)}))},t.prototype.findAndSetTemplate=function(t){var e=this.templatesComponent.instance.getTemplate(t);this.templates.set(t,e)},t}();var $e=function(t){function n(e){return t.call(this,Oe,e)||this}return g(n,t),n.prototype.generateMapKeys=function(){return Object.keys(F).map((function(t){return F[t]}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.ComponentFactoryResolver}]},n}(_e),tn=function(){function t(t){this.columnTemplateFactory=t}return t.prototype.findTemplate=function(t){return this.columnTemplateFactory.getTemplates().get(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:$e}]},t}();var en=function(t){function n(e){return t.call(this,Qe,e)||this}return g(n,t),n.prototype.generateMapKeys=function(){return Object.keys(T).map((function(t){return T[t]}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.ComponentFactoryResolver}]},n}(_e),nn=function(){function t(t){this.editTemplateFactory=t}return t.prototype.findTemplate=function(t){return this.editTemplateFactory.getTemplates().get(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:en}]},t}();var rn={ASC:0,DESC:1,NONE:2};rn[rn.ASC]="ASC",rn[rn.DESC]="DESC",rn[rn.NONE]="NONE";var on=function(){function t(t){this.templateFunction=function(t){return t},"function"==typeof t?(this.view=F.FUNCTION,this.templateFunction=t):this.view=t}return t.fromDataType=function(e){return e===T.DATE?new t(F.DATE):new t(F.TEXT)},t.prototype.getCellView=function(){return this.view},t.prototype.getTemplateFunction=function(){return this.templateFunction},t}();var an=function(){function t(t,e,n,r,i,o,a,u){this.columnId=t,this.columnField=e,this.columnConfig=n,this.presentation=r,this.view=on.fromDataType(e.getDataType()),i&&(this.header=i),a&&(this.view=a),u&&(this.width=u),this.setInitialAlign(e,o)}return t.prototype.getPresentation=function(){return this.presentation},t.prototype.getColumnConfig=function(){return this.columnConfig},t.prototype.getColumnId=function(){return this.columnId},t.prototype.getField=function(){return this.columnField},t.prototype.getHeader=function(){return this.header},t.prototype.getDataType=function(){return this.columnField.getDataType()},t.prototype.getCellView=function(){return this.view.getCellView()},t.prototype.getTemplateFunction=function(){return this.view.getTemplateFunction()},t.prototype.setView=function(t){this.view=t},t.prototype.setHeader=function(t){this.header=t},t.prototype.getView=function(){return this.view},t.prototype.getAlign=function(){return this.align},t.prototype.setWidth=function(t){this.width=t},t.prototype.getWidth=function(){return this.width},t.prototype.getSortingEnabled=function(){var t=this.columnConfig;if(void 0!==t.sorting&&null!==t.sorting)return void 0===t.sorting.enabled||null===t.sorting.enabled||t.sorting.enabled},t.prototype.isCellEditingEnabled=function(){var t=this.columnConfig;return void 0===t.cellEditing||null===t.cellEditing||(void 0===t.cellEditing.enabled||null===t.cellEditing.enabled||t.cellEditing.enabled)},t.prototype.setInitialAlign=function(t,e){null!=e?this.align=e:t.getDataType()===T.NUMBER?this.align=O.RIGHT:this.align=O.LEFT},t}();var un=function(t){function e(e,n,r,i,o,a,u,s,c){var g=t.call(this,e,n,r,o,a,u,s,c)||this;return g.sortStatus=rn.NONE,g.enabled=!0,g.enabled=i,void 0===u&&(g.align=g.presentation.getDefaultAlign()),void 0===s&&(g.view=new on(g.presentation.getDefaultView())),g}return g(e,t),e.prototype.isEnabled=function(){return this.enabled},e.prototype.setEnabled=function(t){this.enabled=t},e.prototype.getSortStatus=function(){return this.sortStatus},e.prototype.setSortStatus=function(t){this.sortStatus=t},e}(an);var sn=function(){function t(t,e,n,r,i,o,a,u,s,c){this.viewTemplate=t,this.editTemplate=e,this.context=n,this.width=r,this.fieldId=i,this.columnId=o,this.sortStatus=a,this.enabled=u,this.sortable=s,this.align=c}return t.prototype.getColumnId=function(){return this.columnId},t.prototype.getFieldId=function(){return this.fieldId},t.prototype.getSortStatus=function(){return this.sortStatus},t.prototype.isSortEnabled=function(){return this.sortable},t.prototype.isAscSort=function(){return this.sortStatus===rn.ASC},t.prototype.isDescSort=function(){return this.sortStatus===rn.DESC},t.prototype.isNoSort=function(){return this.sortStatus===rn.NONE},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isAlignLeft=function(){return this.align===O.LEFT},t.prototype.isAlignCenter=function(){return this.align===O.CENTER},t.prototype.isAlignRight=function(){return this.align===O.RIGHT},t}();var cn=function(t){this.element=t};var gn=function(){function t(t){this.id=t}return t.prototype.getId=function(){return this.id},t.prototype.toString=function(){return this.id},t.prototype.equals=function(t){return t.getId()===this.id},t}();var pn=function(){function t(t,e,n,r,i,o,a,u,s,c,g,p){this.template=t,this.editTemplate=e,this.editable=n,this.templateFun=r,this.accessor=i,this.searchAccessor=o,this.width=a,this.columnFieldId=u,this.align=s,this.cellEditingEnabled=c,this.type=g,this.view=p}return t.prototype.isCellEditingEnabled=function(){return this.cellEditingEnabled},t.prototype.isBooleanDataType=function(){return this.type===T.BOOLEAN},t.prototype.isAlignLeft=function(){return this.align===O.LEFT},t.prototype.isAlignCenter=function(){return this.align===O.CENTER},t.prototype.isAlignRight=function(){return this.align===O.RIGHT},t.prototype.getValue=function(t,e){return this.templateFun(this.findValue(t,e))},t.prototype.findValue=function(t,e){var n=this.accessor(t);if(this.type!==T.STRING)return n;if(this.view&&this.view.getCellView()===F.FUNCTION)return n;if(e){for(var r=""+this.searchAccessor(t),i=r.toLocaleLowerCase(),o=e.toLocaleLowerCase(),a=[],u=0;u<o.length;){var s=i.indexOf(o,u);s>=0?(a.push(s),u=s+e.length):u=o.length}var c=r.split("");return a.forEach((function(t){for(var n=0;n<e.length;n+=1){var r=void 0;r=0===n?'<span class="gui-text-highlight">'+c[t+n]:c[t+n],n===e.length-1&&(r+="</span>"),c[t+n]=r}})),r=c.join("")}return this.accessor(t)},t}();var ln=function(){function t(t,e,n,r,i,o,a,u,s,c){void 0===s&&(s=rn.NONE),void 0===c&&(c=!0),this.type=r,this.view=i,this.align=o,this.sortable=!0,this.field=t,this.columnId=e,this.enabled=n,this.header=a,this.cellEditingEnabled=u,this.sortStatus=s,this.sortable=c}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.setHeader=function(t){this.header=t},t.prototype.setField=function(t){this.field=t},t.prototype.getHeaderCellTemplateWithContext=function(t){var e,n=this.header;"string"==typeof n?e=new cn(n):"function"==typeof n&&(e=new cn(n(t)));var r=new gn(this.field.getId().getId());return new sn(this.headerTemplate,this.editTemplate,e,this.width,r,this.columnId,this.sortStatus,this.enabled,this.sortable,this.align)},t.prototype.getContentCellTemplateWithAccessor=function(){var t=this;return new pn(this.cellTemplate,this.editTemplate,!0,this.templateFunction,(function(e){return t.field.getAccessor()(e)}),(function(e){return t.field.getSearchAccessor()(e)}),this.width,this.field.getId(),this.align,this.cellEditingEnabled,this.type,this.view)},t}();var dn=function(){function t(t,e){this.viewTemplateRepository=t,this.editTemplateRepository=e}return t.prototype.create=function(t){return t instanceof un?this.createFromColumnEntity(t):this.createFromActiveColumnEntity(t)},t.prototype.createFromColumnEntity=function(t){var e=new ln(t.getField(),t.getColumnId(),t.isEnabled(),t.getDataType(),t.getView(),t.getAlign(),t.getHeader(),t.isCellEditingEnabled(),t.getSortStatus(),t.getSortingEnabled());return e.cellTemplate=this.findViewTemplate(t.getCellView()),e.headerTemplate=this.findViewTemplate(F.TEXT),e.templateFunction=t.getTemplateFunction(),e.editTemplate=this.findEditTemplate(t.getDataType()),e.width=+t.getWidth(),e},t.prototype.createFromActiveColumnEntity=function(t){var e=new ln(t.getField(),t.getColumnId(),!0,t.getDataType(),t.getView(),t.getAlign(),t.getHeader(),t.isCellEditingEnabled(),t.getSortStatus(),t.getSortingEnabled());return e.cellTemplate=this.findViewTemplate(t.getCellView()),e.headerTemplate=this.findViewTemplate(F.TEXT),e.templateFunction=t.getTemplateFunction(),e.editTemplate=this.findEditTemplate(t.getDataType()),e.width=+t.getWidth(),e},t.prototype.createColumns=function(t){var e=this;return t.map((function(t){return e.create(t)}))},t.prototype.findViewTemplate=function(t){return t===F.FUNCTION?this.viewTemplateRepository.findTemplate(F.FUNCTION):this.viewTemplateRepository.findTemplate(t)},t.prototype.findEditTemplate=function(t){return this.editTemplateRepository.findTemplate(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:tn},{type:nn}]},t}();var hn=function(t){function e(e,n,r,i,o,a){var u=t.call(this,e)||this;return u.ready=n,u.allColumns=r,u.activeColumns=i,u.width=o,u.resizeWidth=a,u}return g(e,t),e.prototype.getActiveColumns=function(){return this.activeColumns},e.prototype.getAllColumns=function(){return this.allColumns},e.prototype.getActiveHeaderColumns=function(){return this.getActiveColumns().map((function(t,e){return t.getHeaderCellTemplateWithContext(e)}))},e.prototype.getHeaderColumns=function(){return this.getAllColumns().map((function(t,e){return t.getHeaderCellTemplateWithContext(e)}))},e.prototype.getTemplateColumns=function(){return this.getActiveColumns().map((function(t){return t.getContentCellTemplateWithAccessor()}))},e.prototype.getWidth=function(){return this.width},e.prototype.getContainerWidth=function(){return+this.width-2},e.prototype.isReady=function(){return this.ready},e.prototype.isResizeWidthEnabled=function(){return this.resizeWidth},e.prototype.equals=function(t){return this.width===t.width&&this.resizeWidth===t.resizeWidth&&this.equalsByColumns(t.allColumns)},e.prototype.equalsByColumns=function(t){return this.allColumns.length===t.length},e}(o.ReadModel);var fn=function(){function t(t){this.columnDefinitionFactory=t}return t.prototype.convert=function(t){var e=t.isReady(),n=t.getColumns(),r=t.getActiveColumns(),i=this.convertToColumnDef(n),o=this.convertActiveColumnsToColumnDef(r),a=t.getWidth(),u=t.isResizeEnabled(),s=t.getId();return new hn(s,e,i,o,a,u)},t.prototype.convertToColumnDef=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.columnDefinitionFactory.create(t);n.push(r)})),n},t.prototype.convertActiveColumnsToColumnDef=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.columnDefinitionFactory.create(t);n.push(r)})),n},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:dn}]},t}();var mn=function(t){function n(e,n){var r=t.call(this,e)||this;return r.inMemoryCompositionStore=e,r.compositionConverter=n,r}return g(n,t),n.prototype.toReadModel=function(t){return this.compositionConverter.convert(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:qe},{type:fn}]},n}(o.InMemoryReadModelStore);var yn=function(t){function e(e){return t.call(this,e,"CompositionCreatedEvent")||this}return g(e,t),e}(o.DomainEvent),vn=function(t){function e(e){return t.call(this,e,"CompositionResizeWidthSetEvent")||this}return g(e,t),e}(o.DomainEvent),bn=function(t){function e(e){return t.call(this,e,"CompositionColumnsSetEvent")||this}return g(e,t),e}(o.DomainEvent),Cn=function(t){function e(e,n){return t.call(this,e,"CompositionContainerWidthSetEvent",n)||this}return g(e,t),e}(o.DomainEvent),En=function(t){function e(e){return t.call(this,e,"CompositionWidthSetEvent")||this}return g(e,t),e}(o.DomainEvent),An=function(t){function e(e,n){var r=t.call(this,e,"CompositionChangeSortStatusEvent")||this;return r.activeColumns=n,r}return g(e,t),e.prototype.getCompositionId=function(){return this.getAggregateId()},e.prototype.getActiveColumns=function(){return this.activeColumns},e}(o.DomainEvent);var In=function(t){function e(e){return t.call(this,e,"CompositionColumnSetEnabledEvent")||this}return g(e,t),e}(o.DomainEvent),Sn=function(t){function e(e){return t.call(this,e,"CompositionColumnMovedLeftEvent")||this}return g(e,t),e}(o.DomainEvent),wn=function(t){function e(e){return t.call(this,e,"CompositionColumnMovedRightEvent")||this}return g(e,t),e}(o.DomainEvent),Dn=function(t){function n(e,n){var r=t.call(this,e)||this;return r.inMemoryCompositionQueryStore=n,r.compositionIdToComposition=new Map,r.composition$=new a.ReplaySubject(1),r}return g(n,t),n.prototype.on=function(t){return this.composition$.asObservable().pipe(u.filter((function(e){var n=t.getId();return e.has(n)})),u.map((function(e){return e.get(t.getId())})))},n.prototype.forEvents=function(){return[yn,vn,bn,Cn,En,In,Sn,wn,An]},n.prototype.subscribe=function(t){var e=this,n=t.getAggregateId();this.inMemoryCompositionQueryStore.getById(n).ifPresent((function(t){var n=t.getId().toString();e.compositionIdToComposition.set(n,t),e.composition$.next(e.compositionIdToComposition)}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:o.DomainEventBus},{type:mn}]},n}(de);var Rn=[Ye,{provide:Je,useClass:Ze}],Tn=[mn,{provide:de,useClass:Dn}],Pn=[qe],xn=function(){function t(t){this.id=t}return t.prototype.getId=function(){return this.id},t.prototype.equals=function(t){return this.id===t.getId()},t}();var Mn=function(){};var Fn=function(t){function e(){return t.call(this)||this}var n;return g(e,t),n=e,e.getInstance=function(){return n.instance||(n.instance=new n),n.instance},e.prototype.getPossibleViews=function(){return[F.TEXT,F.BAR,F.PERCENTAGE_BAR,F.PERCENTAGE]},e.prototype.getDefaultView=function(){return F.NUMBER},e.prototype.getDefaultAlign=function(){return O.RIGHT},e.instance=null,e=n=l([o.ValueObject,d("design:paramtypes",[])],e)}(Mn);var kn=function(t){function e(){return t.call(this)||this}var n;return g(e,t),n=e,e.getInstance=function(){return n.instance||(n.instance=new n),n.instance},e.prototype.getPossibleViews=function(){return[F.TEXT,F.ITALIC,F.CHIP,F.BOLD,F.CHECKBOX]},e.prototype.getDefaultView=function(){return F.CHECKBOX},e.prototype.getDefaultAlign=function(){return O.CENTER},e.instance=null,e=n=l([o.ValueObject,d("design:paramtypes",[])],e)}(Mn);var Nn=function(t){function e(){return t.call(this)||this}var n;return g(e,t),n=e,e.getInstance=function(){return n.instance||(n.instance=new n),n.instance},e.prototype.getPossibleViews=function(){return[F.DATE,F.TEXT,F.ITALIC,F.BOLD,F.CHIP]},e.prototype.getDefaultView=function(){return F.DATE},e.prototype.getDefaultAlign=function(){return O.LEFT},e.instance=null,e=n=l([o.ValueObject,d("design:paramtypes",[])],e)}(Mn);var Hn=function(t){function e(){return t.call(this)||this}var n;return g(e,t),n=e,e.getInstance=function(){return n.instance||(n.instance=new n),n.instance},e.prototype.getPossibleViews=function(){return[F.TEXT,F.ITALIC,F.BOLD,F.IMAGE,F.LINK,F.CHIP]},e.prototype.getDefaultView=function(){return F.TEXT},e.prototype.getDefaultAlign=function(){return O.LEFT},e.instance=null,e=n=l([o.ValueObject,d("design:paramtypes",[])],e)}(Mn);var On=function(t){function e(){return t.call(this)||this}var n;return g(e,t),n=e,e.getInstance=function(){return n.instance||(n.instance=new n),n.instance},e.prototype.getPossibleViews=function(){return[F.TEXT]},e.prototype.getDefaultView=function(){return F.TEXT},e.prototype.getDefaultAlign=function(){return O.LEFT},e.instance=null,e=n=l([o.ValueObject,d("design:paramtypes",[])],e)}(Mn);var Bn=function(){function t(){}return t.prototype.convert=function(t){return t===T.NUMBER?Fn.getInstance():t===T.BOOLEAN?kn.getInstance():t===T.DATE?Nn.getInstance():t===T.STRING?Hn.getInstance():On.getInstance()},t.decorators=[{type:e.Injectable}],t}(),jn=function(){function t(t){this.columnPresentationConverter=t}return t.prototype.create=function(t){return Array.isArray(t)?this.createColumns(t):this.createColumn(t)},t.prototype.createColumn=function(t){var e,n,r=t.getColumn(),i=t.getField(),a=this.convertWidth(r.width)||void 0,u=i.getDataType();void 0!==r.view&&(e=new on(r.view)),n=void 0===r.enabled||r.enabled;var s=this.getPresentation(u),c=new un(new xn(o.RandomStringGenerator.generate()),i,r,n,s,void 0,r.align,e,a);return void 0!==r.header&&c.setHeader(r.header),c},t.prototype.createColumns=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.createColumn(t))})),n},t.prototype.convertWidth=function(t){return+t},t.prototype.getPresentation=function(t){return this.columnPresentationConverter.convert(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Bn}]},t}();var Vn="CompositionResizeWidthSetAggregateEvent",Ln="ColumnsSetAggregateEvent",zn="CompositionContainerWidthSetAggregateEvent",Gn="CompositionWidthSetAggregateEvent",Un="CompositionColumnSetEnabledAggregateEvent",Qn="CompositionColumnMovedLeftAggregateEvent",Wn="CompositionColumnMovedRightAggregateEvent",Kn=function(){function t(){}return t.prototype.convert=function(t){return Array.isArray(t)?this.convertEvents(t):this.convertEvent(t)},t.prototype.convertEvents=function(t){var e=this;return t.map((function(t){return e.convertEvent(t)}))},t.prototype.convertEvent=function(t){switch(t.getType()){case Vn:return new vn(t.getAggregateId());case Ln:return new bn(t.getAggregateId());case zn:var e=t.containerWidth;return new Cn(t.getAggregateId(),e);case Gn:return new En(t.getAggregateId());case Un:return new In(t.getAggregateId());case Qn:return new Sn(t.getAggregateId());case Wn:return new wn(t.getAggregateId())}},t.decorators=[{type:e.Injectable}],t}(),Xn=function(){function t(t,e,n,r){this.fieldId=t,this.accessor=e,this.dataType=n,this.searchAccessor=r}return t.prototype.getId=function(){return this.fieldId},t.prototype.getValue=function(t){return this.accessor(t)},t.prototype.getAccessor=function(){return this.accessor},t.prototype.getSearchAccessor=function(){return this.searchAccessor},t.prototype.getDataType=function(){return this.dataType},t}();var qn=function(){function t(){}return t.prototype.create=function(t,e,n,r){return new Xn(t,e,n,r)},t.decorators=[{type:e.Injectable}],t}(),Yn=function(){function t(t){this.domainEventBus=t}return t.prototype.onColumnsChanged=function(t){return this.domainEventBus.ofEvent(bn).pipe(u.filter((function(e){return e.getAggregateId().toString()===t.toString()})))},t.prototype.onContainerWidthChanged=function(t){return this.domainEventBus.ofEvent(Cn).pipe(u.filter((function(e){return e.getAggregateId().equals(t)})),u.map((function(t){return t.getPayload()})),u.filter((function(t){return!!t})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventBus}]},t}();var Jn=function(t){function e(e,n,r){var i=t.call(this,e,"ToggleSortEvent")||this;return i.compositionId=n,i.directions=r,i}return g(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getDirections=function(){return this.directions},e}(o.DomainEvent);var Zn=function(){function t(t){this.id=t}return t.prototype.getId=function(){return this.id},t}();var _n=function(t,e){this.fieldId=t,this.direction=e};var $n=function(t){function e(e,n,r){var i=t.call(this,e,"SortOrderSetEvent")||this;return i.compositionId=n,i.directions=r,i}return g(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getDirections=function(){return this.directions},e}(o.DomainEvent);var tr=function(t){function n(e){var n=t.call(this)||this;return n.compositionDispatcher=e,n}return g(n,t),n.prototype.handle=function(t){if(t instanceof Jn){var e=t.getCompositionId(),n=t.getDirections().map((function(t){var e=new Zn(t.fieldId.getId());return new _n(e,t.direction)}));this.compositionDispatcher.changeSort(e,n)}if(t instanceof $n){e=t.getCompositionId(),n=t.getDirections().map((function(t){var e=new Zn(t.fieldId.getId());return new _n(e,t.direction)}));this.compositionDispatcher.changeSort(e,n)}},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:we}]},n}(o.DomainEventHandler);var er=function(t){function e(e,n,r,i){var o=t.call(this,e,"FieldsInitedEvent")||this;return o.compositionId=n,o.columns=r,o.fields=i,o}return g(e,t),e.prototype.getFields=function(){return this.fields},e}(o.DomainEvent);var nr=function(){function t(t,e){this.column=t,this.field=e}return t.prototype.getColumn=function(){return this.column},t.prototype.getField=function(){return this.field},t}();var rr=function(t){function n(e,n){var r=t.call(this)||this;return r.compositionDispatcher=e,r.columnFieldFactory=n,r}return g(n,t),n.prototype.handle=function(t){if(t instanceof er){var e=t.getFields(),n=this.convertColumnFieldIds(e),r=t.columns,i=this.convertColumns(r,e,n);this.compositionDispatcher.setColumns(t.compositionId,i)}},n.prototype.convertColumnFieldIds=function(t){return t?t.map((function(t){return new Zn(t.getId().getId())})):[]},n.prototype.convertColumns=function(t,e,n){var r=this;return t?t.map((function(t,i){var o=n[i],a=e[i],u=r.columnFieldFactory.create(o,a.getAccessorMethod(),a.getDataType(),a.getSearchAccessorMethod());return new nr(t,u)})):[]},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:we},{type:qn}]},n}(o.DomainEventHandler);var ir=m(Rn,[we,jn,Bn,Kn,qn]),or=m(Tn,[{provide:o.DOMAIN_EVENT_HANDLERS,useClass:rr,multi:!0},{provide:o.DOMAIN_EVENT_HANDLERS,useClass:tr,multi:!0},dn,tn,$e,en,nn]),ar=m(Pn,ir,or,[fn,De,fe,Yn]),ur=function(){function t(t){this.sanitizer=t}return t.prototype.transform=function(t,e){switch(e){case"html":return this.sanitizer.bypassSecurityTrustHtml(t);case"style":return this.sanitizer.bypassSecurityTrustStyle(t);case"script":return this.sanitizer.bypassSecurityTrustScript(t);case"url":return this.sanitizer.bypassSecurityTrustUrl(t);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(t);default:throw new Error("Invalid safe type specified: "+e)}},t.decorators=[{type:e.Pipe,args:[{name:"guiSafe"}]}],t.ctorParameters=function(){return[{type:s.DomSanitizer}]},t}();var sr=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[ur],exports:[ur]}]}],t}(),cr=function(){function t(t){this.MIN_COLUMN_WIDTH=t}return t.prototype.calculateMinWidth=function(t){var e=this.segregateColumns(t),n=e.staticColumns,r=e.fluidColumns,i=0;return n.forEach((function(t){i+=t.getWidth()})),i+=r.length*this.MIN_COLUMN_WIDTH},t.prototype.segregateColumns=function(t){var e=this;return{staticColumns:t.filter((function(t){return t.isTypeNumber()&&t.getWidth()>e.MIN_COLUMN_WIDTH})),fluidColumns:t.filter((function(t){return t.isTypeAuto()||t.isTypePercentage()||t.isTypeNumber()&&t.getWidth()<=e.MIN_COLUMN_WIDTH}))}},t}();var gr=function(t){function e(e){return t.call(this,e,"CompositionWidthSetAggregateEvent")||this}return g(e,t),e}(o.AggregateEvent),pr=function(t){function e(e,n){var r=t.call(this,e,"CompositionContainerWidthSetAggregateEvent")||this;return r.containerWidth=n,r}return g(e,t),e}(o.AggregateEvent);var lr=function(t){function e(e){return t.call(this,e,"CompositionResizeWidthSetAggregateEvent")||this}return g(e,t),e}(o.AggregateEvent),dr=function(t){function e(e,n){var r=t.call(this,e,"CompositionColumnSetEnabledAggregateEvent")||this;return r.activeColumns=n,r}return g(e,t),e.prototype.getActiveColumns=function(){return this.activeColumns},e}(o.AggregateEvent);var hr={PERCENTAGE:0,NUMBER:1,AUTO:2};hr[hr.PERCENTAGE]="PERCENTAGE",hr[hr.NUMBER]="NUMBER",hr[hr.AUTO]="AUTO";var fr=function(){function t(t){this.baseWidth=t,this.setWidthAndType(t)}return t.prototype.getWidth=function(){return this.width},t.prototype.getColumnType=function(){return this.template},t.prototype.isTypePercentage=function(){return this.template===hr.PERCENTAGE},t.prototype.isTypeAuto=function(){return this.template===hr.AUTO},t.prototype.isTypeNumber=function(){return this.template===hr.NUMBER},t.prototype.setWidth=function(t){this.width=t},t.prototype.setWidthAndType=function(t){null==t||"auto"===t?(this.template=hr.AUTO,this.setWidth(null)):this.isPercentage(t)?(this.template=hr.PERCENTAGE,this.setWidth(this.percentageToNumber(""+t))):(this.isStringNumber(t),this.template=hr.NUMBER,this.setWidth(+t))},t.prototype.clone=function(){return new t(this.baseWidth)},t.prototype.isPercentage=function(t){return"string"==typeof t&&"%"===t[t.length-1]},t.prototype.percentageToNumber=function(t){return+t.slice(0,-1)},t.prototype.isStringNumber=function(t){var e=+t;return Number.isNaN(e)},t}();var mr=function(){function t(t,e,n){this.source=t,this.width=e,this.MIN_COLUMN_WIDTH=n,this.columns=this.source.map((function(t){return t.clone()}))}return t.prototype.calculate=function(){var t=this.width,e=m(this.columns);this.adjustMinimalWidth(e);var n=[];if(e.forEach((function(e,r){e.isTypeNumber()?t-=e.getWidth():n.push(e)})),0!==(e=n).length){var r=t/e.length;e.forEach((function(t,e){t.setWidth(r)}))}return this.columns},t.prototype.adjustMinimalWidth=function(t){var e=this;t.forEach((function(t){t.isTypeNumber()&&t.getWidth()<e.MIN_COLUMN_WIDTH&&t.setWidthAndType(e.MIN_COLUMN_WIDTH)}))},t.prototype.adjustPercentageWidth=function(){var t,e;this.columns.filter((function(t){return t.isTypePercentage()}));try{for(var n=h(this.columns),r=n.next();!r.done;r=n.next()){var i=r.value;i.getColumnType()===hr.PERCENTAGE&&i.setWidth(this.width*i.getWidth()*.01)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.adjustAutoWidth=function(){for(var t,e,n=this.width,r=[],i=0;i<this.columns.length;i+=1){(s=this.columns[i]).getColumnType()!==hr.AUTO?n-=s.getWidth():r.push(s)}if(r.length>0){var o=n/r.length;try{for(var a=h(r),u=a.next();!u.done;u=a.next()){var s;(s=u.value).setWidth(o)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}}},t}();var yr=function(){function t(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=100),this.MIN_COLUMN_WIDTH=t,this.baseColumnWidths=e.map((function(t){return new fr(t.width)})),this.columnWidths=e.map((function(t){return new fr(t.width)})),this.setContainerWidth(n),this.calculate()}return t.prototype.getColumnWidths=function(){return this.baseColumnWidths},t.prototype.getColumnsWidth=function(){return this.width},t.prototype.getWidths=function(){return this.columnWidths.map((function(t){return t.getWidth()}))},t.prototype.getMinWidth=function(){return new cr(this.MIN_COLUMN_WIDTH).calculateMinWidth(this.columnWidths)},t.prototype.setWidth=function(t){this.setContainerWidth(t),this.calculate()},t.prototype.setColumns=function(t){this.baseColumnWidths=t.map((function(t){return new fr(t.width)})),this.columnWidths=t.map((function(t){return new fr(t.width)})),this.calculate()},t.prototype.getMinColumnWidth=function(){return this.MIN_COLUMN_WIDTH},t.prototype.calculate=function(){if(this.baseColumnWidths&&this.width){var t=new mr(this.baseColumnWidths,this.width,this.MIN_COLUMN_WIDTH);this.columnWidths=t.calculate()}},t.prototype.setContainerWidth=function(t){this.getMinWidth()>t?this.width=this.getMinWidth():this.width=t,this.calculate()},t}();var vr=function(t){function e(e){return t.call(this,e,"CompositionChangeSortStatusAggregateEvent")||this}return g(e,t),e}(o.AggregateEvent),br=function(){function t(t,e,n,r){void 0===e&&(e=[]),this.compositionId=t,this.MIN_COLUMN_WIDTH=50,this.columnWidthCollection=new yr(this.MIN_COLUMN_WIDTH),this.columns=e,n&&r&&(this.columnWidthCollection=new yr(this.MIN_COLUMN_WIDTH,r,n))}return t.prototype.getColumnWidths=function(){return this.columnWidthCollection.getColumnWidths()},t.prototype.getColumns=function(){return this.columns},t.prototype.setWidth=function(t){this.columnWidthCollection.setWidth(t)},t.prototype.addColumn=function(t,e){this.columns.splice(e,0,t)},t.prototype.removeColumn=function(t){this.columns.splice(t,1)},t.prototype.setColumns=function(t,e){this.columns=t,this.columnWidthCollection.setColumns(e);var n=this.columnWidthCollection.getWidths();this.columns.forEach((function(t,e){t.setWidth(n[e])}))},t.prototype.changeSort=function(t){var e,n;this.columns.forEach((function(t){t.setSortStatus(rn.NONE)}));var r=function(t){var e=t.fieldId,n=t.direction?rn.ASC:rn.DESC,r=i.columns.filter((function(t){return t.getField().getId().getId()===e.getId()}));r.length>0&&r.forEach((function(t){t.setSortStatus(n)}))},i=this;try{for(var o=h(t),a=o.next();!a.done;a=o.next()){r(a.value)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return new vr(this.getCompositionId())},t.prototype.moveLeft=function(t){var e=this.findColumnIndex(t);this.move(e,e-1)},t.prototype.moveRight=function(t){var e=this.findColumnIndex(t);this.move(e,e+1)},t.prototype.getMinColumnWidth=function(){return this.MIN_COLUMN_WIDTH},t.prototype.move=function(t,e){if(this.validateMoveIndex(t)&&this.validateMoveIndex(e)){var n=this.columns[t];this.columns[t]=this.columns[e],this.columns[e]=n}},t.prototype.validateMoveIndex=function(t){return t>=0},t.prototype.getCompositionId=function(){return this.compositionId},t.prototype.findColumnIndex=function(t){return this.columns.findIndex((function(e){return e.getColumnId().equals(t)}))},t}();var Cr=function(t){function e(e,n,r,i,o,a,u){return t.call(this,e,n,a,!0,u,r,i,o,void 0)||this}return g(e,t),e.fromEntity=function(t){return new e(t.getColumnId(),t.getField(),t.getHeader(),t.getAlign(),t.getView(),t.getColumnConfig(),t.getPresentation())},e}(un),Er=function(){function t(){}return t.prototype.convertMany=function(t){var e=this;return t.map((function(t){return e.convert(t)}))},t.prototype.convert=function(t){return Cr.fromEntity(t)},t}(),Ar=function(t){function e(e,n){var r=t.call(this,e,"CompositionColumnMovedLeftAggregateEvent")||this;return r.activeColumns=n,r}return g(e,t),e}(o.AggregateEvent);var Ir=function(t){function e(e,n){var r=t.call(this,e,"CompositionColumnMovedRightAggregateEvent")||this;return r.activeColumns=n,r}return g(e,t),e}(o.AggregateEvent);var Sr=function(t){function e(e){return t.call(this,e,"ColumnsSetAggregateEvent")||this}return g(e,t),e}(o.AggregateEvent),wr=function(t){function e(e,n,r,i,o){void 0===r&&(r=[]);var a=t.call(this,e,"CompositionAggregate")||this;a.allColumns=[],a.resizeWidthEnabled=!0,a.activeColumnEntityConverter=new Er;var u=r.map((function(t){return t.getColumn()}));a.baseParams=r,a.baseColumns=u,a.columnFactory=n,a.width=i,a.allColumns=a.columnFactory.create(r);var s=a.activeColumnEntityConverter.convertMany(a.getEnabledColumns());return a.activeColumnContainer=new br(a.getId(),s,i,u),null!=o&&(a.resizeWidthEnabled=o),a}return g(e,t),e.prototype.getColumns=function(){return this.allColumns},e.prototype.getActiveColumns=function(){return this.activeColumnContainer.getColumns()},e.prototype.getWidth=function(){return this.resizeWidthEnabled?this.containerInDOMWidth:this.width},e.prototype.isResizeEnabled=function(){return this.resizeWidthEnabled},e.prototype.isReady=function(){return!!this.getWidth()&&this.getActiveColumns().length>0},e.prototype.setColumns=function(t){this.allColumns=this.columnFactory.create(t);var e=t.map((function(t){return t.getColumn()})),n=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer.setColumns(n,e),this.addEvent(new Sr(this.getId()))},e.prototype.setContainerWidth=function(t){this.setContainerWidthWithEvent(t),this.recalculateColumns()},e.prototype.setWidth=function(t){this.setWidthWithEvent(t),this.setResizeWidthWithEvent(!1),this.recalculateColumns()},e.prototype.setResizeWidth=function(t){this.setResizeWidthWithEvent(t)},e.prototype.changeSort=function(t){this.addEvent(this.activeColumnContainer.changeSort(t))},e.prototype.enableColumn=function(t,e){var n=-1;if(this.allColumns.forEach((function(r,i){if(r.getColumnId().getId()===t.getId()){var o=r.isEnabled();r.setEnabled(e),o!==e&&(n=i)}})),n>0)if(e){var r=this.activeColumnEntityConverter.convert(this.allColumns[n]);this.activeColumnContainer.addColumn(r,n)}else this.activeColumnContainer.removeColumn(n);this.recalculateColumns(),this.addEvent(new dr(this.getId(),this.getActiveColumns()))},e.prototype.moveLeft=function(t){for(var e,n=this.findColumnIndex(t),r=-1,i=n-1;i>=0;i-=1){var o=this.allColumns[i];if(o.isEnabled()){e=o,r=i;break}}if(e&&r>=0&&n>=0){var a=this.allColumns[n];this.allColumns[n]=e,this.allColumns[r]=a}this.activeColumnContainer.moveLeft(t),this.addEvent(new Ar(this.getId(),this.getActiveColumns()))},e.prototype.moveRight=function(t){for(var e,n=this.findColumnIndex(t),r=-1,i=n+1;i<this.allColumns.length;i+=1){var o=this.allColumns[i];if(o.isEnabled()){e=o,r=i;break}}if(e&&r>=0&&n>=0){var a=this.allColumns[n];this.allColumns[n]=e,this.allColumns[r]=a}this.activeColumnContainer.moveRight(t),this.addEvent(new Ir(this.getId(),this.getActiveColumns()))},e.prototype.recalculateColumns=function(){var t=this.activeColumnEntityConverter.convertMany(this.getEnabledColumns());this.activeColumnContainer.setColumns(t,t.map((function(t){return t.getColumnConfig()})))},e.prototype.setWidthWithEvent=function(t){var e=new cr(this.getMinColumnWidth()).calculateMinWidth(this.activeColumnContainer.getColumnWidths());this.width=e>t?e:t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new gr(this.getId()))},e.prototype.setContainerWidthWithEvent=function(t){var e=new cr(this.getMinColumnWidth()).calculateMinWidth(this.activeColumnContainer.getColumnWidths());this.containerInDOMWidth=e>t?e:t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new pr(this.getId(),t))},e.prototype.setResizeWidthWithEvent=function(t){this.resizeWidthEnabled=t,this.activeColumnContainer.setWidth(this.getWidth()),this.addEvent(new lr(this.getId()))},e.prototype.getEnabledColumns=function(){return this.allColumns.filter((function(t){return t.isEnabled()}))},e.prototype.findColumnIndex=function(t){return this.allColumns.findIndex((function(e){return e.getColumnId().equals(t)}))},e.prototype.getMinColumnWidth=function(){return this.activeColumnContainer.getMinColumnWidth()},e.ctorParameters=function(){return[{type:o.AggregateId},{type:jn},{type:Array},{type:Number},{type:Boolean}]},e=l([o.RootAggregate,d("design:paramtypes",[o.AggregateId,jn,Array,Number,Boolean])],e)}(o.Aggregate);var Dr=function(){function t(t){this.columnFactory=t}return t.prototype.create=function(t){return new wr(t,this.columnFactory)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:jn}]},t}();var Rr=function(){function t(t,e){this.compositionAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.getAggregateRepository=function(){return this.compositionAggregateRepository},t.prototype.forCommand=function(){return me},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new yn(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Je},{type:o.DomainEventPublisher}]},t}();var Tr=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return Ae},t.prototype.publishDomainEvents=function(t,e){this.publishEvents(t,e)},t.prototype.handleAggregate=function(t,e){var n=e.getColumnId(),r=e.isEnabled();t.enableColumn(n,r)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),r=this.compositionEventConverter.convert(n);r&&r.length>0&&this.domainEventPublisher.publish(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Je},{type:o.DomainEventPublisher},{type:Kn}]},t}();var Pr=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return ye},t.prototype.publishDomainEvents=function(t,e){this.publishEvents(t,e)},t.prototype.handleAggregate=function(t,e){var n=e.getParams();t.setColumns(n)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),r=this.compositionEventConverter.convert(n);this.domainEventPublisher.publish(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Je},{type:o.DomainEventPublisher},{type:Kn}]},t}();var xr=function(){function t(t,e){this.domainEventPublisher=e}return t.prototype.forCommand=function(){return ve},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new En(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getWidth();t.setWidth(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Je},{type:o.DomainEventPublisher}]},t}();var Mr=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return Ie},t.prototype.publishDomainEvents=function(t,e){this.publishEvents(t,e)},t.prototype.handleAggregate=function(t,e){var n=e.getColumnId();t.moveLeft(n)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),r=this.compositionEventConverter.convert(n);r&&r.length>0&&this.domainEventPublisher.publish(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Je},{type:o.DomainEventPublisher},{type:Kn}]},t}();var Fr=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return Se},t.prototype.publishDomainEvents=function(t,e){this.publishEvents(t,e)},t.prototype.handleAggregate=function(t,e){var n=e.getColumnId();t.moveRight(n)},t.prototype.publishEvents=function(t,e){var n=t.getEvents(),r=this.compositionEventConverter.convert(n);r&&r.length>0&&this.domainEventPublisher.publish(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Je},{type:o.DomainEventPublisher},{type:Kn}]},t}();var kr=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Ee},t.prototype.publishDomainEvents=function(t,e){var n=e.getAggregateId(),r=t.getActiveColumns();this.domainEventPublisher.publish(new An(n,r))},t.prototype.handleAggregate=function(t,e){var n=e.getSortParams();t.changeSort(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var Nr=function(){function t(t,e,n){this.compositionAggregateRepository=t,this.domainEventPublisher=e,this.compositionEventConverter=n}return t.prototype.forCommand=function(){return be},t.prototype.publishDomainEvents=function(t,e){this.publishAggregateEvents(t.getEvents())},t.prototype.handleAggregate=function(t,e){var n=e.getWidth();t.setContainerWidth(n)},t.prototype.publishAggregateEvents=function(t){var e=this.compositionEventConverter.convert(t);this.domainEventPublisher.publish(e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Je},{type:o.DomainEventPublisher},{type:Kn}]},t}();var Hr=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Ce},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new vn(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getEnabled();t.setResizeWidth(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var Or=function(t){function n(){var e=t.call(this)||this;return e.filterFieldName="dateEdit",e.opened=!1,e}return g(n,t),n.prototype.ngAfterViewInit=function(){var t=this,e=this.datePickerRef.nativeElement.querySelector(".gui-date-picker-input"),n=a.fromEvent(e,"keyup");n.pipe(u.filter((function(e){return e.keyCode===t.ENTER_KEY_CODE})),this.takeUntil()).subscribe((function(){t.unsubscribe(),t.submit()})),n.pipe(u.filter((function(e){return e.keyCode===t.ESC_KEY_CODE})),this.takeUntil()).subscribe((function(){t.unsubscribe(),t.cancel()}))},n.prototype.toggle=function(t){this.valueChanges.emit(t)},n.prototype.dialogOpened=function(t){this.opened=t,t||(this.unsubscribe(),this.submit())},n.decorators=[{type:e.Component,args:[{selector:"gui-date-edit",template:'\n\n\t\t<gui-date-picker #datepicker\n\t\t\t\t\t\t [selectDate]="value"\n\t\t\t\t\t\t [name]="filterFieldName"\n\t\t\t\t\t\t [openDialog]="true"\n\t\t\t\t\t\t [onlyDialog]="false"\n\t\t\t\t\t\t (dialogOpened)="dialogOpened($event)"\n\t\t\t\t\t\t (dateSelected)="toggle($event)">\n\t\t</gui-date-picker>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[]},n.propDecorators={datePickerRef:[{type:e.ViewChild,args:["datepicker",{read:e.ElementRef,static:!0}]}]},n}(Ve);var Br=function(){function t(){this.showPercentage=!1}return t.prototype.ngOnChanges=function(t){void 0!==t.value&&null!==t.value&&(this.width=this.value>100?100:this.value)},t.decorators=[{type:e.Component,args:[{selector:"gui-bar-view[value]",template:'\n\t\t<div class="gui-percentage-bar">\n\t\t\t<div class="gui-percentage" [style.width.%]="width">\n\t\t\t</div>\n\t\t\t<gui-percentage-view *ngIf="showPercentage"\n\t\t\t\t\t\t\t\t [value]="value">\n\t\t\t</gui-percentage-view>\n\t\t</div>\n\t',host:{"[class.gui-bar-view]":"true"},changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.propDecorators={value:[{type:e.Input}],showPercentage:[{type:e.Input}]},t}();var jr=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-percentage-view[value]",template:"\n\t\t{{ value }} %\n\t",host:{"[class.gui-percentage-view]":"true"},changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.propDecorators={value:[{type:e.Input}]},t}();var Vr=[Oe,Qe,Ue,ze,We,Or,Ke,Xe,Br,jr],Lr=[Oe,Qe,Ke,i.FabricChipModule,i.FabricCheckboxModule,i.FabricButtonModule,i.FabricInputModule,Xe,Br,jr],zr="CompositionAggregate",Gr=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,r.ReactiveFormsModule,sr,i.FabricChipModule,i.FabricCheckboxModule,i.FabricButtonModule,i.FabricInputModule,i.FabricDatePickerModule,o.HermesModule.defineAggregate(zr,Dr,Ze,Rr,m(o.HermesModule.registerCommandHandler(Pr,zr),o.HermesModule.registerCommandHandler(xr,zr),o.HermesModule.registerCommandHandler(Hr,zr),o.HermesModule.registerCommandHandler(Nr,zr),o.HermesModule.registerCommandHandler(Tr,zr),o.HermesModule.registerCommandHandler(kr,zr),o.HermesModule.registerCommandHandler(Mr,zr),o.HermesModule.registerCommandHandler(Fr,zr)))],providers:m(ar),declarations:[Vr],exports:Lr,entryComponents:[Oe,Qe,i.FabricChipComponent,i.FabricCheckboxComponent,i.FabricButtonComponent,i.FabricInputComponent]}]}],t}(),Ur=function(){function t(){this.increment=0}return t.prototype.generateId=function(){return this.increment++,this.increment},t}();var Qr=function(){};var Wr=function(t){function e(e){return t.call(this,e,"PageChangedAggregateEvent")||this}return g(e,t),e}(o.AggregateEvent),Kr=function(t){function e(e){return t.call(this,e,"PagesizeChangedAggregateEvent")||this}return g(e,t),e}(o.AggregateEvent),Xr=function(){function t(t,e,n,r,i,o,a,u){this.enabled=t,this.page=e,this.pageSize=n,this.pageSizes=r,this.pagerTop=i,this.pagerBottom=o,this.sourceSize=a,this.events=[],this.logger=u}return t.default=function(e){return new t(!1,1,25,[10,25,50,100],!1,!0,0,e)},t.fromConfig=function(e,n){var r=t.default(n);return new t(e.enabled||r.isEnabled(),e.page||r.getPage(),e.pageSize||r.getPageSize(),e.pageSizes||r.getPageSizes(),e.pagerTop||r.isPagerTop(),e.pagerBottom||r.isPagerBottom(),0,n)},t.prototype.isEnabled=function(){return this.enabled},t.prototype.isDisabled=function(){return!this.enabled},t.prototype.getPage=function(){return this.page},t.prototype.getPageSize=function(){return this.pageSize},t.prototype.getPageSizes=function(){return this.pageSizes},t.prototype.isPagerTop=function(){return!this.isDisabled()&&this.pagerTop},t.prototype.isPagerBottom=function(){return!this.isDisabled()&&this.pagerBottom},t.prototype.getSourceSize=function(){return this.sourceSize},t.prototype.change=function(t){void 0!==t.enabled&&(this.enabled=t.enabled),void 0!==t.page&&(this.page=t.page,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSize&&(this.pageSize=t.pageSize,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pageSizes&&(this.pageSizes=t.pageSizes,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerTop&&(this.pagerTop=t.pagerTop,void 0===t.enabled&&(this.enabled=!0)),void 0!==t.pagerBottom&&(this.pagerBottom=t.pagerBottom,void 0===t.enabled&&(this.enabled=!0)),!0===this.enabled&&!1===t.pagerTop&&!1===t.pagerBottom&&(this.pagerBottom=!0,this.logger.warn("Pagers cannot be turn off when paging is enabled."))},t.prototype.setSourceSize=function(t){this.sourceSize=t},t.prototype.nextPage=function(){var t=this.page;this.isNextPageDisabled()||(t+=1),this.page=t},t.prototype.prevPage=function(){var t=this.page;this.isPrevPageDisabled()||(t-=1),this.page=t},t.prototype.changePageSize=function(t){return this.pageSizes.find((function(e){return e===t}))&&(this.setPage(1),this.setPageSize(t)),this.events},t.prototype.isNextPageDisabled=function(){return 0===this.sourceSize||this.page===Math.ceil(this.sourceSize/this.pageSize)},t.prototype.isPrevPageDisabled=function(){return 1===this.page},t.prototype.calculateStart=function(){var t=1+(this.page-1)*this.pageSize;return this.sourceSize<t?0:t},t.prototype.calculateEnd=function(){var t=this.page*this.pageSize;return this.sourceSize<t?this.sourceSize:t},t.prototype.sample=function(t){if(this.isDisabled())return t;var e=this.calculateStart();return 0!==e&&(e-=1),t.slice(e,this.calculateEnd())},t.prototype.setPage=function(t){this.page=t,this.events.push(new Wr(new lt("TODO need to be changed")))},t.prototype.setPageSize=function(t){this.pageSize=t,this.events.push(new Kr(new lt("TODO need to be changed")))},t}();var qr=function(){function t(t){this.logger=t}return t.prototype.createDefault=function(){return Xr.default(this.logger)},t.prototype.createFromConfig=function(t){return Xr.fromConfig(t,this.logger)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Qr}]},t}();var Yr=function(t){function n(e,n,r){var i=t.call(this,r)||this;return i.structureId=e,i.aggregateFactory=n,i}return g(n,t),n.prototype.setDefaultPaging=function(){var e=this.aggregateFactory.createDefault();t.prototype.setPaging.call(this,{page:e.getPage(),pageSize:e.getPageSize(),pageSizes:e.getPageSizes()},this.structureId)},n.prototype.setPaging=function(e){t.prototype.setPaging.call(this,e,this.structureId)},n.prototype.changePageSize=function(e){t.prototype.changePageSize.call(this,e,this.structureId)},n.prototype.nextPage=function(){t.prototype.nextPage.call(this,this.structureId)},n.prototype.prevPage=function(){t.prototype.prevPage.call(this,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lt},{type:qr},{type:bt}]},l([Ge,d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],n.prototype,"setPaging",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"changePageSize",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"nextPage",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"prevPage",null),n}(Ct);var Jr=function(t){function n(e,n){var r=t.call(this,n)||this;return r.structureId=e,r}return g(n,t),n.prototype.onPaging=function(){return t.prototype.onPaging.call(this,this.structureId)},n.prototype.onSinglePaging=function(){return t.prototype.onPaging.call(this,this.structureId).pipe(u.take(1))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lt},{type:pt}]},l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onPaging",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onSinglePaging",null),n}(ht);var Zr=function(t){function e(e,n){var r=t.call(this,e,"SetSchemaCommand")||this;return r.height=n,r}return g(e,t),e.prototype.getHeight=function(){return this.height},e}(o.Command);var _r=function(t){function e(e,n){var r=t.call(this,e,"SetSchemaVerticalGridCommand")||this;return r.enabled=n,r}return g(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(o.Command);var $r=function(t){function e(e,n){var r=t.call(this,e,"SetSchemaHorizontalGridCommand")||this;return r.enabled=n,r}return g(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(o.Command);var ti=function(t){function e(e,n){var r=t.call(this,e,"SetSchemaThemeCommand")||this;return r.theme=n,r}return g(e,t),e.prototype.getTheme=function(){return this.theme},e}(o.Command);var ei=function(t){function e(e,n){var r=t.call(this,e,"SetRowColoringCommand")||this;return r.coloring=n,r}return g(e,t),e.prototype.getColoring=function(){return this.coloring},e}(o.Command);var ni=function(t){function e(e,n){var r=t.call(this,e,"ChangeSchemaTopHeaderCommand")||this;return r.enabled=n,r}return g(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(o.Command);var ri=function(t){function e(e,n){var r=t.call(this,e,"ChangeSchemaBottomHeaderCommand")||this;return r.enabled=n,r}return g(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(o.Command);var ii=function(){function t(t){this.commandDispatcher=t}return t.prototype.setSchema=function(t,e){this.commandDispatcher.dispatch(new Zr(t,e))},t.prototype.changeVerticalGrid=function(t,e){this.commandDispatcher.dispatch(new _r(t,e))},t.prototype.changeHorizontalGrid=function(t,e){this.commandDispatcher.dispatch(new $r(t,e))},t.prototype.setTheme=function(t,e){this.commandDispatcher.dispatch(new ti(t,e))},t.prototype.setRowColoring=function(t,e){void 0===t&&(t=dt),this.commandDispatcher.dispatch(new ei(t,e))},t.prototype.changeTopHeader=function(t,e){this.commandDispatcher.dispatch(new ni(t,e))},t.prototype.changeBottomHeader=function(t,e){this.commandDispatcher.dispatch(new ri(t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.CommandDispatcher}]},t}();var oi=function(){function t(t,e){this.schemaDispatcher=t,this.schemaQueryService=e,this.unsubscribe$=new a.Subject}return t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.setSchema=function(t,e){void 0===e&&(e=dt),this.schemaDispatcher.setSchema(e,t)},t.prototype.setHeight=function(t,e){void 0===e&&(e=dt),this.schemaDispatcher.setSchema(e,t)},t.prototype.changeVerticalGrid=function(t,e){void 0===e&&(e=dt),this.schemaDispatcher.changeVerticalGrid(e,t)},t.prototype.changeHorizontalGrid=function(t,e){void 0===e&&(e=dt),this.schemaDispatcher.changeHorizontalGrid(e,t)},t.prototype.setTheme=function(t,e){void 0===e&&(e=dt),this.schemaDispatcher.setTheme(e,t)},t.prototype.setRowColoring=function(t,e){void 0===e&&(e=dt),this.schemaDispatcher.setRowColoring(e,t)},t.prototype.changeTopHeader=function(t,e){void 0===e&&(e=dt),this.schemaDispatcher.changeTopHeader(e,t)},t.prototype.changeBottomHeader=function(t,e){void 0===e&&(e=dt),this.schemaDispatcher.changeBottomHeader(e,t)},t.prototype.toggleVerticalGrid=function(t){var e=this;void 0===t&&(t=dt),this.schemaQueryService.onCssClasses(t).pipe(u.map((function(t){return t.verticalGrid})),u.filter((function(t){return void 0!==t})),u.take(1),u.takeUntil(this.unsubscribe$)).subscribe((function(n){e.changeVerticalGrid(!n,t)}))},t.prototype.toggleHorizontalGrid=function(t){var e=this;void 0===t&&(t=dt),this.schemaQueryService.onCssClasses(t).pipe(u.map((function(t){return t.horizontalGrid})),u.filter((function(t){return void 0!==t})),u.take(1),u.takeUntil(this.unsubscribe$)).subscribe((function(n){e.changeHorizontalGrid(!n,t)}))},t.prototype.toggleTopHeader=function(t){var e=this;void 0===t&&(t=dt),this.schemaQueryService.onColumnHeader(t).pipe(u.map((function(t){return t.isTopHeaderEnabled()})),u.take(1),u.takeUntil(this.unsubscribe$)).subscribe((function(n){e.changeTopHeader(!n,t)}))},t.prototype.toggleBottomHeader=function(t){var e=this;void 0===t&&(t=dt),this.schemaQueryService.onColumnHeader(t).pipe(u.map((function(t){return t.isBottomHeaderEnabled()})),u.take(1),u.takeUntil(this.unsubscribe$)).subscribe((function(n){e.changeBottomHeader(!n,t)}))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:ii},{type:ce}]},t}();var ai={NONE:0,EVEN:1,ODD:2};ai[ai.NONE]="NONE",ai[ai.EVEN]="EVEN",ai[ai.ODD]="ODD";var ui=function(t){function n(e,n,r){var i=t.call(this,r,n)||this;return i.structureId=e,i}return g(n,t),n.prototype.setDefaultSchema=function(){t.prototype.setSchema.call(this,Number.MAX_SAFE_INTEGER,this.structureId)},n.prototype.setSchema=function(e,n){void 0===n&&(n=dt),t.prototype.setSchema.call(this,e,this.structureId)},n.prototype.setHeight=function(e){t.prototype.setHeight.call(this,e,this.structureId)},n.prototype.changeVerticalGrid=function(e){t.prototype.changeVerticalGrid.call(this,e,this.structureId)},n.prototype.changeHorizontalGrid=function(e){t.prototype.changeHorizontalGrid.call(this,e,this.structureId)},n.prototype.setTheme=function(e){t.prototype.setTheme.call(this,e,this.structureId)},n.prototype.setRowColoring=function(e,n){void 0===n&&(n=dt),t.prototype.setRowColoring.call(this,e,this.structureId)},n.prototype.changeTopHeader=function(e,n){void 0===n&&(n=dt),t.prototype.changeTopHeader.call(this,e,this.structureId)},n.prototype.changeBottomHeader=function(e,n){void 0===n&&(n=dt),t.prototype.changeBottomHeader.call(this,e,this.structureId)},n.prototype.toggleVerticalGrid=function(){t.prototype.toggleVerticalGrid.call(this,this.structureId)},n.prototype.toggleHorizontalGrid=function(){t.prototype.toggleHorizontalGrid.call(this,this.structureId)},n.prototype.toggleTopHeader=function(){t.prototype.toggleTopHeader.call(this,this.structureId)},n.prototype.toggleBottomHeader=function(){t.prototype.toggleBottomHeader.call(this,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lt},{type:ce},{type:ii}]},l([Ge,d("design:type",Function),d("design:paramtypes",[Number,lt]),d("design:returntype",void 0)],n.prototype,"setSchema",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"setHeight",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Boolean]),d("design:returntype",void 0)],n.prototype,"changeVerticalGrid",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Boolean]),d("design:returntype",void 0)],n.prototype,"changeHorizontalGrid",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"setTheme",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Number,lt]),d("design:returntype",void 0)],n.prototype,"setRowColoring",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Boolean,lt]),d("design:returntype",void 0)],n.prototype,"changeTopHeader",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Boolean,lt]),d("design:returntype",void 0)],n.prototype,"changeBottomHeader",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"toggleVerticalGrid",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"toggleHorizontalGrid",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"toggleTopHeader",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"toggleBottomHeader",null),n}(oi);var si=function(t){function n(e,n){var r=t.call(this,n)||this;return r.structureId=e,r}return g(n,t),n.prototype.onSchema=function(){return t.prototype.onSchema.call(this,this.structureId)},n.prototype.onSingleSchema=function(){return t.prototype.onSingleSchema.call(this,this.structureId)},n.prototype.onHeight=function(){return t.prototype.onHeight.call(this,this.structureId)},n.prototype.onContainerHeight=function(){return t.prototype.onContainerHeight.call(this,this.structureId)},n.prototype.onCssClasses=function(){return t.prototype.onCssClasses.call(this,this.structureId)},n.prototype.onSingleTheme=function(){return t.prototype.onSingleTheme.call(this,this.structureId)},n.prototype.onColumnHeader=function(e){return void 0===e&&(e=dt),t.prototype.onColumnHeader.call(this,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lt},{type:se}]},l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onSchema",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onSingleSchema",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onHeight",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onContainerHeight",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onCssClasses",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onSingleTheme",null),l([Ge,d("design:type",Function),d("design:paramtypes",[lt]),d("design:returntype",a.Observable)],n.prototype,"onColumnHeader",null),n}(ce);var ci=function(t){function e(e,n){var r=t.call(this,e,"SetFormationCommand")||this;return r.payload=n,r}return g(e,t),e}(o.Command);var gi=function(t){function e(e,n){var r=t.call(this,e,"ToggleSelectedRowCommand")||this;return r.selectedRow=n,r}return g(e,t),e.prototype.getSelectedRow=function(){return this.selectedRow},e}(o.Command);var pi=function(){function t(t){this.commandDispatcher=t}return t.prototype.setDefault=function(t){this.commandDispatcher.dispatch(new ci(t))},t.prototype.toggleSelectedRow=function(t,e){this.commandDispatcher.dispatch(new gi(t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.CommandDispatcher}]},t}();var li=function(){function t(t){this.formationDispatcher=t}return t.prototype.setDefaultFormation=function(t){void 0===t&&(t=dt),this.formationDispatcher.setDefault(t)},t.prototype.toggleSelectedRow=function(t,e){void 0===e&&(e=dt),this.formationDispatcher.toggleSelectedRow(e,t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:pi}]},t}();var di=function(t){function n(e,n){var r=t.call(this,n)||this;return r.structureId=e,r}return g(n,t),n.prototype.setDefault=function(){t.prototype.setDefaultFormation.call(this,this.structureId)},n.prototype.toggleSelectedRow=function(e){t.prototype.toggleSelectedRow.call(this,e,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lt},{type:pi}]},l([Ge,d("design:type",Function),d("design:paramtypes",[String]),d("design:returntype",void 0)],n.prototype,"toggleSelectedRow",null),n}(li);var hi=function(){function t(t){this.structureRepository=t}return t.prototype.onFormation=function(t){return this.structureRepository.onStructure(t).pipe(u.filter((function(e){return e.getId().toString()===t.toString()})),u.map((function(t){return t.getFormation()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:gt}]},t}();var fi=function(){function t(t){this.formationRepository=t}return t.prototype.onSelectedRows=function(t){return void 0===t&&(t=dt),this.formationRepository.onFormation(t).pipe(u.map((function(t){return t.getSelectedRows()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:hi}]},t}();var mi=function(t){function n(e,n){var r=t.call(this,n)||this;return r.structureId=e,r}return g(n,t),n.prototype.onSelectedRows=function(){return t.prototype.onSelectedRows.call(this,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lt},{type:hi}]},l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onSelectedRows",null),n}(fi);var yi=function(t){function e(e,n){var r=t.call(this,e,"StructureSetConfigFilterCommand")||this;return r.filterConfig=n,r}return g(e,t),e.prototype.getConfig=function(){return this.filterConfig},e}(o.Command);var vi=function(t){function e(e,n,r,i){var o=t.call(this,e,"StructureToggleFilterCommand")||this;return o.fieldId=n,o.externalFilterId=r,o.filterValue=i,o}return g(e,t),e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getExternalFilterId=function(){return this.externalFilterId},e.prototype.getFilterValue=function(){return this.filterValue},e}(o.Command);var bi=function(){function t(t){this.commandDispatcher=t}return t.prototype.setFilteringEnabled=function(t,e){this.commandDispatcher.dispatch(new yi(e,t))},t.prototype.addFilter=function(t,e,n,r){this.commandDispatcher.dispatch(new vi(r,t,e,n))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.CommandDispatcher}]},t}();var Ci=function(t){function e(e,n){var r=t.call(this,e,"SourceSetLoadingCommand")||this;return r.enabled=n,r}return g(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(o.Command);var Ei=function(t){function e(e,n){void 0===n&&(n=[]);var r=t.call(this,e,"SetOriginCommand")||this;return r.items=n,r}return g(e,t),e.prototype.getItems=function(){return this.items},e}(o.Command);var Ai=function(t){function e(e,n){var r=t.call(this,e,"StructureEditSourceItemCommand")||this;return r.params=n,r}return g(e,t),e.prototype.getParams=function(){return this.params},e}(o.Command);var Ii=function(){function t(t){this.commandDispatcher=t}return t.prototype.setLoading=function(t,e){this.commandDispatcher.dispatch(new Ci(t,e))},t.prototype.setOrigin=function(t,e){this.commandDispatcher.dispatch(new Ei(t,e))},t.prototype.editItem=function(t,e){this.commandDispatcher.dispatch(new Ai(t,e))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.CommandDispatcher}]},t}();var Si=function(t){function e(e){return t.call(this,e,"CreateStructureCommand")||this}return g(e,t),e}(o.Command),wi=function(t){function e(e,n){var r=t.call(this,e,"SetVerticalScrollEnabledCommand")||this;return r.enabled=n,r}return g(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(o.Command);var Di=function(t){function e(e,n){var r=t.call(this,e,"SetScrollPositionCommand")||this;return r.position=n,r}return g(e,t),e.prototype.getPosition=function(){return this.position},e}(o.Command);var Ri=function(t){function e(e,n){var r=t.call(this,e,"SetSortingCommand")||this;return r.sortingConfig=n,r}return g(e,t),e.prototype.getSortingConfig=function(){return this.sortingConfig},e}(o.Command);var Ti=function(t){function e(e,n,r){var i=t.call(this,e,"ToggleSortCommand")||this;return i.compositionId=n,i.fieldId=r,i}return g(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getFieldId=function(){return this.fieldId},e}(o.Command);var Pi=function(t){function e(e,n){var r=t.call(this,e,"StructureSetConfigQuickFilterCommand")||this;return r.quickFiltersConfig=n,r}return g(e,t),e.prototype.getConfig=function(){return this.quickFiltersConfig},e}(o.Command);var xi=function(t){function e(e,n,r){var i=t.call(this,e,"InitFieldsCommand")||this;return i.compositionId=n,i.columns=r,i}return g(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getColumns=function(){return this.columns},e}(o.Command);var Mi=function(t){function e(e,n,r,i){var o=t.call(this,e,"SetSortOrderCommand")||this;return o.compositionId=n,o.fieldId=r,o.sortOrder=i,o}return g(e,t),e.prototype.getCompositionId=function(){return this.compositionId},e.prototype.getFieldId=function(){return this.fieldId},e.prototype.getSortOrder=function(){return this.sortOrder},e}(o.Command);var Fi=function(t){function e(e,n){var r=t.call(this,e,"SetRowHeightCommand")||this;return r.rowHeight=n,r}return g(e,t),e.prototype.getRowHeight=function(){return this.rowHeight},e}(o.Command);var ki=function(t){function e(e,n){var r=t.call(this,e,"StructureSetConfigSearchingCommand")||this;return r.searchConfig=n,r}return g(e,t),e.prototype.getConfig=function(){return this.searchConfig},e}(o.Command);var Ni=function(t){function e(e,n){var r=t.call(this,e,"StructureSetSearchPhraseCommand")||this;return r.phrase=n,r}return g(e,t),e.prototype.getPhrase=function(){return this.phrase},e}(o.Command);var Hi=function(){function t(){this.idToHighlight=new Map,this.idToHighlight$=new a.ReplaySubject}return t.prototype.next=function(t,e){void 0===e&&(e=dt),this.idToHighlight.set(e.getId(),t),this.idToHighlight$.next(this.idToHighlight)},t.prototype.onValue=function(e){return void 0===e&&(e=dt),this.idToHighlight$.asObservable().pipe(u.map((function(n){return n.get(e.getId())||t.HIGHLIGHTING})))},t.HIGHLIGHTING=!0,t.decorators=[{type:e.Injectable}],t}();var Oi=function(){function t(){this.idToPlaceholder=new Map,this.idToPlaceholder$=new a.ReplaySubject}return t.prototype.next=function(t,e){void 0===e&&(e=dt),this.idToPlaceholder.set(e.getId(),t),this.idToPlaceholder$.next(this.idToPlaceholder)},t.prototype.onValue=function(e){return void 0===e&&(e=dt),this.idToPlaceholder$.asObservable().pipe(u.map((function(n){return n.get(e.getId())||t.PLACEHOLDER})))},t.PLACEHOLDER="Search ...",t.decorators=[{type:e.Injectable}],t}();var Bi=function(){function t(t,e,n){this.commandDispatcher=t,this.structureSearchHighlightArchive=e,this.structureSearchPlaceholderArchive=n}return t.prototype.setSearchingConfig=function(t,e){void 0===e&&(e=dt),void 0!==t.highlighting&&null!==t.highlighting&&this.structureSearchHighlightArchive.next(t.highlighting),void 0!==t.placeholder&&null!==t.placeholder&&this.structureSearchPlaceholderArchive.next(t.placeholder),void 0!==t.phrase&&null!==t.phrase&&this.search(t.phrase,e),this.commandDispatcher.dispatch(new ki(e,t))},t.prototype.search=function(t,e){void 0===e&&(e=dt),this.commandDispatcher.dispatch(new Ni(e,t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.CommandDispatcher},{type:Hi},{type:Oi}]},t}();var ji=function(){function t(t,e,n,r){this.commandDispatcher=t,this.structureFilterCommandService=e,this.sourceDispatcher=n,this.structureSearchDispatcher=r}return t.prototype.createStructure=function(t){void 0===t&&(t=dt),this.commandDispatcher.dispatch(new Si(t))},t.prototype.enableVerticalScroll=function(t){void 0===t&&(t=dt),this.commandDispatcher.dispatch(new wi(t,!0))},t.prototype.disableVerticalScroll=function(t){void 0===t&&(t=dt),this.commandDispatcher.dispatch(new wi(t,!1))},t.prototype.setScrollPosition=function(t,e){void 0===e&&(e=dt),this.commandDispatcher.dispatch(new Di(e,t))},t.prototype.setOrigin=function(t,e){void 0===e&&(e=dt),this.sourceDispatcher.setOrigin(e,t)},t.prototype.setSortingConfig=function(t,e){void 0===e&&(e=dt),this.commandDispatcher.dispatch(new Ri(e,t))},t.prototype.toggleSort=function(t,e,n){void 0===n&&(n=dt),this.commandDispatcher.dispatch(new Ti(n,e,t))},t.prototype.setSortOrder=function(t,e,n,r){void 0===r&&(r=dt),this.commandDispatcher.dispatch(new Mi(r,n,t,e))},t.prototype.setFilterConfig=function(t,e){void 0===e&&(e=dt),this.structureFilterCommandService.setFilteringEnabled(t,e)},t.prototype.setQuickFiltersConfig=function(t,e){void 0===e&&(e=dt),this.commandDispatcher.dispatch(new Pi(e,t))},t.prototype.initFields=function(t,e,n){void 0===n&&(n=dt),this.commandDispatcher.dispatch(new xi(n,e,t))},t.prototype.setSearchingConfig=function(t,e){void 0===e&&(e=dt),this.structureSearchDispatcher.setSearchingConfig(t,e)},t.prototype.search=function(t,e){void 0===e&&(e=dt),this.structureSearchDispatcher.search(t,e)},t.prototype.setRowHeight=function(t,e){void 0===e&&(e=dt),this.commandDispatcher.dispatch(new Fi(e,+t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.CommandDispatcher},{type:bi},{type:Ii},{type:Bi}]},t}();var Vi=function(t){function n(e,n,r,i,o,a){var u=t.call(this,r,i,o,a)||this;return u.structureId=e,u.compositionId=n,u}return g(n,t),n.prototype.createStructure=function(){t.prototype.createStructure.call(this,this.structureId)},n.prototype.enableVerticalScroll=function(){t.prototype.enableVerticalScroll.call(this,this.structureId)},n.prototype.disableVerticalScroll=function(){t.prototype.disableVerticalScroll.call(this,this.structureId)},n.prototype.setScrollPosition=function(e){t.prototype.setScrollPosition.call(this,e,this.structureId)},n.prototype.setOrigin=function(e){t.prototype.setOrigin.call(this,e,this.structureId)},n.prototype.setSortingConfig=function(e,n){void 0===n&&(n=dt),t.prototype.setSortingConfig.call(this,e,this.structureId)},n.prototype.toggleSort=function(e){t.prototype.toggleSort.call(this,e,this.compositionId,this.structureId)},n.prototype.setSortOrder=function(e,n){t.prototype.setSortOrder.call(this,e,n,this.compositionId,this.structureId)},n.prototype.setFilterConfig=function(e,n){void 0===n&&(n=dt),t.prototype.setFilterConfig.call(this,e,this.structureId)},n.prototype.setQuickFiltersConfig=function(e,n){void 0===n&&(n=dt),t.prototype.setQuickFiltersConfig.call(this,e,this.structureId)},n.prototype.initFields=function(e){t.prototype.initFields.call(this,e,this.compositionId,this.structureId)},n.prototype.setSearchingConfig=function(e,n){void 0===n&&(n=dt),t.prototype.setSearchingConfig.call(this,e,this.structureId)},n.prototype.search=function(e){t.prototype.search.call(this,e,this.structureId)},n.prototype.setRowHeight=function(e){t.prototype.setRowHeight.call(this,e,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lt},{type:ae},{type:o.CommandDispatcher},{type:bi},{type:Ii},{type:Bi}]},l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"createStructure",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"enableVerticalScroll",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",void 0)],n.prototype,"disableVerticalScroll",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"setScrollPosition",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Array]),d("design:returntype",void 0)],n.prototype,"setOrigin",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Object,lt]),d("design:returntype",void 0)],n.prototype,"setSortingConfig",null),l([Ge,d("design:type",Function),d("design:paramtypes",[gn]),d("design:returntype",void 0)],n.prototype,"toggleSort",null),l([Ge,d("design:type",Function),d("design:paramtypes",[gn,Number]),d("design:returntype",void 0)],n.prototype,"setSortOrder",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Object,lt]),d("design:returntype",void 0)],n.prototype,"setFilterConfig",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Object,lt]),d("design:returntype",void 0)],n.prototype,"setQuickFiltersConfig",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Array]),d("design:returntype",void 0)],n.prototype,"initFields",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Object,lt]),d("design:returntype",void 0)],n.prototype,"setSearchingConfig",null),l([Ge,d("design:type",Function),d("design:paramtypes",[String]),d("design:returntype",void 0)],n.prototype,"search",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Number]),d("design:returntype",void 0)],n.prototype,"setRowHeight",null),n}(ji);var Li=function(t){function n(e,n,r){var i=t.call(this,n,r)||this;return i.structureId=e,i}return g(n,t),n.prototype.onStructure=function(){return t.prototype.onStructure.call(this,this.structureId)},n.prototype.onVerticalScrollEnabled=function(){return t.prototype.onVerticalScrollEnabled.call(this,this.structureId)},n.prototype.onRowHeight=function(){return t.prototype.onRowHeight.call(this,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lt},{type:gt},{type:ie}]},l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onStructure",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onVerticalScrollEnabled",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onRowHeight",null),n}(oe);var zi=function(t){function n(){return t.call(this)||this}return g(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(o.AggregateArchive),Gi=function(){function t(t){this.structureFieldUiArchive=t}return t.prototype.onFields=function(t){return this.structureFieldUiArchive.when(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:zi}]},t}();var Ui=function(){function t(t,e,n){this.itemId=t,this.columnFieldId=e,this.value=n}return t.prototype.getItemId=function(){return this.itemId},t.prototype.getColumnFieldId=function(){return this.columnFieldId},t.prototype.getValue=function(){return this.value},t}();var Qi=function(t){function n(e,n,r){var i=t.call(this)||this;return i.sourceDispatcher=e,i.structureFieldUiRepository=n,i.sourceQueryService=r,i}return g(n,t),n.prototype.setOrigin=function(t,e){void 0===e&&(e=dt),this.sourceDispatcher.setOrigin(e,t)},n.prototype.setLoading=function(t,e){void 0===e&&(e=dt),this.sourceDispatcher.setLoading(e,t)},n.prototype.editItem=function(t,e){void 0===e&&(e=dt),this.sourceDispatcher.editItem(e,t)},n.prototype.editItemByIndex=function(t,e,n,r){var i=this;void 0===r&&(r=dt);var o=this.sourceQueryService.onSingleEntities().pipe(u.map((function(e){return e[t].getId()}))),s=this.structureFieldUiRepository.onFields(r);a.zip(o,s).pipe(u.take(1),this.takeUntil()).subscribe((function(t){var o=t[0],a=t[1];i.editItem(new Ui(o,a[e],n),r)}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Ii},{type:Gi},{type:It}]},n}(st);var Wi=function(t){function n(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.structureId=e,o}return g(n,t),n.prototype.setOrigin=function(e){t.prototype.setOrigin.call(this,e,this.structureId)},n.prototype.setLoading=function(e){t.prototype.setLoading.call(this,e,this.structureId)},n.prototype.editItem=function(e){t.prototype.editItem.call(this,e,this.structureId)},n.prototype.editItemByIndex=function(e,n,r){t.prototype.editItemByIndex.call(this,e,n,r,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lt},{type:Ii},{type:Gi},{type:It}]},l([Ge,d("design:type",Function),d("design:paramtypes",[Array]),d("design:returntype",void 0)],n.prototype,"setOrigin",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Boolean]),d("design:returntype",void 0)],n.prototype,"setLoading",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Ui]),d("design:returntype",void 0)],n.prototype,"editItem",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Number,Number,Object]),d("design:returntype",void 0)],n.prototype,"editItemByIndex",null),n}(Qi);var Ki=function(t){function n(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.structureId=e,o}return g(n,t),n.prototype.onEntities=function(){return t.prototype.onEntities.call(this,this.structureId)},n.prototype.onEntitiesSize=function(){return t.prototype.onEntitiesSize.call(this,this.structureId)},n.prototype.onSingleEntities=function(){return t.prototype.onSingleEntities.call(this,this.structureId)},n.prototype.onOriginSize=function(){return t.prototype.onOriginSize.call(this,this.structureId)},n.prototype.onLoading=function(){return t.prototype.onLoading.call(this,this.structureId)},n.prototype.onPreparedEntities=function(){return t.prototype.onPreparedEntities.call(this,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lt},{type:gt},{type:At},{type:Et}]},l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onEntities",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onEntitiesSize",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onSingleEntities",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onOriginSize",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onLoading",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onPreparedEntities",null),n}(It);var Xi=function(t){function n(e,n){var r=t.call(this,n)||this;return r.compositionId=e,r}return g(n,t),n.prototype.createComposition=function(e){void 0===e&&(e=he),t.prototype.createComposition.call(this,this.compositionId)},n.prototype.setColumns=function(e){t.prototype.setColumns.call(this,e,this.compositionId)},n.prototype.setWidth=function(e,n){void 0===n&&(n=he),t.prototype.setWidth.call(this,e,this.compositionId)},n.prototype.setContainerWidth=function(e,n){void 0===n&&(n=he),t.prototype.setContainerWidth.call(this,e,this.compositionId)},n.prototype.setResizeWidth=function(e,n){void 0===n&&(n=he),t.prototype.setResizeWidth.call(this,e,this.compositionId)},n.prototype.enableColumn=function(e,n){void 0===n&&(n=he),t.prototype.enableColumn.call(this,e,this.compositionId)},n.prototype.disableColumn=function(e,n){void 0===n&&(n=he),t.prototype.disableColumn.call(this,e,this.compositionId)},n.prototype.moveLeft=function(e,n){void 0===n&&(n=he),t.prototype.moveLeft.call(this,e,this.compositionId)},n.prototype.moveRight=function(e,n){void 0===n&&(n=he),t.prototype.moveRight.call(this,e,this.compositionId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:ae},{type:we}]},l([Ge,d("design:type",Function),d("design:paramtypes",[ae]),d("design:returntype",void 0)],n.prototype,"createComposition",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Array]),d("design:returntype",void 0)],n.prototype,"setColumns",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Number,ae]),d("design:returntype",void 0)],n.prototype,"setWidth",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Number,ae]),d("design:returntype",void 0)],n.prototype,"setContainerWidth",null),l([Ge,d("design:type",Function),d("design:paramtypes",[Boolean,ae]),d("design:returntype",void 0)],n.prototype,"setResizeWidth",null),l([Ge,d("design:type",Function),d("design:paramtypes",[xn,ae]),d("design:returntype",void 0)],n.prototype,"enableColumn",null),l([Ge,d("design:type",Function),d("design:paramtypes",[xn,ae]),d("design:returntype",void 0)],n.prototype,"disableColumn",null),l([Ge,d("design:type",Function),d("design:paramtypes",[xn,ae]),d("design:returntype",void 0)],n.prototype,"moveLeft",null),l([Ge,d("design:type",Function),d("design:paramtypes",[xn,ae]),d("design:returntype",void 0)],n.prototype,"moveRight",null),n}(De);var qi=function(t){function n(e,n){var r=t.call(this,n)||this;return r.compositionId=e,r}return g(n,t),n.prototype.onWidth=function(){return t.prototype.onWidth.call(this,this.compositionId)},n.prototype.onContainerWidth=function(e){return void 0===e&&(e=he),t.prototype.onContainerWidth.call(this,this.compositionId)},n.prototype.onWidthForEachColumn=function(){return t.prototype.onWidthForEachColumn.call(this,this.compositionId)},n.prototype.onHeaderColumns=function(){return t.prototype.onHeaderColumns.call(this,this.compositionId)},n.prototype.onAllColumns=function(e){return void 0===e&&(e=he),t.prototype.onAllColumns.call(this,this.compositionId)},n.prototype.onSortOrder=function(e){return t.prototype.onSortOrder.call(this,e,this.compositionId)},n.prototype.onTemplateColumns=function(){return t.prototype.onTemplateColumns.call(this,this.compositionId)},n.prototype.onResizeWidth=function(){return t.prototype.onResizeWidth.call(this,this.compositionId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:ae},{type:de}]},l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onWidth",null),l([Ge,d("design:type",Function),d("design:paramtypes",[ae]),d("design:returntype",a.Observable)],n.prototype,"onContainerWidth",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onWidthForEachColumn",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onHeaderColumns",null),l([Ge,d("design:type",Function),d("design:paramtypes",[ae]),d("design:returntype",a.Observable)],n.prototype,"onAllColumns",null),l([Ge,d("design:type",Function),d("design:paramtypes",[gn]),d("design:returntype",a.Observable)],n.prototype,"onSortOrder",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onTemplateColumns",null),l([Ge,d("design:type",Function),d("design:paramtypes",[]),d("design:returntype",a.Observable)],n.prototype,"onResizeWidth",null),n}(fe);var Yi=function(t){function n(e,n,r,i){var o=t.call(this,n,r,i)||this;return o.structureId=e,o}return g(n,t),n.prototype.setSearchingConfig=function(e){t.prototype.setSearchingConfig.call(this,e,this.structureId)},n.prototype.search=function(e){t.prototype.search.call(this,e,this.structureId)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:lt},{type:o.CommandDispatcher},{type:Hi},{type:Oi}]},l([Ge,d("design:type",Function),d("design:paramtypes",[Object]),d("design:returntype",void 0)],n.prototype,"setSearchingConfig",null),l([Ge,d("design:type",Function),d("design:paramtypes",[String]),d("design:returntype",void 0)],n.prototype,"search",null),n}(Bi);var Ji=[{provide:Ct,useClass:Yr},{provide:ht,useClass:Jr},{provide:oi,useClass:ui},{provide:ce,useClass:si},{provide:li,useClass:di},{provide:fi,useClass:mi},{provide:ji,useClass:Vi},{provide:oe,useClass:Li},{provide:Qi,useClass:Wi},{provide:It,useClass:Ki},{provide:De,useClass:Xi},{provide:fe,useClass:qi},{provide:Bi,useClass:Yi}],Zi=function(){function t(t,e){this.rendererFactory2=t,this.schemaQueryService=e,this.VERTICAL_GRID_CLASS_NAME="gui-vertical-grid",this.HORIZONTAL_GRID_CLASS_NAME="gui-horizontal-grid",this.THEME_FABRIC_CLASS_NAME="gui-fabric",this.THEME_MATERIAL_CLASS_NAME="gui-material",this.THEME_LIGHT_CLASS_NAME="gui-light",this.THEME_DARK_CLASS_NAME="gui-dark",this.THEME_GENERIC_CLASS_NAME="gui-generic",this.ROW_COLORING_ODD="gui-rows-odd",this.ROW_COLORING_EVEN="gui-rows-even",this.cssClass=null,this.unsubscribe$=new a.Subject,this.renderer=this.rendererFactory2.createRenderer(null,null)}return t.prototype.ngOnDestroy=function(){this.unsubscribe$.next(),this.unsubscribe$.complete()},t.prototype.init=function(t,e){var n=this;this.cssHostRef=t,this.schemaQueryService.onCssClasses(e).pipe(u.takeUntil(this.unsubscribe$)).subscribe((function(t){var e=n.updateState(t);n.renderCssClasses(e)}))},t.prototype.updateState=function(t){var e=this;if(this.cssClass){var n={};return Object.keys(this.cssClass).forEach((function(r){t[r]!==e.cssClass[r]&&(n[r]=t[r])})),this.cssClass=t,n}return this.cssClass=t,this.cssClass},t.prototype.renderCssClasses=function(t){t.hasOwnProperty("verticalGrid")&&this.toggleCssClass(t.verticalGrid,this.VERTICAL_GRID_CLASS_NAME),t.hasOwnProperty("horizontalGrid")&&this.toggleCssClass(t.horizontalGrid,this.HORIZONTAL_GRID_CLASS_NAME),t.hasOwnProperty("theme")&&(this.removeThemeCssClasses(),this.addClass(this.resolveThemeClassName(t.theme))),t.hasOwnProperty("rowColoring")&&(this.removeRowColoringClasses(),this.addClass(this.resolveRowColoringClassName(t.rowColoring)))},t.prototype.toggleCssClass=function(t,e){t?this.addClass(e):this.removeClass(e)},t.prototype.removeThemeCssClasses=function(){var t=this;Object.keys(V).map((function(t){return V[t]})).map((function(e){return t.resolveThemeClassName(e)})).filter((function(t){return!!t})).forEach((function(e){t.removeClass(e)}))},t.prototype.resolveThemeClassName=function(t){switch(t){case V.FABRIC:case V[V.FABRIC]:return this.THEME_FABRIC_CLASS_NAME;case V.MATERIAL:case V[V.MATERIAL]:return this.THEME_MATERIAL_CLASS_NAME;case V.LIGHT:case V[V.LIGHT]:return this.THEME_LIGHT_CLASS_NAME;case V.DARK:case V[V.DARK]:return this.THEME_DARK_CLASS_NAME;case V.GENERIC:case V[V.GENERIC]:return this.THEME_GENERIC_CLASS_NAME;default:return this.THEME_FABRIC_CLASS_NAME}},t.prototype.resolveRowColoringClassName=function(t){switch(t){case ai.ODD:case ai[ai.ODD]:return this.ROW_COLORING_ODD;case ai.EVEN:case ai[ai.EVEN]:return this.ROW_COLORING_EVEN;default:return null}},t.prototype.removeRowColoringClasses=function(){var t=this;Object.keys(ai).map((function(t){return ai[t]})).map((function(e){return t.resolveRowColoringClassName(e)})).filter((function(t){return!!t})).forEach((function(e){t.removeClass(e)}))},t.prototype.addClass=function(t){t&&this.renderer.addClass(this.cssHostRef.nativeElement,t)},t.prototype.removeClass=function(t){t&&this.renderer.removeClass(this.cssHostRef.nativeElement,t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:e.RendererFactory2},{type:ce}]},t}();var _i=function(t){function n(){return t.call(this)||this}return g(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(St),$i=function(t){function n(){return t.call(this)||this}return g(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(St),to=function(t){function n(){return t.call(this)||this}return g(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(St),eo=function(t){function n(){return t.call(this,!1)||this}return g(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(St),no=function(){function t(t,e){this.top=!1,this.bottom=!0,null!=t&&(this.top=t),null!=e&&(this.bottom=e)}return t.prototype.itTopEnabled=function(){return this.top},t.prototype.itBottomEnabled=function(){return this.bottom},t}();var ro=function(t){function n(){return t.call(this,new no)||this}return g(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(St),io=function(){function t(){}return t.prototype.convert=function(t){return t.enabled?new no(t.top,t.bottom):new no(!1,!1)},t.decorators=[{type:e.Injectable}],t}(),oo=function(t){function e(e,n){var r=t.call(this,e,"StructureSetAggregationEnabledCommand")||this;return r.enabled=n,r}return g(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(o.Command);var ao=function(){function t(t){this.commandDispatcher=t}return t.prototype.setAggregationEnabled=function(t,e){this.commandDispatcher.dispatch(new oo(e,t))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.CommandDispatcher}]},t}();var uo=function(){function t(t,e,n,r){this.structureAggregationPanelConfigConverter=t,this.structureAggregationArchive=e,this.structureAggregationCommandService=n,this.structureId=r}return t.prototype.set=function(t){var e=this.structureAggregationPanelConfigConverter.convert(t);this.structureAggregationArchive.next(e),this.structureAggregationCommandService.setAggregationEnabled(t.enabled,this.structureId)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:io},{type:ro},{type:ao},{type:lt}]},t}();var so=new e.InjectionToken("StructureComponentToken"),co={ENTER:0,SUBMIT:1,CANCEL:2};co[co.ENTER]="ENTER",co[co.SUBMIT]="SUBMIT",co[co.CANCEL]="CANCEL";var go=function(t){function n(n,r,i,o,a,u,s,c,g,p,l,d,h,f,m,y,v,b,C,E){var A=t.call(this)||this;return A.structureId=n,A.compositionId=r,A.structureCommandService=i,A.pagingCommandService=o,A.pagingEventService=a,A.sourceCommandService=u,A.sourceEventService=s,A.schemaCommandService=c,A.compositionCommandService=g,A.compositionEventService=p,A.formationEventService=l,A.structureEditModeArchive=d,A.structureCellEditArchive=h,A.structureInfoPanelEnabledArchive=f,A.structureAggregationConfigService=m,A.structureCellEditStore=y,A.structureColumnMenuConfigArchive=v,A.structurePagingDisplayModeArchive=b,A.structureRowSelectEnabledArchive=C,A.structureSearchEventService=E,A.source=[],A.columns=[],A.pageChanged=new e.EventEmitter,A.pageSizeChanged=new e.EventEmitter,A.itemsSelected=new e.EventEmitter,A.columnsChanged=new e.EventEmitter,A.containerWidthChanged=new e.EventEmitter,A.sourceEdited=new e.EventEmitter,A.cellEditEntered=new e.EventEmitter,A.cellEditCanceled=new e.EventEmitter,A.cellEditSubmitted=new e.EventEmitter,A.searchPhraseChanged=new e.EventEmitter,A}return g(n,t),n.prototype.ngOnChanges=function(t){if(void 0!==t.theme&&void 0!==t.theme.currentValue&&this.schemaCommandService.setTheme(this.theme),void 0!==t.columnMenu&&void 0!==t.columnMenu.currentValue&&this.structureColumnMenuConfigArchive.nextConfig(this.columnMenu),void 0!==t.rowSelecting&&void 0!==t.rowSelecting.currentValue&&this.structureRowSelectEnabledArchive.next(this.rowSelecting),void 0!==t.infoPanel&&void 0!==t.infoPanel.currentValue&&this.structureInfoPanelEnabledArchive.next(this.infoPanel),void 0!==t.aggregation&&void 0!==t.aggregation.currentValue&&this.structureAggregationConfigService.set(this.aggregation),void 0!==t.editMode&&void 0!==t.editMode.currentValue&&this.structureEditModeArchive.next(this.editMode),void 0!==t.cellEditing&&void 0!==t.cellEditing.currentValue&&this.structureCellEditArchive.next(this.cellEditing),void 0!==t.width&&void 0!==t.width.currentValue&&this.compositionCommandService.setWidth(this.width),void 0!==t.rowHeight&&void 0!==t.rowHeight.currentValue&&this.structureCommandService.setRowHeight(this.rowHeight),void 0!==t.autoResizeWidth&&void 0!==t.autoResizeWidth.currentValue&&this.compositionCommandService.setResizeWidth(this.autoResizeWidth),void 0!==t.columnHeaderTop&&void 0!==t.columnHeaderTop.currentValue&&this.schemaCommandService.changeTopHeader(this.columnHeaderTop),void 0!==t.columnHeaderBottom&&void 0!==t.columnHeaderBottom.currentValue&&this.schemaCommandService.changeBottomHeader(this.columnHeaderBottom),void 0!==t.loading&&void 0!==t.loading.currentValue&&this.sourceCommandService.setLoading(this.loading),void 0!==t.paging&&void 0!==t.paging.currentValue){var e=void 0;"boolean"==typeof this.paging?e={enabled:this.paging}:(e=this.paging,void 0!==this.paging.displayMode&&this.structurePagingDisplayModeArchive.next(this.paging.displayMode)),this.pagingCommandService.setPaging(e)}if(t.columns&&this.structureCommandService.initFields(this.columns,this.compositionId,this.structureId),void 0!==t.verticalGrid&&void 0!==t.verticalGrid.currentValue&&this.schemaCommandService.changeVerticalGrid(this.verticalGrid),void 0!==t.horizontalGrid&&void 0!==t.horizontalGrid.currentValue&&this.schemaCommandService.changeHorizontalGrid(this.horizontalGrid),void 0!==t.rowColoring&&void 0!==t.rowColoring.currentValue&&this.schemaCommandService.setRowColoring(this.rowColoring),t.maxHeight&&this.maxHeight&&this.schemaCommandService.setHeight(this.maxHeight),void 0!==t.virtualScroll&&void 0!==t.virtualScroll.currentValue&&(this.virtualScroll?this.structureCommandService.enableVerticalScroll():this.structureCommandService.disableVerticalScroll()),void 0!==t.sorting&&void 0!==t.sorting.currentValue){var n=void 0;n="boolean"==typeof this.sorting?{enabled:this.sorting}:this.sorting,this.structureCommandService.setSortingConfig(n)}if(void 0!==t.filtering&&void 0!==t.filtering.currentValue){var r=void 0;r="boolean"==typeof this.filtering?{enabled:this.filtering}:this.filtering,this.structureCommandService.setFilterConfig(r)}if(void 0!==t.quickFilters&&void 0!==t.quickFilters.currentValue){var i=void 0;i="boolean"==typeof this.quickFilters?{enabled:this.quickFilters}:this.quickFilters,this.structureCommandService.setQuickFiltersConfig(i)}if(void 0!==t.searching&&void 0!==t.searching.currentValue){var o=void 0;o="boolean"==typeof this.searching?{enabled:this.searching}:this.searching,this.structureCommandService.setSearchingConfig(o)}t.source&&this.sourceCommandService.setOrigin(this.source)},n.prototype.ngOnInit=function(){var t=this;this.pagingEventService.onPageChange(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.pageChanged.emit(e)})),this.pagingEventService.onPageSizeChange(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.pageSizeChanged.emit(e)})),this.formationEventService.onItemSelected(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.itemsSelected.emit(e)})),this.compositionEventService.onColumnsChanged(this.compositionId).pipe(u.skip(1),this.takeUntil()).subscribe((function(){t.columnsChanged.emit()})),this.compositionEventService.onContainerWidthChanged(this.compositionId).pipe(this.takeUntil()).subscribe((function(e){t.containerWidthChanged.emit(e)})),this.sourceEventService.onSourceEdited(this.structureId).pipe().subscribe((function(e){t.sourceEdited.emit(e)})),this.structureCellEditStore.onValue().pipe(this.takeUntil()).subscribe((function(e){switch(e){case co.ENTER:t.cellEditEntered.emit();break;case co.SUBMIT:t.cellEditSubmitted.emit();break;case co.CANCEL:t.cellEditCanceled.emit()}})),this.structureSearchEventService.onSearchPhrase(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.searchPhraseChanged.emit(e)}))},n.prototype.onPageChange=function(t){this.pageChanged.emit(t)},n.propDecorators={columnHeaderTop:[{type:e.Input}],columnHeaderBottom:[{type:e.Input}],maxHeight:[{type:e.Input}],width:[{type:e.Input}],rowHeight:[{type:e.Input}],autoResizeWidth:[{type:e.Input}],source:[{type:e.Input}],columns:[{type:e.Input}],paging:[{type:e.Input}],verticalGrid:[{type:e.Input}],horizontalGrid:[{type:e.Input}],theme:[{type:e.Input}],rowColoring:[{type:e.Input}],rowSelecting:[{type:e.Input}],loading:[{type:e.Input}],virtualScroll:[{type:e.Input}],sorting:[{type:e.Input}],filtering:[{type:e.Input}],quickFilters:[{type:e.Input}],searching:[{type:e.Input}],editMode:[{type:e.Input}],cellEditing:[{type:e.Input}],infoPanel:[{type:e.Input}],aggregation:[{type:e.Input}],columnMenu:[{type:e.Input}],pageChanged:[{type:e.Output}],pageSizeChanged:[{type:e.Output}],itemsSelected:[{type:e.Output}],columnsChanged:[{type:e.Output}],containerWidthChanged:[{type:e.Output}],sourceEdited:[{type:e.Output}],cellEditEntered:[{type:e.Output}],cellEditCanceled:[{type:e.Output}],cellEditSubmitted:[{type:e.Output}],searchPhraseChanged:[{type:e.Output}]},n}(ct);var po=function(t){function e(e){return t.call(this,e,"NextPageEvent")||this}return g(e,t),e}(o.DomainEvent),lo=function(t){function e(e){return t.call(this,e,"PrevPageEvent")||this}return g(e,t),e}(o.DomainEvent),ho=function(t){function e(e){return t.call(this,e,"PageChangedEvent")||this}return g(e,t),e}(o.DomainEvent),fo=function(t){function e(e){return t.call(this,e,"PagesizeChangedEvent")||this}return g(e,t),e}(o.DomainEvent),mo=function(){function t(t,e){this.domainEventBus=t,this.pagingQueryService=e}return t.prototype.onPageChange=function(t){var e=this;return this.domainEventBus.ofEvent(po,lo,ho).pipe(u.filter((function(e){return e.getAggregateId().toString()===t.toString()})),u.switchMap((function(n){return e.pagingQueryService.onPaging(t).pipe(u.map((function(t){return t.getPage()})),u.take(1))})))},t.prototype.onPageSizeChange=function(t){var e=this;return this.domainEventBus.ofEvent(fo).pipe(u.filter((function(e){return e.getAggregateId().toString()===t.toString()})),u.switchMap((function(n){return e.pagingQueryService.onPaging(t).pipe(u.map((function(t){return t.getPageSize()})),u.take(1))})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventBus},{type:ht}]},t}();var yo=function(t,e){this.after=t,this.before=e};var vo=function(t){function e(e,n,r){var i=t.call(this,e,"StructureSourceItemEditedEvent")||this;return i.beforeItem=n,i.afterItem=r,i}return g(e,t),e.prototype.getBeforeItem=function(){return this.beforeItem},e.prototype.getAfterItem=function(){return this.afterItem},e}(o.DomainEvent);var bo=function(){function t(t){this.domainEventBus=t}return t.prototype.onSourceEdited=function(t){return this.domainEventBus.ofEvent(vo).pipe(u.filter((function(e){return e.getAggregateId().toString()===t.toString()})),u.map((function(t){var e=t.getAfterItem().getData(),n=t.getBeforeItem().getData();return new yo(e,n)})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventBus}]},t}();var Co=function(t){function e(e){return t.call(this,e,"SelectedRowToggledEvent")||this}return g(e,t),e}(o.DomainEvent),Eo=function(){function t(t,e){this.domainEventBus=t,this.structureQueryService=e}return t.prototype.onItemSelected=function(t){var e=this;return this.domainEventBus.ofEvent(Co).pipe(u.filter((function(e){return e.getAggregateId().toString()===t.toString()})),u.switchMap((function(n){return e.structureQueryService.onStructure(t).pipe(u.take(1),u.map((function(t){return t.getSelectedEntities()})),u.map((function(t){return t.map((function(t){return t.getData()}))})))})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventBus},{type:oe}]},t}();var Ao=function(){function t(t,e,n,r){void 0===t&&(t=!1),void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===r&&(r=!1),this.enabled=t,this.sort=e,this.filter=n,this.columnsManager=r}return t.default=function(){return new t},t.fromConfig=function(e){return new t(e.enabled,e.sort,e.filter,e.columnsManager)},t.prototype.isEnabled=function(){return this.enabled&&(this.sort||this.filter||this.columnsManager)},t.prototype.isMainEnabled=function(){return this.sort},t.prototype.isSortingEnabled=function(){return this.sort},t.prototype.isFilteringEnabled=function(){return this.filter},t.prototype.isColumnManagerEnabled=function(){return this.columnsManager},t.prototype.getMenus=function(){var t=[];return this.isMainEnabled()&&t.push(this.getMainMenu()),this.isFilteringEnabled()&&t.push(this.getFilterMenu()),this.isColumnManagerEnabled()&&t.push(this.getColumnMenu()),t},t.prototype.getActiveMenu=function(){return this.getMenus()[0]},t.prototype.getMainMenu=function(){return t.MAIN},t.prototype.getFilterMenu=function(){return t.FILTER},t.prototype.getColumnMenu=function(){return t.COLUMNS},t.MAIN="Menu",t.FILTER="Filter",t.COLUMNS="Columns",t}();var Io=function(t){function n(){return t.call(this,Ao.default())||this}return g(n,t),n.prototype.nextConfig=function(t){var e=Ao.fromConfig(t);this.next(e)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(St),So=function(t){function n(){return t.call(this,n.DEFAULT_ROW_SELECT)||this}return g(n,t),n.DEFAULT_ROW_SELECT=!0,n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(St);var wo=function(t){function e(e,n){var r=t.call(this,e,"StructureSearchPhraseSetDomainEvent")||this;return r.phrase=n,r}return g(e,t),e.prototype.getPhrase=function(){return this.phrase},e}(o.DomainEvent);var Do=function(t){function n(){var e=t.call(this)||this;return e.phrase=new Map,e.phrase$=new a.ReplaySubject,e}return g(n,t),n.prototype.setPhrase=function(t,e){this.phrase.set(e.toString(),t),this.phrase$.next(this.phrase)},n.prototype.onPhrase=function(t){return this.observePhrases(t).pipe(u.distinctUntilChanged())},n.prototype.observePhrases=function(t){return this.phrase$.asObservable().pipe(u.map((function(e){return e.get(t.toString())})))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(st);var Ro=function(){function t(t,e){this.domainEventBus=t,this.structureSearchPhraseRepository=e}return t.prototype.onSearchPhrase=function(t){var e=this;return this.domainEventBus.ofEvent(wo).pipe(u.filter((function(e){return e.getAggregateId().toString()===t.toString()})),u.switchMap((function(n){return e.structureSearchPhraseRepository.onPhrase(t).pipe(u.take(1))})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventBus},{type:Do}]},t}();var To=function(){function t(){this.closeAll$=new a.Subject}return t.prototype.closeAll=function(){this.closeAll$.next()},t.prototype.onCloseAll=function(){return this.closeAll$.asObservable()},t.decorators=[{type:e.Injectable}],t}();function Po(t){return new lt("gui-"+t.generateId())}function xo(t){return new ae("gui-"+t.generateId())}var Mo=m([{provide:lt,useFactory:Po,deps:[Ur]},{provide:ae,useFactory:xo,deps:[Ur]}],Ji,[Zi,_i,To,$i,to,eo,ro,uo,Io,wt,So]),Fo=function(t){function n(e,n,r,i,o,a,u,s,c,g,p,l,d,h,f,m,y,v,b,C,E,A,I,S,w,D,R,T){var P=t.call(this,e,n,p,r,i,o,a,u,s,c,g,l,d,h,f,m,y,v,b,C)||this;return P.elementRef=E,P.changeDetectorRef=A,P.renderer=I,P.structureDefinition=S,P.structureQueryService=w,P.compositionQueryService=D,P.schemaReadModelService=R,P.schemaStylesManager=T,P.loaderEnabled=!1,P.circleLoaderEnabled=!0,P.initialLoaderAnimation=!1,P.structureCommandService.createStructure(),s.createComposition(),P}return g(n,t),n.prototype.ngOnChanges=function(e){t.prototype.ngOnChanges.call(this,e)},n.prototype.ngOnInit=function(){var e=this;t.prototype.ngOnInit.call(this),this.schemaReadModelService.onHeight().pipe(this.takeUntil()).subscribe((function(t){e.structureHeight=t})),this.schemaReadModelService.onColumnHeader().pipe(this.takeUntil()).subscribe((function(t){e.columnHeader=t})),this.structureQueryService.onStructure().pipe(this.takeUntil()).subscribe((function(t){e.structure=t,e.loaderEnabled=t.getSource().isLoading(),e.circleLoaderEnabled=t.isLoaderVisible(),e.loaderEnabled&&!e.initialLoaderAnimation&&(e.initialLoaderAnimation=!0)}))},n.prototype.ngAfterViewInit=function(){var t=this,e=this.elementRef.nativeElement.offsetWidth;e>0?this.compositionCommandService.setContainerWidth(e):a.timer(0).pipe(this.takeUntil()).subscribe((function(){(e=t.elementRef.nativeElement.offsetWidth)>0&&t.compositionCommandService.setContainerWidth(e)})),this.schemaStylesManager.init(this.elementRef,this.structureId),this.compositionQueryService.onWidth().pipe(this.takeUntil()).subscribe((function(e){t.renderer.setStyle(t.elementRef.nativeElement,"width",e+"px")}))},n.prototype.isBorderEnabled=function(){return this.structureDefinition.isBorderEnabled()},n.prototype.getStructureId=function(){return this.structureId},n.decorators=[{type:e.Component,args:[{selector:"gui-structure",template:'<gui-structure-blueprint></gui-structure-blueprint>\n\n\x3c!---------- LOADING ----------\x3e\n<div [ngClass]="{\'gui-loader-visible\': loaderEnabled, \'gui-loader-hidden\': !loaderEnabled && initialLoaderAnimation}"\n\t class="gui-loading">\n\t<gui-spinner *ngIf="circleLoaderEnabled"\n\t\t\t\t [diameter]="120"\n\t\t\t\t [primary]="true">\n\t</gui-spinner>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class]":'"gui-structure"',"[class.gui-structure-border]":"isBorderEnabled()","[id]":"structureId.toString()"},providers:m(Mo,[{provide:so,useExisting:n}]),styles:[".gui-bold{font-weight:700}.gui-italic{font-style:italic}.gui-bar-view{width:100%}.gui-view-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.gui-percentage-bar{position:relative;color:#0747a6;background:#deebff;padding:4px;border-radius:4px;box-shadow:inset 1px 1px 2px 0 #ccc;text-align:center;height:22px;width:100%}.gui-percentage-bar .gui-percentage{position:absolute;border-radius:4px;height:22px;background:#8abcfc;left:0;top:0}.gui-percentage-bar .gui-percentage-view{color:#031d44;position:relative;width:100%}","gui-structure,gui-structure *{border-color:#d6d6d6;font-size:14px}gui-structure input{color:#333;font-family:Arial;font-size:13px}.gui-header{background:#f2f3f4;border-bottom:1px solid;border-color:inherit;height:36px}.gui-header .gui-header-cell{box-sizing:border-box;line-height:1em;overflow:hidden;padding:0 8px;position:relative;white-space:nowrap;text-overflow:ellipsis;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.gui-header .gui-header-cell.gui-header-sortable{cursor:pointer}.gui-header .gui-header-cell.gui-header-sortable:hover{background:#e6e7e8}.gui-header .gui-header-cell .gui-header-menu-icon{display:none}.gui-header .gui-header-cell:hover .gui-header-menu{cursor:pointer}.gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:block}.gui-header .gui-header-cell:last-of-type{border-right:0}.gui-header .gui-header-cell .gui-header-title{display:-webkit-box;display:-ms-flexbox;display:flex;line-height:1.4em}.gui-header .gui-header-cell .gui-header-title .gui-sort{display:none;height:14px;width:14px;margin-left:4px}.gui-header .gui-header-cell .gui-header-title .gui-sort-asc{background:url(data:image/png;base64,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) center/contain no-repeat;display:block}.gui-header .gui-header-cell .gui-header-title .gui-sort-desc{background:url(data:image/png;base64,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) center/contain no-repeat;display:block}.gui-header .gui-header-cell .gui-header-menu{display:-webkit-box;display:-ms-flexbox;display:flex}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;right:0;padding:16px;height:16px;width:16px}.gui-header .gui-header-cell .gui-header-menu .gui-header-menu-icon-wrapper .gui-header-menu-icon{display:none;height:16px;width:16px}.gui-header-bottom .gui-header{border-bottom:0;border-top:1px solid;border-color:inherit}gui-structure{background:#fff;box-sizing:border-box;border-color:#d6d6d6;color:#333;display:block;font-family:Arial;font-size:14px;position:relative}gui-structure *{box-sizing:border-box}gui-structure gui-structure-header{display:block;height:100%;width:100%}gui-structure gui-structure-header gui-structure-header-filters.gui-header{height:32px}gui-structure gui-structure-header gui-structure-header-filters.gui-header .gui-header-cell{padding:4px}gui-structure gui-structure-header gui-structure-header-filters.gui-header .gui-header-cell input{position:relative;box-sizing:border-box;font-size:13px;padding:2px;height:100%;width:100%;border:1px solid #d6d6d6}gui-structure-top-panel{display:block;padding:8px;border-bottom-width:1px;border-bottom-style:solid}gui-structure-search-bar{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;width:60%;margin-right:auto}gui-structure-search-bar form{display:-webkit-box;display:-ms-flexbox;display:flex;background:#fff;position:relative;width:100%}gui-structure-search-bar form .gui-search-icon{position:absolute;top:6px;left:10px;width:17px;height:17px}gui-structure-search-bar form .gui-search-icon circle,gui-structure-search-bar form .gui-search-icon line{stroke:#ccc;-webkit-transition:stroke .3s ease-in-out;transition:stroke .3s ease-in-out}gui-structure-search-bar form input{border:1px solid;border-color:inherit;border-radius:4px;padding:6px 6px 6px 38px;height:100%;width:100%}gui-structure-search-bar form:hover .gui-search-icon circle,gui-structure-search-bar form:hover .gui-search-icon line{stroke:#333}gui-structure-container{display:block;height:100%;overflow:auto;overflow-x:hidden;position:relative;width:100%}gui-structure-container .gui-structure-container{box-sizing:border-box;height:100%;position:absolute;width:100%}gui-structure-container .gui-structure-container .gui-content{height:100%;position:relative}gui-structure-container .gui-structure-container .gui-content .gui-row{position:absolute;width:100%}gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:#ecedee}gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#d0e8fb}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell{border-right:1px solid transparent;box-sizing:border-box;line-height:1em;overflow:hidden;padding:0;white-space:nowrap}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-cell-view span{line-height:1.4em}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-button{padding:0}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-cell-boolean{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-checkbox{position:relative;line-height:24px}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-checkbox input{position:relative}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-chip{margin:0;padding:4px 8px;line-height:1em}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-badge{padding:0}gui-structure-container .gui-structure-container .gui-content .gui-row .gui-cell .gui-input{background:0 0;font-size:14px;border-style:none;border-radius:0;padding:0}gui-structure-container gui-structure-cell{display:inline-block}gui-structure-container gui-structure-cell:last-child .gui-cell-view{padding-right:20px}gui-structure-container gui-structure-cell>span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px;height:100%;width:100%}gui-structure-container gui-structure-cell .gui-cell-edit-mode{border:2px solid #2185d0;height:100%;padding:6px}gui-structure-container gui-structure-cell .gui-cell-edit-mode gui-boolean-edit{margin-left:calc(50% - 11px)}gui-structure-container gui-structure-cell .gui-cell-edit-mode input:focus{outline:0;box-shadow:none}.gui-structure-empty-source{display:block;padding:42px 8px}.gui-vertical-grid .gui-structure-aggregation-cell,.gui-vertical-grid gui-structure-container .gui-content .gui-row .gui-cell,.gui-vertical-grid gui-structure-header .gui-header .gui-header-cell{border-right:1px solid;border-color:inherit}.gui-vertical-grid gui-structure-container .gui-content .gui-row .gui-cell:last-of-type,.gui-vertical-grid gui-structure-header .gui-header .gui-header-cell:last-of-type{border-right:0}.gui-horizontal-grid gui-structure-container .gui-row .gui-cell{border-bottom:1px solid;border-color:inherit}.gui-horizontal-grid gui-structure-container .gui-row:last-of-type .gui-cell{border-bottom:0}.gui-rows-even .gui-row.even,.gui-rows-odd .gui-row.odd{background:#f7f8f9}gui-structure-info-panel{-webkit-box-align:center;-ms-flex-align:center;align-items:center;box-sizing:border-box;background:#f2f3f4;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;height:36px;padding:0 6px;width:100%;border-top:1px solid;border-top-color:inherit}gui-structure-info-panel p{margin:0}gui-structure-info-panel p b{font-weight:700}gui-structure-info-panel div button{background:#ccc;border-radius:50%;color:#fff;cursor:pointer;font-weight:700;font-family:Arial;width:16px;height:16px;line-height:14px;padding:0;border:1px solid transparent}gui-structure-info-panel div button:focus{outline:0;box-shadow:0 0 4px #ccc}.gui-structure-border{border:1px solid #d6d6d6}gui-structure-aggregation-panel{background:#f2f3f4;display:-webkit-box;display:-ms-flexbox;display:flex}gui-structure-aggregation-panel.gui-structure-aggregation-panel-bottom .gui-structure-aggregation-cell{border-top:1px solid;border-color:inherit}gui-structure-aggregation-panel.gui-structure-aggregation-panel-top .gui-structure-aggregation-cell{border-bottom:1px solid;border-color:inherit}gui-structure-aggregation-panel .gui-structure-aggregation-cell{font-size:14px;padding-right:16px;padding-left:16px}gui-structure-aggregation-panel .gui-structure-aggregation-cell:last-child{padding-right:20px}gui-structure-aggregation-panel .gui-structure-aggregation-value{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;line-height:1em;padding:8px 0;overflow:hidden}gui-structure-aggregation-panel .gui-structure-aggregation-value div .gui-math-symbol{position:relative;top:-1px}gui-structure-aggregation-panel .gui-structure-aggregation-value .gui-mean,gui-structure-aggregation-panel .gui-structure-aggregation-value .gui-median{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}gui-structure-aggregation-panel .gui-structure-aggregation-value .gui-mean span:nth-child(1){position:absolute;top:-15px;left:1px}gui-structure-aggregation-panel .gui-structure-aggregation-value .gui-median span:nth-child(1){position:absolute;top:-8px;left:1px}@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes fadeOut{from{opacity:1}to{opacity:0}}@keyframes fadeOut{from{opacity:1}to{opacity:0}}.gui-loading{-webkit-animation-duration:.2s;animation-duration:.2s;-ms-flex-line-pack:center;align-content:center;background:rgba(255,255,255,.8);border:1px solid;border-color:inherit;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:0;opacity:0;position:absolute;top:0;width:100%;visibility:hidden}.gui-loading gui-spinner{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.gui-loading.gui-loader-hidden{-webkit-animation-name:fadeOut;animation-name:fadeOut;opacity:0;visibility:visible;z-index:-1}.gui-loading.gui-loader-visible{-webkit-animation-name:fadeIn;animation-name:fadeIn;opacity:1;visibility:visible;z-index:1}.gui-header-menu-tab .gui-header-item-active{font-weight:700}.gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#333}.gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#ecedee}.gui-header-menu-tab .gui-tab .gui-tab-content{padding:0;width:225px;box-sizing:content-box;border-width:1px 0 0}.gui-header-menu-tab .gui-header-menu-column-move{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:0;color:#333}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-left{position:relative;cursor:pointer;padding:12px 12px 12px 32px}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-left:hover{background:#ecedee}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-left:hover::before{opacity:1}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-left::before{content:'';display:inline-block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAASElEQVR4AWMY2cAdiA0oNSQfiP8DcTo1DOkfHoaEQw35DcT7CeBsfAalQw36TIRBzYRc1Q81LJ8YLwx9w8LJ044ZAQ4MIxcAAAffIk95XG/oAAAAAElFTkSuQmCC) center/contain no-repeat;height:14px;width:14px;left:8px;top:13px;opacity:.6}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-right{position:relative;cursor:pointer;padding:12px 32px 12px 12px}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-right:hover{background:#ecedee}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-right:hover::after{opacity:1}.gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-right::after{content:'';display:inline-block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAUUlEQVR4AWMY2cAGiN2pYVA7EP8H4nxKDWIB4tW0MCyYWob9JsawbCDejwcfhrrqNzgS8IBmkAYC+Dc1vNgPNaR/eBhSDjeEQuAPxOkMIxcAAK59IwsNdxXLAAAAAElFTkSuQmCC) center/contain no-repeat;height:14px;width:14px;right:8px;top:13px;opacity:.6}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container{border:none;border-radius:0}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#ecedee}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover .gui-dropdown-arrow{opacity:1}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu{width:125px}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item{display:-webkit-box;display:-ms-flexbox;display:flex;color:#333;background:#fff;padding:8px 8px 8px 12px}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover{background:#ecedee}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item:hover .gui-sort-title .gui-sort{opacity:1}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;width:100%}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title .gui-sort{display:inline-block;height:16px;width:16px;opacity:.6}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title .gui-sort-asc{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAFnElEQVR4Xu2dO6slRRSFvxF8gIiZiI9ERgMFB00MTNRf4DMTTUxEMBcRFRFzUTMDxUwZnD8wGoggqIyCBiomPjFTUHyAypY+eBjuub27q6qratfq7HJ3n+5a6+u9uoruc06gbWgFTgw9eg0eATA4BAJAAAyuwODDVwcQAIMrMPjw1QEEwOAKDD58dQABMKwCVwG3wn9rIR8CP4yoxIgd4ErgFeDuyXzz/R/gDPAo8ONIIIwGwEngLHDtAZO/Ae4CvhoFgpEAMPPfBa6eMfdb4M5RIBgFAK/5OzaGgWAEAJaaPxQE0QFYa/4wEEQGINX8ISCICkAu88NDEBGA3OaHhiAaAKXMDwtBJACuB95xzPNT13i+A+6Isk4QBYCtzN/BEwaCCABsbX4oCHoHoJb5YSDoGYDa5oeAoFcAWjG/ewh6BKA187uGoDcAUsy3hz68411Suz+t7G524BUkde6cY/8U878HXgaed57Ik8BjgD02tnTrCoJeAEg13x7wuBl40+nmA8Cn08JSaAh6AMDMtyd51hhhV76Z/wVw/0IA3gJuSITAjv2lE7oqZa0DkMt8E3cNALZfaAhaBiCn+SkAhIagVQBym58KQFgIWgSghPk5AAgJQWsAlDI/FwDhIGgJgJLm5wQgFAStAFDa/NwAhIGgBQC2ML8EACEgqA1Ayhx7f5HHs4iydh1g7rNTx2CPl1VbLKoJQKpwuxW+OYN2/y8FQGonMJCrQVALgK3NLxUB+/CljqkKBDUASBVq6ZW/RQfYHSN1bJtDsDUAqQKtNX+LDtAlBFsCUNP8LQHo6p5gKwBqm781AN1AsAUALZhfA4AuICgNQCvm1wKgeQhKAtCS+TUByAFBys3vseskpQC4GPgIuMm7SrNXt3SFz3uIkgtBnnNIuSA+m77T8E/PgZbUlALgGeDpJScy1ZYyv3YHyDFFNE2fXaFplQ5wDji18GRLmt8KAClxYJreslDT2fISHeAC4Hfgwtmj/19Q2vyWAFgLwV/AJcDfC3SdLS0BgB3UXo7wPsa9hfmtAbAGAtP0mllHFxaUAuA0cI/jXLYyv0UAlkJgmt7n0HRRSSkA7O7fZgE2Gzi0bWl+qwB4IfhjmgV8vshdR3EpAOzQjwAvHYDApjX3Tm/sOE4zS0ntaeBxg7Apol3hR02bzXx7T/HVLCqc9yElAbBD3Qg8B9wGXAGY8W8DLwDZ57QzArUMgJ36RcAT09fYGwg/AR8ATwHZr/ydVqUB2PfEZgdZ72AXXhGtA1BFqy0BWOhX9vKeAMg++EMfKACOVsZeD7e3g8NvAkAAhId8N0BFwBFWqwOoA6gDHKGA7gECYqEIUAQs+pIozQKCdQF1AHUAdYDzGdAsQLOAYI3+8HAUAYoARYAiwNfwtA7g06mrKkWAIkARoAjwNS1FgE+nrqoUAYoARYAiwNe0FAE+nbqqUgQoAhQBigBf01IE+HTqqkoRoAhQBCgCfE1LEeDTqasqRYAiQBGgCPA1LUWAT6euqhQBigBFgCLA17QUAT6duqpSBCgCFAGKAF/TUgT4dOqqShGgCFAEKAJ8TUsR4NOpqypFgCJAEaAI8DUtRYBPp66qFAGKAEWAIsDXtBQBPp26qlIEKAIUAYoAX9NSBPh06qpKEaAIUAQoAnxNSxHg06mrKkWAIkARMHIE3A685+xZVvu+s7brspG+KvZS4BfAfr3suM1+2ewy4LeunXWe/EgAmCSvAQ/NaPM68LBTv+7LRgPgcuBj4LoDzn09/UTrz9076xzAaACYLAbBi8CDe3Fgbf8N4HFgGPNNjBEB2F0bdk9wavrjE+BX50UTqmxkAEIZuXYwAmCtckH2EwBBjFw7DAGwVrkg+wmAIEauHYYAWKtckP0EQBAj1w5DAKxVLsh+AiCIkWuHIQDWKhdkv38BCBOikK5+TTcAAAAASUVORK5CYII=) center/contain no-repeat}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-item .gui-sort-title .gui-sort-desc{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAFcElEQVR4Xu2dPatcVRSGnwhRQUIqwc8mqIVC/ECwsFH/gEk0nWhjpZJeFFREf4AoNjaKnSL+Ak0hgo2EgBZGbJKIYJWA4gcksmAGhuvcO+t87H322us97aw7s9f7PrPec/acO3MIHakVOJS6ezWPAEgOgQAQAMkVSN6+JoAASK5A8vY1AQRAcgWSt68JIADSKnAL8NCq+3PAHxmVyDgBjgLvAc8BN6xMvwZ8CpwBrmQCIRsAZv73wLF9TP4FeCQTBNkA+Bh4fsc7/BPghSxTIBMAlvlXN8b+fh5bHBwB/swAQSYAHge+cZpqtd86a0OXZQLgWeAzp1ungc+dtaHLBMB2+wRAaKy3L14TYIsumgCaAB2+1zUB3KZqAmgCuGGJXqhzAJ0D6DJwLwOKAEVA9MnuXr8iQBGgCFAE+AaGdgJ9OoWqUgQoAhQBigDf0FIE+HQKVaUIUAQoAhQBvqGlCPDpFKpKEaAIUAQoAnxDSxHg0ylUlSJAEaAIUAT4hpYiwKdTqCpFgCJAEaAI8A0tRYBPp1BVigBFgCJAEeAbWooAn06hqhQBigBFgCLAN7QUAT6dQlUpAhQBigBFgG9oKQJ8OoWqUgQoAhQBigDf0FIE+HQKVaUIUAQoAhQBvqGlCPDpFKpKEaAIUAQoAnxDSxHg0ylUlSJAEaAIUAT4hpYiwKdTqCpFgCJAEaAI8A0tRYBPp1BVioCFI8B+pNF+kWupIxIA1bQq/WXRDwBvA48BtwI/Al8C7wL/VCahdQBuAl4FTgD3A78D3wGvr3QrIldJAF4E3gessb3HD8Ap4KciXW1/0pYBuA/4ArA3zN7jb+AV4KMSWpUCwBqxn2i98YBF/wo8WRGCVgEw878G7jhAK4PAftLWJuisRykAjOaTjpXWhKBFADzmr2U0TZ9xaDqopBQAl3cQvbnIWhC0BsAQ800v0/SuQe46iksAYGewfwGHHa+/LqkBQUsADDXfdPoXuHnuK6kSANhizwEPDgDASktD0AoAY8xfa/rwQE13lpcC4E3gjZ2v/v+CkhC0AMBY800p0/StEZoe+CelALCzf7sK2HZZs6uHUhAsDcAU8+2y2a4CZt87KQWAmTyl4RIQLAnAVC2eAC7seueMebwkAK1BsBQAzZpvBpUGoCUIlgCgafNrAdAKBLUBaN78mgC0AEFNAEKYXxuApSGoBUAY85cAYEkIagAQyvylAFgKgtIAhDN/SQCWgKAkACHNXxqA2hCUAmCK+fYJn90TUWSTx7MxVGMfYNc67gXODvj4ePP5huwYlgAgtPktTIC1mTUgmBuA8Oa3BICtpTQEcwLQhfmtAVAagrkA6Mb8FgEoCcEcAHRlfqsAlIJgKgDdmd8yACUgmAJAl+a3DsDcEIwFoFvzIwCwhsD+ceLOXRsKWx7f3CcYA8BU8+1Onp9HrLvan7SwEeRp1i4Rp0JwHAZ9P8B5x3/s7Ld22+Fr3vwoE2Bzs2gKBB8A73hoA14DXh65OxnG/GgATI2D6wNugRtSu8lUKPMjAjAVAucAGFUWzvyoALQIQUjzIwPQEgRhzY8OQAsQhDa/BwCWhCC8+b0AsAQEXZjfEwDWyz2rO4vG7BgOOe2/tLqNq+kdPm9DUXYCvf2UhqAr83ubAGtISkHQnfm9AlAiDro0v2cA5oSgW/N7B2AOCLo2PwMAUyDo3vwsAIyBIIX5mQAYAkEa87MBsIbgK+DufTYWLgJPtX4bl3dTxFPX20aQp+fbgA+BpzduELEbQOxr7F8CfvM8SS81GQFYe3c78Chg5tt3GtoNpOmOzACkM3tbwwIgOQYCQAAkVyB5+5oAAiC5Asnb1wQQAMkVSN6+JoAASK5A8vb/A4djo5Dd1KQLAAAAAElFTkSuQmCC) center/contain no-repeat}.gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-menu .gui-header-item-active .gui-item .gui-sort{opacity:1}.gui-header-menu-tab .gui-header-menu-item{display:block;cursor:pointer;color:#333;padding:8px 12px}.gui-header-menu-tab .gui-header-menu-item:hover{background:#ecedee}.gui-header-menu-tab .gui-checkbox{width:169px;margin-left:12px;padding:8px 12px 8px 32px;color:#333}.gui-header-menu-tab .gui-checkbox label{display:inline-block;width:inherit}gui-structure-column-manager{color:#333;display:block}gui-structure-column-manager>div:hover{background:#ecedee}gui-structure-column-manager label{margin-bottom:0}.gui-align-right{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:right;width:100%}.gui-align-left{text-align:left;width:100%}.gui-align-center{text-align:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%}.gui-icon{cursor:pointer}.gui-icon svg{stroke:#aaa;-webkit-transition:stroke .3s ease-in-out;transition:stroke .3s ease-in-out}.gui-icon svg:hover{stroke:#464646!important}.gui-text-highlight{background:#fff799;padding:0!important}gui-function-view{height:100%;width:100%}gui-function-view div{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}","gui-structure-column-manager ol{list-style:none;padding:0;margin:4px 0}gui-structure-column-manager ol li{cursor:pointer;padding:0}gui-structure-column-manager ol li:hover{background:#ecedee}.gui-structure-column-menu-icon svg{height:16px;width:16px}.gui-structure-column-menu-icon .cls-1{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.5px}.gui-structure-dialog-column-manager .gui-dialog-title{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.gui-structure-dialog-column-manager ol{min-width:250px;max-height:400px;overflow:auto}.gui-structure-dialog-column-manager ol li{padding:8px}",".gui-aggregation-value{font-weight:700}",".gui-structure-column-manager-icon svg{height:16px;width:16px}.gui-structure-column-manager-icon .cls-1,.gui-structure-column-manager-icon .cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round}.gui-structure-column-manager-icon .cls-2{stroke-width:1.5px}.gui-structure-info-icon svg{height:16px;width:16px}.gui-structure-info-icon .cls-1{stroke-width:0}.gui-structure-info-icon .cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round}gui-structure-info-panel div,gui-structure-info-panel div button{display:inline-block}gui-structure-info-panel .gui-right-section .gui-structure-column-manager-icon{margin-right:16px;position:relative}gui-structure-info-panel .gui-right-section .gui-structure-info-icon{margin-right:4px;position:relative}.gui-structure-info-modal{box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:0;font-size:16px;font-family:Arial;width:360px}.gui-structure-info-modal .gui-dialog-title{margin:0 0 8px}.gui-structure-info-modal .gui-quote{color:#575757;font-size:20px;font-style:italic;font-weight:lighter}.gui-structure-info-modal .gui-info-title{font-size:22px;margin-bottom:12px}.gui-structure-info-modal .gui-info-version{font-size:18px;margin-bottom:32px}.gui-structure-info-modal ul{list-style:none;margin:0;padding-left:10px}.gui-structure-info-modal ul li{line-height:24px}.gui-structure-info-modal p{font-weight:700;margin:0 0 8px;color:#333}.gui-structure-info-modal section{border-top:1px solid;border-color:inherit;padding:16px 0 8px;margin:0}.gui-structure-info-modal a{text-decoration:none;color:#2185d0;margin:0 0 8px}.gui-structure-info-modal a:hover{color:#59a9e5;text-decoration:underline}","gui-structure-paging{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:4px}gui-structure-paging>*{padding-left:16px}gui-structure-paging gui-structure-paging-select span{display:inline-block;margin:0 6px 0 0}gui-structure-paging gui-structure-paging-navigator button{margin-right:6px}gui-structure-paging gui-structure-paging-navigator button:last-of-type{margin-right:0}gui-structure-paging gui-structure-paging-stats span{display:inline-block;margin:0 2px 0 0}gui-structure-paging gui-structure-alternative-paging-navigator{display:-webkit-box;display:-ms-flexbox;display:flex;padding:0}gui-structure-paging gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;line-height:21px}gui-structure-paging gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-page{display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}gui-structure-paging gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-visible-page{position:relative}gui-structure-paging gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-visible-page .gui-paging-page{display:block;cursor:pointer;padding:0 8px;font-weight:400;font-family:Arial,serif}gui-structure-paging gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-visible-page.gui-paging-active-page{color:#333}gui-structure-paging gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-visible-page.gui-paging-active-page .gui-paging-page{font-weight:700}gui-structure-paging gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-visible-page.gui-paging-active-page::after{content:'';position:absolute;bottom:-8px;display:block;height:1px;width:100%;background:#333}gui-structure-paging gui-structure-alternative-paging-navigator .gui-button{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-line-pack:center;align-content:center;margin:0 2px;background:0 0;padding:0;font-size:14px;line-height:21px}gui-structure-paging gui-structure-alternative-paging-navigator .gui-button svg{height:12px;width:auto;margin:0 2px}gui-structure-paging gui-structure-alternative-paging-navigator .gui-button svg path{stroke:#ccc;-webkit-transition:stroke .3s ease-in-out;transition:stroke .3s ease-in-out}gui-structure-paging gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}gui-structure-paging gui-structure-alternative-paging-navigator .gui-button:hover svg path{stroke:#333}gui-structure-paging gui-structure-alternative-paging-navigator .gui-button:disabled svg{opacity:.4}gui-structure-paging gui-structure-alternative-paging-navigator .gui-material .gui-button{padding:2px 16px}gui-structure-paging.gui-structure-paging-bottom{border-top:1px solid;border-color:inherit}gui-structure-paging.gui-structure-paging-top{border-bottom:1px solid;border-color:inherit}","@media (max-width:500px){gui-structure-paging gui-structure-paging-stats,gui-structure-paging>*{padding-left:4px}}",".gui-header{display:-webkit-box;display:-ms-flexbox;display:flex}.gui-header .gui-header-cell{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.gui-content{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.gui-content .gui-row,.gui-content .gui-structure-cell-container{display:-webkit-box;display:-ms-flexbox;display:flex}.gui-content .gui-row .gui-cell,.gui-content .gui-structure-cell-container .gui-cell{display:inline-block}.gui-content .gui-structure-row-details{background:#80cbc4;display:block;position:absolute;top:0;height:200px;width:100%}",".gui-cell .gui-checkbox{display:block}.gui-cell .gui-chip{margin:0;padding:2px 8px}.gui-cell .gui-input{font-size:11px;display:block;padding:2px 4px;width:86%}.gui-cell .gui-button{padding:2px 8px}.gui-cell .gui-cell-number{display:block;text-align:right;width:100%}.gui-cell .gui-cell-boolean{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;text-align:center;width:100%}",".gui-fabric,.gui-fabric *{border-color:#d6d6d6;font-size:14px}.gui-fabric.gui-structure{border-radius:2px;overflow:hidden}.gui-fabric .gui-header-cell,.gui-fabric gui-structure-header-columns,.gui-fabric gui-structure-info-panel,.gui-fabric gui-structure-paging,.gui-fabric gui-structure-top-panel{height:46px}",".gui-material,.gui-material *{border-color:rgba(0,0,0,.12);font-size:14px}.gui-material.gui-structure{border-radius:0;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 3px 1px -2px rgba(0,0,0,.12),0 1px 5px 0 rgba(0,0,0,.2);border:0}.gui-material .gui-header,.gui-material.gui-structure{font-family:Arial}.gui-material .gui-header-cell,.gui-material gui-structure-header-columns{height:56px}.gui-material .gui-header .gui-header-cell.gui-header-sortable:hover{background:0 0}.gui-material .gui-header-cell,.gui-material gui-structure-container gui-structure-cell>span{padding-right:16px;padding-left:16px}.gui-material gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:rgba(0,0,0,.04)}.gui-material gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#e6f7ff}.gui-material .gui-structure-header .gui-header{background:0 0;color:#464646;font-weight:700}.gui-material .gui-structure-header .gui-header .gui-header-cell{border-color:inherit}.gui-material .gui-cell .gui-badge,.gui-material .gui-cell .gui-button{padding:0}.gui-material gui-structure-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0;color:#333}.gui-material gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-material gui-structure-alternative-paging-navigator .gui-button:disabled{background:0 0;color:#ccc;opacity:.4}.gui-material .gui-structure-aggregation-panel{background:#fff}.gui-material gui-structure-info-panel,.gui-material gui-structure-paging,.gui-material gui-structure-top-panel{height:52px;padding-right:16px;padding-left:16px}.gui-material gui-structure-info-panel{background:#fff;border-radius:0}.gui-material gui-structure-top-panel{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:0}.gui-material gui-structure-search-bar form input,.gui-material gui-structure-top-panel gui-structure-search-bar form input{border:0;outline:0}",".gui-dark{border-color:#575757;color:#f0f0f0;font-size:14px;border-radius:2px}.gui-dark *{border-color:#575757;color:#f0f0f0;font-size:14px}.gui-dark.gui-structure{border-radius:2px}.gui-dark .gui-header-cell,.gui-dark gui-structure-header-columns{background:#333;height:46px}.gui-dark .gui-structure-border{border:none;box-shadow:5px 5px 10px 2px #1f1f1f}.gui-dark .gui-header-cell{border-bottom:1px solid;border-color:inherit;padding-right:16px;padding-left:16px}.gui-dark gui-structure-container gui-structure-cell>span{padding-right:16px;padding-left:16px}.gui-dark .gui-structure-header .gui-header{color:#bdbdbd;border-bottom-color:#666}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover{background:#525252}.gui-dark .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#525252}.gui-dark .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item{color:#f0f0f0}.gui-dark .gui-header-menu-tab .gui-tab .gui-tab-menu .gui-tab-menu-item:hover{background:#525252}.gui-dark .gui-header-menu-tab .gui-header-menu-column-move{color:#f0f0f0}.gui-dark .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-left:hover,.gui-dark .gui-header-menu-tab .gui-header-menu-column-move .gui-header-menu-column-move-right:hover{background:#525252}.gui-dark .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container .gui-dropdown-menu{border-color:#666}.gui-dark .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-dropdown-container:hover{background:#525252}.gui-dark .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item{display:-webkit-box;display:-ms-flexbox;display:flex;color:#f0f0f0;background:#383838}.gui-dark .gui-header-menu-tab .gui-tab-item-dropdown .gui-header-menu-dropdown.gui-dropdown .gui-item:hover{background:#525252}.gui-dark .gui-header-menu-tab .gui-header-menu-item{color:#f0f0f0}.gui-dark .gui-header-menu-tab .gui-header-menu-item:hover{background:#525252}.gui-dark .gui-header-menu-tab .gui-checkbox{color:#f0f0f0}.gui-dark gui-structure-column-manager>div:hover,.gui-dark gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:#525252}.gui-dark gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#7cb9f652}.gui-dark.gui-rows-even .gui-row.even,.gui-dark.gui-rows-odd .gui-row.odd{background:#4f4f4f}.gui-dark .gui-horizontal-grid gui-structure-container .gui-row .gui-cell{border-bottom-color:#666}.gui-dark gui-structure-paging.gui-structure-paging-bottom{border-top-color:#666}.gui-dark gui-structure-paging.gui-structure-paging-top{border-bottom-color:#666}.gui-dark ::-webkit-scrollbar{width:15px}.gui-dark ::-webkit-scrollbar-track{background:#616161}.gui-dark ::-webkit-scrollbar-thumb{background:#424242}.gui-dark ::-webkit-scrollbar-thumb:hover{background:#212121}.gui-dark .gui-row,.gui-dark .gui-structure-container,.gui-dark gui-structure-info-panel,.gui-dark gui-structure-paging,.gui-dark gui-structure-top-panel{background:#444}.gui-dark gui-structure-info-panel,.gui-dark gui-structure-paging,.gui-dark gui-structure-top-panel{height:42px;padding-right:16px;padding-left:16px}.gui-dark .gui-structure-aggregation-cell{background:#383838;color:#f0f0f0}.gui-dark .gui-structure-aggregation-panel-bottom .gui-structure-aggregation-cell{border-top-color:#666}.gui-dark .gui-structure-aggregation-panel-top .gui-structure-aggregation-cell{border-bottom-color:#666}.gui-dark gui-structure-info-panel{background:#383838;border-top-color:#666}.gui-dark gui-structure-info-panel div{color:#f0f0f0}.gui-dark gui-structure-info-panel div button{background:#616161}.gui-dark .gui-structure-info-modal p,.gui-dark .gui-structure-info-panel p{color:#f0f0f0}.gui-dark gui-structure-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0;color:#f0f0f0}.gui-dark gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-dark gui-structure-alternative-paging-navigator .gui-button:disabled{background:0 0;color:#f0f0f0;opacity:.4}.gui-dark gui-structure-alternative-paging-navigator gui-structure-alternative-paging-pages .gui-paging-active-page{color:#f0f0f0;box-shadow:0 1px 0 0 #f0f0f0}.gui-dark gui-structure-search-bar form{background:#444}.gui-dark gui-structure-search-bar input{background:#444;color:#f0f0f0;border:0;cursor:pointer}.gui-dark .gui-icon{cursor:pointer}.gui-dark .gui-icon svg{stroke:#aaa;-webkit-transition:stroke .3s ease-in-out;transition:stroke .3s ease-in-out}.gui-dark .gui-icon svg:hover{stroke:#e6e6e6!important}",".gui-light,.gui-light *{border-color:#f0f0f0;font-size:14px}.gui-light.gui-structure-border{border:0;border-color:#f0f0f0 transparent}.gui-light .gui-header,.gui-light.gui-structure{background:#fff;color:#333;font-family:Arial}.gui-light .gui-header-cell,.gui-light gui-structure-header-columns{height:56px}.gui-light .gui-header-cell,.gui-light gui-structure-container gui-structure-cell>span{padding-right:16px;padding-left:16px}.gui-light .gui-structure-header .gui-header{color:#333;font-weight:700}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover{background:#f3f9ff}.gui-light .gui-structure-header .gui-header .gui-header-cell:hover .gui-header-menu .gui-header-menu-icon-wrapper{background-color:#f3f9ff}.gui-light gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:#f3f9ff}.gui-light gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#7cb9f652}.gui-light.gui-rows-even .gui-row.even,.gui-light.gui-rows-odd .gui-row.odd{background:#f7f7f7}.gui-light gui-structure-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0;color:#333}.gui-light gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-light gui-structure-alternative-paging-navigator .gui-button:disabled{background:0 0;color:#333;opacity:.4}.gui-light gui-structure-info-panel,.gui-light gui-structure-paging,.gui-light gui-structure-top-panel{height:56px;padding-right:16px;padding-left:16px}.gui-light gui-structure-aggregation-panel,.gui-light gui-structure-info-panel,.gui-light gui-structure-paging,.gui-light gui-structure-top-panel{background:#fff}.gui-light gui-structure-search-bar form input{border:0;outline:0}",".gui-generic,.gui-generic *{border-color:rgba(34,36,38,.1);font-size:14px}.gui-generic .gui-header-cell,.gui-generic gui-structure-header-columns{height:46px}.gui-generic .gui-header .gui-header-cell.gui-header-sortable:hover{background:rgba(0,0,0,.04);-webkit-transition:.15s;transition:.15s}.gui-generic .gui-header-cell,.gui-generic gui-structure-container gui-structure-cell>span{padding-right:12px;padding-left:12px}.gui-generic gui-structure-container gui-structure-cell:last-child>span{padding-right:20px}.gui-generic .gui-structure-header.gui-header-bottom .gui-header{border-width:2px 0 0;border-style:solid;border-color:inherit}.gui-generic gui-structure-container .gui-structure-container .gui-content .gui-row:hover{background:rgba(0,0,0,.04)}.gui-generic gui-structure-container .gui-structure-container .gui-content .gui-row.selected{background:#e6f7ff}.gui-generic .gui-structure-header .gui-header{background:#f9fafb;border-width:0 0 2px;color:#464646;font-weight:700}.gui-generic .gui-rows-even .gui-row.even,.gui-generic .gui-rows-odd .gui-row.odd{background:#f9fafb}.gui-generic .gui-cell .gui-badge,.gui-generic .gui-cell .gui-button{padding:0}.gui-generic gui-structure-alternative-paging-navigator .gui-button{margin:0 4px;background:0 0;padding:0;color:#333}.gui-generic gui-structure-alternative-paging-navigator .gui-button:hover{background:0 0}.gui-generic gui-structure-alternative-paging-navigator .gui-button:disabled{background:0 0;color:#ccc;opacity:.4}.gui-generic .gui-structure-aggregation-panel{background:#f9fafb}.gui-generic gui-structure-info-panel,.gui-generic gui-structure-paging,.gui-generic gui-structure-top-panel{height:46px;padding-right:12px;padding-left:12px}.gui-generic gui-structure-info-panel{background:#f9fafb;border-radius:0}.gui-generic gui-structure-top-panel{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:0}.gui-generic gui-structure-top-panel gui-structure-search-bar form input{border:0;outline:0}.gui-generic .gui-rows-even .gui-row.even,.gui-generic .gui-rows-odd gui-row.odd{background:#f9fafb}.gui-generic .gui-row{-webkit-transition:.15s;transition:.15s}.gui-generic .gui-row:hover{background:#f9fafb}"]}]}],n.ctorParameters=function(){return[{type:lt},{type:ae},{type:Ct},{type:mo},{type:Qi},{type:bo},{type:oi},{type:De},{type:Yn},{type:Eo},{type:ji},{type:to},{type:_i},{type:eo},{type:uo},{type:$i},{type:Io},{type:wt},{type:So},{type:Ro},{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:e.Renderer2},{type:$},{type:oe},{type:fe},{type:ce},{type:Zi}]},n}(go);var ko=function(t){function n(e,n,r,i,o){var a=t.call(this)||this;return a.changeDetectorRef=e,a.structureCommandService=n,a.compositionReadModelService=r,a.structureColumnMenuConfigArchive=i,a.column=o,a}return g(n,t),n.prototype.ngOnInit=function(){var t=this;this.structureColumnMenuConfigArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.config=e,t.changeDetectorRef.detectChanges()}))},n.prototype.isEnabled=function(){return this.config&&this.config.isEnabled()},n.decorators=[{type:e.Component,args:[{template:'\n\t\t<div *ngIf="isEnabled()"\n\t\t\t class="gui-header-menu-tab">\n\n\t\t\t<gui-tab [menu]="config.getMenus()" [active]="config.getActiveMenu()">\n\n\t\t\t\t<ng-container *ngIf="config.isMainEnabled()">\n\n\t\t\t\t\t<gui-tab-item class="gui-tab-item-dropdown" [tab]="config.getMainMenu()">\n\n\t\t\t\t\t\t<gui-structure-column-config-sort *ngIf="column.isSortEnabled()"\n\t\t\t\t\t\t\t\t[column]="column">\n\t\t\t\t\t\t</gui-structure-column-config-sort>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-hide\n\t\t\t\t\t\t\t\t[column]="column">\n\t\t\t\t\t\t</gui-structure-column-config-column-hide>\n\n\t\t\t\t\t\t<gui-structure-column-config-column-move\n\t\t\t\t\t\t\t\t[column]="column">\n\t\t\t\t\t\t</gui-structure-column-config-column-move>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf="config.isFilteringEnabled()">\n\n\t\t\t\t\t<gui-tab-item [tab]="config.getFilterMenu()">\n\t\t\t\t\t\t<div class="gui-header-menu-item">{{config.getFilterMenu()}}</div>\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t\t<ng-container *ngIf="config.isColumnManagerEnabled()">\n\n\t\t\t\t\t<gui-tab-item [tab]="config.getColumnMenu()">\n\n\t\t\t\t\t\t<gui-structure-menu-column-manager>\n\t\t\t\t\t\t</gui-structure-menu-column-manager>\n\n\t\t\t\t\t</gui-tab-item>\n\n\t\t\t\t</ng-container>\n\n\t\t\t</gui-tab>\n\t\t</div>\n\t'}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:ji},{type:fe},{type:Io},{type:sn,decorators:[{type:e.Inject,args:["column"]}]}]},n.propDecorators={headerSortMenu:[{type:e.ViewChild,args:["headerSortMenu",{static:!1}]}]},n}(ct);var No=function(t){function n(e,n,r,i){var o=t.call(this)||this;return o.injector=e,o.schemaReadModelService=n,o.structureThemeConverter=r,o.inlineDialogService=i,o}return g(n,t),n.prototype.open=function(t,n){var r=this,o=e.Injector.create({providers:[{provide:"column",useValue:n}],parent:this.injector});this.schemaReadModelService.onSingleTheme().pipe(this.takeUntil()).subscribe((function(e){r.inlineDialogService.open(t,ko,{injector:o,placement:i.InlineDialogPlacement.Top,offset:-2,theme:r.structureThemeConverter.convertTheme(e)})}))},n.prototype.close=function(){this.inlineDialogService.close()},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:e.Injector},{type:ce},{type:ge},{type:i.FabricInlineDialogService}]},n}(st);var Ho=function(t){function n(e,n,r,i){var o=t.call(this)||this;return o.elementRef=e,o.injector=n,o.changeDetectorRef=r,o.structureCommandService=i,o.globalSearching=!1,o}return g(n,t),n.prototype.ngOnInit=function(){},n.prototype.toggleSort=function(t){t.isSortEnabled()&&this.structureCommandService.toggleSort(t.getFieldId())},n.prototype.isSortAsc=function(t){return t.getSortStatus()===rn.ASC},n.prototype.isSortDesc=function(t){return t.getSortStatus()===rn.DESC},n.prototype.isGlobalSortEnabled=function(){return this.globalSearching},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-header-columns",template:'<div (click)="toggleSort(column)"\n\t *ngFor="let column of columns"\n\t [ngClass]="{\'gui-header-sortable\': column.isSortEnabled()}"\n\t [style.width.px]="column.width"\n\t class="gui-header-cell">\n\n\t<div class="gui-header-title">\n\t\t<ng-container\n\t\t\t*ngTemplateOutlet="column.viewTemplate;\n\t\t\t\t\t\t\t\t   context: column.context">\n\t\t</ng-container>\n\n\t\t<div [ngClass]="{\'gui-sort-asc\': isSortAsc(column), \'gui-sort-desc\':  isSortDesc(column)}"\n\t\t\t class="gui-sort">\n\t\t</div>\n\t</div>\n\n\t<div class="gui-header-menu">\n\t\t<gui-structure-column-config-trigger\n\t\t\t[column]="column">\n\t\t</gui-structure-column-config-trigger>\n\t</div>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,providers:[No]}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Injector},{type:e.ChangeDetectorRef},{type:ji}]},n.propDecorators={columns:[{type:e.Input}]},n}(ct);var Oo=function(){function t(){this.enabled=new Map,this.enabled$=new a.ReplaySubject}return t.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},t.prototype.selectFilterEnabled=function(t){return this.enabled$.asObservable().pipe(u.map((function(e){return e.get(t.toString())})),u.distinctUntilChanged())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var Bo=function(){function t(){this.enabled=new Map,this.enabled$=new a.ReplaySubject}return t.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},t.prototype.selectQuickFilterEnabled=function(t){return this.enabled$.asObservable().pipe(u.map((function(e){return e.get(t.toString())})),u.distinctUntilChanged())},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}();var jo=function(){function t(t,e){this.structureFilterRepository=t,this.structureQuickFilterRepository=e}return t.prototype.onFilteringEnabled=function(t){return this.structureFilterRepository.selectFilterEnabled(t)},t.prototype.onQuickFiltersEnabled=function(t){return this.structureQuickFilterRepository.selectQuickFilterEnabled(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Oo},{type:Bo}]},t}();var Vo=function(){function t(t,n,r,i){var o;this.structureFilterCommandService=t,this.formBuilder=n,this.cd=r,this.structureId=i,this.closed=new e.EventEmitter,this.filterFieldName="phrase",this.filterMode=!1,this.filterForm=this.formBuilder.group(((o={})[this.filterFieldName]=[""],o))}return t.prototype.ngOnInit=function(){var t=this;this.filterForm.valueChanges.subscribe((function(e){t.filter(e[t.filterFieldName])}))},t.prototype.filter=function(t){null==t&&(t=""),this.structureFilterCommandService.addFilter(this.columns[0].getFieldId(),"1",t,this.structureId)},t.prototype.clearFilters=function(){this.filterForm.reset()},t.prototype.turnOnFilterMode=function(){this.filterMode=!0,this.cd.detectChanges()},t.prototype.turnOffFilterMode=function(){this.filterMode=!1,this.cd.detectChanges()},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-header-filters",template:'\n\n\t\t<ng-container *ngIf="!filterMode">\n\n\t\t\t<div *ngFor="let cell of columns"\n\t\t\t\t [style.width.px]="cell.width"\n\t\t\t\t class="gui-header-cell">\n\n\t\t\t\t\x3c!--\t\t\t\t<gui-structure-header-filter [column]="cell">--\x3e\n\t\t\t\t\x3c!--\t\t\t\t</gui-structure-header-filter>--\x3e\n\n\t\t\t\t<button (click)="turnOnFilterMode()">Add Filter</button>\n\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t\t<ng-container *ngIf="filterMode">\n\n\t\t\t<gui-select [options]="[\'has value\', \'is the same as\', \'starts with\', \'ends with\']" [selected]="\'has value\'">\n\n\t\t\t</gui-select>\n\n\t\t\t<form [formGroup]="filterForm">\n\t\t\t\t<input type="text" [formControlName]="filterFieldName" gui-input/>\n\t\t\t</form>\n\n\t\t\t<button gui-button (click)="clearFilters()">Clear All</button>\n\t\t\t<button gui-button (click)="turnOffFilterMode()">Close</button>\n\n\t\t</ng-container>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.ctorParameters=function(){return[{type:bi},{type:r.FormBuilder},{type:e.ChangeDetectorRef},{type:lt}]},t.propDecorators={columns:[{type:e.Input}],closed:[{type:e.Output}]},t}();var Lo=function(t){function n(e,n,r,i,o,a,u){var s=t.call(this)||this;return s.changeDetectorRef=e,s.renderer=n,s.eventBus=r,s.structureId=i,s.structureFilterReadModelRepository=o,s.structureReadModelService=a,s.compositionQueryService=u,s.headerColumns=[],s.filterRowEnabled=!1,s}return g(n,t),n.prototype.ngOnInit=function(){var t=this;this.compositionQueryService.onHeaderColumns().pipe(this.takeUntil()).subscribe((function(e){t.headerColumns=e,t.changeDetectorRef.detectChanges()})),this.compositionQueryService.onContainerWidth().pipe(this.takeUntil()).subscribe((function(e){t.renderer.setStyle(t.containerRef.nativeElement,"width",e+"px")})),this.structureFilterReadModelRepository.onFilteringEnabled(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.filterRowEnabled=e,t.changeDetectorRef.detectChanges()}))},n.prototype.ngAfterViewInit=function(){var t=this;this.structureReadModelService.onRowHeight().pipe(this.takeUntil()).subscribe((function(e){var n=+e+2;t.filtersRef&&t.renderer.setStyle(t.filtersRef.nativeElement,"height",n+"px")}))},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-header",template:'<gui-structure-header-columns\n\t[columns]="headerColumns"\n\tclass="gui-header">\n</gui-structure-header-columns>\n\n<gui-structure-header-filters\n\t*ngIf="filterRowEnabled"\n\t[columns]="headerColumns"\n\tclass="gui-header">\n</gui-structure-header-filters>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.Renderer2},{type:o.DomainEventBus},{type:lt},{type:jo},{type:oe},{type:fe}]},n.propDecorators={containerRef:[{type:e.ViewChild,args:[Ho,{read:e.ElementRef,static:!0}]}],filtersRef:[{type:e.ViewChild,args:[Vo,{read:e.ElementRef,static:!0}]}]},n}(ct);var zo=function(t){function n(e,n){var r=t.call(this)||this;return r.structureFilterCommandService=e,r.structureId=n,r.sub=new Be,r.editContext={changes:r.sub},r}return g(n,t),n.prototype.ngOnInit=function(){var t=this;this.sub.on().subscribe((function(e){return t.filter(e)}))},n.prototype.filter=function(t){this.structureFilterCommandService.addFilter(this.column.getFieldId(),"1",t,this.structureId)},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-header-filter",template:'\n\n\t\t\x3c!--\t\t<ng-container--\x3e\n\t\t\x3c!--\t\t\t\t*ngTemplateOutlet="column.editTemplate; context: editContext">--\x3e\n\t\t\x3c!--\t\t</ng-container>--\x3e\n\n\t\t<button gui-button [primary]="true">Add Filter</button>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:bi},{type:lt}]},n.propDecorators={column:[{type:e.Input}]},n}(ct);var Go=function(t){function r(e,n,r,i,o,a,u,s,c,g,p,l,d,h){var f=t.call(this)||this;return f.platformId=e,f.renderer=n,f.elementRef=r,f.changeDetectorRef=i,f.formationCommandService=o,f.structureCellEditArchive=a,f.structureEditModeArchive=u,f.formationQueryService=s,f.structureReadModelService=c,f.structureRowSelectEnabledArchive=g,f.verticalFormationRepository=p,f.structureId=l,f.structureSearchPhraseRepository=d,f.structureSearchHighlightArchive=h,f.editMode=!1,f.cellEditing=!1,f.searchPhrase="",f.highlighting=!0,f.phrase=!0,f.rowSelecting=So.DEFAULT_ROW_SELECT,f.rowDetailOpened=4,f}return g(r,t),r.prototype.ngOnInit=function(){var t=this;this.formationQueryService.onSelectedRows().pipe(this.takeUntil()).subscribe((function(e){t.clearSelectedRows(),e.getIds().forEach((function(e){var n="gui"+e.replace(/-/g,""),r=t.elementRef.nativeElement.querySelector("#"+n);r&&t.renderer.addClass(r,"selected")}))})),this.structureEditModeArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.editMode=e,t.changeDetectorRef.detectChanges()})),this.structureCellEditArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.cellEditing=e,t.changeDetectorRef.detectChanges()})),this.structureReadModelService.onRowHeight().pipe(this.takeUntil()).subscribe((function(e){t.rowHeight=e,t.changeDetectorRef.detectChanges()})),this.structureRowSelectEnabledArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.rowSelecting=e})),a.combineLatest(this.structureSearchPhraseRepository.onPhrase(this.structureId),this.structureSearchHighlightArchive.onValue()).pipe(this.takeUntil()).subscribe((function(e){var n=e[0],r=e[1];t.highlighting=r,t.searchPhrase=n,t.highlighting||(t.searchPhrase=""),t.changeDetectorRef.detectChanges()}))},r.prototype.trackByFn=function(){return 0},r.prototype.translateY=function(t){return"translateY("+t*this.rowHeight+"px)"},r.prototype.toggleSelectedRow=function(t){this.rowSelecting&&this.formationCommandService.toggleSelectedRow(t.id)},r.prototype.clearSelectedRows=function(){var t=this,e=this.elementRef.nativeElement.querySelectorAll(".selected");n.isPlatformBrowser(this.platformId)&&e.forEach((function(e){t.renderer.removeClass(e,"selected")}))},r.decorators=[{type:e.Component,args:[{selector:"gui-structure-content",template:'<div class="gui-content">\n\n\t<gui-structure-row (click)="toggleSelectedRow(entity)"\n\t\t\t\t\t   *ngFor="let entity of source; let index = index; trackBy: trackByFn"\n\t\t\t\t\t   [cellEditing]="cellEditing"\n\t\t\t\t\t   [columns]="columns"\n\t\t\t\t\t   [detailsEnabled]="rowDetailOpened === index"\n\t\t\t\t\t   [editMode]="editMode"\n\t\t\t\t\t   [entity]="entity"\n\t\t\t\t\t   [id]="entity.getUiId()"\n\t\t\t\t\t   [index]="index"\n\t\t\t\t\t   [ngClass]="{\'even\': entity.isEven(), \'odd\': entity.isOdd()}"\n\t\t\t\t\t   [ngStyle]="{\'transform\': translateY(index)}"\n\t\t\t\t\t   [searchPhrase]="searchPhrase"\n\t\t\t\t\t   [style.height.px]="rowHeight"\n\t\t\t\t\t   class="gui-row">\n\t</gui-structure-row>\n\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],r.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:e.Renderer2},{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:li},{type:_i},{type:to},{type:fi},{type:oe},{type:So},{type:ie},{type:lt},{type:Do},{type:Hi}]},r.propDecorators={source:[{type:e.Input}],columns:[{type:e.Input}]},r}(ct);var Uo=function(){function t(){this.detailsEnabled=!1}return t.prototype.trackByFn=function(){return 0},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-row",template:'\x3c!--<div class="gui-structure-cell-container" >--\x3e\n\n<gui-structure-cell *ngFor="let column of columns; trackBy: trackByFn"\n\t\t\t\t\t[cellEditingEnabled]="cellEditing"\n\t\t\t\t\t[cell]="column"\n\t\t\t\t\t[editMode]="editMode"\n\t\t\t\t\t[entity]="entity"\n\t\t\t\t\t[searchPhrase]="searchPhrase"\n\t\t\t\t\t[style.width.px]="column.width"\n\t\t\t\t\tclass="gui-cell">\n</gui-structure-cell>\n\n\x3c!--</div>--\x3e\n\n\x3c!--<div *ngIf="detailsEnabled"--\x3e\n\x3c!--\t [ngStyle]="{\'transform\': \'translateY(32px)\'}"--\x3e\n\x3c!--\t class="gui-structure-row-details">--\x3e\n\n\x3c!--\tDETAILS PANEL--\x3e\n\n\x3c!--</div>--\x3e\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],t.propDecorators={entity:[{type:e.Input}],columns:[{type:e.Input}],editMode:[{type:e.Input}],cellEditing:[{type:e.Input}],searchPhrase:[{type:e.Input}],index:[{type:e.Input}],detailsEnabled:[{type:e.Input}]},t}();var Qo=function(t){function n(e,n,r,i,o){var a=t.call(this)||this;return a.changeDetectorRef=e,a.structureCellEditArchive=n,a.structureCellEditStore=r,a.cellEditCloseAllService=i,a.sourceCommandService=o,a.inEditMode=!1,a}return g(n,t),n.prototype.ngOnChanges=function(t){void 0!==t.editMode&&(this.editMode?(this.cellEditingEnabled=!0,this.enterEditMode(!1)):this.editMode||this.exitEditMode()),this.editMode||this.exitEditMode()},n.prototype.ngAfterViewInit=function(){var t=this;this.cellEditCloseAllService.onCloseAll().pipe(this.takeUntil()).subscribe((function(){t.exitEditMode()}))},n.prototype.isCellEditingEnabled=function(){return this.cellEditingEnabled&&this.cell.isCellEditingEnabled()},n.prototype.enterEditMode=function(t){var e=this;void 0===t&&(t=!0),this.isCellEditingEnabled()&&(this.cellEditCloseAllService.closeAll(),a.timer(0).pipe(this.takeUntil()).subscribe((function(){e.inEditMode=!0,e.valueChanges$=new Be,e.status$=new Be,e.editContext={status:e.status$,valueChanges:e.valueChanges$,value:e.cell.getValue(e.entity),focus:t},e.observeFieldStatus(),e.observeValueChanges(),e.publishEditEnter(),t?e.changeDetectorRef.detectChanges():e.changeDetectorRef.markForCheck()})))},n.prototype.exitEditMode=function(){this.inEditMode=!1,this.changeDetectorRef.detectChanges()},n.prototype.submitChangesAndExit=function(){var t=this.entity.getId(),e=this.actualValue,n=this.cell.columnFieldId;this.sourceCommandService.editItem(new Ui(t,n,e)),this.exitEditMode()},n.prototype.observeFieldStatus=function(){var t=this;this.status$.on().pipe(this.takeUntil()).subscribe((function(e){switch(e){case je.SUBMIT:t.submitChangesAndExit(),t.publishEditSubmit();break;case je.CANCEL:t.exitEditMode(),t.publishEditCancel()}}))},n.prototype.observeValueChanges=function(){var t=this;this.valueChanges$.on().pipe(this.takeUntil()).subscribe((function(e){t.actualValue=e}))},n.prototype.publishEditState=function(t){this.structureCellEditStore.next(t)},n.prototype.publishEditEnter=function(){this.publishEditState(co.ENTER)},n.prototype.publishEditCancel=function(){this.publishEditState(co.CANCEL)},n.prototype.publishEditSubmit=function(){this.publishEditState(co.SUBMIT)},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-cell[entity][cell]",template:'<ng-container *ngIf="!cell.isBooleanDataType() || (cell.isBooleanDataType() && !this.isCellEditingEnabled())">\n\n\t<span (click)="enterEditMode()"\n\t\t  *ngIf="!inEditMode"\n\t\t  [ngClass]="{\'gui-cell-view\': true,\'gui-align-left\': cell.isAlignLeft(),\'gui-align-center\': cell.isAlignCenter(),\'gui-align-right\': cell.isAlignRight()}">\n\t\t<ng-container\n\t\t\t*ngTemplateOutlet="cell.template;\n\t\t\t\tcontext: { element: cell.getValue(entity, searchPhrase) }">\n\t\t</ng-container>\n\t</span>\n\n\t<span *ngIf="inEditMode" class="gui-cell-edit-mode">\n\t\t<ng-container\n\t\t\t*ngTemplateOutlet="cell.editTemplate;\n\t\t\t\tcontext: editContext">\n\t\t</ng-container>\n\t</span>\n\n</ng-container>\n\n<ng-container *ngIf="cell.isBooleanDataType() && this.isCellEditingEnabled()">\n\t<gui-structure-cell-edit [cell]="cell"\n\t\t\t\t\t\t\t [entity]="entity">\n\t</gui-structure-cell-edit>\n</ng-container>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:_i},{type:$i},{type:To},{type:Qi}]},n.propDecorators={entity:[{type:e.Input}],cell:[{type:e.Input}],editMode:[{type:e.Input}],cellEditingEnabled:[{type:e.Input}],searchPhrase:[{type:e.Input}]},n}(ct);var Wo=function(t){function n(e,n,r,i,o,u,s,c,g,p,l,d,h,f){var m=t.call(this)||this;return m.elementRef=e,m.renderer=n,m.changeDetectorRef=r,m.ngZone=i,m.structureId=o,m.structureCommandService=u,m.structureQueryService=s,m.sourceQueryService=c,m.schemaQueryService=g,m.compositionCommandService=p,m.compositionQueryService=l,m.formationQueryService=d,m.resizeDetector=h,m.structureParent=f,m.columns=[],m.source=[],m.autoResizeWidthEnabled=!1,m.scrollObservation$=new a.Subject,m}return g(n,t),n.prototype.ngOnInit=function(){var t=this;a.combineLatest(this.sourceQueryService.onEntities(),this.structureQueryService.onRowHeight()).pipe(this.takeUntil()).subscribe((function(e){var n=e[0],r=e[1];t.source=n,t.setHeight(n.length*r),t.changeDetectorRef.detectChanges()})),this.compositionQueryService.onTemplateColumns().pipe(this.takeUntil()).subscribe((function(e){t.columns=e,t.changeDetectorRef.detectChanges()})),this.compositionQueryService.onResizeWidth().pipe(this.takeUntil()).subscribe((function(e){t.autoResizeWidthEnabled=e})),a.combineLatest(this.sourceQueryService.onEntities(),this.schemaQueryService.onContainerHeight(),this.structureQueryService.onRowHeight()).pipe(this.takeUntil()).subscribe((function(e){var n=e[0],r=e[1],i=e[2],o=n.length*i;o>r?t.setHeight(r):t.setHeight(o),t.changeDetectorRef.detectChanges()}))},n.prototype.ngAfterViewInit=function(){var t=this;this.structureParent&&this.resizeDetector.observe(this.structureParent.getElementRef().nativeElement).pipe(u.filter((function(){return t.autoResizeWidthEnabled})),u.map((function(t){return t.offsetWidth})),u.distinctUntilChanged(),this.takeUntil()).subscribe((function(e){t.recalculateContainer(e)})),this.compositionQueryService.onContainerWidth().pipe(this.takeUntil()).subscribe((function(e){t.renderer.setStyle(t.containerRef.nativeElement,"width",e+"px")})),this.structureQueryService.onVerticalScrollEnabled().pipe(this.takeUntil()).subscribe((function(e){e?t.enableScrollObservation():t.disableScrollObservation()})),this.structureQueryService.onStructure().pipe(u.filter((function(t){return t.isVerticalScrollEnabled()})),this.takeUntil()).subscribe((function(e){var n=e.getContainerHeight(),r=e.getTopMargin();t.renderer.setStyle(t.containerRef.nativeElement,"padding-top",r+"px"),t.renderer.setStyle(t.containerRef.nativeElement,"height",n+"px")}))},n.prototype.ngOnDestroy=function(){t.prototype.ngOnDestroy.call(this),this.resizeDetector.destroy(this.elementRef.nativeElement)},n.prototype.setHeight=function(t){this.height=t,this.renderer.setStyle(this.elementRef.nativeElement,"height",this.height+"px")},n.prototype.recalculateContainer=function(t){this.autoResizeWidthEnabled&&this.compositionCommandService.setContainerWidth(t)},n.prototype.enableScrollObservation=function(){var t=this;this.ngZone.runOutsideAngular((function(){a.fromEvent(t.elementRef.nativeElement,"scroll").pipe(u.takeUntil(t.scrollObservation$),t.takeUntil()).subscribe((function(e){var n=e.target.scrollTop;t.structureCommandService.setScrollPosition(n)}))}))},n.prototype.disableScrollObservation=function(){this.scrollObservation$.next(),this.scrollObservation$.complete()},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-container",template:'<div #container\n\t class="gui-structure-container">\n\n\t<gui-structure-content [columns]="columns"\n\t\t\t\t\t\t   [source]="source">\n\t</gui-structure-content>\n\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:e.ChangeDetectorRef},{type:e.NgZone},{type:lt},{type:ji},{type:oe},{type:It},{type:ce},{type:De},{type:fe},{type:fi},{type:i.ResizeDetector},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[nt]}]}]},n.propDecorators={containerRef:[{type:e.ViewChild,args:["container",{static:!1}]}]},n}(ct);var Ko=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-structure-quick-fitlers",template:"\n\t\n\t\tQuickFilters\n\t\t\n\t"}]}],t}(),Xo=function(t){function n(){var e=t.call(this)||this;return e.enabled=new Map,e.enabled$=new a.ReplaySubject,e}return g(n,t),n.prototype.setEnabled=function(t,e){this.enabled.set(e.toString(),t),this.enabled$.next(this.enabled)},n.prototype.onSearchingEnabled=function(t){return this.enabled$.asObservable().pipe(u.map((function(e){return e.get(t.toString())})),u.distinctUntilChanged())},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(st);var qo=function(){function t(t){this.structureSearchingRepository=t}return t.prototype.onSearchEnabled=function(t){return void 0===t&&(t=dt),this.structureSearchingRepository.onSearchingEnabled(t)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Xo}]},t}();var Yo=new e.InjectionToken("Structure - - css className"),Jo=function(t){function n(e,n,r,i,o,a,u,s,c,g){var p=t.call(this)||this;return p.changeDetectorRef=e,p.structureDefinition=n,p.structureId=r,p.structureQueryService=i,p.pagingQueryService=o,p.structureInfoPanelEnabledArchive=a,p.structureAggregationArchive=u,p.structureFilterReadModelRepository=s,p.structureSearchReadModelRepository=c,p.className=g,p.searchEnabled=!1,p.topAggregationPanelEnabled=!1,p.bottomAggregationPanelEnabled=!1,p.quickFiltersEnabled=!1,p.infoPanelEnabled=!1,p.headerCssClass="gui-"+p.className+"-header",p.contentCssClass="gui-"+p.className+"-content",p}return g(n,t),n.prototype.ngOnInit=function(){var t=this;this.structureQueryService.onStructure().pipe(this.takeUntil()).subscribe((function(e){t.structure=e,t.changeDetectorRef.detectChanges()})),this.pagingQueryService.onPaging().pipe(this.takeUntil()).subscribe((function(e){t.pagingReadModel=e,t.changeDetectorRef.detectChanges()})),this.structureSearchReadModelRepository.onSearchEnabled(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.searchEnabled=e,t.changeDetectorRef.detectChanges()})),this.structureFilterReadModelRepository.onQuickFiltersEnabled(this.structureId).pipe(this.takeUntil()).subscribe((function(e){t.quickFiltersEnabled=e,t.changeDetectorRef.detectChanges()})),this.structureAggregationArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.topAggregationPanelEnabled=e.itTopEnabled(),t.bottomAggregationPanelEnabled=e.itBottomEnabled(),t.changeDetectorRef.detectChanges()})),this.structureInfoPanelEnabledArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.infoPanelEnabled=e,t.changeDetectorRef.detectChanges()}))},n.prototype.getHeaderTopClasses=function(){return this.headerCssClass+" gui-header-top"},n.prototype.getHeaderBottomClasses=function(){return this.headerCssClass+" gui-header-bottom"},n.prototype.isColumnHeaderTopEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.structure&&this.structure.isTopHeaderEnabled()},n.prototype.isColumnHeaderBottomEnabled=function(){return this.structureDefinition.isHeaderEnabled()&&this.structure&&this.structure.isBottomHeaderEnabled()},n.prototype.isPagingTopEnabled=function(){return this.structureDefinition.getTopPaging().isEnabled()&&this.pagingReadModel&&this.pagingReadModel.isPagerTop()},n.prototype.isPagingBottomEnabled=function(){return this.structureDefinition.getBottomPaging().isEnabled()&&this.pagingReadModel&&this.pagingReadModel.isPagerBottom()},n.prototype.isSourceEmpty=function(){return this.structure&&0===this.structure.getEntities().length},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-blueprint",template:'\x3c!---------- TOP ----------\x3e\n<gui-structure-top-panel *ngIf="searchEnabled"></gui-structure-top-panel>\n\n<gui-structure-quick-fitlers *ngIf="quickFiltersEnabled">\n</gui-structure-quick-fitlers>\n\n<gui-structure-paging *ngIf="isPagingTopEnabled()"\n\t\t\t\t\t  class="gui-structure-paging-top">\n</gui-structure-paging>\n\n<gui-structure-aggregation-panel [enabled]="topAggregationPanelEnabled"\n\t\t\t\t\t\t\t\t class="gui-structure-aggregation-panel-top">\n</gui-structure-aggregation-panel>\n\n<gui-structure-header *ngIf="isColumnHeaderTopEnabled()"\n\t\t\t\t\t  [ngClass]="getHeaderTopClasses()">\n</gui-structure-header>\n\n\n\x3c!---------- MAIN ----------\x3e\n<gui-structure-container [ngClass]="contentCssClass">\n</gui-structure-container>\n\n<gui-structure-empty-source *ngIf="isSourceEmpty()">\n</gui-structure-empty-source>\n\n\n\x3c!---------- BOTTOM ----------\x3e\n<gui-structure-header *ngIf="isColumnHeaderBottomEnabled()"\n\t\t\t\t\t  [ngClass]="getHeaderBottomClasses()">\n</gui-structure-header>\n\n<gui-structure-aggregation-panel [enabled]="bottomAggregationPanelEnabled"\n\t\t\t\t\t\t\t\t class="gui-structure-aggregation-panel-bottom">\n</gui-structure-aggregation-panel>\n\n<gui-structure-paging *ngIf="isPagingBottomEnabled()"\n\t\t\t\t\t  class="gui-structure-paging-bottom">\n</gui-structure-paging>\n\n<gui-structure-info-panel *ngIf="infoPanelEnabled"></gui-structure-info-panel>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:$},{type:lt},{type:oe},{type:ht},{type:eo},{type:ro},{type:jo},{type:qo},{type:String,decorators:[{type:e.Inject,args:[Yo]}]}]},n}(ct);var Zo=function(t){function n(e,n){return t.call(this,e,n)||this}return g(n,t),n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Vt},{type:o.AggregateStoreRegister}]},n}(o.InMemoryAggregateStore),_o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e}(o.AggregateRepository);var $o=function(t){function n(e){var n=t.call(this)||this;return n.inMemoryStructureAggregateStore=e,n}return g(n,t),n.prototype.getById=function(t){return this.inMemoryStructureAggregateStore.getById(t)},n.prototype.save=function(t){this.inMemoryStructureAggregateStore.save(t)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Zo}]},n}(_o);var ta=function(t){function e(e){return t.call(this,e,"SetSourceLoadingEvent")||this}return g(e,t),e}(o.DomainEvent),ea=function(t){function e(e){return t.call(this,e,"SchemaSetEvent")||this}return g(e,t),e}(o.DomainEvent),na=function(t){function e(e){return t.call(this,e,"SchemaHorizontalGridSetEvent")||this}return g(e,t),e}(o.DomainEvent),ra=function(t){function e(e){return t.call(this,e,"SchemaVerticalGridSetEvent")||this}return g(e,t),e}(o.DomainEvent),ia=function(t){function e(e){return t.call(this,e,"SchemaTopHeaderChangedEvent")||this}return g(e,t),e}(o.DomainEvent),oa=function(t){function e(e){return t.call(this,e,"SchemaBottomHeaderChangedEvent")||this}return g(e,t),e}(o.DomainEvent),aa=function(t){function e(e){return t.call(this,e,"RowColoringSetEvent")||this}return g(e,t),e}(o.DomainEvent),ua=function(t){function e(e){return t.call(this,e,"PagingSetEvent")||this}return g(e,t),e}(o.DomainEvent),sa=function(t){function e(e){return t.call(this,e,"FormationSetEvent")||this}return g(e,t),e}(o.DomainEvent),ca=function(t){function e(e){return t.call(this,e,"ScrollPositionSetEvent")||this}return g(e,t),e}(o.DomainEvent),ga=function(t){function e(e,n){var r=t.call(this,e,"OriginSetEvent")||this;return r.origin=n,r}return g(e,t),e.prototype.getOrigin=function(){return this.origin},e}(o.DomainEvent);var pa=function(t){function e(e){return t.call(this,e,"StructureFilterToggledEvent")||this}return g(e,t),e}(o.DomainEvent),la=function(t){function n(e,n){var r=t.call(this,e)||this;return r.inMemoryStructureQueryStore=n,r.structureIdToStructure=new Map,r.structure$=new a.ReplaySubject(1),r}return g(n,t),n.prototype.onStructure=function(t){return this.structure$.asObservable().pipe(u.filter((function(e){var n=t.getId();return e.has(n)})),u.map((function(e){return e.get(t.getId())})))},n.prototype.forEvents=function(){return[Bt,ta,ea,re,na,ra,ia,oa,aa,ua,lo,po,fo,sa,Co,jt,ca,Jn,pa,wo,$n,ga,ne]},n.prototype.subs=function(t){var e=this,n=t.getAggregateId();this.inMemoryStructureQueryStore.getById(n).ifPresent((function(t){var n=t.getId().toString();e.structureIdToStructure.set(n,t),e.structure$.next(e.structureIdToStructure)}))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:o.DomainEventBus},{type:ee}]},n}(gt);var da=[Zo,{provide:_o,useClass:$o}],ha=[ee,{provide:gt,useClass:la}],fa=[Vt],ma=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return wi},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new jt(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.isEnabled();t.getVerticalFormation().setEnabled(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var ya=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Di},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new ca(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getPosition();t.setScrollPosition(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var va=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return xi},t.prototype.publishDomainEvents=function(t,e){var n=e.getCompositionId(),r=e.getColumns(),i=t.getEvents()[0].getFields();this.domainEventPublisher.publish(new er(e.getAggregateId(),n,r,i))},t.prototype.handleAggregate=function(t,e){var n=e.getColumns();t.createFields(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var ba=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Ti},t.prototype.publishDomainEvents=function(t,e){},t.prototype.handleAggregate=function(t,e){var n=e.getAggregateId(),r=e.getCompositionId(),i=e.getFieldId(),o=t.toggleSort(i);this.publishSortEvent(n,r,i,o)},t.prototype.publishSortEvent=function(t,e,n,r){var i=r.map((function(t){return{direction:t.hasDirection(),fieldId:t.getField().getId()}}));this.domainEventPublisher.publish(new Jn(t,e,i))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_o},{type:o.DomainEventPublisher}]},t}();var Ca=function(t){function e(e){return t.call(this,e,"SortingSetEvent")||this}return g(e,t),e}(o.DomainEvent),Ea=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Ri},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new Ca(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getSortingConfig();t.setSortingConfig(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var Aa=function(t){function e(e,n){var r=t.call(this,e,"StructureConfigFilterSetEvent")||this;return r.enabled=n,r}return g(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(o.DomainEvent);var Ia=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return yi},t.prototype.publishDomainEvents=function(t,e){var n=e.getConfig();this.domainEventPublisher.publish(new Aa(e.getAggregateId(),n.enabled))},t.prototype.handleAggregate=function(t,e){var n=e.getConfig();t.setFilterConfig(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var Sa=function(t){function e(e,n){var r=t.call(this,e,"StructureConfigSearchingSetEvent")||this;return r.enabled=n,r}return g(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(o.DomainEvent);var wa=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return ki},t.prototype.publishDomainEvents=function(t,e){var n=e.getConfig();this.domainEventPublisher.publish(new Sa(e.getAggregateId(),n.enabled))},t.prototype.handleAggregate=function(t,e){var n=e.getConfig();t.setSearchingConfig(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var Da=function(t){function e(e,n){var r=t.call(this,e,"StructureConfigQuickFilterSetEvent")||this;return r.enabled=n,r}return g(e,t),e.prototype.getEnabled=function(){return this.enabled},e}(o.DomainEvent);var Ra=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Pi},t.prototype.publishDomainEvents=function(t,e){var n=e.getAggregateId(),r=e.getConfig();this.domainEventPublisher.publish(new Da(n,r.enabled))},t.prototype.handleAggregate=function(t,e){var n=e.getConfig();t.setQuickFiltersConfig(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_o},{type:o.DomainEventPublisher}]},t}();var Ta=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return vi},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new pa(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getFieldId(),r=e.getExternalFilterId(),i=e.getFilterValue();t.toggleFilter(n,r,i)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_o},{type:o.DomainEventPublisher}]},t}();var Pa=function(t){function e(e,n){var r=t.call(this,e,"StructureAggregationsChangedEvent")||this;return r.values=n,r}return g(e,t),e.prototype.getAggregations=function(){return this.values},e}(o.DomainEvent);var xa=function(t){function e(e,n){var r=t.call(this,e,"StructurePreparedEntitiesSetEvent")||this;return r.preparedItems=n,r}return g(e,t),e.prototype.getPreparedItems=function(){return this.preparedItems},e}(o.DomainEvent);var Ma=function(){function t(t){this.domainEventPublisher=t}return t.prototype.publish=function(t){var e=this;t.forEach((function(t){e.publishEvent(t)}))},t.prototype.publishEvent=function(t){if("StructureOriginChangedAggregateEvent"===t.getType()){var e=t,n=new ga(e.getAggregateId(),e.getOrigin());this.domainEventPublisher.publish(n)}if("StructureSourceItemEditedAggregateEvent"===t.getType()){var r=t;n=new vo(r.getAggregateId(),r.getBeforeItem(),r.getAfterItem());this.domainEventPublisher.publish(n)}if("StructureAggregationsChangedAggregateEvent"===t.getType()){var i=t;n=new Pa(i.getAggregateId(),i.getAggregations());this.domainEventPublisher.publish(n)}if("StructurePreparedEntitiesSetAggregateEvent"===t.getType()){var o=t;n=new xa(o.getAggregateId(),o.getPreparedItems());this.domainEventPublisher.publish(n)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var Fa=function(t){function e(e,n){var r=t.call(this,e,"StructureAggregationEnabledSetEvent")||this;return r.enabled=n,r}return g(e,t),e.prototype.isEnabled=function(){return this.enabled},e}(o.DomainEvent);var ka=function(){function t(t,e){this.structureSourceDomainEventPublisher=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return oo},t.prototype.publishDomainEvents=function(t,e){var n=e.isEnabled(),r=t.getEvents();this.domainEventPublisher.publish(new Fa(e.getAggregateId(),n)),this.structureSourceDomainEventPublisher.publish(r)},t.prototype.handleAggregate=function(t,e){var n=e.isEnabled();t.setAggregationEnabled(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ma},{type:o.DomainEventPublisher}]},t}();var Na=function(){function t(t,e){this.start=t,this.end=e}return t.prototype.getStart=function(){return this.start},t.prototype.getEnd=function(){return this.end},t}();var Ha=function(){function t(t,e,n,r,i,o,a){void 0===t&&(t=!1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.enabled=t,this.rowHeight=42,this.hiddenItemsTop=0,this.hiddenItemsBottom=1,this.viewportHeight=e,this.sourceSize=n,this.scrollPosition=r,Number.isInteger(i)&&(this.rowHeight=i),Number.isInteger(o)&&(this.hiddenItemsTop=o),Number.isInteger(a)&&(this.hiddenItemsBottom=a),this.calculateRange()}return t.prototype.isEnabled=function(){return this.enabled&&this.viewportHeight>0&&this.sourceSize>0},t.prototype.getRowHeight=function(){return this.rowHeight},t.prototype.getRange=function(){return this.range},t.prototype.getTopMargin=function(){return this.range.getStart()*this.rowHeight},t.prototype.calculateRange=function(){if(!(this.calcFullHeight()<=this.viewportHeight)){var t=Math.floor(this.viewportHeight/this.rowHeight),e=Math.floor(this.scrollPosition/this.rowHeight),n=Math.abs(e-this.hiddenItemsTop)*this.rowHeight,r=e-this.hiddenItemsTop,i=r+Math.ceil(this.viewportHeight/this.rowHeight)+this.hiddenItemsBottom;return i>this.sourceSize&&(r=(i=this.sourceSize)-t),this.range=new Na(r,i),{start:r,end:i,topMargin:n}}this.range=new Na(0,this.sourceSize)},t.prototype.setEnabled=function(t){this.enabled=t,this.enabled&&0===this.viewportHeight&&this.logger.warn("Height needs to be specified in order for virtual scroll to work."),this.calculateRange()},t.prototype.setSourceSize=function(t){void 0===t&&(t=0),this.sourceSize=t,this.calculateRange()},t.prototype.setTopHiddenItemsCount=function(t){this.hiddenItemsTop=t,this.calculateRange()},t.prototype.setBottomHiddenItemsCount=function(t){this.hiddenItemsBottom=t,this.calculateRange()},t.prototype.setScrollPosition=function(t){this.scrollPosition=t,this.calculateRange()},t.prototype.setViewportHeight=function(t){this.viewportHeight=t,this.calculateRange()},t.prototype.setRowHeight=function(t){this.rowHeight=t,this.calculateRange()},t.prototype.setLogger=function(t){this.logger=t},t.prototype.calcFullHeight=function(){return this.sourceSize*this.rowHeight},t.prototype.getViewPortHeight=function(){return this.viewportHeight},t.ctorParameters=function(){return[{type:Boolean},{type:Number},{type:Number},{type:Number},{type:Number},{type:Number},{type:Number}]},t=l([o.Entity,d("design:paramtypes",[Boolean,Number,Number,Number,Number,Number,Number])],t)}();var Oa=function(){function t(t){this.logger=t}return t.prototype.create=function(t,e,n,r,i,o,a){void 0===t&&(t=!1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0);var u=new Ha(t,e,n,r,i,o,a);return u.setLogger(this.logger),u},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Qr}]},t}();var Ba=function(){function t(){}return t.prototype.generateId=function(){var t=o.RandomStringGenerator.generate();return new gn(t)},t}(),ja=function(){function t(t,e,n,r){this.id=t,this.accessor=e,this.dataType=n,this.matchers=r,"string"==typeof e?this.accessorMethod=function(t){return t.getData()[e]}:"function"==typeof e&&(this.accessorMethod=function(t){return e(t.getData())})}return t.prototype.getId=function(){return this.id},t.prototype.getKey=function(){return this.getId().getId()},t.prototype.getDataType=function(){return this.dataType},t.prototype.getAccessor=function(){return this.accessor},t.prototype.getAccessorMethod=function(){return this.accessorMethod},t.prototype.getMatchers=function(){return this.matchers},t.prototype.getSearchAccessorMethod=function(){var t,e=this;return this.matchers.getSearchMatcher().ifPresent((function(e){t=e})),t?function(n){var r=e.accessorMethod(n);return t(r)}:function(t){return e.accessorMethod(t)}},t.prototype.getValue=function(t){return this.accessorMethod(t)},t.prototype.getSortValue=function(t){var e=this.accessorMethod(t);return this.matchers.getSortMatcher().ifPresent((function(t){e=t(e)})),e},t.prototype.getSearchValue=function(t){var e=this.accessorMethod(t);return this.matchers.getSearchMatcher().ifPresent((function(t){e=t(e)})),e},t}();var Va=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n,r,i)||this;return a.aggregationEnabled=!0,a.possibleAggregations=a.assignPossibleAggregations(),a.assignAggregations(o),a}return g(e,t),e.prototype.isAggregation=function(t){return!!this.isAggregationEnabled()&&!!(this.aggregations&t)},e.prototype.isAggregationEnabled=function(){return this.aggregationEnabled},e.prototype.setAggregationEnabled=function(t){this.aggregationEnabled=t},e.prototype.assignAggregations=function(t){var e=this;t&&0!==Object.keys(t).length?(t.enabled&&(this.aggregationEnabled=!!t.enabled),t.aggregationTypes?(this.aggregations=0,t.aggregationTypes.forEach((function(t){e.aggregations|=t}))):this.aggregations=this.assignDefaultAggregations()):this.aggregations=this.assignDefaultAggregations()},e}(ja);var La=function(t){function e(e,n,r,i){return t.call(this,e,n,T.UNKNOWN,r,i)||this}return g(e,t),e.prototype.assignDefaultAggregations=function(){return 0},e.prototype.assignPossibleAggregations=function(){return x.COUNT|x.DISTINCT},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){return 0},e.prototype.filter=function(t,e){return!1},e}(Va),za=function(t){function e(e,n,r,i){return t.call(this,e,n,T.NUMBER,r,i)||this}return g(e,t),e.prototype.getField=function(){return this},e.prototype.assignDefaultAggregations=function(){return 0},e.prototype.assignPossibleAggregations=function(){return x.COUNT|x.DISTINCT|x.SUM|x.MIN|x.MAX|x.AVERAGE|x.MEDIAN},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){return+t-+e},e.prototype.filter=function(t,e){return t>e},e}(Va),Ga=function(t){function e(e,n,r,i){return t.call(this,e,n,T.STRING,r,i)||this}return g(e,t),e.prototype.assignDefaultAggregations=function(){return 0},e.prototype.assignPossibleAggregations=function(){return x.COUNT|x.DISTINCT},e.prototype.search=function(t,e){var n=this.getSearchValue(t);return"string"==typeof n&&n.toLowerCase().indexOf(e.toLowerCase())>-1},e.prototype.sort=function(t,e){return(""+t).localeCompare(""+e)},e.prototype.filter=function(t,e){return t.toLowerCase().indexOf(e.toLowerCase())>-1},e}(Va),Ua=function(t){function e(e,n,r,i){return t.call(this,e,n,T.BOOLEAN,r,i)||this}return g(e,t),e.prototype.assignDefaultAggregations=function(){return 0},e.prototype.assignPossibleAggregations=function(){return x.COUNT|x.DISTINCT|x.TRUTHY|x.FALSY},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){var n=!!e;return!!t===n?0:n?-1:1},e.prototype.filter=function(t,e){return t===e},e}(Va),Qa=function(t){function e(e,n,r,i){return t.call(this,e,n,T.DATE,r,i)||this}return g(e,t),e.prototype.assignDefaultAggregations=function(){return 0},e.prototype.assignPossibleAggregations=function(){return x.COUNT|x.DISTINCT},e.prototype.search=function(t,e){return!1},e.prototype.sort=function(t,e){return t-e},e.prototype.filter=function(t,e){return!1},e}(Va),Wa=function(){function t(t,e,n){this.matcher=t,this.sortMatcher=e,this.searchMatcher=n}return t.prototype.getMatcher=function(){return o.Optional.of(this.matcher)},t.prototype.getSortMatcher=function(){var t;return this.sortMatcher&&(t=this.sortMatcher),this.matcher&&(t=this.matcher),o.Optional.of(t)},t.prototype.getSearchMatcher=function(){var t;return this.searchMatcher&&(t=this.searchMatcher),this.matcher&&(t=this.matcher),o.Optional.of(t)},t}();var Ka=function(){function t(t){this.fieldIdGenerator=t}return t.prototype.create=function(t){var e=this.createMatchers(t),n=t.type;return void 0===n&&(n=T.STRING),n===T.UNKNOWN?new La(this.fieldIdGenerator.generateId(),t.field,e,t.aggregation):n===T.NUMBER?new za(this.fieldIdGenerator.generateId(),t.field,e,t.aggregation):n===T.STRING?new Ga(this.fieldIdGenerator.generateId(),t.field,e):n===T.BOOLEAN?new Ua(this.fieldIdGenerator.generateId(),t.field,e):n===T.DATE?new Qa(this.fieldIdGenerator.generateId(),t.field,e):void 0},t.prototype.createMatchers=function(t){var e,n=t.matcher;return t.sorting&&(e=t.sorting.matcher),new Wa(n,e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ba}]},t}();var Xa=function(t){function e(e){var n=t.call(this,e.getId(),e.getAccessor(),e.getDataType(),e.getMatchers())||this;return n.field=e,n}return g(e,t),e.of=function(t){return new e(t)},e.prototype.mapNumber=function(t){if(this.field.getDataType()===T.NUMBER)return t(this.field)},e.prototype.ifNumber=function(){if(this.field.getDataType()===T.NUMBER)return this.field},e.prototype.getField=function(){return this.field},e.prototype.search=function(t,e){return this.field.search(t,e)},e.prototype.filter=function(t,e){var n=this.field.getValue(t);return this.field.getDataType()===T.NUMBER?this.field.filter(n,e):this.field.getDataType()===T.BOOLEAN?this.field.filter(n,e):this.field.getDataType()===T.STRING?this.field.filter(n,e):this.field.getDataType()!==T.DATE||this.field.filter(n,e)},e.prototype.sort=function(t,e,n){var r=n?this.field.getSortValue(t):this.field.getSortValue(e),i=n?this.field.getSortValue(e):this.field.getSortValue(t);return this.field.getDataType()===T.NUMBER?this.field.sort(r,i):this.field.getDataType()===T.BOOLEAN?this.field.sort(r,i):this.field.getDataType()===T.STRING?this.field.sort(r,i):this.field.getDataType()===T.DATE?this.field.sort(r,i):0},e}(ja);var qa=function(){function t(t){this.fieldFactory=t,this.fields=new Map}return t.prototype.getField=function(t){return null===t?this.getAllFields()[0]:this.fields.get(t.getId())},t.prototype.getAllFieldIds=function(){return Array.from(this.fields.keys())},t.prototype.getAllFields=function(){return Array.from(this.fields.values())},t.prototype.initFields=function(t){var e=this;t&&t.forEach((function(t){var n=e.fieldFactory.create(t),r=new Xa(n);e.addField(r)}))},t.prototype.addFields=function(t){var e,n;try{for(var r=h(t),i=r.next();!i.done;i=r.next()){var o=i.value;this.addField(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.addField=function(t){this.fields.set(t.getId().toString(),t)},t}();var Ya=function(){function t(t){this.fieldFactory=t}return t.prototype.create=function(){return new qa(this.fieldFactory)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ka}]},t}();var Ja=function(){function t(t,e,n){this.filterId=t,this.field=e,this.filterValue=n}return t.prototype.getFieldId=function(){return this.field.getId()},t.prototype.getFilterValue=function(){return this.filterValue},t.prototype.setFilterValue=function(t){this.filterValue=t},t.prototype.filter=function(t){var e=this;return 0===t.length?t:t.filter((function(t){return e.field.filter(t,e.filterValue)}))},t}();var Za=function(){function t(t,e){var n=t.getId().toString();this.id=n+"@"+e}return t.prototype.getId=function(){return this.id},t}();var _a=function(){function t(t,e,n){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===n&&(n=!1),this.filteringEnabled=!1,this.searchEnabled=!1,this.quickFiltersEnabled=!1,this.filteringEnabled=t,this.searchEnabled=e,this.quickFiltersEnabled=n}return t.prototype.isFilteringEnabled=function(){return this.filteringEnabled},t.prototype.isQuickFilteringEnabled=function(){return this.quickFiltersEnabled},t.prototype.isSearchingEnabled=function(){return this.searchEnabled},t.prototype.setFilterConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.filteringEnabled=t.enabled)},t.prototype.setSearchingConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.searchEnabled=t.enabled)},t.prototype.setQuickFiltersConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.quickFiltersEnabled=t.enabled)},t}();var $a=function(){function t(){this.filterSettings=new _a,this.filters=new Map}return t.prototype.getAll=function(){return Array.from(this.filters).map((function(t){return t[1]}))},t.prototype.getSettings=function(){return this.filterSettings},t.prototype.addFilter=function(t,e,n){var r=new Za(t,e),i=new Ja(r,t,n);""===n?this.filters.delete(r.getId()):this.filters.set(r.getId(),i)},t.prototype.filter=function(t){var e,n,r=this.getAll(),i=m(t);try{for(var o=h(r),a=o.next();!a.done;a=o.next()){i=a.value.filter(i)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},t}();var tu=function(){function t(){}return t.prototype.create=function(t){return void 0===t&&(t=!1),new $a},t.decorators=[{type:e.Injectable}],t}(),eu="GUI - Aggregation Calculators",nu=function(){function t(){}return t.prototype.calculate=function(t,e){var n=this,r=t.filter((function(t){return n.forDataType(t.getDataType())}));if(!r||0===r.length||0===e.length)return null;var i=new Map,o=new Map;r.forEach((function(t){var e=t.getKey();i.set(e,0),o.set(e,new Set),n.prepare(t)})),e.forEach((function(t){r.forEach((function(e){var r=e.getKey(),a=e.getValue(t);if(null!==a||void 0!==a||""!==a){if(e.isAggregation(x.COUNT)){var u=i.get(r);i.set(r,u+1)}if(e.isAggregation(x.DISTINCT))o.get(r).add(a)}n.aggregate(e,a)}))})),r.forEach((function(t){n.postCalculate(t,e)}));var a=new Map;return r.forEach((function(t){var e=t.getId().getId(),r=n.generateAggregatedValues(t);t.isAggregation(x.COUNT)&&r.setCount(i.get(e)),t.isAggregation(x.DISTINCT)&&r.setDistinct(o.get(e).size),a.set(e,r)})),a},t}();var ru=function(){function t(){}return t.prototype.setCount=function(t){this.count=t},t.prototype.setDistinct=function(t){this.distinct=t},t}();var iu=function(t){function e(e,n){var r=t.call(this)||this;return r.truthy=e,r.falsy=n,r}return g(e,t),e}(ru);var ou=function(t){function n(){var e=t.call(this)||this;return e.truthy=new Map,e.falsy=new Map,e}return g(n,t),n.prototype.forDataType=function(t){return t===T.BOOLEAN},n.prototype.prepare=function(t){var e=t.getKey();t.isAggregation(x.TRUTHY)&&this.truthy.set(e,0),t.isAggregation(x.FALSY)&&this.falsy.set(e,0)},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){var n=e,r=t.getKey(),i=this.truthy.get(r),o=this.falsy.get(r);n?t.isAggregation(x.TRUTHY)&&this.truthy.set(r,i+1):t.isAggregation(x.FALSY)&&this.falsy.set(r,o+1)},n.prototype.generateAggregatedValues=function(t){var e=t.getKey();return new iu(this.truthy.get(e),this.falsy.get(e))},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(nu);var au=function(t){function e(){return t.call(this)||this}return g(e,t),e}(ru),uu=function(t){function n(){return t.call(this)||this}return g(n,t),n.prototype.forDataType=function(t){return t===T.DATE},n.prototype.prepare=function(t){},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){},n.prototype.generateAggregatedValues=function(t){return new au},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(nu),su=function(t){function e(e,n,r,i,o){var a=t.call(this)||this;return a.sum=a.setValueWithPrecision(e),a.min=a.setValueWithPrecision(n),a.max=a.setValueWithPrecision(r),a.average=a.setValueWithPrecision(i),a.median=a.setValueWithPrecision(o),a}return g(e,t),e.prototype.setValueWithPrecision=function(t){return t||0===t?0===t?0:+t.toFixed(2):null},e}(ru);var cu=function(t){function n(){var e=t.call(this)||this;return e.sum=new Map,e.min=new Map,e.max=new Map,e.average=new Map,e.median=new Map,e}return g(n,t),n.prototype.forDataType=function(t){return t===T.NUMBER},n.prototype.prepare=function(t){var e=t.getKey();this.sum.set(e,0),this.min.set(e,Number.MAX_SAFE_INTEGER),this.max.set(e,0)},n.prototype.postCalculate=function(t,e){var n=t.getKey();t.isAggregation(x.AVERAGE)&&this.average.set(n,this.sum.get(n)/e.length),t.isAggregation(x.MEDIAN)&&this.median.set(n,t.getValue(e[Math.floor(e.length/2)]))},n.prototype.aggregate=function(t,e){var n=+e,r=t.getKey(),i=this.sum.get(r),o=this.min.get(r),a=this.max.get(r);(t.isAggregation(x.SUM)||t.isAggregation(x.AVERAGE))&&this.sum.set(r,i+n),t.isAggregation(x.MIN)&&o>n&&this.min.set(r,n),t.isAggregation(x.MAX)&&a<n&&this.max.set(r,n)},n.prototype.generateAggregatedValues=function(t){var e=t.getKey(),n=t.isAggregation(x.SUM)?this.sum.get(e):void 0,r=t.isAggregation(x.MIN)?this.min.get(e):void 0,i=t.isAggregation(x.MAX)?this.max.get(e):void 0,o=t.isAggregation(x.AVERAGE)?this.average.get(e):void 0,a=t.isAggregation(x.MEDIAN)?this.median.get(e):void 0;return new su(n,r,i,o,a)},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(nu);var gu=function(t){function e(){return t.call(this)||this}return g(e,t),e}(ru),pu=function(t){function n(){return t.call(this)||this}return g(n,t),n.prototype.forDataType=function(t){return t===T.STRING},n.prototype.prepare=function(t){},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){},n.prototype.generateAggregatedValues=function(t){return new gu},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(nu),lu=function(t){function e(){return t.call(this)||this}return g(e,t),e}(ru),du=function(t){function n(){return t.call(this)||this}return g(n,t),n.prototype.forDataType=function(t){return t===T.UNKNOWN},n.prototype.prepare=function(t){},n.prototype.postCalculate=function(t,e){},n.prototype.aggregate=function(t,e){},n.prototype.generateAggregatedValues=function(t){return new lu},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[]},n}(nu),hu=function(t){function e(e,n){var r=t.call(this,e,"StructureAggregationsChangedAggregateEvent")||this;return r.aggregatedValues=n,r}return g(e,t),e.prototype.getAggregations=function(){return this.aggregatedValues},e}(o.AggregateEvent);var fu=function(){function t(t,e){this.calculators=e,this.enabled=!1,this.values=new Map,this.structureId=t}return t.prototype.calculate=function(t,e){if(!this.enabled)return[];var n=new Map;return this.calculators.forEach((function(r){var i=t.map((function(t){return t.getField()})),o=r.calculate(i,e);o&&Array.from(o.keys()).forEach((function(t){n.set(t,o.get(t))}))})),n.size>0?[new hu(this.structureId,n)]:[]},t.prototype.setEnabled=function(t){this.enabled=t},t.prototype.add=function(){},t.prototype.remove=function(){},t.prototype.update=function(){},t}();var mu=function(){function t(t){this.calculators=t}return t.prototype.create=function(t){return new fu(t,this.calculators)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Array,decorators:[{type:e.Inject,args:[eu]}]}]},t}();function yu(t){return{provide:eu,useClass:t,multi:!0}}var vu=[yu(ou),yu(uu),yu(cu),yu(pu),yu(du),mu],bu=function(t){function n(e){var n=t.call(this)||this;return n.structureFilterRepository=e,n}return g(n,t),n.prototype.handle=function(t){t instanceof Aa&&this.structureFilterRepository.setEnabled(t.getEnabled(),t.getAggregateId())},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Oo}]},n}(o.DomainEventHandler);var Cu=function(t){function n(e){var n=t.call(this)||this;return n.structureSearchingRepository=e,n}return g(n,t),n.prototype.handle=function(t){t instanceof Sa&&this.structureSearchingRepository.setEnabled(t.getEnabled(),t.getAggregateId())},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Xo}]},n}(o.DomainEventHandler);var Eu=function(t){function n(e){var n=t.call(this)||this;return n.structureQuickFilterRepository=e,n}return g(n,t),n.prototype.handle=function(t){t instanceof Da&&this.structureQuickFilterRepository.setEnabled(t.getEnabled(),t.getAggregateId())},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Bo}]},n}(o.DomainEventHandler);var Au=function(){function t(t,e){this.id=t,this.dataType=e}return t.prototype.getId=function(){return this.id.getId()},t.prototype.getDataType=function(){return this.dataType},t}();var Iu=function(){function t(){}return t.prototype.convert=function(t){var e=this;return t.map((function(t){return e.convertOne(t)}))},t.prototype.convertOne=function(t){return new Au(t.getId(),t.getDataType())},t.decorators=[{type:e.Injectable}],t}(),Su=function(t){function n(e,n){var r=t.call(this)||this;return r.structureFieldsRepository=e,r.structureFieldUiConverter=n,r}return g(n,t),n.prototype.handle=function(t){if(t instanceof er){var e=this.structureFieldUiConverter.convert(t.getFields());this.structureFieldsRepository.next(t.getAggregateId(),e)}},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:zi},{type:Iu}]},n}(o.DomainEventHandler);var wu=function(){function t(t){this.domainEventBus=t}return t.prototype.onAggregationsChanged=function(t){return this.domainEventBus.pipe(u.filter((function(t){return t instanceof Pa})),u.filter((function(e){return e.getAggregateId().toString()===t.toString()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventBus}]},t}();var Du=function(){function t(t,e,n,r){void 0===r&&(r=0),this.id=t,this.rawData=e,this.position=n,this.version=r}return t.prototype.getData=function(){return this.rawData},t.prototype.getVersion=function(){return this.version},t.prototype.getPosition=function(){return this.position},t.prototype.bumpVersion=function(){this.version+=1},t.prototype.setPosition=function(t){this.position=t},t.prototype.clone=function(){var e=p({},this.rawData);return new t(this.id,e,this.version)},t}();var Ru=function(t){function e(e,n,r){var i=t.call(this,e,"StructureSourceItemEditedAggregateEvent")||this;return i.beforeItem=n,i.afterItem=r,i}return g(e,t),e.prototype.getBeforeItem=function(){return this.beforeItem},e.prototype.getAfterItem=function(){return this.afterItem},e}(o.AggregateEvent);var Tu=function(t){function e(e,n){var r=t.call(this,e,"StructureOriginChangedAggregateEvent")||this;return r.origin=n,r}return g(e,t),e.prototype.getOrigin=function(){return this.origin},e}(o.AggregateEvent);var Pu=function(){function t(){this.loading=!1,this.fetched=!1,this.entities=[],this.preparedEntities=[],this.slicedEntities=[]}return t.prototype.isLoading=function(){return this.loading},t.prototype.isFetched=function(){return this.fetched},t.prototype.setLoading=function(t){this.loading=t},t.prototype.setEntities=function(t){this.entities=t,this.recalculatePositions()},t.prototype.getEntities=function(){return this.entities},t.prototype.setPreparedEntities=function(){this.preparedEntities=m(this.entities)},t.prototype.getPreparedEntities=function(){return this.preparedEntities},t.prototype.setSlicedEntities=function(t){this.slicedEntities=t},t.prototype.getSlicedEntities=function(){return this.slicedEntities},t.prototype.setOrigin=function(t,e){return void 0===t&&(t=[]),this.origin=this.convertItems(t),this.createOriginChangedEvent(e)},t.prototype.setConvertedOrigin=function(t,e){return void 0===t&&(t=[]),this.origin=t,this.createOriginChangedEvent(e)},t.prototype.getOrigin=function(){return this.origin},t.prototype.getOriginSize=function(){return this.origin.length},t.prototype.editOriginItem=function(t,e,n,r){var i=this.findOriginItem(t),o=i.clone();return i&&(i.rawData[n.getAccessor()]=e,i.bumpVersion()),[new Ru(r,o,i.clone()),this.createOriginChangedEvent(r)]},t.prototype.removeOriginItem=function(t,e){var n=this.findOriginItemIndex(t);return n>-1?(this.origin.splice(n,1),[this.createOriginChangedEvent(e)]):[]},t.prototype.convertItems=function(t){return t.map((function(t,e){return new Du(o.RandomStringGenerator.generate(),t,e)}))},t.prototype.createOriginChangedEvent=function(t){return new Tu(t,this.origin)},t.prototype.findOriginItem=function(t){return this.origin.find((function(e){return e.id===t}))},t.prototype.findOriginItemIndex=function(t){return this.origin.findIndex((function(e){return e.id===t}))},t.prototype.recalculatePositions=function(){this.entities.forEach((function(t,e){t.setPosition(e)}))},t}();var xu=function(){function t(){}return t.prototype.createDefault=function(){return new Pu},t.prototype.create=function(){return new Pu},t.decorators=[{type:e.Injectable}],t}(),Mu=function(){function t(t,e,n){void 0===n&&(n=!0),this.rank=1,this.sorterId=t,this.field=e,this.direction=n}return t.prototype.getId=function(){return this.sorterId},t.prototype.getRank=function(){return this.rank},t.prototype.getField=function(){return this.field},t.prototype.hasDirection=function(){return this.direction},t.prototype.changeDirection=function(){this.direction=!this.direction},t.prototype.setDirection=function(t){this.direction=t},t.prototype.sort=function(t){var e=this;return 0===t.length?t:t.sort((function(t,n){return e.field.sort(t,n,e.direction)}))},t}();var Fu=function(){function t(t){this.sorterId=t}return t.prototype.getId=function(){return this.sorterId},t}();var ku=function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.sorters=new Map,this.enabled=t,this.multi=e}return t.prototype.setConfig=function(t){t&&void 0!==t.enabled&&null!==t.enabled&&(this.enabled=t.enabled),t&&void 0!==t.multiSorting&&null!==t.multiSorting&&(this.multi=t.multiSorting,this.sorters.clear())},t.prototype.toggle=function(t){var e=t.getId(),n=this.sorters.get(e.getId());n?n.hasDirection()?n.changeDirection():this.delete(e):this.add(t)},t.prototype.setSortOrder=function(t,e){var n=t.getId();this.sorters.get(n.getId());if(e===rn.NONE)this.delete(n);else if(e===rn.ASC||e===rn.DESC){this.delete(n);var r=e===rn.ASC;this.add(t,r)}},t.prototype.add=function(t,e){void 0===e&&(e=!0),this.addSorter(t.getId(),new Mu(new Fu(o.RandomStringGenerator.generate()),t,e))},t.prototype.addSorter=function(t,e){this.multi||this.sorters.clear(),this.sorters.set(t.getId(),e)},t.prototype.delete=function(t){this.sorters.delete(t.getId())},t.prototype.update=function(){},t.prototype.sort=function(t){var e,n,r=this.getAll(),i=m(t);try{for(var o=h(r),a=o.next();!a.done;a=o.next()){i=a.value.sort(i)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i},t.prototype.getAll=function(){return this.enabled?Array.from(this.sorters).map((function(t){return t[1]})).sort((function(t,e){return t.getRank()-e.getRank()})).reverse():[]},t}();var Nu=function(){function t(t){this.selectedRows=t}return t.prototype.getSelectedRows=function(){return this.selectedRows},t.prototype.toggleRow=function(t){this.selectedRows.length>0&&this.selectedRows[0]===t?this.selectedRows=[]:this.selectedRows=[t]},t}();var Hu=function(){function t(t,e){this.top=t,this.bottom=e}return t.prototype.setHeaderTop=function(t){this.top=t},t.prototype.setHeaderBottom=function(t){this.bottom=t},t.prototype.isHeaderOnTop=function(){return this.top},t.prototype.isHeaderOnBottom=function(){return this.bottom},t}();var Ou=function(){function t(t,e){this.width=t,this.height=e,this.headerHeight=28,this.pagerHeight=35,this.active=!1,this.horizontalGrid=!0,this.verticalGrid=!0,this.columnHeader=new Hu(!0,!1),this.theme=V.GENERIC,this.rowColoring=ai.ODD,this.calculateContainerHeight()}return t.prototype.getRowColoring=function(){return this.rowColoring},t.prototype.setHeight=function(t){this.height=t,this.calculateContainerHeight()},t.prototype.setTheme=function(t){this.theme=t,t===V.MATERIAL&&(this.rowColoring=ai.NONE,this.verticalGrid=!1),t===V.LIGHT&&(this.rowColoring=ai.NONE,this.verticalGrid=!1),t===V.DARK&&(this.rowColoring=ai.NONE,this.verticalGrid=!1),t===V.GENERIC&&(this.rowColoring=ai.ODD)},t.prototype.setRowColoring=function(t){this.rowColoring=t},t.prototype.getTheme=function(){return this.theme},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getContainerHeight=function(){return this.height},t.prototype.getColumnHeader=function(){return this.columnHeader},t.prototype.setHeaderTop=function(t){this.getColumnHeader().setHeaderTop(t)},t.prototype.setHeaderBottom=function(t){this.getColumnHeader().setHeaderBottom(t)},t.prototype.setVerticalGrid=function(t){this.verticalGrid=t},t.prototype.setHorizontalGrid=function(t){this.horizontalGrid=t},t.prototype.isVerticalGridEnabled=function(){return this.verticalGrid},t.prototype.isHorizontalGridEnabled=function(){return this.horizontalGrid},t.prototype.getHeaderHeight=function(){return this.headerHeight},t.prototype.getPagerHeight=function(){return this.pagerHeight},t.prototype.calculateContainerHeight=function(){this.height?(this.active=!0,this.containerHeight=this.height-this.getHeaderHeight()-this.getPagerHeight()):this.active=!1},t.ctorParameters=function(){return[{type:Number},{type:Number}]},t=l([o.RootAggregate,d("design:paramtypes",[Number,Number])],t)}();var Bu=function(){function t(){this.searchFields=[],this.enabledDataTypes=[T.STRING]}return t.prototype.addSearchPhrase=function(t,e){var n=this;if(e){var r=t.filter((function(t){return n.enabledDataTypes.some((function(e){return e===t.getDataType()}))}));0!==r.length&&(this.searchFields=r,this.searchPhrase=e)}else this.searchFields=[]},t.prototype.removeSearchFilters=function(){this.searchFields=[]},t.prototype.search=function(t){var e=this;if(0===t.length||0===this.searchFields.length)return t;for(var n=new Set,r=function(r){i.searchFields.filter((function(n){return n.search(t[r],e.searchPhrase)})).forEach((function(){n.add(t[r])}))},i=this,o=0;o<t.length;o+=1)r(o);return Array.from(n)},t}();var ju=function(t){function e(e,n){var r=t.call(this,e,"StructurePreparedEntitiesSetAggregateEvent")||this;return r.preparedItems=n,r}return g(e,t),e.prototype.getPreparedItems=function(){return this.preparedItems},e}(o.AggregateEvent);var Vu=function(t){function e(e,n,r){var i=t.call(this,e,"FieldsInitedAggregateEvent")||this;return i.columns=n,i.fields=r,i}return g(e,t),e.prototype.getColumns=function(){return this.columns},e.prototype.getFields=function(){return this.fields},e}(o.AggregateEvent);var Lu=function(t){function e(e,n,r,i,o,a,u,s,c,g,p){var l=t.call(this,e,"StructureAggregate")||this;return l.pagingAggregate=n,l.formationAggregate=r,l.sourceManager=i,l.verticalFormation=o,l.aggregationManager=a,l.sorterCollection=u,l.filterManager=s,l.searchManager=c,l.fieldCollection=g,l.schema=p,l}return g(e,t),e.prototype.init=function(){this.initTheme()},e.prototype.getVerticalFormation=function(){return this.verticalFormation},e.prototype.setAggregationEnabled=function(t){return this.aggregationManager.setEnabled(t),this.calculateSource(),this.getEvents()},e.prototype.setOrigin=function(t){return this.addEvent(this.sourceManager.setOrigin(t,this.getId())),this.calculateSource(),this.getEvents()},e.prototype.editItem=function(t){var e=this,n=t.getItemId(),r=t.getColumnFieldId(),i=this.fieldCollection.getField(r),o=t.getValue();return this.sourceManager.editOriginItem(n,o,i,this.getId()).forEach((function(t){return e.addEvent(t)})),this.calculateSource(),this.getEvents()},e.prototype.setHeight=function(t){this.getSchema().setHeight(t);var e=this.getSchema().getContainerHeight();this.verticalFormation.setViewportHeight(e),this.calculateSourceBasedOnVirtualScroll()},e.prototype.setTheme=function(t){this.getSchema().setTheme(t),t===V.MATERIAL&&this.getVerticalFormation().setRowHeight(52),t===V.GENERIC&&this.getVerticalFormation().setRowHeight(42),t===V.FABRIC&&this.getVerticalFormation().setRowHeight(36),t===V.LIGHT&&this.getVerticalFormation().setRowHeight(56),t===V.DARK&&this.getVerticalFormation().setRowHeight(38)},e.prototype.setFormation=function(t){this.formationAggregate=t},e.prototype.setScrollPosition=function(t){this.verticalFormation.setScrollPosition(t),this.calculateSourceBasedOnVirtualScroll()},e.prototype.getFormation=function(){return this.formationAggregate},e.prototype.setSchema=function(t){this.schema=t},e.prototype.getSchema=function(){return this.schema},e.prototype.getPaging=function(){return this.pagingAggregate},e.prototype.changePaging=function(t){this.pagingAggregate.change(t),this.calculateSource()},e.prototype.setPaging=function(t){this.pagingAggregate=t,this.calculateSource()},e.prototype.nextPage=function(){this.pagingAggregate.nextPage(),this.calculateSource()},e.prototype.prevPage=function(){this.pagingAggregate.prevPage(),this.calculateSource()},e.prototype.changePageSize=function(t){var e=this;return this.pagingAggregate.changePageSize(t).forEach((function(t){e.addEvent(t)})),this.calculateSource(),this.getEvents()},e.prototype.getEntities=function(){return this.sourceManager.getSlicedEntities()},e.prototype.getSource=function(){return this.sourceManager},e.prototype.createFields=function(t){this.fieldCollection.initFields(t);var e=this.fieldCollection.getAllFields();return this.addEvent(new Vu(this.getId(),t,e)),this.getEvents()},e.prototype.setSortingConfig=function(t){this.sorterCollection.setConfig(t)},e.prototype.toggleSort=function(t){var e=this.fieldCollection.getField(t);return this.sorterCollection.toggle(e),this.calculateSource(),this.sorterCollection.getAll()},e.prototype.setSortOrder=function(t,e){var n=this.fieldCollection.getField(t);return this.sorterCollection.setSortOrder(n,e),this.calculateSource(),this.sorterCollection.getAll()},e.prototype.setFilterConfig=function(t){this.filterManager.getSettings().setFilterConfig(t)},e.prototype.setSearchingConfig=function(t){this.filterManager.getSettings().setSearchingConfig(t)},e.prototype.setQuickFiltersConfig=function(t){this.filterManager.getSettings().setQuickFiltersConfig(t)},e.prototype.toggleFilter=function(t,e,n){var r=this.fieldCollection.getField(t);return void 0===r?[]:(this.filterManager.addFilter(r,e,n),this.calculateSource(),[])},e.prototype.addSearchPhrase=function(t){var e=this.fieldCollection.getAllFields();return this.searchManager.addSearchPhrase(e,t),this.calculateSource(),[]},e.prototype.removeSearchPhrase=function(){return this.searchManager.removeSearchFilters(),this.calculateSource(),[]},e.prototype.calculateSource=function(){var t=this;if(this.sourceManager.getOrigin()&&this.pagingAggregate){this.sourceManager.setEntities(this.sourceManager.getOrigin()),this.sourceManager.setEntities(this.filterManager.filter(this.sourceManager.getEntities()));var e=this.searchManager.search(this.sourceManager.getEntities());this.sourceManager.setEntities(e);var n=this.sorterCollection.sort(this.sourceManager.getEntities());this.sourceManager.setEntities(n),this.sourceManager.setPreparedEntities(),this.pagingAggregate.setSourceSize(this.sourceManager.getPreparedEntities().length),this.addEvent(new ju(this.getId(),n)),this.aggregationManager.calculate(this.fieldCollection.getAllFields(),this.sourceManager.getEntities()).forEach((function(e){t.addEvent(e)})),this.sourceManager.setEntities(this.pagingAggregate.sample(this.sourceManager.getEntities())),this.verticalFormation.setSourceSize(this.sourceManager.getEntities().length),this.calculateSourceBasedOnVirtualScroll()}},e.prototype.calculateSourceBasedOnVirtualScroll=function(){if(this.verticalFormation.isEnabled()){var t=this.verticalFormation.getRange();this.sourceManager.setSlicedEntities(this.sourceManager.getEntities().slice(t.getStart(),t.getEnd()))}else this.sourceManager.setSlicedEntities(this.sourceManager.getEntities())},e.prototype.initTheme=function(){var t=this.getSchema().getTheme();this.setTheme(t)},e.ctorParameters=function(){return[{type:lt},{type:Xr},{type:Nu},{type:Pu},{type:Ha},{type:fu},{type:ku},{type:$a},{type:Bu},{type:qa},{type:Ou}]},e=l([o.RootAggregate,d("design:paramtypes",[lt,Xr,Nu,Pu,Ha,fu,ku,$a,Bu,qa,Ou])],e)}(o.Aggregate);var zu=function(){function t(){}return t.prototype.create=function(){return new Ou},t.decorators=[{type:e.Injectable}],t}(),Gu=function(){function t(){}return t.prototype.create=function(){return new Nu([])},t.decorators=[{type:e.Injectable}],t}(),Uu=function(){function t(){}return t.prototype.create=function(){return new Bu},t.decorators=[{type:e.Injectable}],t}(),Qu=function(t){function n(e,n,r,i,o,a,u,s,c){var g=t.call(this)||this;return g.pagingAggregateFactory=e,g.sourceManagerFactory=n,g.formationAggregateFactory=r,g.verticalFormationFactory=i,g.aggregationManagerFactory=o,g.filterManagerFactory=a,g.searchManagerFactory=u,g.fieldCollectionFactory=s,g.schemaAggregateFactory=c,g}return g(n,t),n.prototype.create=function(t){var e=this.pagingAggregateFactory.createDefault(),n=this.sourceManagerFactory.createDefault(),r=this.verticalFormationFactory.create(),i=this.formationAggregateFactory.create(),o=new ku,a=this.filterManagerFactory.create(!1),u=this.fieldCollectionFactory.create(),s=this.aggregationManagerFactory.create(t),c=this.schemaAggregateFactory.create(),g=this.searchManagerFactory.create(),p=new Lu(t,e,i,n,r,s,o,a,g,u,c);return this.init(p),p},n.prototype.init=function(t){t.init()},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:qr},{type:xu},{type:Gu},{type:Oa},{type:mu},{type:tu},{type:Uu},{type:Ya},{type:zu}]},n}(o.AggregateFactory);var Wu=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return ft},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new ua(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getPagingConfig();t.changePaging(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_o},{type:o.DomainEventPublisher}]},t}();var Ku=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return yt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new po(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){t.nextPage()},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var Xu=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return vt},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new lo(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){t.prevPage()},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var qu=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return mt},t.prototype.publishDomainEvents=function(t,e){var n=t.getEvents();n.forEach((function(e){e.aggregateId=t.getId()})),this.publishAggregateEvents(n,e)},t.prototype.handleAggregate=function(t,e){var n=e.getPageSize();t.changePageSize(n)},t.prototype.publishAggregateEvents=function(t,e){var n,r;try{for(var i=h(t),o=i.next();!o.done;o=i.next()){var a=o.value;this.publishAggregateEvent(a,e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.publishAggregateEvent=function(t,e){switch(t.getType()){case"PageChangedAggregateEvent":var n=new ho(e.getAggregateId());this.domainEventPublisher.publish(n);break;case"PagesizeChangedAggregateEvent":var r=new fo(e.getAggregateId());this.domainEventPublisher.publish(r)}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_o},{type:o.DomainEventPublisher}]},t}();var Yu=[bt],Ju=[pt],Zu=m(o.HermesModule.registerCommandHandler(Wu,"StructureAggregate"),o.HermesModule.registerCommandHandler(Ku,"StructureAggregate"),o.HermesModule.registerCommandHandler(Xu,"StructureAggregate"),o.HermesModule.registerCommandHandler(qu,"StructureAggregate")),_u=m(Yu,Ju,[qr,Xt,Ct,ht,mo]),$u=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return _r},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new ra(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.isEnabled();t.getSchema().setVerticalGrid(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var ts=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return $r},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new na(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=t.getSchema(),r=e.isEnabled();n.setHorizontalGrid(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var es=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return ti},t.prototype.handleAggregate=function(t,e){var n=e.getTheme();t.setTheme(n)},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new re(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_o},{type:o.DomainEventPublisher}]},t}();var ns=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return ri},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new oa(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=t.getSchema(),r=e.isEnabled();n.setHeaderBottom(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var rs=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return ni},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new ia(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=t.getSchema(),r=e.isEnabled();n.setHeaderTop(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_o},{type:o.DomainEventPublisher}]},t}();var is=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return ei},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new aa(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=t.getSchema(),r=e.getColoring();n.setRowColoring(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var os=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Zr},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new ea(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getHeight();t.setHeight(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var as=[ii,zu],us=[se],ss=m(o.HermesModule.registerCommandHandler(os,"StructureAggregate"),o.HermesModule.registerCommandHandler($u,"StructureAggregate"),o.HermesModule.registerCommandHandler(ts,"StructureAggregate"),o.HermesModule.registerCommandHandler(es,"StructureAggregate"),o.HermesModule.registerCommandHandler(ns,"StructureAggregate"),o.HermesModule.registerCommandHandler(rs,"StructureAggregate"),o.HermesModule.registerCommandHandler(is,"StructureAggregate")),cs=m(as,us,[Kt,oi,ce]),gs=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return ci},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new sa(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var ps=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return gi},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new Co(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=t.getFormation(),r=e.getSelectedRow();n.toggleRow(r)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_o},{type:o.DomainEventPublisher}]},t}();var ls=[pi,Gu],ds=[hi],hs=m(o.HermesModule.registerCommandHandler(gs,"StructureAggregate"),o.HermesModule.registerCommandHandler(ps,"StructureAggregate")),fs=m(ls,ds,[Eo,Gt,li,fi]),ms=function(){function t(t){this.structureSourceDomainEventPublisher=t}return t.prototype.forCommand=function(){return Ei},t.prototype.publishDomainEvents=function(t,e){var n=t.getEvents();this.structureSourceDomainEventPublisher.publish(n)},t.prototype.handleAggregate=function(t,e){var n=e.getItems();t.setOrigin(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ma}]},t}();var ys=function(){function t(t){this.structureSourceDomainEventPublisher=t}return t.prototype.forCommand=function(){return Ai},t.prototype.publishDomainEvents=function(t,e){var n=t.getEvents();this.structureSourceDomainEventPublisher.publish(n)},t.prototype.handleAggregate=function(t,e){var n=e.getParams();t.editItem(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ma}]},t}();var vs=function(t){function n(e){var n=t.call(this)||this;return n.structureSourceOriginRepository=e,n}return g(n,t),n.prototype.handle=function(t){if(t instanceof ga){var e=t.getOrigin();this.structureSourceOriginRepository.setOrigin(e,t.getAggregateId())}},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Et}]},n}(o.DomainEventHandler);var bs=function(){function t(t){this.structureRepository=t}return t.prototype.select=function(t){return this.structureRepository.onStructure(t).pipe(u.filter((function(e){return e.getId().toString()===t.toString()})),u.map((function(t){return t.getSchema()})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:gt}]},t}();var Cs=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Ci},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new ta(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.isEnabled();t.getSource().setLoading(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var Es=function(t){function n(e){var n=t.call(this)||this;return n.structurePreparedItemsRepository=e,n}return g(n,t),n.prototype.handle=function(t){if(t instanceof xa){var e=t.getPreparedItems();this.structurePreparedItemsRepository.setItems(e,t.getAggregateId())}},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:At}]},n}(o.DomainEventHandler);var As=[Ii,xu,Ma],Is=[bs,{provide:o.DOMAIN_EVENT_HANDLERS,useClass:vs,multi:!0},{provide:o.DOMAIN_EVENT_HANDLERS,useClass:Es,multi:!0},Et,At],Ss=m(o.HermesModule.registerCommandHandler(Cs,"StructureAggregate"),o.HermesModule.registerCommandHandler(ms,"StructureAggregate"),o.HermesModule.registerCommandHandler(ys,"StructureAggregate")),ws=m(As,Is,[Yt,Qi,It,bo]),Ds=function(){function t(t,e){this.structureSourceDomainEventPublisher=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Ni},t.prototype.publishDomainEvents=function(t,e){var n=e.getPhrase();this.domainEventPublisher.publish(new wo(e.getAggregateId(),n)),this.structureSourceDomainEventPublisher.publish(t.getEvents())},t.prototype.handleAggregate=function(t,e){var n=e.getPhrase();t.addSearchPhrase(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Ma},{type:o.DomainEventPublisher}]},t}();var Rs=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.forCommand=function(){return Mi},t.prototype.publishDomainEvents=function(t,e){},t.prototype.handleAggregate=function(t,e){var n=e.getAggregateId(),r=e.getCompositionId(),i=e.getFieldId(),o=e.getSortOrder(),a=t.setSortOrder(i,o);this.publishSortEvent(n,r,i,a)},t.prototype.publishSortEvent=function(t,e,n,r){var i=r.map((function(t){return{direction:t.hasDirection(),fieldId:t.getField().getId()}}));this.domainEventPublisher.publish(new $n(t,e,i))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_o},{type:o.DomainEventPublisher}]},t}();var Ts=function(){function t(t){this.domainEventPublisher=t}return t.prototype.forCommand=function(){return Fi},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new ne(e.getAggregateId()))},t.prototype.handleAggregate=function(t,e){var n=e.getRowHeight();t.getVerticalFormation().setRowHeight(n)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:o.DomainEventPublisher}]},t}();var Ps=function(t){function n(e){var n=t.call(this)||this;return n.structureSearchPhraseRepository=e,n}return g(n,t),n.prototype.handle=function(t){t instanceof wo&&this.structureSearchPhraseRepository.setPhrase(t.getPhrase(),t.getAggregateId())},n.decorators=[{type:e.Injectable}],n.ctorParameters=function(){return[{type:Do}]},n}(o.DomainEventHandler);var xs=m(da,[Oa,Ya,tu,Uu,Ba,bi,Ka,Bi],vu),Ms=m([{provide:o.DOMAIN_EVENT_HANDLERS,useClass:bu,multi:!0},{provide:o.DOMAIN_EVENT_HANDLERS,useClass:Cu,multi:!0},{provide:o.DOMAIN_EVENT_HANDLERS,useClass:Eu,multi:!0},{provide:o.DOMAIN_EVENT_HANDLERS,useClass:Su,multi:!0},{provide:o.DOMAIN_EVENT_HANDLERS,useClass:Ps,multi:!0}],ha,[Zt,ie,jo,Oo,Bo,Xo,qo,zi,Iu,Gi,Do,Hi,Oi]),Fs=m(o.HermesModule.registerCommandHandler(ma,"StructureAggregate"),o.HermesModule.registerCommandHandler(ya,"StructureAggregate"),o.HermesModule.registerCommandHandler(va,"StructureAggregate"),o.HermesModule.registerCommandHandler(ba,"StructureAggregate"),o.HermesModule.registerCommandHandler(Ea,"StructureAggregate"),o.HermesModule.registerCommandHandler(Ia,"StructureAggregate"),o.HermesModule.registerCommandHandler(wa,"StructureAggregate"),o.HermesModule.registerCommandHandler(Ra,"StructureAggregate"),o.HermesModule.registerCommandHandler(Ta,"StructureAggregate"),o.HermesModule.registerCommandHandler(ka,"StructureAggregate"),o.HermesModule.registerCommandHandler(Ds,"StructureAggregate"),o.HermesModule.registerCommandHandler(Rs,"StructureAggregate"),o.HermesModule.registerCommandHandler(Ts,"StructureAggregate")),ks=m(fa,xs,Ms,[Ro,ao,wu,Qu,te,oe,ji],_u,cs,fs,ws),Ns=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.warn=function(t){console.warn(t)},e.prototype.error=function(t){console.error(t)},e}(Qr),Hs=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{providers:[{provide:Qr,useClass:Ns}]}]}],t}(),Os=function(){function t(){}return t.prototype.create=function(t){return Array.isArray(t)?this.createEntities(t):this.createEntity(t)},t.prototype.createEntities=function(t){var e=this;return t.map((function(t){return e.createEntity(t)}))},t.prototype.createEntity=function(t){return t instanceof Du?new $t(t.rawData,t.getPosition(),t.id,t.getVersion()):new $t(t,0)},t.decorators=[{type:e.Injectable}],t}(),Bs=function(t){function n(){return t.call(this)||this}return g(n,t),n.decorators=[{type:e.Component,args:[{selector:"gui-structure-top-panel",template:"\n\t\t\n\t\t<gui-structure-search-bar></gui-structure-search-bar>\n\t\t\n\t\t\n\t",changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[]},n}(ct),js=function(t){function n(e,r,i,o,a,u,s,c){var g=t.call(this)||this;g.formBuilder=e,g.renderer2=r,g.changeDetectorRef=i,g.structureId=o,g.structureCommandService=a,g.structureReadModelService=u,g.structureSearchPhraseRepository=s,g.structureSearchPlaceholderArchive=c,g.placeholder="Search";var p={};return p[n.FORM_SEARCH_NAME]="",g.searchForm=g.formBuilder.group(p),g}return g(n,t),n.prototype.ngOnInit=function(){var t=this;this.observeChanges(),this.structureSearchPlaceholderArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.placeholder=e,t.changeDetectorRef.detectChanges()})),this.structureSearchPhraseRepository.onPhrase(this.structureId).pipe(this.takeUntil()).subscribe((function(e){void 0===e&&(e=null);var r={};r[n.FORM_SEARCH_NAME]=e,e!==t.searchForm.get([n.FORM_SEARCH_NAME]).value&&t.searchForm.setValue(r)}))},n.prototype.ngAfterViewInit=function(){var t=this;this.structureReadModelService.onRowHeight().pipe(this.takeUntil()).subscribe((function(e){t.renderer2.setStyle(t.formRef.nativeElement,"height","30px")}))},n.prototype.observeChanges=function(){var t=this;this.searchForm.controls.searchPhrase.valueChanges.pipe(u.debounceTime(200),this.takeUntil()).subscribe((function(e){t.structureCommandService.search(e)}))},n.FORM_SEARCH_NAME="searchPhrase",n.decorators=[{type:e.Component,args:[{selector:"gui-structure-search-bar",template:'\n\t\t<form #formRef\n\t\t\t  [formGroup]="searchForm">\n\t\t\t<svg class="gui-search-icon" xmlns="http://www.w3.org/2000/svg" width="10.231" height="10.601" viewBox="0 0 10.231 10.601">\n\t\t\t\t<line x2="1.77" y2="1.77" transform="translate(7.4 7.77)" fill="none" stroke-linecap="round"\n\t\t\t\t\t  stroke-linejoin="round" stroke-width="1.5"/>\n\t\t\t\t<circle cx="4.02" cy="4.02" r="4.02" transform="translate(0.5 0.5)" stroke-width="1" \n\t\t\t\t\t\tstroke-linecap="round" stroke-linejoin="round" fill="none"/>\n\t\t\t</svg>\n\t\t\t<input formControlName="searchPhrase" [placeholder]="placeholder">\n\t\t</form>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:r.FormBuilder},{type:e.Renderer2},{type:e.ChangeDetectorRef},{type:lt},{type:ji},{type:oe},{type:Do},{type:Oi}]},n.propDecorators={formRef:[{type:e.ViewChild,args:["formRef",{static:!1}]}]},n}(ct);var Vs=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,r.ReactiveFormsModule],declarations:[Bs,js],exports:[Bs,js]}]}],t}(),Ls=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-structure-empty-source",template:"There are no items to show.\n",changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-empty-source]":"true"}}]}],t}(),zs=function(t){function n(e,n,r,i,o){var a=t.call(this)||this;return a.elementRef=e,a.changeDetectorRef=n,a.structureCommandService=r,a.structureColumnMenuConfigArchive=i,a.structureColumnConfigService=o,a}return g(n,t),n.prototype.ngOnInit=function(){var t=this;this.structureColumnMenuConfigArchive.onValue().pipe(this.takeUntil()).subscribe((function(e){t.config=e,t.changeDetectorRef.detectChanges()}))},n.prototype.openConfigDialog=function(){this.structureColumnConfigService.open(this.headerDialogContainer,this.column)},n.prototype.closeConfigDialog=function(){this.structureColumnConfigService.close()},n.prototype.isEnabled=function(){return this.config&&this.config.isEnabled()},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-config-trigger",template:'\n\t\t<div #headerDialogContainer\n\t\t\t *ngIf="isEnabled()"\n\t\t\t class="gui-header-menu-icon-wrapper"\n\t\t\t (click)="openConfigDialog()">\n\n\t\t\t<gui-structure-column-menu-icon [ngClass]="\'gui-header-menu-icon\'"></gui-structure-column-menu-icon>\n\n\t\t</div>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None}]}],n.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:ji},{type:Io},{type:No}]},n.propDecorators={headerDialogContainer:[{type:e.ViewChild,args:["headerDialogContainer",{static:!1}]}],column:[{type:e.Input}]},n}(ct);var Gs=function(t){function n(e,n,r){var o=t.call(this)||this;return o.changeDetectorRef=e,o.structureCommandService=n,o.compositionReadModelService=r,o.placement=i.Placement.Right,o.status=rn,o}return g(n,t),n.prototype.ngOnInit=function(){var t=this;this.sortStatus=this.column.getSortStatus(),this.compositionReadModelService.onSortOrder(this.column.getFieldId()).pipe(this.takeUntil()).subscribe((function(e){t.sortStatus=e,t.changeDetectorRef.detectChanges()}))},n.prototype.isAscSort=function(){return this.sortStatus===rn.ASC},n.prototype.isDescSort=function(){return this.sortStatus===rn.DESC},n.prototype.isNoneSort=function(){return this.sortStatus===rn.NONE},n.prototype.setSortOrder=function(t){event.stopPropagation(),this.structureCommandService.setSortOrder(this.column.getFieldId(),t)},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-config-sort",template:'\n\n\t\t<gui-dropdown [placement]="placement"\n\t\t\t\t\t  [dropdownText]="\'Column Sort\'"\n\t\t\t\t\t  [width]="225"\n\t\t\t\t\t  [showOnHover]="true"\n\t\t\t\t\t  class="gui-header-menu-dropdown">\n\n\t\t\t<gui-dropdown-item (click)="setSortOrder(status.ASC)"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]="isAscSort()">\n\t\t\t\t<div class="gui-sort-title">Ascending<span class="gui-sort gui-sort-asc"></span></div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)="setSortOrder(status.DESC)"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]="isDescSort()">\n\t\t\t\t<div class="gui-sort-title">Descending<span class="gui-sort gui-sort-desc"></span></div>\n\t\t\t</gui-dropdown-item>\n\n\t\t\t<gui-dropdown-item (click)="setSortOrder(status.NONE)"\n\t\t\t\t\t\t\t   [class.gui-header-item-active]="isNoneSort()">\n\t\t\t\tNone\n\t\t\t</gui-dropdown-item>\n\n\t\t</gui-dropdown>\n\t'}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:ji},{type:fe}]},n.propDecorators={column:[{type:e.Input}]},n}(ct);var Us=function(){function t(t,e){this.compositionCommandService=t,this.structureColumnConfigService=e}return t.prototype.hideColumn=function(t){this.compositionCommandService.disableColumn(t.getColumnId()),this.structureColumnConfigService.close()},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-config-column-hide",template:'\n\n\t\t<div class="gui-header-menu-item"\n\t\t\t (click)="hideColumn(column)">\n\t\t\tHide Column\n\t\t</div>\n\t'}]}],t.ctorParameters=function(){return[{type:De},{type:No}]},t.propDecorators={column:[{type:e.Input}]},t}();var Qs=function(){function t(t,e){this.compositionCommandService=t,this.structureColumnConfigService=e}return t.prototype.moveLeft=function(t){this.compositionCommandService.moveLeft(t.getColumnId()),this.structureColumnConfigService.close()},t.prototype.moveRight=function(t){this.compositionCommandService.moveRight(t.getColumnId()),this.structureColumnConfigService.close()},t.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-config-column-move",template:'\n\t\t<div class="gui-header-menu-column-move">\n\t\t\t<div class="gui-header-menu-column-move-left"\n\t\t\t\t (click)="moveLeft(column)">\n\t\t\t\tMove Left\n\t\t\t</div>\n\n\t\t\t<div class="gui-header-menu-column-move-right"\n\t\t\t\t (click)="moveRight(column)">\n\t\t\t\tMove Right\n\t\t\t</div>\n\t\t</div>\n\t'}]}],t.ctorParameters=function(){return[{type:De},{type:No}]},t.propDecorators={column:[{type:e.Input}]},t}();var Ws=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"gui-structure-column-menu-icon",template:'\n\t\t<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.32 7.46">\n\t\t\t<line class="cls-1" x1="9.57" y1="3.73" x2="0.75" y2="3.73"/>\n\t\t\t<line class="cls-1" x1="9.57" y1="0.75" x2="0.75" y2="0.75"/>\n\t\t\t<line class="cls-1" x1="9.57" y1="6.71" x2="0.75" y2="6.71"/>\n\t\t</svg>\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-column-menu-icon]":"true","[class.gui-icon]":"true"}}]}],t}(),Ks=[ko,zs,Gs,Us,Qs,Ws],Xs=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,ut,Fe],declarations:Ks,exports:Ks}]}],t}(),qs=function(t){function n(e,n,r,i,o){var a=t.call(this)||this;return a.changeDetectorRef=e,a.structureId=n,a.structureAggregationUiEventsRepository=r,a.sourceReadModelService=i,a.compositionQueryService=o,a.sourceEmpty=!1,a.structureAggregationUiEventsRepository.onAggregationsChanged(a.structureId).pipe(a.takeUntil()).subscribe((function(t){a.aggregations=t.getAggregations(),a.changeDetectorRef.detectChanges()})),a}return g(n,t),n.prototype.ngOnInit=function(){var t=this;this.sourceReadModelService.onEntitiesSize().pipe(this.takeUntil()).subscribe((function(e){t.sourceEmpty=0===e,t.changeDetectorRef.detectChanges()})),this.compositionQueryService.onHeaderColumns().pipe(this.takeUntil()).subscribe((function(e){t.headerColumns=e,t.changeDetectorRef.detectChanges()}))},n.prototype.isAggregateTypePresent=function(t){return null!=t},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-aggregation-panel",template:'\n\n\t\t<ng-container *ngIf="enabled && aggregations && !sourceEmpty">\n\n\t\t\t<div *ngFor="let column of headerColumns"\n\t\t\t\t [style.width.px]="column.width"\n\t\t\t\t class="gui-structure-aggregation-cell">\n\n\t\t\t\t<ng-container *ngIf="aggregations && !!aggregations.get(column.getFieldId().getId())">\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).count)"\n\t\t\t\t\t\t class="gui-structure-aggregation-value">\n\t\t\t\t\t\t<span>Count</span>\n\t\t\t\t\t\t<span class="gui-aggregation-value">{{ aggregations.get(column.getFieldId().getId()).count }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).distinct)"\n\t\t\t\t\t\t class="gui-structure-aggregation-value">\n\t\t\t\t\t\t<span [gui-tooltip]="\'Distinct\'">Dist</span>\n\t\t\t\t\t\t<span class="gui-aggregation-value">{{ aggregations.get(column.getFieldId().getId()).distinct }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).sum)"\n\t\t\t\t\t\t class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span [gui-tooltip]="\'Sum\'" --\x3e\n\t\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t\t  class="gui-math-symbol">&sum;</span>--\x3e\n\t\t\t\t\t\t\tSum\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="gui-aggregation-value">{{ aggregations.get(column.getFieldId().getId()).sum }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).average)"\n\t\t\t\t\t\t class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Average\'"--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t class="gui-mean">--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span>_</span><span>X</span>--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\t\t\t\t\t\t<span [gui-tooltip]="\'Average\'">Avg</span>\n\t\t\t\t\t\t<span class="gui-aggregation-value">{{ aggregations.get(column.getFieldId().getId()).average }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).min)"\n\t\t\t\t\t\t class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Min\'">--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span class="gui-math-symbol">&and;</span>--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\t\t\t\t\t\t<span [gui-tooltip]="\'Min\'">\n\t\t\t\t\t\t\tMin\n\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t<span class="gui-aggregation-value">{{ aggregations.get(column.getFieldId().getId()).min }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf=" isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).max)"\n\t\t\t\t\t\t class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Max\'">--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span class="gui-math-symbol">&or;</span>--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\n\t\t\t\t\t\t<span [gui-tooltip]="\'Max\'">\n\t\t\t\t\t\t\tMax\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="gui-aggregation-value">{{ aggregations.get(column.getFieldId().getId()).max }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).median)"\n\t\t\t\t\t\t class="gui-structure-aggregation-value">\n\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t<div [gui-tooltip]="\'Median\'"--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t class="gui-median">--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span>~</span>--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t\t<span>X</span>--\x3e\n\t\t\t\t\t\t\x3c!--\t\t\t\t\t\t</div>--\x3e\n\n\t\t\t\t\t\t<span [gui-tooltip]="\'Median\'">Med</span>\n\t\t\t\t\t\t<span class="gui-aggregation-value">{{ aggregations.get(column.getFieldId().getId()).median }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).truthy)"\n\t\t\t\t\t\t class="gui-structure-aggregation-value">\n\t\t\t\t\t\t<span>Truthy</span>\n\t\t\t\t\t\t<span class="gui-aggregation-value">{{ aggregations.get(column.getFieldId().getId()).truthy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div *ngIf="isAggregateTypePresent(aggregations.get(column.getFieldId().getId()).falsy)"\n\t\t\t\t\t\t class="gui-structure-aggregation-value">\n\t\t\t\t\t\t<span>Falsy</span>\n\t\t\t\t\t\t<span class="gui-aggregation-value">{{ aggregations.get(column.getFieldId().getId()).falsy }}</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t</ng-container>\n\t\t\t</div>\n\n\t\t</ng-container>\n\n\t',changeDetection:e.ChangeDetectionStrategy.OnPush,encapsulation:e.ViewEncapsulation.None,host:{"[class.gui-structure-aggregation-panel]":"true"}}]}],n.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:lt},{type:wu},{type:It},{type:fe}]},n.propDecorators={enabled:[{type:e.Input}]},n}(ct);var Ys=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule,i.FabricModule],declarations:[qs],exports:[qs],providers:[ro,uo,io]}]}],t}(),Js=function(){function t(t,e){this.structureAggregateRepository=t,this.domainEventPublisher=e}return t.prototype.getAggregateRepository=function(){return this.structureAggregateRepository},t.prototype.forCommand=function(){return Si},t.prototype.publishDomainEvents=function(t,e){this.domainEventPublisher.publish(new Bt(e.getAggregateId()))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:_o},{type:o.DomainEventPublisher}]},t}();var Zs=function(t){function n(e){var n=t.call(this)||this;return n.sourceCommandService=e,n}return g(n,t),n.prototype.ngOnChanges=function(t){null!==t.entity&&void 0!==t.entity&&this.initEditContext(),null!==t.cell&&void 0!==t.cell&&this.initEditContext()},n.prototype.ngOnInit=function(){this.initEditContext()},n.prototype.submitChanges=function(){var t=this.entity.getId(),e=this.actualValue,n=this.cell.columnFieldId;this.sourceCommandService.editItem(new Ui(t,n,e))},n.prototype.initEditContext=function(){var t=this;this.valueChanges$=new Be,this.status$=new Be,this.editContext={status:this.status$,valueChanges:this.valueChanges$,value:this.cell.getValue(this.entity),focus:!1},this.status$.on().pipe(this.takeUntil()).subscribe((function(e){switch(e){case je.SUBMIT:t.submitChanges()}}))},n.decorators=[{type:e.Component,args:[{selector:"gui-structure-cell-edit[entity][cell]",template:'\n\n\t\t<span >\n\t\t\t<ng-container\n\t\t\t\t\t*ngTemplateOutlet="cell.editTemplate;\n\t\t\t\t\t\t\t\t\tcontext: editContext">\n\t\t\t</ng-container>\n\t\t</span>\n\n\t'}]}],n.ctorParameters=function(){return[{type:Qi}]},n.propDecorators={entity:[{type:e.Input}],cell:[{type:e.Input}]},n}(ct);function _s(){return(new $.DefaultBuilder).build()}var $s=m([n.CommonModule,r.ReactiveFormsModule,o.HermesModule,o.HermesModule.defineAggregate("StructureAggregate",Qu,$o,Js,m(hs,Zu,ss,Ss,Fs))],ut,[kt,He,Ys,Vs,Xs,Fe,Gr,Hs]),tc=[Fo,Lo,Ho,Vo,zo,Go,Uo,Qo,Zs,Wo,Ls,Ko,Jo],ec=[ko],nc=m([{provide:Yo,useValue:"structure"},{provide:$,useFactory:_s},Os,ge,It,Ur],ks),rc=m([i.FabricModule,Fo,Lo,Go,Uo,Wo],ut,[kt]),ic=function(){function t(t){this.platformId=t,n.isPlatformBrowser(this.platformId)&&(window.hermesApi.loggers=!1)}return t.withConfig=function(e){return void 0===e&&(e={cssClassName:"",hermesModuleConfig:{loggers:!1}}),{ngModule:t,providers:m([{provide:Yo,useValue:e.cssClassName},{provide:o.COMMAND_LOGGER_ENABLED,useValue:e.hermesModuleConfig.loggers},{provide:o.EVENT_LOGGER_ENABLED,useValue:e.hermesModuleConfig.loggers}],nc)}},t.exportDeclarations=m(rc),t.decorators=[{type:e.NgModule,args:[{imports:$s,declarations:tc,exports:rc,entryComponents:ec}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]}]},t}();var oc=[ic.withConfig({cssClassName:"grid",hermesModuleConfig:{loggers:!0}})],ac=[at],uc=[rt,it],sc=[at],cc=[],gc=[at],pc=function(){function t(){}return t.entryComponents=m(cc),t.exportDeclarations=m(sc),t.elementComponents=m(gc),t.decorators=[{type:e.NgModule,args:[{imports:oc,declarations:ac,providers:uc,exports:sc,entryComponents:cc}]}],t}();t.GridComponent=at,t.GridModule=pc,t.GuiBooleanCellView=E,t.GuiCellView=v,t.GuiColumnAlign=R,t.GuiDataType=y,t.GuiDateCellView=A,t.GuiNumberCellView=b,t.GuiPagingDisplay=D,t.GuiRowColoring=S,t.GuiSortingOrder=w,t.GuiStringCellView=C,t.GuiTheme=I,t.a="gui-grid",t.b=_s,t.ba=ps,t.bb=Zu,t.bc=_u,t.bd=Wu,t.be=Ku,t.bf=Xu,t.bg=qu,t.bh=ss,t.bi=cs,t.bj=os,t.bk=$u,t.bl=ts,t.bm=es,t.bn=ns,t.bo=rs,t.bp=is,t.bq=Ss,t.br=ws,t.bs=Cs,t.bt=ms,t.bu=Ma,t.bv=ys,t.bw=Fs,t.bx=ks,t.by=ma,t.bz=ya,t.c=ic,t.ca=va,t.cb=ba,t.cc=Ea,t.cd=Ia,t.ce=wa,t.cf=Ra,t.cg=Ta,t.ch=ka,t.ci=Ds,t.cj=Rs,t.ck=Ts,t.cl=ut,t.cm=kt,t.cn=Dt,t.co=ct,t.cp=st,t.cq=ht,t.cr=pt,t.cs=gt,t.ct=Ct,t.cu=bt,t.cv=It,t.cw=At,t.cx=Et,t.cy=wt,t.cz=St,t.d=Qu,t.da=Tt,t.db=Pt,t.dc=xt,t.dd=Mt,t.de=Ft,t.df=He,t.dg=Ht,t.dh=Nt,t.di=Fe,t.dj=Re,t.dk=ae,t.dl=De,t.dm=we,t.dn=fe,t.do=de,t.dp=ue,t.dq=Te,t.dr=Pe,t.ds=xe,t.dt=pe,t.du=ce,t.dv=se,t.dw=ge,t.dx=le,t.dy=lt,t.dz=oe,t.e=qr,t.ea=ie,t.eb=ee,t.ec=te,t.ed=Gt,t.ee=Kt,t.ef=Xt,t.eg=Yt,t.eh=Zt,t.ei=Ot,t.ej=ke,t.ek=Ne,t.el=Ys,t.em=qs,t.en=wu,t.eo=ro,t.ep=uo,t.eq=io,t.er=ao,t.es=Vs,t.et=Bs,t.eu=js,t.ev=ji,t.ew=bi,t.ex=Ii,t.ey=Bi,t.ez=Hi,t.f=Qr,t.fa=Oi,t.fb=Do,t.fc=Xs,t.fd=ko,t.fe=Io,t.ff=sn,t.fg=cn,t.fh=gn,t.fi=xn,t.fj=rn,t.fk=O,t.fl=zs,t.fm=No,t.fn=Gs,t.fo=Us,t.fp=Qs,t.fq="gui-structure-column-menu-icon",t.fr=Ws,t.fs=Gr,t.ft=sr,t.fu=ur,t.fv=Dr,t.fw=jn,t.fx=Bn,t.fy=Ze,t.fz=Je,t.g=xu,t.ga=Ye,t.gb=qe,t.gc=Rr,t.gd=Pr,t.ge=Kn,t.gf=xr,t.gg=Hr,t.gh=Nr,t.gi=Tr,t.gj=kr,t.gk=Mr,t.gl=Fr,t.gm=ar,t.gn=Rn,t.go=Tn,t.gp=Pn,t.gq=qn,t.gr=mn,t.gs=fn,t.gt=dn,t.gu=tn,t.gv=$e,t.gw=_e,t.gx=nn,t.gy=en,t.gz=Dn,t.h=Gu,t.ha=rr,t.hb=tr,t.hc=Yn,t.hd=Oe,t.he=Qe,t.hf=Ue,t.hg=Le,t.hh=Ve,t.hi=Ge,t.hj=ze,t.hk=We,t.hl=Or,t.hm=Ke,t.hn=Xe,t.ho=Br,t.hp=jr,t.hq=Hs,t.hr=Ns,t.hs=Po,t.ht=xo,t.hu=Mo,t.hv=Fo,t.hw=go,t.hx=mo,t.hy=Qi,t.hz=Gi,t.i=Oa,t.ia=zi,t.ib=bo,t.ic=oi,t.id=ii,t.ie=Eo,t.if=to,t.ig=_i,t.ih=eo,t.ii=$i,t.ij=So,t.ik=Ro,t.il=Ur,t.im=Ji,t.in=Yr,t.io=Jr,t.ip=ui,t.iq=si,t.ir=li,t.is=pi,t.it=di,t.iu=fi,t.iv=hi,t.iw=mi,t.ix=Vi,t.iy=Li,t.iz=Wi,t.j=mu,t.ja=Ki,t.jb=Xi,t.jc=qi,t.jd=Yi,t.je=Zi,t.jf=To,t.jg=so,t.jh=$,t.ji=J,t.jj=Lo,t.jk=Ho,t.jl=Vo,t.jm=jo,t.jn=Oo,t.jo=Bo,t.jp=zo,t.jq=Go,t.jr=Uo,t.js=Qo,t.jt=Zs,t.ju=Wo,t.jv=nt,t.jw=Ls,t.jx=Ko,t.jy=Jo,t.jz=Yo,t.k=eu,t.ka=qo,t.kb=Xo,t.kc=Os,t.kd=da,t.ke=ha,t.kf=fa,t.kg=yu,t.kh=vu,t.ki=ou,t.kj=uu,t.kk=cu,t.kl=pu,t.km=du,t.kn=bu,t.ko=Cu,t.kp=Eu,t.kq=Su,t.kr=Iu,t.ks=Ps,t.kt=la,t.ku=bs,t.kv=vs,t.kw=Es,t.kx=K,t.ky=et,t.kz=tt,t.l=nu,t.la=it,t.lb=rt,t.m=tu,t.n=Uu,t.o=Ya,t.p=Ka,t.q=Ba,t.r=zu,t.s=$o,t.t=_o,t.u=Zo,t.v=Vt,t.w=Js,t.x=hs,t.y=fs,t.z=gs,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=generic-ui-ngx-grid.umd.min.js.map